var sS=e=>{throw TypeError(e)};var Nw=(e,t,r)=>t.has(e)||sS("Cannot "+r);var Je=(e,t,r)=>(Nw(e,t,"read from private field"),r?r.call(e):t.get(e)),Rr=(e,t,r)=>t.has(e)?sS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),dr=(e,t,r,n)=>(Nw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ls=(e,t,r)=>(Nw(e,t,"access private method"),r);var Eg=(e,t,r,n)=>({set _(s){dr(e,t,s,r)},get _(){return Je(e,t,n)}});function KM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Ode=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hF={exports:{}},Dy={},fF={exports:{}},Cr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=Symbol.for("react.element"),GM=Symbol.for("react.portal"),VM=Symbol.for("react.fragment"),WM=Symbol.for("react.strict_mode"),qM=Symbol.for("react.profiler"),XM=Symbol.for("react.provider"),JM=Symbol.for("react.context"),YM=Symbol.for("react.forward_ref"),ZM=Symbol.for("react.suspense"),eQ=Symbol.for("react.memo"),tQ=Symbol.for("react.lazy"),iS=Symbol.iterator;function rQ(e){return e===null||typeof e!="object"?null:(e=iS&&e[iS]||e["@@iterator"],typeof e=="function"?e:null)}var pF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mF=Object.assign,gF={};function Qh(e,t,r){this.props=e,this.context=t,this.refs=gF,this.updater=r||pF}Qh.prototype.isReactComponent={};Qh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vF(){}vF.prototype=Qh.prototype;function Y5(e,t,r){this.props=e,this.context=t,this.refs=gF,this.updater=r||pF}var Z5=Y5.prototype=new vF;Z5.constructor=Y5;mF(Z5,Qh.prototype);Z5.isPureReactComponent=!0;var aS=Array.isArray,yF=Object.prototype.hasOwnProperty,eC={current:null},xF={key:!0,ref:!0,__self:!0,__source:!0};function wF(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)yF.call(t,n)&&!xF.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),A=0;A<l;A++)c[A]=arguments[A+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:xm,type:e,key:a,ref:o,props:s,_owner:eC.current}}function nQ(e,t){return{$$typeof:xm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tC(e){return typeof e=="object"&&e!==null&&e.$$typeof===xm}function sQ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var oS=/\/+/g;function Sw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sQ(""+e.key):t.toString(36)}function z0(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xm:case GM:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Sw(o,0):n,aS(s)?(r="",e!=null&&(r=e.replace(oS,"$&/")+"/"),z0(s,t,r,"",function(A){return A})):s!=null&&(tC(s)&&(s=nQ(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(oS,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",aS(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Sw(a,l);o+=z0(a,t,r,c,s)}else if(c=rQ(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Sw(a,l++),o+=z0(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jg(e,t,r){if(e==null)return e;var n=[],s=0;return z0(e,n,"","",function(a){return t.call(r,a,s++)}),n}function iQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var oi={current:null},K0={transition:null},aQ={ReactCurrentDispatcher:oi,ReactCurrentBatchConfig:K0,ReactCurrentOwner:eC};function bF(){throw Error("act(...) is not supported in production builds of React.")}Cr.Children={map:jg,forEach:function(e,t,r){jg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return jg(e,function(){t++}),t},toArray:function(e){return jg(e,function(t){return t})||[]},only:function(e){if(!tC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Cr.Component=Qh;Cr.Fragment=VM;Cr.Profiler=qM;Cr.PureComponent=Y5;Cr.StrictMode=WM;Cr.Suspense=ZM;Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aQ;Cr.act=bF;Cr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=mF({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=eC.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)yF.call(t,c)&&!xF.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var A=0;A<c;A++)l[A]=arguments[A+2];n.children=l}return{$$typeof:xm,type:e.type,key:s,ref:a,props:n,_owner:o}};Cr.createContext=function(e){return e={$$typeof:JM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:XM,_context:e},e.Consumer=e};Cr.createElement=wF;Cr.createFactory=function(e){var t=wF.bind(null,e);return t.type=e,t};Cr.createRef=function(){return{current:null}};Cr.forwardRef=function(e){return{$$typeof:YM,render:e}};Cr.isValidElement=tC;Cr.lazy=function(e){return{$$typeof:tQ,_payload:{_status:-1,_result:e},_init:iQ}};Cr.memo=function(e,t){return{$$typeof:eQ,type:e,compare:t===void 0?null:t}};Cr.startTransition=function(e){var t=K0.transition;K0.transition={};try{e()}finally{K0.transition=t}};Cr.unstable_act=bF;Cr.useCallback=function(e,t){return oi.current.useCallback(e,t)};Cr.useContext=function(e){return oi.current.useContext(e)};Cr.useDebugValue=function(){};Cr.useDeferredValue=function(e){return oi.current.useDeferredValue(e)};Cr.useEffect=function(e,t){return oi.current.useEffect(e,t)};Cr.useId=function(){return oi.current.useId()};Cr.useImperativeHandle=function(e,t,r){return oi.current.useImperativeHandle(e,t,r)};Cr.useInsertionEffect=function(e,t){return oi.current.useInsertionEffect(e,t)};Cr.useLayoutEffect=function(e,t){return oi.current.useLayoutEffect(e,t)};Cr.useMemo=function(e,t){return oi.current.useMemo(e,t)};Cr.useReducer=function(e,t,r){return oi.current.useReducer(e,t,r)};Cr.useRef=function(e){return oi.current.useRef(e)};Cr.useState=function(e){return oi.current.useState(e)};Cr.useSyncExternalStore=function(e,t,r){return oi.current.useSyncExternalStore(e,t,r)};Cr.useTransition=function(){return oi.current.useTransition()};Cr.version="18.3.1";fF.exports=Cr;var b=fF.exports;const Ue=J5(b),CF=KM({__proto__:null,default:Ue},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oQ=b,lQ=Symbol.for("react.element"),cQ=Symbol.for("react.fragment"),AQ=Object.prototype.hasOwnProperty,dQ=oQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uQ={key:!0,ref:!0,__self:!0,__source:!0};function BF(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)AQ.call(t,n)&&!uQ.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:lQ,type:e,key:a,ref:o,props:s,_owner:dQ.current}}Dy.Fragment=cQ;Dy.jsx=BF;Dy.jsxs=BF;hF.exports=Dy;var i=hF.exports,NF={exports:{}},Wi={},SF={exports:{}},EF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,W){var te=K.length;K.push(W);e:for(;0<te;){var ue=te-1>>>1,T=K[ue];if(0<s(T,W))K[ue]=W,K[te]=T,te=ue;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var W=K[0],te=K.pop();if(te!==W){K[0]=te;e:for(var ue=0,T=K.length,$=T>>>1;ue<$;){var V=2*(ue+1)-1,se=K[V],Y=V+1,L=K[Y];if(0>s(se,te))Y<T&&0>s(L,se)?(K[ue]=L,K[Y]=te,ue=Y):(K[ue]=se,K[V]=te,ue=V);else if(Y<T&&0>s(L,te))K[ue]=L,K[Y]=te,ue=Y;else break e}}return W}function s(K,W){var te=K.sortIndex-W.sortIndex;return te!==0?te:K.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],A=[],d=1,u=null,p=3,f=!1,x=!1,m=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(K){for(var W=r(A);W!==null;){if(W.callback===null)n(A);else if(W.startTime<=K)n(A),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(A)}}function E(K){if(m=!1,w(K),!x)if(r(c)!==null)x=!0,H(_);else{var W=r(A);W!==null&&q(E,W.startTime-K)}}function _(K,W){x=!1,m&&(m=!1,g(I),I=-1),f=!0;var te=p;try{for(w(W),u=r(c);u!==null&&(!(u.expirationTime>W)||K&&!S());){var ue=u.callback;if(typeof ue=="function"){u.callback=null,p=u.priorityLevel;var T=ue(u.expirationTime<=W);W=e.unstable_now(),typeof T=="function"?u.callback=T:u===r(c)&&n(c),w(W)}else n(c);u=r(c)}if(u!==null)var $=!0;else{var V=r(A);V!==null&&q(E,V.startTime-W),$=!1}return $}finally{u=null,p=te,f=!1}}var D=!1,R=null,I=-1,Q=5,U=-1;function S(){return!(e.unstable_now()-U<Q)}function P(){if(R!==null){var K=e.unstable_now();U=K;var W=!0;try{W=R(!0,K)}finally{W?O():(D=!1,R=null)}}else D=!1}var O;if(typeof y=="function")O=function(){y(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Z=k.port2;k.port1.onmessage=P,O=function(){Z.postMessage(null)}}else O=function(){N(P,0)};function H(K){R=K,D||(D=!0,O())}function q(K,W){I=N(function(){K(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){x||f||(x=!0,H(_))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(K){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var te=p;p=W;try{return K()}finally{p=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var te=p;p=K;try{return W()}finally{p=te}},e.unstable_scheduleCallback=function(K,W,te){var ue=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ue+te:ue):te=ue,K){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=te+T,K={id:d++,callback:W,priorityLevel:K,startTime:te,expirationTime:T,sortIndex:-1},te>ue?(K.sortIndex=te,t(A,K),r(c)===null&&K===r(A)&&(m?(g(I),I=-1):m=!0,q(E,te-ue))):(K.sortIndex=T,t(c,K),x||f||(x=!0,H(_))),K},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(K){var W=p;return function(){var te=p;p=W;try{return K.apply(this,arguments)}finally{p=te}}}})(EF);SF.exports=EF;var hQ=SF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fQ=b,Gi=hQ;function rt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jF=new Set,Ip={};function Nd(e,t){yh(e,t),yh(e+"Capture",t)}function yh(e,t){for(Ip[e]=t,e=0;e<t.length;e++)jF.add(t[e])}var bl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hb=Object.prototype.hasOwnProperty,pQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lS={},cS={};function mQ(e){return hb.call(cS,e)?!0:hb.call(lS,e)?!1:pQ.test(e)?cS[e]=!0:(lS[e]=!0,!1)}function gQ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vQ(e,t,r,n){if(t===null||typeof t>"u"||gQ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function li(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ks={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ks[e]=new li(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ks[t]=new li(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ks[e]=new li(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ks[e]=new li(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ks[e]=new li(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ks[e]=new li(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ks[e]=new li(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ks[e]=new li(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ks[e]=new li(e,5,!1,e.toLowerCase(),null,!1,!1)});var rC=/[\-:]([a-z])/g;function nC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rC,nC);ks[t]=new li(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rC,nC);ks[t]=new li(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rC,nC);ks[t]=new li(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ks[e]=new li(e,1,!1,e.toLowerCase(),null,!1,!1)});ks.xlinkHref=new li("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ks[e]=new li(e,1,!1,e.toLowerCase(),null,!0,!0)});function sC(e,t,r,n){var s=ks.hasOwnProperty(t)?ks[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vQ(t,r,s,n)&&(r=null),n||s===null?mQ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _l=fQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fg=Symbol.for("react.element"),Su=Symbol.for("react.portal"),Eu=Symbol.for("react.fragment"),iC=Symbol.for("react.strict_mode"),fb=Symbol.for("react.profiler"),FF=Symbol.for("react.provider"),kF=Symbol.for("react.context"),aC=Symbol.for("react.forward_ref"),pb=Symbol.for("react.suspense"),mb=Symbol.for("react.suspense_list"),oC=Symbol.for("react.memo"),hc=Symbol.for("react.lazy"),IF=Symbol.for("react.offscreen"),AS=Symbol.iterator;function Ef(e){return e===null||typeof e!="object"?null:(e=AS&&e[AS]||e["@@iterator"],typeof e=="function"?e:null)}var Fn=Object.assign,Ew;function Xf(e){if(Ew===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ew=t&&t[1]||""}return`
`+Ew+e}var jw=!1;function Fw(e,t){if(!e||jw)return"";jw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var n=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){n=A}e.call(t.prototype)}else{try{throw Error()}catch(A){n=A}e()}}catch(A){if(A&&n&&typeof A.stack=="string"){for(var s=A.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{jw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xf(e):""}function yQ(e){switch(e.tag){case 5:return Xf(e.type);case 16:return Xf("Lazy");case 13:return Xf("Suspense");case 19:return Xf("SuspenseList");case 0:case 2:case 15:return e=Fw(e.type,!1),e;case 11:return e=Fw(e.type.render,!1),e;case 1:return e=Fw(e.type,!0),e;default:return""}}function gb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Eu:return"Fragment";case Su:return"Portal";case fb:return"Profiler";case iC:return"StrictMode";case pb:return"Suspense";case mb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kF:return(e.displayName||"Context")+".Consumer";case FF:return(e._context.displayName||"Context")+".Provider";case aC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oC:return t=e.displayName||null,t!==null?t:gb(e.type)||"Memo";case hc:t=e._payload,e=e._init;try{return gb(e(t))}catch{}}return null}function xQ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gb(t);case 8:return t===iC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wQ(e){var t=PF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kg(e){e._valueTracker||(e._valueTracker=wQ(e))}function _F(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=PF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ev(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vb(e,t){var r=t.checked;return Fn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function TF(e,t){t=t.checked,t!=null&&sC(e,"checked",t,!1)}function yb(e,t){TF(e,t);var r=qc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xb(e,t.type,r):t.hasOwnProperty("defaultValue")&&xb(e,t.type,qc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xb(e,t,r){(t!=="number"||Ev(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jf=Array.isArray;function $u(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qc(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function wb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(rt(91));return Fn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(rt(92));if(Jf(r)){if(1<r.length)throw Error(rt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qc(r)}}function LF(e,t){var r=qc(t.value),n=qc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function fS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function UF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?UF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ig,RF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ig=Ig||document.createElement("div"),Ig.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ig.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bQ=["Webkit","ms","Moz","O"];Object.keys(dp).forEach(function(e){bQ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dp[t]=dp[e]})});function DF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dp.hasOwnProperty(e)&&dp[e]?(""+t).trim():t+"px"}function MF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=DF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var CQ=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cb(e,t){if(t){if(CQ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(rt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(rt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(rt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(rt(62))}}function Bb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nb=null;function lC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sb=null,zu=null,Ku=null;function pS(e){if(e=Cm(e)){if(typeof Sb!="function")throw Error(rt(280));var t=e.stateNode;t&&(t=$y(t),Sb(e.stateNode,e.type,t))}}function QF(e){zu?Ku?Ku.push(e):Ku=[e]:zu=e}function OF(){if(zu){var e=zu,t=Ku;if(Ku=zu=null,pS(e),t)for(e=0;e<t.length;e++)pS(t[e])}}function HF(e,t){return e(t)}function $F(){}var kw=!1;function zF(e,t,r){if(kw)return e(t,r);kw=!0;try{return HF(e,t,r)}finally{kw=!1,(zu!==null||Ku!==null)&&($F(),OF())}}function _p(e,t){var r=e.stateNode;if(r===null)return null;var n=$y(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(rt(231,t,typeof r));return r}var Eb=!1;if(bl)try{var jf={};Object.defineProperty(jf,"passive",{get:function(){Eb=!0}}),window.addEventListener("test",jf,jf),window.removeEventListener("test",jf,jf)}catch{Eb=!1}function BQ(e,t,r,n,s,a,o,l,c){var A=Array.prototype.slice.call(arguments,3);try{t.apply(r,A)}catch(d){this.onError(d)}}var up=!1,jv=null,Fv=!1,jb=null,NQ={onError:function(e){up=!0,jv=e}};function SQ(e,t,r,n,s,a,o,l,c){up=!1,jv=null,BQ.apply(NQ,arguments)}function EQ(e,t,r,n,s,a,o,l,c){if(SQ.apply(this,arguments),up){if(up){var A=jv;up=!1,jv=null}else throw Error(rt(198));Fv||(Fv=!0,jb=A)}}function Sd(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function KF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mS(e){if(Sd(e)!==e)throw Error(rt(188))}function jQ(e){var t=e.alternate;if(!t){if(t=Sd(e),t===null)throw Error(rt(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return mS(s),e;if(a===n)return mS(s),t;a=a.sibling}throw Error(rt(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(rt(189))}}if(r.alternate!==n)throw Error(rt(190))}if(r.tag!==3)throw Error(rt(188));return r.stateNode.current===r?e:t}function GF(e){return e=jQ(e),e!==null?VF(e):null}function VF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=VF(e);if(t!==null)return t;e=e.sibling}return null}var WF=Gi.unstable_scheduleCallback,gS=Gi.unstable_cancelCallback,FQ=Gi.unstable_shouldYield,kQ=Gi.unstable_requestPaint,Kn=Gi.unstable_now,IQ=Gi.unstable_getCurrentPriorityLevel,cC=Gi.unstable_ImmediatePriority,qF=Gi.unstable_UserBlockingPriority,kv=Gi.unstable_NormalPriority,PQ=Gi.unstable_LowPriority,XF=Gi.unstable_IdlePriority,My=null,Eo=null;function _Q(e){if(Eo&&typeof Eo.onCommitFiberRoot=="function")try{Eo.onCommitFiberRoot(My,e,void 0,(e.current.flags&128)===128)}catch{}}var Ga=Math.clz32?Math.clz32:UQ,TQ=Math.log,LQ=Math.LN2;function UQ(e){return e>>>=0,e===0?32:31-(TQ(e)/LQ|0)|0}var Pg=64,_g=4194304;function Yf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Iv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Yf(l):(a&=o,a!==0&&(n=Yf(a)))}else o=r&~s,o!==0?n=Yf(o):a!==0&&(n=Yf(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ga(t),s=1<<r,n|=e[r],t&=~s;return n}function RQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DQ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ga(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=RQ(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Fb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JF(){var e=Pg;return Pg<<=1,!(Pg&4194240)&&(Pg=64),e}function Iw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ga(t),e[t]=r}function MQ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ga(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function AC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ga(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var zr=0;function YF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZF,dC,ek,tk,rk,kb=!1,Tg=[],Tc=null,Lc=null,Uc=null,Tp=new Map,Lp=new Map,yc=[],QQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vS(e,t){switch(e){case"focusin":case"focusout":Tc=null;break;case"dragenter":case"dragleave":Lc=null;break;case"mouseover":case"mouseout":Uc=null;break;case"pointerover":case"pointerout":Tp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lp.delete(t.pointerId)}}function Ff(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Cm(t),t!==null&&dC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function OQ(e,t,r,n,s){switch(t){case"focusin":return Tc=Ff(Tc,e,t,r,n,s),!0;case"dragenter":return Lc=Ff(Lc,e,t,r,n,s),!0;case"mouseover":return Uc=Ff(Uc,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Tp.set(a,Ff(Tp.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Lp.set(a,Ff(Lp.get(a)||null,e,t,r,n,s)),!0}return!1}function nk(e){var t=zA(e.target);if(t!==null){var r=Sd(t);if(r!==null){if(t=r.tag,t===13){if(t=KF(r),t!==null){e.blockedOn=t,rk(e.priority,function(){ek(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function G0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ib(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Nb=n,r.target.dispatchEvent(n),Nb=null}else return t=Cm(r),t!==null&&dC(t),e.blockedOn=r,!1;t.shift()}return!0}function yS(e,t,r){G0(e)&&r.delete(t)}function HQ(){kb=!1,Tc!==null&&G0(Tc)&&(Tc=null),Lc!==null&&G0(Lc)&&(Lc=null),Uc!==null&&G0(Uc)&&(Uc=null),Tp.forEach(yS),Lp.forEach(yS)}function kf(e,t){e.blockedOn===t&&(e.blockedOn=null,kb||(kb=!0,Gi.unstable_scheduleCallback(Gi.unstable_NormalPriority,HQ)))}function Up(e){function t(s){return kf(s,e)}if(0<Tg.length){kf(Tg[0],e);for(var r=1;r<Tg.length;r++){var n=Tg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Tc!==null&&kf(Tc,e),Lc!==null&&kf(Lc,e),Uc!==null&&kf(Uc,e),Tp.forEach(t),Lp.forEach(t),r=0;r<yc.length;r++)n=yc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yc.length&&(r=yc[0],r.blockedOn===null);)nk(r),r.blockedOn===null&&yc.shift()}var Gu=_l.ReactCurrentBatchConfig,Pv=!0;function $Q(e,t,r,n){var s=zr,a=Gu.transition;Gu.transition=null;try{zr=1,uC(e,t,r,n)}finally{zr=s,Gu.transition=a}}function zQ(e,t,r,n){var s=zr,a=Gu.transition;Gu.transition=null;try{zr=4,uC(e,t,r,n)}finally{zr=s,Gu.transition=a}}function uC(e,t,r,n){if(Pv){var s=Ib(e,t,r,n);if(s===null)Ow(e,t,n,_v,r),vS(e,n);else if(OQ(s,e,t,r,n))n.stopPropagation();else if(vS(e,n),t&4&&-1<QQ.indexOf(e)){for(;s!==null;){var a=Cm(s);if(a!==null&&ZF(a),a=Ib(e,t,r,n),a===null&&Ow(e,t,n,_v,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Ow(e,t,n,null,r)}}var _v=null;function Ib(e,t,r,n){if(_v=null,e=lC(n),e=zA(e),e!==null)if(t=Sd(e),t===null)e=null;else if(r=t.tag,r===13){if(e=KF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _v=e,null}function sk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IQ()){case cC:return 1;case qF:return 4;case kv:case PQ:return 16;case XF:return 536870912;default:return 16}default:return 16}}var Ec=null,hC=null,V0=null;function ik(){if(V0)return V0;var e,t=hC,r=t.length,n,s="value"in Ec?Ec.value:Ec.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return V0=s.slice(e,1<n?1-n:void 0)}function W0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lg(){return!0}function xS(){return!1}function qi(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Lg:xS,this.isPropagationStopped=xS,this}return Fn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lg)},persist:function(){},isPersistent:Lg}),t}var Oh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fC=qi(Oh),bm=Fn({},Oh,{view:0,detail:0}),KQ=qi(bm),Pw,_w,If,Qy=Fn({},bm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==If&&(If&&e.type==="mousemove"?(Pw=e.screenX-If.screenX,_w=e.screenY-If.screenY):_w=Pw=0,If=e),Pw)},movementY:function(e){return"movementY"in e?e.movementY:_w}}),wS=qi(Qy),GQ=Fn({},Qy,{dataTransfer:0}),VQ=qi(GQ),WQ=Fn({},bm,{relatedTarget:0}),Tw=qi(WQ),qQ=Fn({},Oh,{animationName:0,elapsedTime:0,pseudoElement:0}),XQ=qi(qQ),JQ=Fn({},Oh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YQ=qi(JQ),ZQ=Fn({},Oh,{data:0}),bS=qi(ZQ),e8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=r8[e])?!!t[e]:!1}function pC(){return n8}var s8=Fn({},bm,{key:function(e){if(e.key){var t=e8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=W0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?t8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pC,charCode:function(e){return e.type==="keypress"?W0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?W0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i8=qi(s8),a8=Fn({},Qy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CS=qi(a8),o8=Fn({},bm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pC}),l8=qi(o8),c8=Fn({},Oh,{propertyName:0,elapsedTime:0,pseudoElement:0}),A8=qi(c8),d8=Fn({},Qy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),u8=qi(d8),h8=[9,13,27,32],mC=bl&&"CompositionEvent"in window,hp=null;bl&&"documentMode"in document&&(hp=document.documentMode);var f8=bl&&"TextEvent"in window&&!hp,ak=bl&&(!mC||hp&&8<hp&&11>=hp),BS=" ",NS=!1;function ok(e,t){switch(e){case"keyup":return h8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ju=!1;function p8(e,t){switch(e){case"compositionend":return lk(t);case"keypress":return t.which!==32?null:(NS=!0,BS);case"textInput":return e=t.data,e===BS&&NS?null:e;default:return null}}function m8(e,t){if(ju)return e==="compositionend"||!mC&&ok(e,t)?(e=ik(),V0=hC=Ec=null,ju=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ak&&t.locale!=="ko"?null:t.data;default:return null}}var g8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g8[e.type]:t==="textarea"}function ck(e,t,r,n){QF(n),t=Tv(t,"onChange"),0<t.length&&(r=new fC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fp=null,Rp=null;function v8(e){xk(e,0)}function Oy(e){var t=Iu(e);if(_F(t))return e}function y8(e,t){if(e==="change")return t}var Ak=!1;if(bl){var Lw;if(bl){var Uw="oninput"in document;if(!Uw){var ES=document.createElement("div");ES.setAttribute("oninput","return;"),Uw=typeof ES.oninput=="function"}Lw=Uw}else Lw=!1;Ak=Lw&&(!document.documentMode||9<document.documentMode)}function jS(){fp&&(fp.detachEvent("onpropertychange",dk),Rp=fp=null)}function dk(e){if(e.propertyName==="value"&&Oy(Rp)){var t=[];ck(t,Rp,e,lC(e)),zF(v8,t)}}function x8(e,t,r){e==="focusin"?(jS(),fp=t,Rp=r,fp.attachEvent("onpropertychange",dk)):e==="focusout"&&jS()}function w8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oy(Rp)}function b8(e,t){if(e==="click")return Oy(t)}function C8(e,t){if(e==="input"||e==="change")return Oy(t)}function B8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qa=typeof Object.is=="function"?Object.is:B8;function Dp(e,t){if(qa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!hb.call(t,s)||!qa(e[s],t[s]))return!1}return!0}function FS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kS(e,t){var r=FS(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=FS(r)}}function uk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hk(){for(var e=window,t=Ev();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ev(e.document)}return t}function gC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function N8(e){var t=hk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&uk(r.ownerDocument.documentElement,r)){if(n!==null&&gC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=kS(r,a);var o=kS(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var S8=bl&&"documentMode"in document&&11>=document.documentMode,Fu=null,Pb=null,pp=null,_b=!1;function IS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_b||Fu==null||Fu!==Ev(n)||(n=Fu,"selectionStart"in n&&gC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pp&&Dp(pp,n)||(pp=n,n=Tv(Pb,"onSelect"),0<n.length&&(t=new fC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fu)))}function Ug(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ku={animationend:Ug("Animation","AnimationEnd"),animationiteration:Ug("Animation","AnimationIteration"),animationstart:Ug("Animation","AnimationStart"),transitionend:Ug("Transition","TransitionEnd")},Rw={},fk={};bl&&(fk=document.createElement("div").style,"AnimationEvent"in window||(delete ku.animationend.animation,delete ku.animationiteration.animation,delete ku.animationstart.animation),"TransitionEvent"in window||delete ku.transitionend.transition);function Hy(e){if(Rw[e])return Rw[e];if(!ku[e])return e;var t=ku[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in fk)return Rw[e]=t[r];return e}var pk=Hy("animationend"),mk=Hy("animationiteration"),gk=Hy("animationstart"),vk=Hy("transitionend"),yk=new Map,PS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cA(e,t){yk.set(e,t),Nd(t,[e])}for(var Dw=0;Dw<PS.length;Dw++){var Mw=PS[Dw],E8=Mw.toLowerCase(),j8=Mw[0].toUpperCase()+Mw.slice(1);cA(E8,"on"+j8)}cA(pk,"onAnimationEnd");cA(mk,"onAnimationIteration");cA(gk,"onAnimationStart");cA("dblclick","onDoubleClick");cA("focusin","onFocus");cA("focusout","onBlur");cA(vk,"onTransitionEnd");yh("onMouseEnter",["mouseout","mouseover"]);yh("onMouseLeave",["mouseout","mouseover"]);yh("onPointerEnter",["pointerout","pointerover"]);yh("onPointerLeave",["pointerout","pointerover"]);Nd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zf));function _S(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,EQ(n,t,void 0,e),e.currentTarget=null}function xk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,A=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;_S(s,l,A),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,A=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;_S(s,l,A),a=c}}}if(Fv)throw e=jb,Fv=!1,jb=null,e}function An(e,t){var r=t[Db];r===void 0&&(r=t[Db]=new Set);var n=e+"__bubble";r.has(n)||(wk(t,e,2,!1),r.add(n))}function Qw(e,t,r){var n=0;t&&(n|=4),wk(r,e,n,t)}var Rg="_reactListening"+Math.random().toString(36).slice(2);function Mp(e){if(!e[Rg]){e[Rg]=!0,jF.forEach(function(r){r!=="selectionchange"&&(F8.has(r)||Qw(r,!1,e),Qw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rg]||(t[Rg]=!0,Qw("selectionchange",!1,t))}}function wk(e,t,r,n){switch(sk(t)){case 1:var s=$Q;break;case 4:s=zQ;break;default:s=uC}r=s.bind(null,t,r,e),s=void 0,!Eb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ow(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=zA(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}zF(function(){var A=a,d=lC(r),u=[];e:{var p=yk.get(e);if(p!==void 0){var f=fC,x=e;switch(e){case"keypress":if(W0(r)===0)break e;case"keydown":case"keyup":f=i8;break;case"focusin":x="focus",f=Tw;break;case"focusout":x="blur",f=Tw;break;case"beforeblur":case"afterblur":f=Tw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=wS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=VQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=l8;break;case pk:case mk:case gk:f=XQ;break;case vk:f=A8;break;case"scroll":f=KQ;break;case"wheel":f=u8;break;case"copy":case"cut":case"paste":f=YQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=CS}var m=(t&4)!==0,N=!m&&e==="scroll",g=m?p!==null?p+"Capture":null:p;m=[];for(var y=A,w;y!==null;){w=y;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,g!==null&&(E=_p(y,g),E!=null&&m.push(Qp(y,E,w)))),N)break;y=y.return}0<m.length&&(p=new f(p,x,null,r,d),u.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==Nb&&(x=r.relatedTarget||r.fromElement)&&(zA(x)||x[Cl]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(x=r.relatedTarget||r.toElement,f=A,x=x?zA(x):null,x!==null&&(N=Sd(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=A),f!==x)){if(m=wS,E="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=CS,E="onPointerLeave",g="onPointerEnter",y="pointer"),N=f==null?p:Iu(f),w=x==null?p:Iu(x),p=new m(E,y+"leave",f,r,d),p.target=N,p.relatedTarget=w,E=null,zA(d)===A&&(m=new m(g,y+"enter",x,r,d),m.target=w,m.relatedTarget=N,E=m),N=E,f&&x)t:{for(m=f,g=x,y=0,w=m;w;w=nu(w))y++;for(w=0,E=g;E;E=nu(E))w++;for(;0<y-w;)m=nu(m),y--;for(;0<w-y;)g=nu(g),w--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=nu(m),g=nu(g)}m=null}else m=null;f!==null&&TS(u,p,f,m,!1),x!==null&&N!==null&&TS(u,N,x,m,!0)}}e:{if(p=A?Iu(A):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var _=y8;else if(SS(p))if(Ak)_=C8;else{_=w8;var D=x8}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=b8);if(_&&(_=_(e,A))){ck(u,_,r,d);break e}D&&D(e,p,A),e==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&xb(p,"number",p.value)}switch(D=A?Iu(A):window,e){case"focusin":(SS(D)||D.contentEditable==="true")&&(Fu=D,Pb=A,pp=null);break;case"focusout":pp=Pb=Fu=null;break;case"mousedown":_b=!0;break;case"contextmenu":case"mouseup":case"dragend":_b=!1,IS(u,r,d);break;case"selectionchange":if(S8)break;case"keydown":case"keyup":IS(u,r,d)}var R;if(mC)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ju?ok(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(ak&&r.locale!=="ko"&&(ju||I!=="onCompositionStart"?I==="onCompositionEnd"&&ju&&(R=ik()):(Ec=d,hC="value"in Ec?Ec.value:Ec.textContent,ju=!0)),D=Tv(A,I),0<D.length&&(I=new bS(I,e,null,r,d),u.push({event:I,listeners:D}),R?I.data=R:(R=lk(r),R!==null&&(I.data=R)))),(R=f8?p8(e,r):m8(e,r))&&(A=Tv(A,"onBeforeInput"),0<A.length&&(d=new bS("onBeforeInput","beforeinput",null,r,d),u.push({event:d,listeners:A}),d.data=R))}xk(u,t)})}function Qp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Tv(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=_p(e,r),a!=null&&n.unshift(Qp(e,a,s)),a=_p(e,t),a!=null&&n.push(Qp(e,a,s))),e=e.return}return n}function nu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function TS(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,A=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&A!==null&&(l=A,s?(c=_p(r,a),c!=null&&o.unshift(Qp(r,c,l))):s||(c=_p(r,a),c!=null&&o.push(Qp(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var k8=/\r\n?/g,I8=/\u0000|\uFFFD/g;function LS(e){return(typeof e=="string"?e:""+e).replace(k8,`
`).replace(I8,"")}function Dg(e,t,r){if(t=LS(t),LS(e)!==t&&r)throw Error(rt(425))}function Lv(){}var Tb=null,Lb=null;function Ub(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rb=typeof setTimeout=="function"?setTimeout:void 0,P8=typeof clearTimeout=="function"?clearTimeout:void 0,US=typeof Promise=="function"?Promise:void 0,_8=typeof queueMicrotask=="function"?queueMicrotask:typeof US<"u"?function(e){return US.resolve(null).then(e).catch(T8)}:Rb;function T8(e){setTimeout(function(){throw e})}function Hw(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Up(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Up(t)}function Rc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function RS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Hh=Math.random().toString(36).slice(2),wo="__reactFiber$"+Hh,Op="__reactProps$"+Hh,Cl="__reactContainer$"+Hh,Db="__reactEvents$"+Hh,L8="__reactListeners$"+Hh,U8="__reactHandles$"+Hh;function zA(e){var t=e[wo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Cl]||r[wo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=RS(e);e!==null;){if(r=e[wo])return r;e=RS(e)}return t}e=r,r=e.parentNode}return null}function Cm(e){return e=e[wo]||e[Cl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Iu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(rt(33))}function $y(e){return e[Op]||null}var Mb=[],Pu=-1;function AA(e){return{current:e}}function fn(e){0>Pu||(e.current=Mb[Pu],Mb[Pu]=null,Pu--)}function an(e,t){Pu++,Mb[Pu]=e.current,e.current=t}var Xc={},Vs=AA(Xc),Ni=AA(!1),Ad=Xc;function xh(e,t){var r=e.type.contextTypes;if(!r)return Xc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Si(e){return e=e.childContextTypes,e!=null}function Uv(){fn(Ni),fn(Vs)}function DS(e,t,r){if(Vs.current!==Xc)throw Error(rt(168));an(Vs,t),an(Ni,r)}function bk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(rt(108,xQ(e)||"Unknown",s));return Fn({},r,n)}function Rv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xc,Ad=Vs.current,an(Vs,e),an(Ni,Ni.current),!0}function MS(e,t,r){var n=e.stateNode;if(!n)throw Error(rt(169));r?(e=bk(e,t,Ad),n.__reactInternalMemoizedMergedChildContext=e,fn(Ni),fn(Vs),an(Vs,e)):fn(Ni),an(Ni,r)}var ll=null,zy=!1,$w=!1;function Ck(e){ll===null?ll=[e]:ll.push(e)}function R8(e){zy=!0,Ck(e)}function dA(){if(!$w&&ll!==null){$w=!0;var e=0,t=zr;try{var r=ll;for(zr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ll=null,zy=!1}catch(s){throw ll!==null&&(ll=ll.slice(e+1)),WF(cC,dA),s}finally{zr=t,$w=!1}}return null}var _u=[],Tu=0,Dv=null,Mv=0,fa=[],pa=0,dd=null,cl=1,Al="";function UA(e,t){_u[Tu++]=Mv,_u[Tu++]=Dv,Dv=e,Mv=t}function Bk(e,t,r){fa[pa++]=cl,fa[pa++]=Al,fa[pa++]=dd,dd=e;var n=cl;e=Al;var s=32-Ga(n)-1;n&=~(1<<s),r+=1;var a=32-Ga(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,cl=1<<32-Ga(t)+s|r<<s|n,Al=a+e}else cl=1<<a|r<<s|n,Al=e}function vC(e){e.return!==null&&(UA(e,1),Bk(e,1,0))}function yC(e){for(;e===Dv;)Dv=_u[--Tu],_u[Tu]=null,Mv=_u[--Tu],_u[Tu]=null;for(;e===dd;)dd=fa[--pa],fa[pa]=null,Al=fa[--pa],fa[pa]=null,cl=fa[--pa],fa[pa]=null}var $i=null,Qi=null,xn=!1,za=null;function Nk(e,t){var r=va(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function QS(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$i=e,Qi=Rc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$i=e,Qi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=dd!==null?{id:cl,overflow:Al}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=va(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$i=e,Qi=null,!0):!1;default:return!1}}function Qb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ob(e){if(xn){var t=Qi;if(t){var r=t;if(!QS(e,t)){if(Qb(e))throw Error(rt(418));t=Rc(r.nextSibling);var n=$i;t&&QS(e,t)?Nk(n,r):(e.flags=e.flags&-4097|2,xn=!1,$i=e)}}else{if(Qb(e))throw Error(rt(418));e.flags=e.flags&-4097|2,xn=!1,$i=e}}}function OS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$i=e}function Mg(e){if(e!==$i)return!1;if(!xn)return OS(e),xn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ub(e.type,e.memoizedProps)),t&&(t=Qi)){if(Qb(e))throw Sk(),Error(rt(418));for(;t;)Nk(e,t),t=Rc(t.nextSibling)}if(OS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qi=Rc(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qi=null}}else Qi=$i?Rc(e.stateNode.nextSibling):null;return!0}function Sk(){for(var e=Qi;e;)e=Rc(e.nextSibling)}function wh(){Qi=$i=null,xn=!1}function xC(e){za===null?za=[e]:za.push(e)}var D8=_l.ReactCurrentBatchConfig;function Pf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(rt(309));var n=r.stateNode}if(!n)throw Error(rt(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(rt(284));if(!r._owner)throw Error(rt(290,e))}return e}function Qg(e,t){throw e=Object.prototype.toString.call(t),Error(rt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function HS(e){var t=e._init;return t(e._payload)}function Ek(e){function t(g,y){if(e){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Oc(g,y),g.index=0,g.sibling=null,g}function a(g,y,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,w,E){return y===null||y.tag!==6?(y=Xw(w,g.mode,E),y.return=g,y):(y=s(y,w),y.return=g,y)}function c(g,y,w,E){var _=w.type;return _===Eu?d(g,y,w.props.children,E,w.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===hc&&HS(_)===y.type)?(E=s(y,w.props),E.ref=Pf(g,y,w),E.return=g,E):(E=tv(w.type,w.key,w.props,null,g.mode,E),E.ref=Pf(g,y,w),E.return=g,E)}function A(g,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Jw(w,g.mode,E),y.return=g,y):(y=s(y,w.children||[]),y.return=g,y)}function d(g,y,w,E,_){return y===null||y.tag!==7?(y=td(w,g.mode,E,_),y.return=g,y):(y=s(y,w),y.return=g,y)}function u(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Xw(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fg:return w=tv(y.type,y.key,y.props,null,g.mode,w),w.ref=Pf(g,null,y),w.return=g,w;case Su:return y=Jw(y,g.mode,w),y.return=g,y;case hc:var E=y._init;return u(g,E(y._payload),w)}if(Jf(y)||Ef(y))return y=td(y,g.mode,w,null),y.return=g,y;Qg(g,y)}return null}function p(g,y,w,E){var _=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(g,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fg:return w.key===_?c(g,y,w,E):null;case Su:return w.key===_?A(g,y,w,E):null;case hc:return _=w._init,p(g,y,_(w._payload),E)}if(Jf(w)||Ef(w))return _!==null?null:d(g,y,w,E,null);Qg(g,w)}return null}function f(g,y,w,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(w)||null,l(y,g,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Fg:return g=g.get(E.key===null?w:E.key)||null,c(y,g,E,_);case Su:return g=g.get(E.key===null?w:E.key)||null,A(y,g,E,_);case hc:var D=E._init;return f(g,y,w,D(E._payload),_)}if(Jf(E)||Ef(E))return g=g.get(w)||null,d(y,g,E,_,null);Qg(y,E)}return null}function x(g,y,w,E){for(var _=null,D=null,R=y,I=y=0,Q=null;R!==null&&I<w.length;I++){R.index>I?(Q=R,R=null):Q=R.sibling;var U=p(g,R,w[I],E);if(U===null){R===null&&(R=Q);break}e&&R&&U.alternate===null&&t(g,R),y=a(U,y,I),D===null?_=U:D.sibling=U,D=U,R=Q}if(I===w.length)return r(g,R),xn&&UA(g,I),_;if(R===null){for(;I<w.length;I++)R=u(g,w[I],E),R!==null&&(y=a(R,y,I),D===null?_=R:D.sibling=R,D=R);return xn&&UA(g,I),_}for(R=n(g,R);I<w.length;I++)Q=f(R,g,I,w[I],E),Q!==null&&(e&&Q.alternate!==null&&R.delete(Q.key===null?I:Q.key),y=a(Q,y,I),D===null?_=Q:D.sibling=Q,D=Q);return e&&R.forEach(function(S){return t(g,S)}),xn&&UA(g,I),_}function m(g,y,w,E){var _=Ef(w);if(typeof _!="function")throw Error(rt(150));if(w=_.call(w),w==null)throw Error(rt(151));for(var D=_=null,R=y,I=y=0,Q=null,U=w.next();R!==null&&!U.done;I++,U=w.next()){R.index>I?(Q=R,R=null):Q=R.sibling;var S=p(g,R,U.value,E);if(S===null){R===null&&(R=Q);break}e&&R&&S.alternate===null&&t(g,R),y=a(S,y,I),D===null?_=S:D.sibling=S,D=S,R=Q}if(U.done)return r(g,R),xn&&UA(g,I),_;if(R===null){for(;!U.done;I++,U=w.next())U=u(g,U.value,E),U!==null&&(y=a(U,y,I),D===null?_=U:D.sibling=U,D=U);return xn&&UA(g,I),_}for(R=n(g,R);!U.done;I++,U=w.next())U=f(R,g,I,U.value,E),U!==null&&(e&&U.alternate!==null&&R.delete(U.key===null?I:U.key),y=a(U,y,I),D===null?_=U:D.sibling=U,D=U);return e&&R.forEach(function(P){return t(g,P)}),xn&&UA(g,I),_}function N(g,y,w,E){if(typeof w=="object"&&w!==null&&w.type===Eu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Fg:e:{for(var _=w.key,D=y;D!==null;){if(D.key===_){if(_=w.type,_===Eu){if(D.tag===7){r(g,D.sibling),y=s(D,w.props.children),y.return=g,g=y;break e}}else if(D.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===hc&&HS(_)===D.type){r(g,D.sibling),y=s(D,w.props),y.ref=Pf(g,D,w),y.return=g,g=y;break e}r(g,D);break}else t(g,D);D=D.sibling}w.type===Eu?(y=td(w.props.children,g.mode,E,w.key),y.return=g,g=y):(E=tv(w.type,w.key,w.props,null,g.mode,E),E.ref=Pf(g,y,w),E.return=g,g=E)}return o(g);case Su:e:{for(D=w.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(g,y.sibling),y=s(y,w.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=Jw(w,g.mode,E),y.return=g,g=y}return o(g);case hc:return D=w._init,N(g,y,D(w._payload),E)}if(Jf(w))return x(g,y,w,E);if(Ef(w))return m(g,y,w,E);Qg(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(g,y.sibling),y=s(y,w),y.return=g,g=y):(r(g,y),y=Xw(w,g.mode,E),y.return=g,g=y),o(g)):r(g,y)}return N}var bh=Ek(!0),jk=Ek(!1),Qv=AA(null),Ov=null,Lu=null,wC=null;function bC(){wC=Lu=Ov=null}function CC(e){var t=Qv.current;fn(Qv),e._currentValue=t}function Hb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vu(e,t){Ov=e,wC=Lu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ci=!0),e.firstContext=null)}function Ba(e){var t=e._currentValue;if(wC!==e)if(e={context:e,memoizedValue:t,next:null},Lu===null){if(Ov===null)throw Error(rt(308));Lu=e,Ov.dependencies={lanes:0,firstContext:e}}else Lu=Lu.next=e;return t}var KA=null;function BC(e){KA===null?KA=[e]:KA.push(e)}function Fk(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,BC(t)):(r.next=s.next,s.next=r),t.interleaved=r,Bl(e,n)}function Bl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fc=!1;function NC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dc(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pr&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Bl(e,r)}return s=n.interleaved,s===null?(t.next=t,BC(n)):(t.next=s.next,s.next=t),n.interleaved=t,Bl(e,r)}function q0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,AC(e,r)}}function $S(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hv(e,t,r,n){var s=e.updateQueue;fc=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,A=c.next;c.next=null,o===null?a=A:o.next=A,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=A:l.next=A,d.lastBaseUpdate=c))}if(a!==null){var u=s.baseState;o=0,d=A=c=null,l=a;do{var p=l.lane,f=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,m=l;switch(p=t,f=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){u=x.call(f,u,p);break e}u=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,p=typeof x=="function"?x.call(f,u,p):x,p==null)break e;u=Fn({},u,p);break e;case 2:fc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(A=d=f,c=u):d=d.next=f,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=u),s.baseState=c,s.firstBaseUpdate=A,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);hd|=o,e.lanes=o,e.memoizedState=u}}function zS(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(rt(191,s));s.call(n)}}}var Bm={},jo=AA(Bm),Hp=AA(Bm),$p=AA(Bm);function GA(e){if(e===Bm)throw Error(rt(174));return e}function SC(e,t){switch(an($p,t),an(Hp,e),an(jo,Bm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bb(t,e)}fn(jo),an(jo,t)}function Ch(){fn(jo),fn(Hp),fn($p)}function Ik(e){GA($p.current);var t=GA(jo.current),r=bb(t,e.type);t!==r&&(an(Hp,e),an(jo,r))}function EC(e){Hp.current===e&&(fn(jo),fn(Hp))}var Sn=AA(0);function $v(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zw=[];function jC(){for(var e=0;e<zw.length;e++)zw[e]._workInProgressVersionPrimary=null;zw.length=0}var X0=_l.ReactCurrentDispatcher,Kw=_l.ReactCurrentBatchConfig,ud=0,jn=null,is=null,ps=null,zv=!1,mp=!1,zp=0,M8=0;function Us(){throw Error(rt(321))}function FC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qa(e[r],t[r]))return!1;return!0}function kC(e,t,r,n,s,a){if(ud=a,jn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X0.current=e===null||e.memoizedState===null?$8:z8,e=r(n,s),mp){a=0;do{if(mp=!1,zp=0,25<=a)throw Error(rt(301));a+=1,ps=is=null,t.updateQueue=null,X0.current=K8,e=r(n,s)}while(mp)}if(X0.current=Kv,t=is!==null&&is.next!==null,ud=0,ps=is=jn=null,zv=!1,t)throw Error(rt(300));return e}function IC(){var e=zp!==0;return zp=0,e}function mo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ps===null?jn.memoizedState=ps=e:ps=ps.next=e,ps}function Na(){if(is===null){var e=jn.alternate;e=e!==null?e.memoizedState:null}else e=is.next;var t=ps===null?jn.memoizedState:ps.next;if(t!==null)ps=t,is=e;else{if(e===null)throw Error(rt(310));is=e,e={memoizedState:is.memoizedState,baseState:is.baseState,baseQueue:is.baseQueue,queue:is.queue,next:null},ps===null?jn.memoizedState=ps=e:ps=ps.next=e}return ps}function Kp(e,t){return typeof t=="function"?t(e):t}function Gw(e){var t=Na(),r=t.queue;if(r===null)throw Error(rt(311));r.lastRenderedReducer=e;var n=is,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,A=a;do{var d=A.lane;if((ud&d)===d)c!==null&&(c=c.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),n=A.hasEagerState?A.eagerState:e(n,A.action);else{var u={lane:d,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};c===null?(l=c=u,o=n):c=c.next=u,jn.lanes|=d,hd|=d}A=A.next}while(A!==null&&A!==a);c===null?o=n:c.next=l,qa(n,t.memoizedState)||(Ci=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,jn.lanes|=a,hd|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vw(e){var t=Na(),r=t.queue;if(r===null)throw Error(rt(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);qa(a,t.memoizedState)||(Ci=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Pk(){}function _k(e,t){var r=jn,n=Na(),s=t(),a=!qa(n.memoizedState,s);if(a&&(n.memoizedState=s,Ci=!0),n=n.queue,PC(Uk.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ps!==null&&ps.memoizedState.tag&1){if(r.flags|=2048,Gp(9,Lk.bind(null,r,n,s,t),void 0,null),gs===null)throw Error(rt(349));ud&30||Tk(r,t,s)}return s}function Tk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=jn.updateQueue,t===null?(t={lastEffect:null,stores:null},jn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Lk(e,t,r,n){t.value=r,t.getSnapshot=n,Rk(t)&&Dk(e)}function Uk(e,t,r){return r(function(){Rk(t)&&Dk(e)})}function Rk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qa(e,r)}catch{return!0}}function Dk(e){var t=Bl(e,1);t!==null&&Va(t,e,1,-1)}function KS(e){var t=mo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kp,lastRenderedState:e},t.queue=e,e=e.dispatch=H8.bind(null,jn,e),[t.memoizedState,e]}function Gp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=jn.updateQueue,t===null?(t={lastEffect:null,stores:null},jn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Mk(){return Na().memoizedState}function J0(e,t,r,n){var s=mo();jn.flags|=e,s.memoizedState=Gp(1|t,r,void 0,n===void 0?null:n)}function Ky(e,t,r,n){var s=Na();n=n===void 0?null:n;var a=void 0;if(is!==null){var o=is.memoizedState;if(a=o.destroy,n!==null&&FC(n,o.deps)){s.memoizedState=Gp(t,r,a,n);return}}jn.flags|=e,s.memoizedState=Gp(1|t,r,a,n)}function GS(e,t){return J0(8390656,8,e,t)}function PC(e,t){return Ky(2048,8,e,t)}function Qk(e,t){return Ky(4,2,e,t)}function Ok(e,t){return Ky(4,4,e,t)}function Hk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $k(e,t,r){return r=r!=null?r.concat([e]):null,Ky(4,4,Hk.bind(null,t,e),r)}function _C(){}function zk(e,t){var r=Na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&FC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Kk(e,t){var r=Na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&FC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Gk(e,t,r){return ud&21?(qa(r,t)||(r=JF(),jn.lanes|=r,hd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ci=!0),e.memoizedState=r)}function Q8(e,t){var r=zr;zr=r!==0&&4>r?r:4,e(!0);var n=Kw.transition;Kw.transition={};try{e(!1),t()}finally{zr=r,Kw.transition=n}}function Vk(){return Na().memoizedState}function O8(e,t,r){var n=Qc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wk(e))qk(t,r);else if(r=Fk(e,t,r,n),r!==null){var s=ai();Va(r,e,n,s),Xk(r,t,n)}}function H8(e,t,r){var n=Qc(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wk(e))qk(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,qa(l,o)){var c=t.interleaved;c===null?(s.next=s,BC(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Fk(e,t,s,n),r!==null&&(s=ai(),Va(r,e,n,s),Xk(r,t,n))}}function Wk(e){var t=e.alternate;return e===jn||t!==null&&t===jn}function qk(e,t){mp=zv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,AC(e,r)}}var Kv={readContext:Ba,useCallback:Us,useContext:Us,useEffect:Us,useImperativeHandle:Us,useInsertionEffect:Us,useLayoutEffect:Us,useMemo:Us,useReducer:Us,useRef:Us,useState:Us,useDebugValue:Us,useDeferredValue:Us,useTransition:Us,useMutableSource:Us,useSyncExternalStore:Us,useId:Us,unstable_isNewReconciler:!1},$8={readContext:Ba,useCallback:function(e,t){return mo().memoizedState=[e,t===void 0?null:t],e},useContext:Ba,useEffect:GS,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,J0(4194308,4,Hk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return J0(4194308,4,e,t)},useInsertionEffect:function(e,t){return J0(4,2,e,t)},useMemo:function(e,t){var r=mo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=mo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=O8.bind(null,jn,e),[n.memoizedState,e]},useRef:function(e){var t=mo();return e={current:e},t.memoizedState=e},useState:KS,useDebugValue:_C,useDeferredValue:function(e){return mo().memoizedState=e},useTransition:function(){var e=KS(!1),t=e[0];return e=Q8.bind(null,e[1]),mo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=jn,s=mo();if(xn){if(r===void 0)throw Error(rt(407));r=r()}else{if(r=t(),gs===null)throw Error(rt(349));ud&30||Tk(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,GS(Uk.bind(null,n,a,e),[e]),n.flags|=2048,Gp(9,Lk.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=mo(),t=gs.identifierPrefix;if(xn){var r=Al,n=cl;r=(n&~(1<<32-Ga(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=M8++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},z8={readContext:Ba,useCallback:zk,useContext:Ba,useEffect:PC,useImperativeHandle:$k,useInsertionEffect:Qk,useLayoutEffect:Ok,useMemo:Kk,useReducer:Gw,useRef:Mk,useState:function(){return Gw(Kp)},useDebugValue:_C,useDeferredValue:function(e){var t=Na();return Gk(t,is.memoizedState,e)},useTransition:function(){var e=Gw(Kp)[0],t=Na().memoizedState;return[e,t]},useMutableSource:Pk,useSyncExternalStore:_k,useId:Vk,unstable_isNewReconciler:!1},K8={readContext:Ba,useCallback:zk,useContext:Ba,useEffect:PC,useImperativeHandle:$k,useInsertionEffect:Qk,useLayoutEffect:Ok,useMemo:Kk,useReducer:Vw,useRef:Mk,useState:function(){return Vw(Kp)},useDebugValue:_C,useDeferredValue:function(e){var t=Na();return is===null?t.memoizedState=e:Gk(t,is.memoizedState,e)},useTransition:function(){var e=Vw(Kp)[0],t=Na().memoizedState;return[e,t]},useMutableSource:Pk,useSyncExternalStore:_k,useId:Vk,unstable_isNewReconciler:!1};function Da(e,t){if(e&&e.defaultProps){t=Fn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $b(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gy={isMounted:function(e){return(e=e._reactInternals)?Sd(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ai(),s=Qc(e),a=fl(n,s);a.payload=t,r!=null&&(a.callback=r),t=Dc(e,a,s),t!==null&&(Va(t,e,s,n),q0(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ai(),s=Qc(e),a=fl(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Dc(e,a,s),t!==null&&(Va(t,e,s,n),q0(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ai(),n=Qc(e),s=fl(r,n);s.tag=2,t!=null&&(s.callback=t),t=Dc(e,s,n),t!==null&&(Va(t,e,n,r),q0(t,e,n))}};function VS(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Dp(r,n)||!Dp(s,a):!0}function Jk(e,t,r){var n=!1,s=Xc,a=t.contextType;return typeof a=="object"&&a!==null?a=Ba(a):(s=Si(t)?Ad:Vs.current,n=t.contextTypes,a=(n=n!=null)?xh(e,s):Xc),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function WS(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gy.enqueueReplaceState(t,t.state,null)}function zb(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},NC(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ba(a):(a=Si(t)?Ad:Vs.current,s.context=xh(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($b(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Gy.enqueueReplaceState(s,s.state,null),Hv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Bh(e,t){try{var r="",n=t;do r+=yQ(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ww(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Kb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var G8=typeof WeakMap=="function"?WeakMap:Map;function Yk(e,t,r){r=fl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vv||(Vv=!0,t2=n),Kb(e,t)},r}function Zk(e,t,r){r=fl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Kb(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Kb(e,t),typeof n!="function"&&(Mc===null?Mc=new Set([this]):Mc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function qS(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new G8;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=aO.bind(null,e,t,r),t.then(e,e))}function XS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function JS(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=fl(-1,1),t.tag=2,Dc(r,t,1))),r.lanes|=1),e)}var V8=_l.ReactCurrentOwner,Ci=!1;function ri(e,t,r,n){t.child=e===null?jk(t,null,r,n):bh(t,e.child,r,n)}function YS(e,t,r,n,s){r=r.render;var a=t.ref;return Vu(t,s),n=kC(e,t,r,n,a,s),r=IC(),e!==null&&!Ci?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nl(e,t,s)):(xn&&r&&vC(t),t.flags|=1,ri(e,t,n,s),t.child)}function ZS(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!OC(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,eI(e,t,a,n,s)):(e=tv(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Dp,r(o,n)&&e.ref===t.ref)return Nl(e,t,s)}return t.flags|=1,e=Oc(a,n),e.ref=t.ref,e.return=t,t.child=e}function eI(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Dp(a,n)&&e.ref===t.ref)if(Ci=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Ci=!0);else return t.lanes=e.lanes,Nl(e,t,s)}return Gb(e,t,r,n,s)}function tI(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(Ru,Di),Di|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,an(Ru,Di),Di|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,an(Ru,Di),Di|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,an(Ru,Di),Di|=n;return ri(e,t,s,r),t.child}function rI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Gb(e,t,r,n,s){var a=Si(r)?Ad:Vs.current;return a=xh(t,a),Vu(t,s),r=kC(e,t,r,n,a,s),n=IC(),e!==null&&!Ci?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nl(e,t,s)):(xn&&n&&vC(t),t.flags|=1,ri(e,t,r,s),t.child)}function eE(e,t,r,n,s){if(Si(r)){var a=!0;Rv(t)}else a=!1;if(Vu(t,s),t.stateNode===null)Y0(e,t),Jk(t,r,n),zb(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,A=r.contextType;typeof A=="object"&&A!==null?A=Ba(A):(A=Si(r)?Ad:Vs.current,A=xh(t,A));var d=r.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==A)&&WS(t,o,n,A),fc=!1;var p=t.memoizedState;o.state=p,Hv(t,n,o,s),c=t.memoizedState,l!==n||p!==c||Ni.current||fc?(typeof d=="function"&&($b(t,r,d,n),c=t.memoizedState),(l=fc||VS(t,r,l,n,p,c,A))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=A,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,kk(e,t),l=t.memoizedProps,A=t.type===t.elementType?l:Da(t.type,l),o.props=A,u=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ba(c):(c=Si(r)?Ad:Vs.current,c=xh(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||p!==c)&&WS(t,o,n,c),fc=!1,p=t.memoizedState,o.state=p,Hv(t,n,o,s);var x=t.memoizedState;l!==u||p!==x||Ni.current||fc?(typeof f=="function"&&($b(t,r,f,n),x=t.memoizedState),(A=fc||VS(t,r,A,n,p,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=A):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Vb(e,t,r,n,a,s)}function Vb(e,t,r,n,s,a){rI(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&MS(t,r,!1),Nl(e,t,a);n=t.stateNode,V8.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=bh(t,e.child,null,a),t.child=bh(t,null,l,a)):ri(e,t,l,a),t.memoizedState=n.state,s&&MS(t,r,!0),t.child}function nI(e){var t=e.stateNode;t.pendingContext?DS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&DS(e,t.context,!1),SC(e,t.containerInfo)}function tE(e,t,r,n,s){return wh(),xC(s),t.flags|=256,ri(e,t,r,n),t.child}var Wb={dehydrated:null,treeContext:null,retryLane:0};function qb(e){return{baseLanes:e,cachePool:null,transitions:null}}function sI(e,t,r){var n=t.pendingProps,s=Sn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),an(Sn,s&1),e===null)return Ob(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=qy(o,n,0,null),e=td(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=qb(r),t.memoizedState=Wb,e):TC(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return W8(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Oc(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Oc(l,a):(a=td(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?qb(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Wb,n}return a=e.child,e=a.sibling,n=Oc(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function TC(e,t){return t=qy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Og(e,t,r,n){return n!==null&&xC(n),bh(t,e.child,null,r),e=TC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function W8(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Ww(Error(rt(422))),Og(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=qy({mode:"visible",children:n.children},s,0,null),a=td(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&bh(t,e.child,null,o),t.child.memoizedState=qb(o),t.memoizedState=Wb,a);if(!(t.mode&1))return Og(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(rt(419)),n=Ww(a,n,void 0),Og(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ci||l){if(n=gs,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Bl(e,s),Va(n,e,s,-1))}return QC(),n=Ww(Error(rt(421))),Og(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=oO.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Qi=Rc(s.nextSibling),$i=t,xn=!0,za=null,e!==null&&(fa[pa++]=cl,fa[pa++]=Al,fa[pa++]=dd,cl=e.id,Al=e.overflow,dd=t),t=TC(t,n.children),t.flags|=4096,t)}function rE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Hb(e.return,t,r)}function qw(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function iI(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ri(e,t,n.children,r),n=Sn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rE(e,r,t);else if(e.tag===19)rE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(an(Sn,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&$v(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),qw(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$v(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}qw(t,!0,r,null,a);break;case"together":qw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Y0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(rt(153));if(t.child!==null){for(e=t.child,r=Oc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Oc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function q8(e,t,r){switch(t.tag){case 3:nI(t),wh();break;case 5:Ik(t);break;case 1:Si(t.type)&&Rv(t);break;case 4:SC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;an(Qv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(an(Sn,Sn.current&1),t.flags|=128,null):r&t.child.childLanes?sI(e,t,r):(an(Sn,Sn.current&1),e=Nl(e,t,r),e!==null?e.sibling:null);an(Sn,Sn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return iI(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),an(Sn,Sn.current),n)break;return null;case 22:case 23:return t.lanes=0,tI(e,t,r)}return Nl(e,t,r)}var aI,Xb,oI,lI;aI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xb=function(){};oI=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,GA(jo.current);var a=null;switch(r){case"input":s=vb(e,s),n=vb(e,n),a=[];break;case"select":s=Fn({},s,{value:void 0}),n=Fn({},n,{value:void 0}),a=[];break;case"textarea":s=wb(e,s),n=wb(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Lv)}Cb(r,n);var o;r=null;for(A in s)if(!n.hasOwnProperty(A)&&s.hasOwnProperty(A)&&s[A]!=null)if(A==="style"){var l=s[A];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(Ip.hasOwnProperty(A)?a||(a=[]):(a=a||[]).push(A,null));for(A in n){var c=n[A];if(l=s!=null?s[A]:void 0,n.hasOwnProperty(A)&&c!==l&&(c!=null||l!=null))if(A==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(A,r)),r=c;else A==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(A,c)):A==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(A,""+c):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(Ip.hasOwnProperty(A)?(c!=null&&A==="onScroll"&&An("scroll",e),a||l===c||(a=[])):(a=a||[]).push(A,c))}r&&(a=a||[]).push("style",r);var A=a;(t.updateQueue=A)&&(t.flags|=4)}};lI=function(e,t,r,n){r!==n&&(t.flags|=4)};function _f(e,t){if(!xn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function X8(e,t,r){var n=t.pendingProps;switch(yC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rs(t),null;case 1:return Si(t.type)&&Uv(),Rs(t),null;case 3:return n=t.stateNode,Ch(),fn(Ni),fn(Vs),jC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,za!==null&&(s2(za),za=null))),Xb(e,t),Rs(t),null;case 5:EC(t);var s=GA($p.current);if(r=t.type,e!==null&&t.stateNode!=null)oI(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(rt(166));return Rs(t),null}if(e=GA(jo.current),Mg(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[wo]=t,n[Op]=a,e=(t.mode&1)!==0,r){case"dialog":An("cancel",n),An("close",n);break;case"iframe":case"object":case"embed":An("load",n);break;case"video":case"audio":for(s=0;s<Zf.length;s++)An(Zf[s],n);break;case"source":An("error",n);break;case"img":case"image":case"link":An("error",n),An("load",n);break;case"details":An("toggle",n);break;case"input":dS(n,a),An("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},An("invalid",n);break;case"textarea":hS(n,a),An("invalid",n)}Cb(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Dg(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Dg(n.textContent,l,e),s=["children",""+l]):Ip.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&An("scroll",n)}switch(r){case"input":kg(n),uS(n,a,!0);break;case"textarea":kg(n),fS(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Lv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=UF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[wo]=t,e[Op]=n,aI(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bb(r,n),r){case"dialog":An("cancel",e),An("close",e),s=n;break;case"iframe":case"object":case"embed":An("load",e),s=n;break;case"video":case"audio":for(s=0;s<Zf.length;s++)An(Zf[s],e);s=n;break;case"source":An("error",e),s=n;break;case"img":case"image":case"link":An("error",e),An("load",e),s=n;break;case"details":An("toggle",e),s=n;break;case"input":dS(e,n),s=vb(e,n),An("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Fn({},n,{value:void 0}),An("invalid",e);break;case"textarea":hS(e,n),s=wb(e,n),An("invalid",e);break;default:s=n}Cb(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?MF(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&RF(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Pp(e,c):typeof c=="number"&&Pp(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ip.hasOwnProperty(a)?c!=null&&a==="onScroll"&&An("scroll",e):c!=null&&sC(e,a,c,o))}switch(r){case"input":kg(e),uS(e,n,!1);break;case"textarea":kg(e),fS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qc(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?$u(e,!!n.multiple,a,!1):n.defaultValue!=null&&$u(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Lv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rs(t),null;case 6:if(e&&t.stateNode!=null)lI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(rt(166));if(r=GA($p.current),GA(jo.current),Mg(t)){if(n=t.stateNode,r=t.memoizedProps,n[wo]=t,(a=n.nodeValue!==r)&&(e=$i,e!==null))switch(e.tag){case 3:Dg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dg(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wo]=t,t.stateNode=n}return Rs(t),null;case 13:if(fn(Sn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xn&&Qi!==null&&t.mode&1&&!(t.flags&128))Sk(),wh(),t.flags|=98560,a=!1;else if(a=Mg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(rt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(rt(317));a[wo]=t}else wh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rs(t),a=!1}else za!==null&&(s2(za),za=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Sn.current&1?os===0&&(os=3):QC())),t.updateQueue!==null&&(t.flags|=4),Rs(t),null);case 4:return Ch(),Xb(e,t),e===null&&Mp(t.stateNode.containerInfo),Rs(t),null;case 10:return CC(t.type._context),Rs(t),null;case 17:return Si(t.type)&&Uv(),Rs(t),null;case 19:if(fn(Sn),a=t.memoizedState,a===null)return Rs(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)_f(a,!1);else{if(os!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$v(e),o!==null){for(t.flags|=128,_f(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return an(Sn,Sn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Kn()>Nh&&(t.flags|=128,n=!0,_f(a,!1),t.lanes=4194304)}else{if(!n)if(e=$v(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),_f(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!xn)return Rs(t),null}else 2*Kn()-a.renderingStartTime>Nh&&r!==1073741824&&(t.flags|=128,n=!0,_f(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Kn(),t.sibling=null,r=Sn.current,an(Sn,n?r&1|2:r&1),t):(Rs(t),null);case 22:case 23:return MC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Di&1073741824&&(Rs(t),t.subtreeFlags&6&&(t.flags|=8192)):Rs(t),null;case 24:return null;case 25:return null}throw Error(rt(156,t.tag))}function J8(e,t){switch(yC(t),t.tag){case 1:return Si(t.type)&&Uv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ch(),fn(Ni),fn(Vs),jC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return EC(t),null;case 13:if(fn(Sn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(rt(340));wh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fn(Sn),null;case 4:return Ch(),null;case 10:return CC(t.type._context),null;case 22:case 23:return MC(),null;case 24:return null;default:return null}}var Hg=!1,Ks=!1,Y8=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function Uu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Un(e,t,n)}else r.current=null}function Jb(e,t,r){try{r()}catch(n){Un(e,t,n)}}var nE=!1;function Z8(e,t){if(Tb=Pv,e=hk(),gC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,A=0,d=0,u=e,p=null;t:for(;;){for(var f;u!==r||s!==0&&u.nodeType!==3||(l=o+s),u!==a||n!==0&&u.nodeType!==3||(c=o+n),u.nodeType===3&&(o+=u.nodeValue.length),(f=u.firstChild)!==null;)p=u,u=f;for(;;){if(u===e)break t;if(p===r&&++A===s&&(l=o),p===a&&++d===n&&(c=o),(f=u.nextSibling)!==null)break;u=p,p=u.parentNode}u=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lb={focusedElem:e,selectionRange:r},Pv=!1,Ct=t;Ct!==null;)if(t=Ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ct=e;else for(;Ct!==null;){t=Ct;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,N=x.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Da(t.type,m),N);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(E){Un(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Ct=e;break}Ct=t.return}return x=nE,nE=!1,x}function gp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Jb(t,r,a)}s=s.next}while(s!==n)}}function Vy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Yb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cI(e){var t=e.alternate;t!==null&&(e.alternate=null,cI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wo],delete t[Op],delete t[Db],delete t[L8],delete t[U8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AI(e){return e.tag===5||e.tag===3||e.tag===4}function sE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Lv));else if(n!==4&&(e=e.child,e!==null))for(Zb(e,t,r),e=e.sibling;e!==null;)Zb(e,t,r),e=e.sibling}function e2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(e2(e,t,r),e=e.sibling;e!==null;)e2(e,t,r),e=e.sibling}var ws=null,Ha=!1;function nc(e,t,r){for(r=r.child;r!==null;)dI(e,t,r),r=r.sibling}function dI(e,t,r){if(Eo&&typeof Eo.onCommitFiberUnmount=="function")try{Eo.onCommitFiberUnmount(My,r)}catch{}switch(r.tag){case 5:Ks||Uu(r,t);case 6:var n=ws,s=Ha;ws=null,nc(e,t,r),ws=n,Ha=s,ws!==null&&(Ha?(e=ws,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ws.removeChild(r.stateNode));break;case 18:ws!==null&&(Ha?(e=ws,r=r.stateNode,e.nodeType===8?Hw(e.parentNode,r):e.nodeType===1&&Hw(e,r),Up(e)):Hw(ws,r.stateNode));break;case 4:n=ws,s=Ha,ws=r.stateNode.containerInfo,Ha=!0,nc(e,t,r),ws=n,Ha=s;break;case 0:case 11:case 14:case 15:if(!Ks&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Jb(r,t,o),s=s.next}while(s!==n)}nc(e,t,r);break;case 1:if(!Ks&&(Uu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Un(r,t,l)}nc(e,t,r);break;case 21:nc(e,t,r);break;case 22:r.mode&1?(Ks=(n=Ks)||r.memoizedState!==null,nc(e,t,r),Ks=n):nc(e,t,r);break;default:nc(e,t,r)}}function iE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Y8),t.forEach(function(n){var s=lO.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _a(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ws=l.stateNode,Ha=!1;break e;case 3:ws=l.stateNode.containerInfo,Ha=!0;break e;case 4:ws=l.stateNode.containerInfo,Ha=!0;break e}l=l.return}if(ws===null)throw Error(rt(160));dI(a,o,s),ws=null,Ha=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(A){Un(s,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uI(t,e),t=t.sibling}function uI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_a(t,e),uo(e),n&4){try{gp(3,e,e.return),Vy(3,e)}catch(m){Un(e,e.return,m)}try{gp(5,e,e.return)}catch(m){Un(e,e.return,m)}}break;case 1:_a(t,e),uo(e),n&512&&r!==null&&Uu(r,r.return);break;case 5:if(_a(t,e),uo(e),n&512&&r!==null&&Uu(r,r.return),e.flags&32){var s=e.stateNode;try{Pp(s,"")}catch(m){Un(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&TF(s,a),Bb(l,o);var A=Bb(l,a);for(o=0;o<c.length;o+=2){var d=c[o],u=c[o+1];d==="style"?MF(s,u):d==="dangerouslySetInnerHTML"?RF(s,u):d==="children"?Pp(s,u):sC(s,d,u,A)}switch(l){case"input":yb(s,a);break;case"textarea":LF(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?$u(s,!!a.multiple,f,!1):p!==!!a.multiple&&(a.defaultValue!=null?$u(s,!!a.multiple,a.defaultValue,!0):$u(s,!!a.multiple,a.multiple?[]:"",!1))}s[Op]=a}catch(m){Un(e,e.return,m)}}break;case 6:if(_a(t,e),uo(e),n&4){if(e.stateNode===null)throw Error(rt(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){Un(e,e.return,m)}}break;case 3:if(_a(t,e),uo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Up(t.containerInfo)}catch(m){Un(e,e.return,m)}break;case 4:_a(t,e),uo(e);break;case 13:_a(t,e),uo(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(RC=Kn())),n&4&&iE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ks=(A=Ks)||d,_a(t,e),Ks=A):_a(t,e),uo(e),n&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!d&&e.mode&1)for(Ct=e,d=e.child;d!==null;){for(u=Ct=d;Ct!==null;){switch(p=Ct,f=p.child,p.tag){case 0:case 11:case 14:case 15:gp(4,p,p.return);break;case 1:Uu(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){Un(n,r,m)}}break;case 5:Uu(p,p.return);break;case 22:if(p.memoizedState!==null){oE(u);continue}}f!==null?(f.return=p,Ct=f):oE(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{s=u.stateNode,A?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=DF("display",o))}catch(m){Un(e,e.return,m)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=A?"":u.memoizedProps}catch(m){Un(e,e.return,m)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:_a(t,e),uo(e),n&4&&iE(e);break;case 21:break;default:_a(t,e),uo(e)}}function uo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(AI(r)){var n=r;break e}r=r.return}throw Error(rt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Pp(s,""),n.flags&=-33);var a=sE(e);e2(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=sE(e);Zb(e,l,o);break;default:throw Error(rt(161))}}catch(c){Un(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eO(e,t,r){Ct=e,hI(e)}function hI(e,t,r){for(var n=(e.mode&1)!==0;Ct!==null;){var s=Ct,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Hg;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ks;l=Hg;var A=Ks;if(Hg=o,(Ks=c)&&!A)for(Ct=s;Ct!==null;)o=Ct,c=o.child,o.tag===22&&o.memoizedState!==null?lE(s):c!==null?(c.return=o,Ct=c):lE(s);for(;a!==null;)Ct=a,hI(a),a=a.sibling;Ct=s,Hg=l,Ks=A}aE(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Ct=a):aE(e)}}function aE(e){for(;Ct!==null;){var t=Ct;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ks||Vy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ks)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Da(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&zS(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}zS(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var d=A.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&Up(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}Ks||t.flags&512&&Yb(t)}catch(p){Un(t,t.return,p)}}if(t===e){Ct=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ct=r;break}Ct=t.return}}function oE(e){for(;Ct!==null;){var t=Ct;if(t===e){Ct=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ct=r;break}Ct=t.return}}function lE(e){for(;Ct!==null;){var t=Ct;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Vy(4,t)}catch(c){Un(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Un(t,s,c)}}var a=t.return;try{Yb(t)}catch(c){Un(t,a,c)}break;case 5:var o=t.return;try{Yb(t)}catch(c){Un(t,o,c)}}}catch(c){Un(t,t.return,c)}if(t===e){Ct=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ct=l;break}Ct=t.return}}var tO=Math.ceil,Gv=_l.ReactCurrentDispatcher,LC=_l.ReactCurrentOwner,Ca=_l.ReactCurrentBatchConfig,Pr=0,gs=null,es=null,js=0,Di=0,Ru=AA(0),os=0,Vp=null,hd=0,Wy=0,UC=0,vp=null,yi=null,RC=0,Nh=1/0,al=null,Vv=!1,t2=null,Mc=null,$g=!1,jc=null,Wv=0,yp=0,r2=null,Z0=-1,ev=0;function ai(){return Pr&6?Kn():Z0!==-1?Z0:Z0=Kn()}function Qc(e){return e.mode&1?Pr&2&&js!==0?js&-js:D8.transition!==null?(ev===0&&(ev=JF()),ev):(e=zr,e!==0||(e=window.event,e=e===void 0?16:sk(e.type)),e):1}function Va(e,t,r,n){if(50<yp)throw yp=0,r2=null,Error(rt(185));wm(e,r,n),(!(Pr&2)||e!==gs)&&(e===gs&&(!(Pr&2)&&(Wy|=r),os===4&&xc(e,js)),Ei(e,n),r===1&&Pr===0&&!(t.mode&1)&&(Nh=Kn()+500,zy&&dA()))}function Ei(e,t){var r=e.callbackNode;DQ(e,t);var n=Iv(e,e===gs?js:0);if(n===0)r!==null&&gS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gS(r),t===1)e.tag===0?R8(cE.bind(null,e)):Ck(cE.bind(null,e)),_8(function(){!(Pr&6)&&dA()}),r=null;else{switch(YF(n)){case 1:r=cC;break;case 4:r=qF;break;case 16:r=kv;break;case 536870912:r=XF;break;default:r=kv}r=wI(r,fI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function fI(e,t){if(Z0=-1,ev=0,Pr&6)throw Error(rt(327));var r=e.callbackNode;if(Wu()&&e.callbackNode!==r)return null;var n=Iv(e,e===gs?js:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=qv(e,n);else{t=n;var s=Pr;Pr|=2;var a=mI();(gs!==e||js!==t)&&(al=null,Nh=Kn()+500,ed(e,t));do try{sO();break}catch(l){pI(e,l)}while(!0);bC(),Gv.current=a,Pr=s,es!==null?t=0:(gs=null,js=0,t=os)}if(t!==0){if(t===2&&(s=Fb(e),s!==0&&(n=s,t=n2(e,s))),t===1)throw r=Vp,ed(e,0),xc(e,n),Ei(e,Kn()),r;if(t===6)xc(e,n);else{if(s=e.current.alternate,!(n&30)&&!rO(s)&&(t=qv(e,n),t===2&&(a=Fb(e),a!==0&&(n=a,t=n2(e,a))),t===1))throw r=Vp,ed(e,0),xc(e,n),Ei(e,Kn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(rt(345));case 2:RA(e,yi,al);break;case 3:if(xc(e,n),(n&130023424)===n&&(t=RC+500-Kn(),10<t)){if(Iv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ai(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Rb(RA.bind(null,e,yi,al),t);break}RA(e,yi,al);break;case 4:if(xc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ga(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=Kn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tO(n/1960))-n,10<n){e.timeoutHandle=Rb(RA.bind(null,e,yi,al),n);break}RA(e,yi,al);break;case 5:RA(e,yi,al);break;default:throw Error(rt(329))}}}return Ei(e,Kn()),e.callbackNode===r?fI.bind(null,e):null}function n2(e,t){var r=vp;return e.current.memoizedState.isDehydrated&&(ed(e,t).flags|=256),e=qv(e,t),e!==2&&(t=yi,yi=r,t!==null&&s2(t)),e}function s2(e){yi===null?yi=e:yi.push.apply(yi,e)}function rO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!qa(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xc(e,t){for(t&=~UC,t&=~Wy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ga(t),n=1<<r;e[r]=-1,t&=~n}}function cE(e){if(Pr&6)throw Error(rt(327));Wu();var t=Iv(e,0);if(!(t&1))return Ei(e,Kn()),null;var r=qv(e,t);if(e.tag!==0&&r===2){var n=Fb(e);n!==0&&(t=n,r=n2(e,n))}if(r===1)throw r=Vp,ed(e,0),xc(e,t),Ei(e,Kn()),r;if(r===6)throw Error(rt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,RA(e,yi,al),Ei(e,Kn()),null}function DC(e,t){var r=Pr;Pr|=1;try{return e(t)}finally{Pr=r,Pr===0&&(Nh=Kn()+500,zy&&dA())}}function fd(e){jc!==null&&jc.tag===0&&!(Pr&6)&&Wu();var t=Pr;Pr|=1;var r=Ca.transition,n=zr;try{if(Ca.transition=null,zr=1,e)return e()}finally{zr=n,Ca.transition=r,Pr=t,!(Pr&6)&&dA()}}function MC(){Di=Ru.current,fn(Ru)}function ed(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,P8(r)),es!==null)for(r=es.return;r!==null;){var n=r;switch(yC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Uv();break;case 3:Ch(),fn(Ni),fn(Vs),jC();break;case 5:EC(n);break;case 4:Ch();break;case 13:fn(Sn);break;case 19:fn(Sn);break;case 10:CC(n.type._context);break;case 22:case 23:MC()}r=r.return}if(gs=e,es=e=Oc(e.current,null),js=Di=t,os=0,Vp=null,UC=Wy=hd=0,yi=vp=null,KA!==null){for(t=0;t<KA.length;t++)if(r=KA[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}KA=null}return e}function pI(e,t){do{var r=es;try{if(bC(),X0.current=Kv,zv){for(var n=jn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}zv=!1}if(ud=0,ps=is=jn=null,mp=!1,zp=0,LC.current=null,r===null||r.return===null){os=1,Vp=t,es=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=js,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var A=c,d=l,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=XS(o);if(f!==null){f.flags&=-257,JS(f,o,l,a,t),f.mode&1&&qS(a,A,t),t=f,c=A;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){qS(a,A,t),QC();break e}c=Error(rt(426))}}else if(xn&&l.mode&1){var N=XS(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),JS(N,o,l,a,t),xC(Bh(c,l));break e}}a=c=Bh(c,l),os!==4&&(os=2),vp===null?vp=[a]:vp.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Yk(a,c,t);$S(a,g);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Mc===null||!Mc.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var E=Zk(a,l,t);$S(a,E);break e}}a=a.return}while(a!==null)}vI(r)}catch(_){t=_,es===r&&r!==null&&(es=r=r.return);continue}break}while(!0)}function mI(){var e=Gv.current;return Gv.current=Kv,e===null?Kv:e}function QC(){(os===0||os===3||os===2)&&(os=4),gs===null||!(hd&268435455)&&!(Wy&268435455)||xc(gs,js)}function qv(e,t){var r=Pr;Pr|=2;var n=mI();(gs!==e||js!==t)&&(al=null,ed(e,t));do try{nO();break}catch(s){pI(e,s)}while(!0);if(bC(),Pr=r,Gv.current=n,es!==null)throw Error(rt(261));return gs=null,js=0,os}function nO(){for(;es!==null;)gI(es)}function sO(){for(;es!==null&&!FQ();)gI(es)}function gI(e){var t=xI(e.alternate,e,Di);e.memoizedProps=e.pendingProps,t===null?vI(e):es=t,LC.current=null}function vI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=J8(r,t),r!==null){r.flags&=32767,es=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{os=6,es=null;return}}else if(r=X8(r,t,Di),r!==null){es=r;return}if(t=t.sibling,t!==null){es=t;return}es=t=e}while(t!==null);os===0&&(os=5)}function RA(e,t,r){var n=zr,s=Ca.transition;try{Ca.transition=null,zr=1,iO(e,t,r,n)}finally{Ca.transition=s,zr=n}return null}function iO(e,t,r,n){do Wu();while(jc!==null);if(Pr&6)throw Error(rt(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(rt(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(MQ(e,a),e===gs&&(es=gs=null,js=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$g||($g=!0,wI(kv,function(){return Wu(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ca.transition,Ca.transition=null;var o=zr;zr=1;var l=Pr;Pr|=4,LC.current=null,Z8(e,r),uI(r,e),N8(Lb),Pv=!!Tb,Lb=Tb=null,e.current=r,eO(r),kQ(),Pr=l,zr=o,Ca.transition=a}else e.current=r;if($g&&($g=!1,jc=e,Wv=s),a=e.pendingLanes,a===0&&(Mc=null),_Q(r.stateNode),Ei(e,Kn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Vv)throw Vv=!1,e=t2,t2=null,e;return Wv&1&&e.tag!==0&&Wu(),a=e.pendingLanes,a&1?e===r2?yp++:(yp=0,r2=e):yp=0,dA(),null}function Wu(){if(jc!==null){var e=YF(Wv),t=Ca.transition,r=zr;try{if(Ca.transition=null,zr=16>e?16:e,jc===null)var n=!1;else{if(e=jc,jc=null,Wv=0,Pr&6)throw Error(rt(331));var s=Pr;for(Pr|=4,Ct=e.current;Ct!==null;){var a=Ct,o=a.child;if(Ct.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var A=l[c];for(Ct=A;Ct!==null;){var d=Ct;switch(d.tag){case 0:case 11:case 15:gp(8,d,a)}var u=d.child;if(u!==null)u.return=d,Ct=u;else for(;Ct!==null;){d=Ct;var p=d.sibling,f=d.return;if(cI(d),d===A){Ct=null;break}if(p!==null){p.return=f,Ct=p;break}Ct=f}}}var x=a.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var N=m.sibling;m.sibling=null,m=N}while(m!==null)}}Ct=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ct=o;else e:for(;Ct!==null;){if(a=Ct,a.flags&2048)switch(a.tag){case 0:case 11:case 15:gp(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,Ct=g;break e}Ct=a.return}}var y=e.current;for(Ct=y;Ct!==null;){o=Ct;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ct=w;else e:for(o=y;Ct!==null;){if(l=Ct,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vy(9,l)}}catch(_){Un(l,l.return,_)}if(l===o){Ct=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,Ct=E;break e}Ct=l.return}}if(Pr=s,dA(),Eo&&typeof Eo.onPostCommitFiberRoot=="function")try{Eo.onPostCommitFiberRoot(My,e)}catch{}n=!0}return n}finally{zr=r,Ca.transition=t}}return!1}function AE(e,t,r){t=Bh(r,t),t=Yk(e,t,1),e=Dc(e,t,1),t=ai(),e!==null&&(wm(e,1,t),Ei(e,t))}function Un(e,t,r){if(e.tag===3)AE(e,e,r);else for(;t!==null;){if(t.tag===3){AE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mc===null||!Mc.has(n))){e=Bh(r,e),e=Zk(t,e,1),t=Dc(t,e,1),e=ai(),t!==null&&(wm(t,1,e),Ei(t,e));break}}t=t.return}}function aO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ai(),e.pingedLanes|=e.suspendedLanes&r,gs===e&&(js&r)===r&&(os===4||os===3&&(js&130023424)===js&&500>Kn()-RC?ed(e,0):UC|=r),Ei(e,t)}function yI(e,t){t===0&&(e.mode&1?(t=_g,_g<<=1,!(_g&130023424)&&(_g=4194304)):t=1);var r=ai();e=Bl(e,t),e!==null&&(wm(e,t,r),Ei(e,r))}function oO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yI(e,r)}function lO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(rt(314))}n!==null&&n.delete(t),yI(e,r)}var xI;xI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ni.current)Ci=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ci=!1,q8(e,t,r);Ci=!!(e.flags&131072)}else Ci=!1,xn&&t.flags&1048576&&Bk(t,Mv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Y0(e,t),e=t.pendingProps;var s=xh(t,Vs.current);Vu(t,r),s=kC(null,t,n,e,s,r);var a=IC();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Si(n)?(a=!0,Rv(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,NC(t),s.updater=Gy,t.stateNode=s,s._reactInternals=t,zb(t,n,e,r),t=Vb(null,t,n,!0,a,r)):(t.tag=0,xn&&a&&vC(t),ri(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Y0(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=AO(n),e=Da(n,e),s){case 0:t=Gb(null,t,n,e,r);break e;case 1:t=eE(null,t,n,e,r);break e;case 11:t=YS(null,t,n,e,r);break e;case 14:t=ZS(null,t,n,Da(n.type,e),r);break e}throw Error(rt(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Da(n,s),Gb(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Da(n,s),eE(e,t,n,s,r);case 3:e:{if(nI(t),e===null)throw Error(rt(387));n=t.pendingProps,a=t.memoizedState,s=a.element,kk(e,t),Hv(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Bh(Error(rt(423)),t),t=tE(e,t,n,r,s);break e}else if(n!==s){s=Bh(Error(rt(424)),t),t=tE(e,t,n,r,s);break e}else for(Qi=Rc(t.stateNode.containerInfo.firstChild),$i=t,xn=!0,za=null,r=jk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wh(),n===s){t=Nl(e,t,r);break e}ri(e,t,n,r)}t=t.child}return t;case 5:return Ik(t),e===null&&Ob(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Ub(n,s)?o=null:a!==null&&Ub(n,a)&&(t.flags|=32),rI(e,t),ri(e,t,o,r),t.child;case 6:return e===null&&Ob(t),null;case 13:return sI(e,t,r);case 4:return SC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bh(t,null,n,r):ri(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Da(n,s),YS(e,t,n,s,r);case 7:return ri(e,t,t.pendingProps,r),t.child;case 8:return ri(e,t,t.pendingProps.children,r),t.child;case 12:return ri(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,an(Qv,n._currentValue),n._currentValue=o,a!==null)if(qa(a.value,o)){if(a.children===s.children&&!Ni.current){t=Nl(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=fl(-1,r&-r),c.tag=2;var A=a.updateQueue;if(A!==null){A=A.shared;var d=A.pending;d===null?c.next=c:(c.next=d.next,d.next=c),A.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Hb(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(rt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Hb(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ri(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Vu(t,r),s=Ba(s),n=n(s),t.flags|=1,ri(e,t,n,r),t.child;case 14:return n=t.type,s=Da(n,t.pendingProps),s=Da(n.type,s),ZS(e,t,n,s,r);case 15:return eI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Da(n,s),Y0(e,t),t.tag=1,Si(n)?(e=!0,Rv(t)):e=!1,Vu(t,r),Jk(t,n,s),zb(t,n,s,r),Vb(null,t,n,!0,e,r);case 19:return iI(e,t,r);case 22:return tI(e,t,r)}throw Error(rt(156,t.tag))};function wI(e,t){return WF(e,t)}function cO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function va(e,t,r,n){return new cO(e,t,r,n)}function OC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AO(e){if(typeof e=="function")return OC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===aC)return 11;if(e===oC)return 14}return 2}function Oc(e,t){var r=e.alternate;return r===null?(r=va(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function tv(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")OC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Eu:return td(r.children,s,a,t);case iC:o=8,s|=8;break;case fb:return e=va(12,r,t,s|2),e.elementType=fb,e.lanes=a,e;case pb:return e=va(13,r,t,s),e.elementType=pb,e.lanes=a,e;case mb:return e=va(19,r,t,s),e.elementType=mb,e.lanes=a,e;case IF:return qy(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FF:o=10;break e;case kF:o=9;break e;case aC:o=11;break e;case oC:o=14;break e;case hc:o=16,n=null;break e}throw Error(rt(130,e==null?e:typeof e,""))}return t=va(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function td(e,t,r,n){return e=va(7,e,n,t),e.lanes=r,e}function qy(e,t,r,n){return e=va(22,e,n,t),e.elementType=IF,e.lanes=r,e.stateNode={isHidden:!1},e}function Xw(e,t,r){return e=va(6,e,null,t),e.lanes=r,e}function Jw(e,t,r){return t=va(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dO(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iw(0),this.expirationTimes=Iw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iw(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function HC(e,t,r,n,s,a,o,l,c){return e=new dO(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=va(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},NC(a),e}function uO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Su,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function bI(e){if(!e)return Xc;e=e._reactInternals;e:{if(Sd(e)!==e||e.tag!==1)throw Error(rt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Si(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(rt(171))}if(e.tag===1){var r=e.type;if(Si(r))return bk(e,r,t)}return t}function CI(e,t,r,n,s,a,o,l,c){return e=HC(r,n,!0,e,s,a,o,l,c),e.context=bI(null),r=e.current,n=ai(),s=Qc(r),a=fl(n,s),a.callback=t??null,Dc(r,a,s),e.current.lanes=s,wm(e,s,n),Ei(e,n),e}function Xy(e,t,r,n){var s=t.current,a=ai(),o=Qc(s);return r=bI(r),t.context===null?t.context=r:t.pendingContext=r,t=fl(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Dc(s,t,o),e!==null&&(Va(e,s,o,a),q0(e,s,o)),o}function Xv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $C(e,t){dE(e,t),(e=e.alternate)&&dE(e,t)}function hO(){return null}var BI=typeof reportError=="function"?reportError:function(e){console.error(e)};function zC(e){this._internalRoot=e}Jy.prototype.render=zC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(rt(409));Xy(e,t,null,null)};Jy.prototype.unmount=zC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fd(function(){Xy(null,e,null,null)}),t[Cl]=null}};function Jy(e){this._internalRoot=e}Jy.prototype.unstable_scheduleHydration=function(e){if(e){var t=tk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yc.length&&t!==0&&t<yc[r].priority;r++);yc.splice(r,0,e),r===0&&nk(e)}};function KC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uE(){}function fO(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var A=Xv(o);a.call(A)}}var o=CI(t,n,e,0,null,!1,!1,"",uE);return e._reactRootContainer=o,e[Cl]=o.current,Mp(e.nodeType===8?e.parentNode:e),fd(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var A=Xv(c);l.call(A)}}var c=HC(e,0,!1,null,null,!1,!1,"",uE);return e._reactRootContainer=c,e[Cl]=c.current,Mp(e.nodeType===8?e.parentNode:e),fd(function(){Xy(t,c,r,n)}),c}function Zy(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Xv(o);l.call(c)}}Xy(t,o,e,s)}else o=fO(r,t,e,s,n);return Xv(o)}ZF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yf(t.pendingLanes);r!==0&&(AC(t,r|1),Ei(t,Kn()),!(Pr&6)&&(Nh=Kn()+500,dA()))}break;case 13:fd(function(){var n=Bl(e,1);if(n!==null){var s=ai();Va(n,e,1,s)}}),$C(e,1)}};dC=function(e){if(e.tag===13){var t=Bl(e,134217728);if(t!==null){var r=ai();Va(t,e,134217728,r)}$C(e,134217728)}};ek=function(e){if(e.tag===13){var t=Qc(e),r=Bl(e,t);if(r!==null){var n=ai();Va(r,e,t,n)}$C(e,t)}};tk=function(){return zr};rk=function(e,t){var r=zr;try{return zr=e,t()}finally{zr=r}};Sb=function(e,t,r){switch(t){case"input":if(yb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=$y(n);if(!s)throw Error(rt(90));_F(n),yb(n,s)}}}break;case"textarea":LF(e,r);break;case"select":t=r.value,t!=null&&$u(e,!!r.multiple,t,!1)}};HF=DC;$F=fd;var pO={usingClientEntryPoint:!1,Events:[Cm,Iu,$y,QF,OF,DC]},Tf={findFiberByHostInstance:zA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mO={bundleType:Tf.bundleType,version:Tf.version,rendererPackageName:Tf.rendererPackageName,rendererConfig:Tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_l.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=GF(e),e===null?null:e.stateNode},findFiberByHostInstance:Tf.findFiberByHostInstance||hO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zg.isDisabled&&zg.supportsFiber)try{My=zg.inject(mO),Eo=zg}catch{}}Wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pO;Wi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!KC(t))throw Error(rt(200));return uO(e,t,null,r)};Wi.createRoot=function(e,t){if(!KC(e))throw Error(rt(299));var r=!1,n="",s=BI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=HC(e,1,!1,null,null,r,!1,n,s),e[Cl]=t.current,Mp(e.nodeType===8?e.parentNode:e),new zC(t)};Wi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(rt(188)):(e=Object.keys(e).join(","),Error(rt(268,e)));return e=GF(t),e=e===null?null:e.stateNode,e};Wi.flushSync=function(e){return fd(e)};Wi.hydrate=function(e,t,r){if(!Yy(t))throw Error(rt(200));return Zy(null,e,t,!0,r)};Wi.hydrateRoot=function(e,t,r){if(!KC(e))throw Error(rt(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=BI;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=CI(t,null,e,1,r??null,s,!1,a,o),e[Cl]=t.current,Mp(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Jy(t)};Wi.render=function(e,t,r){if(!Yy(t))throw Error(rt(200));return Zy(null,e,t,!1,r)};Wi.unmountComponentAtNode=function(e){if(!Yy(e))throw Error(rt(40));return e._reactRootContainer?(fd(function(){Zy(null,null,e,!1,function(){e._reactRootContainer=null,e[Cl]=null})}),!0):!1};Wi.unstable_batchedUpdates=DC;Wi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yy(r))throw Error(rt(200));if(e==null||e._reactInternals===void 0)throw Error(rt(38));return Zy(e,t,r,!1,n)};Wi.version="18.3.1-next-f1338f8080-20240426";function NI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NI)}catch(e){console.error(e)}}NI(),NF.exports=Wi;var Ed=NF.exports;const gO=J5(Ed);var SI,hE=Ed;SI=hE.createRoot,hE.hydrateRoot;function vO(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~n?n:~a?a:s.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var EI={exports:{}},jI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=b;function yO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xO=typeof Object.is=="function"?Object.is:yO,wO=Sh.useState,bO=Sh.useEffect,CO=Sh.useLayoutEffect,BO=Sh.useDebugValue;function NO(e,t){var r=t(),n=wO({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return CO(function(){s.value=r,s.getSnapshot=t,Yw(s)&&a({inst:s})},[e,r,t]),bO(function(){return Yw(s)&&a({inst:s}),e(function(){Yw(s)&&a({inst:s})})},[e]),BO(r),r}function Yw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xO(e,r)}catch{return!0}}function SO(e,t){return t()}var EO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SO:NO;jI.useSyncExternalStore=Sh.useSyncExternalStore!==void 0?Sh.useSyncExternalStore:EO;EI.exports=jI;var FI=EI.exports;const jO=CF.useInsertionEffect,FO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kO=FO?b.useLayoutEffect:b.useEffect,IO=jO||kO,kI=e=>{const t=b.useRef([e,(...r)=>t[0](...r)]).current;return IO(()=>{t[0]=e}),t[1]},PO="popstate",GC="pushState",VC="replaceState",_O="hashchange",fE=[PO,GC,VC,_O],TO=e=>{for(const t of fE)addEventListener(t,e);return()=>{for(const t of fE)removeEventListener(t,e)}},II=(e,t)=>FI.useSyncExternalStore(TO,e,t),LO=()=>location.search,UO=({ssrSearch:e=""}={})=>II(LO,()=>e),pE=()=>location.pathname,RO=({ssrPath:e}={})=>II(pE,e?()=>e:pE),DO=(e,{replace:t=!1,state:r=null}={})=>history[t?VC:GC](r,"",e),MO=(e={})=>[RO(e),DO],mE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[mE]>"u"){for(const e of[GC,VC]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,mE,{value:!0})}const QO=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",PI=(e="")=>e==="/"?"":e,OO=(e,t)=>e[0]==="~"?e.slice(1):PI(t)+e,HO=(e="",t)=>QO(gE(PI(e)),gE(t)),gE=e=>{try{return decodeURI(e)}catch{return e}},_I={hook:MO,searchHook:UO,parser:vO,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},TI=b.createContext(_I),Nm=()=>b.useContext(TI),LI={},UI=b.createContext(LI),RI=()=>b.useContext(UI),ex=e=>{const[t,r]=e.hook(e);return[HO(e.base,t),kI((n,s)=>r(OO(n,e.base),s))]},Sm=()=>ex(Nm()),DI=(e,t,r,n)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const A=a!==!1?Object.fromEntries(a.map((u,p)=>[u,c[p]])):o.groups;let d={...c};return A&&Object.assign(d,A),d})(),...n?[l]:[]]:[!1,null]},$O=({children:e,...t})=>{var d,u;const r=Nm(),n=t.hook?_I:r;let s=n;const[a,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let l=b.useRef({}),c=l.current,A=c;for(let p in n){const f=p==="base"?n[p]+(t[p]||""):t[p]||n[p];c===A&&f!==A[p]&&(l.current=A={...A}),A[p]=f,f!==n[p]&&(s=A)}return b.createElement(TI.Provider,{value:s,children:e})},vE=({children:e,component:t},r)=>t?b.createElement(t,{params:r}):typeof e=="function"?e(r):e,zO=e=>{let t=b.useRef(LI),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Yr=({path:e,nest:t,match:r,...n})=>{const s=Nm(),[a]=ex(s),[o,l,c]=r??DI(s.parser,e,a,t),A=zO({...RI(),...l});if(!o)return null;const d=c?b.createElement($O,{base:c},vE(n,A)):vE(n,A);return b.createElement(UI.Provider,{value:A,children:d})},yn=b.forwardRef((e,t)=>{const r=Nm(),[n,s]=ex(r),{to:a="",href:o=a,onClick:l,asChild:c,children:A,className:d,replace:u,state:p,...f}=e,x=kI(N=>{N.ctrlKey||N.metaKey||N.altKey||N.shiftKey||N.button!==0||(l==null||l(N),N.defaultPrevented||(N.preventDefault(),s(o,e)))}),m=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&b.isValidElement(A)?b.cloneElement(A,{onClick:x,href:m}):b.createElement("a",{...f,onClick:x,href:m,className:d!=null&&d.call?d(n===o):d,children:A,ref:t})}),MI=e=>Array.isArray(e)?e.flatMap(t=>MI(t&&t.type===b.Fragment?t.props.children:t)):[e],KO=({children:e,location:t})=>{const r=Nm(),[n]=ex(r);for(const s of MI(e)){let a=0;if(b.isValidElement(s)&&(a=DI(r.parser,s.props.path,t||n,s.props.nest))[0])return b.cloneElement(s,{match:a})}return null};var tx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rx=typeof window>"u"||"Deno"in globalThis;function Ma(){}function GO(e,t){return typeof e=="function"?e(t):e}function VO(e){return typeof e=="number"&&e>=0&&e!==1/0}function WO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yE(e,t){return typeof e=="function"?e(t):e}function qO(e,t){return typeof e=="function"?e(t):e}function xE(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==WC(o,t.options))return!1}else if(!qp(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function wE(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Wp(t.options.mutationKey)!==Wp(a))return!1}else if(!qp(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function WC(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wp)(e)}function Wp(e){return JSON.stringify(e,(t,r)=>i2(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function qp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!qp(e[r],t[r])):!1}function QI(e,t){if(e===t)return e;const r=bE(e)&&bE(t);if(r||i2(e)&&i2(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{};let c=0;for(let A=0;A<o;A++){const d=r?A:a[A];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=QI(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function bE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function i2(e){if(!CE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!CE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function CE(e){return Object.prototype.toString.call(e)==="[object Object]"}function XO(e){return new Promise(t=>{setTimeout(t,e)})}function JO(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?QI(e,t):t}function YO(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ZO(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var qC=Symbol();function OI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var XA,bc,Ah,iF,e7=(iF=class extends tx{constructor(){super();Rr(this,XA);Rr(this,bc);Rr(this,Ah);dr(this,Ah,t=>{if(!rx&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Je(this,bc)||this.setEventListener(Je(this,Ah))}onUnsubscribe(){var t;this.hasListeners()||((t=Je(this,bc))==null||t.call(this),dr(this,bc,void 0))}setEventListener(t){var r;dr(this,Ah,t),(r=Je(this,bc))==null||r.call(this),dr(this,bc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Je(this,XA)!==t&&(dr(this,XA,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Je(this,XA)=="boolean"?Je(this,XA):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},XA=new WeakMap,bc=new WeakMap,Ah=new WeakMap,iF),HI=new e7,dh,Cc,uh,aF,t7=(aF=class extends tx{constructor(){super();Rr(this,dh,!0);Rr(this,Cc);Rr(this,uh);dr(this,uh,t=>{if(!rx&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Je(this,Cc)||this.setEventListener(Je(this,uh))}onUnsubscribe(){var t;this.hasListeners()||((t=Je(this,Cc))==null||t.call(this),dr(this,Cc,void 0))}setEventListener(t){var r;dr(this,uh,t),(r=Je(this,Cc))==null||r.call(this),dr(this,Cc,t(this.setOnline.bind(this)))}setOnline(t){Je(this,dh)!==t&&(dr(this,dh,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Je(this,dh)}},dh=new WeakMap,Cc=new WeakMap,uh=new WeakMap,aF),Jv=new t7;function r7(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function n7(e){return Math.min(1e3*2**e,3e4)}function $I(e){return(e??"online")==="online"?Jv.isOnline():!0}var zI=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zw(e){return e instanceof zI}function KI(e){let t=!1,r=0,n=!1,s;const a=r7(),o=m=>{var N;n||(p(new zI(m)),(N=e.abort)==null||N.call(e))},l=()=>{t=!0},c=()=>{t=!1},A=()=>HI.isFocused()&&(e.networkMode==="always"||Jv.isOnline())&&e.canRun(),d=()=>$I(e.networkMode)&&e.canRun(),u=m=>{var N;n||(n=!0,(N=e.onSuccess)==null||N.call(e,m),s==null||s(),a.resolve(m))},p=m=>{var N;n||(n=!0,(N=e.onError)==null||N.call(e,m),s==null||s(),a.reject(m))},f=()=>new Promise(m=>{var N;s=g=>{(n||A())&&m(g)},(N=e.onPause)==null||N.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(n)return;let m;const N=r===0?e.initialPromise:void 0;try{m=N??e.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(u).catch(g=>{var D;if(n)return;const y=e.retry??(rx?0:3),w=e.retryDelay??n7,E=typeof w=="function"?w(r,g):w,_=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,g);if(t||!_){p(g);return}r++,(D=e.onFail)==null||D.call(e,r,g),XO(E).then(()=>A()?void 0:f()).then(()=>{t?p(g):x()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():f().then(x),a)}}function s7(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var ni=s7(),JA,oF,GI=(oF=class{constructor(){Rr(this,JA)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VO(this.gcTime)&&dr(this,JA,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(rx?1/0:5*60*1e3))}clearGcTimeout(){Je(this,JA)&&(clearTimeout(Je(this,JA)),dr(this,JA,void 0))}},JA=new WeakMap,oF),hh,fh,ua,Hs,vm,YA,Oa,il,lF,i7=(lF=class extends GI{constructor(t){super();Rr(this,Oa);Rr(this,hh);Rr(this,fh);Rr(this,ua);Rr(this,Hs);Rr(this,vm);Rr(this,YA);dr(this,YA,!1),dr(this,vm,t.defaultOptions),this.setOptions(t.options),this.observers=[],dr(this,ua,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,dr(this,hh,o7(this.options)),this.state=t.state??Je(this,hh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Je(this,Hs))==null?void 0:t.promise}setOptions(t){this.options={...Je(this,vm),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Je(this,ua).remove(this)}setData(t,r){const n=JO(this.state.data,t,this.options);return Ls(this,Oa,il).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ls(this,Oa,il).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Je(this,Hs))==null?void 0:n.promise;return(s=Je(this,Hs))==null||s.cancel(t),r?r.then(Ma).catch(Ma):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Je(this,hh))}isActive(){return this.observers.some(t=>qO(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!WO(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Je(this,Hs))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Je(this,Hs))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Je(this,ua).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Je(this,Hs)&&(Je(this,YA)?Je(this,Hs).cancel({revert:!0}):Je(this,Hs).cancelRetry()),this.scheduleGc()),Je(this,ua).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ls(this,Oa,il).call(this,{type:"invalidate"})}fetch(t,r){var c,A,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Je(this,Hs))return Je(this,Hs).continueRetry(),Je(this,Hs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(p=>p.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,s=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(dr(this,YA,!0),n.signal)})},a=()=>{const u=OI(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return s(p),dr(this,YA,!1),this.options.persister?this.options.persister(u,p,this):u(p)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),dr(this,fh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((A=o.fetchOptions)==null?void 0:A.meta))&&Ls(this,Oa,il).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=u=>{var p,f,x,m;Zw(u)&&u.silent||Ls(this,Oa,il).call(this,{type:"error",error:u}),Zw(u)||((f=(p=Je(this,ua).config).onError)==null||f.call(p,u,this),(m=(x=Je(this,ua).config).onSettled)==null||m.call(x,this.state.data,u,this)),this.scheduleGc()};return dr(this,Hs,KI({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{var p,f,x,m;if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(N){l(N);return}(f=(p=Je(this,ua).config).onSuccess)==null||f.call(p,u,this),(m=(x=Je(this,ua).config).onSettled)==null||m.call(x,u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,p)=>{Ls(this,Oa,il).call(this,{type:"failed",failureCount:u,error:p})},onPause:()=>{Ls(this,Oa,il).call(this,{type:"pause"})},onContinue:()=>{Ls(this,Oa,il).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Je(this,Hs).start()}},hh=new WeakMap,fh=new WeakMap,ua=new WeakMap,Hs=new WeakMap,vm=new WeakMap,YA=new WeakMap,Oa=new WeakSet,il=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...a7(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Zw(s)&&s.revert&&Je(this,fh)?{...Je(this,fh),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ni.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Je(this,ua).notify({query:this,type:"updated",action:t})})},lF);function a7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$I(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function o7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var go,cF,l7=(cF=class extends tx{constructor(t={}){super();Rr(this,go);this.config=t,dr(this,go,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??WC(s,r);let o=this.get(a);return o||(o=new i7({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Je(this,go).has(t.queryHash)||(Je(this,go).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Je(this,go).get(t.queryHash);r&&(t.destroy(),r===t&&Je(this,go).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ni.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Je(this,go).get(t)}getAll(){return[...Je(this,go).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>xE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>xE(t,n)):r}notify(t){ni.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ni.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ni.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},go=new WeakMap,cF),vo,ei,ZA,yo,cc,AF,c7=(AF=class extends GI{constructor(t){super();Rr(this,yo);Rr(this,vo);Rr(this,ei);Rr(this,ZA);this.mutationId=t.mutationId,dr(this,ei,t.mutationCache),dr(this,vo,[]),this.state=t.state||A7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Je(this,vo).includes(t)||(Je(this,vo).push(t),this.clearGcTimeout(),Je(this,ei).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){dr(this,vo,Je(this,vo).filter(r=>r!==t)),this.scheduleGc(),Je(this,ei).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Je(this,vo).length||(this.state.status==="pending"?this.scheduleGc():Je(this,ei).remove(this))}continue(){var t;return((t=Je(this,ZA))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,A,d,u,p,f,x,m,N,g,y,w,E,_,D,R;dr(this,ZA,KI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,Q)=>{Ls(this,yo,cc).call(this,{type:"failed",failureCount:I,error:Q})},onPause:()=>{Ls(this,yo,cc).call(this,{type:"pause"})},onContinue:()=>{Ls(this,yo,cc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Je(this,ei).canRun(this)}));const r=this.state.status==="pending",n=!Je(this,ZA).canStart();try{if(!r){Ls(this,yo,cc).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=Je(this,ei).config).onMutate)==null?void 0:a.call(s,t,this));const Q=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));Q!==this.state.context&&Ls(this,yo,cc).call(this,{type:"pending",context:Q,variables:t,isPaused:n})}const I=await Je(this,ZA).start();return await((A=(c=Je(this,ei).config).onSuccess)==null?void 0:A.call(c,I,t,this.state.context,this)),await((u=(d=this.options).onSuccess)==null?void 0:u.call(d,I,t,this.state.context)),await((f=(p=Je(this,ei).config).onSettled)==null?void 0:f.call(p,I,null,this.state.variables,this.state.context,this)),await((m=(x=this.options).onSettled)==null?void 0:m.call(x,I,null,t,this.state.context)),Ls(this,yo,cc).call(this,{type:"success",data:I}),I}catch(I){try{throw await((g=(N=Je(this,ei).config).onError)==null?void 0:g.call(N,I,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,I,t,this.state.context)),await((_=(E=Je(this,ei).config).onSettled)==null?void 0:_.call(E,void 0,I,this.state.variables,this.state.context,this)),await((R=(D=this.options).onSettled)==null?void 0:R.call(D,void 0,I,t,this.state.context)),I}finally{Ls(this,yo,cc).call(this,{type:"error",error:I})}}finally{Je(this,ei).runNext(this)}}},vo=new WeakMap,ei=new WeakMap,ZA=new WeakMap,yo=new WeakSet,cc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ni.batch(()=>{Je(this,vo).forEach(n=>{n.onMutationUpdate(t)}),Je(this,ei).notify({mutation:this,type:"updated",action:t})})},AF);function A7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ri,ym,dF,d7=(dF=class extends tx{constructor(t={}){super();Rr(this,Ri);Rr(this,ym);this.config=t,dr(this,Ri,new Map),dr(this,ym,Date.now())}build(t,r,n){const s=new c7({mutationCache:this,mutationId:++Eg(this,ym)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Kg(t),n=Je(this,Ri).get(r)??[];n.push(t),Je(this,Ri).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Kg(t);if(Je(this,Ri).has(r)){const s=(n=Je(this,Ri).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?Je(this,Ri).delete(r):Je(this,Ri).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=Je(this,Ri).get(Kg(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=Je(this,Ri).get(Kg(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ni.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Je(this,Ri).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wE(r,n))}findAll(t={}){return this.getAll().filter(r=>wE(t,r))}notify(t){ni.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ni.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ma))))}},Ri=new WeakMap,ym=new WeakMap,dF);function Kg(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function BE(e){return{onFetch:(t,r)=>{var d,u,p,f,x;const n=t.options,s=(p=(u=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:p.direction,a=((f=t.state.data)==null?void 0:f.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const A=async()=>{let m=!1;const N=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},g=OI(t.options,t.fetchOptions),y=async(w,E,_)=>{if(m)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const D={queryKey:t.queryKey,pageParam:E,direction:_?"backward":"forward",meta:t.options.meta};N(D);const R=await g(D),{maxPages:I}=t.options,Q=_?ZO:YO;return{pages:Q(w.pages,R,I),pageParams:Q(w.pageParams,E,I)}};if(s&&a.length){const w=s==="backward",E=w?u7:NE,_={pages:a,pageParams:o},D=E(n,_);l=await y(_,D,w)}else{const w=e??a.length;do{const E=c===0?o[0]??n.initialPageParam:NE(n,l);if(c>0&&E==null)break;l=await y(l,E),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,N;return(N=(m=t.options).persister)==null?void 0:N.call(m,A,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=A}}}function NE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function u7(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var _n,Bc,Nc,ph,mh,Sc,gh,vh,uF,h7=(uF=class{constructor(e={}){Rr(this,_n);Rr(this,Bc);Rr(this,Nc);Rr(this,ph);Rr(this,mh);Rr(this,Sc);Rr(this,gh);Rr(this,vh);dr(this,_n,e.queryCache||new l7),dr(this,Bc,e.mutationCache||new d7),dr(this,Nc,e.defaultOptions||{}),dr(this,ph,new Map),dr(this,mh,new Map),dr(this,Sc,0)}mount(){Eg(this,Sc)._++,Je(this,Sc)===1&&(dr(this,gh,HI.subscribe(async e=>{e&&(await this.resumePausedMutations(),Je(this,_n).onFocus())})),dr(this,vh,Jv.subscribe(async e=>{e&&(await this.resumePausedMutations(),Je(this,_n).onOnline())})))}unmount(){var e,t;Eg(this,Sc)._--,Je(this,Sc)===0&&((e=Je(this,gh))==null||e.call(this),dr(this,gh,void 0),(t=Je(this,vh))==null||t.call(this),dr(this,vh,void 0))}isFetching(e){return Je(this,_n).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Je(this,Bc).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Je(this,_n).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=Je(this,_n).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(yE(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Je(this,_n).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Je(this,_n).get(n.queryHash),a=s==null?void 0:s.state.data,o=GO(t,a);if(o!==void 0)return Je(this,_n).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ni.batch(()=>Je(this,_n).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Je(this,_n).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Je(this,_n);ni.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Je(this,_n),n={type:"active",...e};return ni.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ni.batch(()=>Je(this,_n).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ma).catch(Ma)}invalidateQueries(e={},t={}){return ni.batch(()=>{if(Je(this,_n).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=ni.batch(()=>Je(this,_n).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ma)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ma)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Je(this,_n).build(this,t);return r.isStaleByTime(yE(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ma).catch(Ma)}fetchInfiniteQuery(e){return e.behavior=BE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ma).catch(Ma)}ensureInfiniteQueryData(e){return e.behavior=BE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Jv.isOnline()?Je(this,Bc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Je(this,_n)}getMutationCache(){return Je(this,Bc)}getDefaultOptions(){return Je(this,Nc)}setDefaultOptions(e){dr(this,Nc,e)}setQueryDefaults(e,t){Je(this,ph).set(Wp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Je(this,ph).values()];let r={};return t.forEach(n=>{qp(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){Je(this,mh).set(Wp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Je(this,mh).values()];let r={};return t.forEach(n=>{qp(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Je(this,Nc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=WC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===qC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Je(this,Nc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Je(this,_n).clear(),Je(this,Bc).clear()}},_n=new WeakMap,Bc=new WeakMap,Nc=new WeakMap,ph=new WeakMap,mh=new WeakMap,Sc=new WeakMap,gh=new WeakMap,vh=new WeakMap,uF),f7=b.createContext(void 0),p7=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(f7.Provider,{value:e,children:t}));async function m7(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const g7=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await m7(r),await r.json())},v7=new h7({defaultOptions:{queries:{queryFn:g7({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),y7=1,x7=1e6;let e1=0;function w7(){return e1=(e1+1)%Number.MAX_SAFE_INTEGER,e1.toString()}const t1=new Map,SE=e=>{if(t1.has(e))return;const t=setTimeout(()=>{t1.delete(e),xp({type:"REMOVE_TOAST",toastId:e})},x7);t1.set(e,t)},b7=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,y7)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?SE(r):e.toasts.forEach(n=>{SE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},rv=[];let nv={toasts:[]};function xp(e){nv=b7(nv,e),rv.forEach(t=>{t(nv)})}function C7({...e}){const t=w7(),r=s=>xp({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>xp({type:"DISMISS_TOAST",toastId:t});return xp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Em(){const[e,t]=b.useState(nv);return b.useEffect(()=>(rv.push(t),()=>{const r=rv.indexOf(t);r>-1&&rv.splice(r,1)}),[e]),{...e,toast:C7,dismiss:r=>xp({type:"DISMISS_TOAST",toastId:r})}}function Mt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function EE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function VI(...e){return t=>{let r=!1;const n=e.map(s=>{const a=EE(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():EE(e[s],null)}}}}function Mr(...e){return b.useCallback(VI(...e),e)}function B7(e,t){const r=b.createContext(t),n=a=>{const{children:o,...l}=a,c=b.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=b.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Xi(e,t=[]){let r=[];function n(a,o){const l=b.createContext(o),c=r.length;r=[...r,o];const A=u=>{var g;const{scope:p,children:f,...x}=u,m=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,N=b.useMemo(()=>x,Object.values(x));return i.jsx(m.Provider,{value:N,children:f})};A.displayName=a+"Provider";function d(u,p){var m;const f=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,x=b.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[A,d]}const s=()=>{const a=r.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,N7(s,...t)]}function N7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:A})=>{const u=c(a)[`__scope${A}`];return{...l,...u}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Eh(e){const t=E7(e),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(F7);if(c){const A=c.props.children,d=l.map(u=>u===c?b.Children.count(A)>1?b.Children.only(null):b.isValidElement(A)?A.props.children:null:u);return i.jsx(t,{...o,ref:s,children:b.isValidElement(A)?b.cloneElement(A,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var S7=Eh("Slot");function E7(e){const t=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=I7(s),l=k7(a,s.props);return s.type!==b.Fragment&&(l.ref=n?VI(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WI=Symbol("radix.slottable");function j7(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=WI,t}function F7(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WI}function k7(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function I7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function nx(e){const t=e+"CollectionProvider",[r,n]=Xi(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:N,children:g}=m,y=Ue.useRef(null),w=Ue.useRef(new Map).current;return i.jsx(s,{scope:N,itemMap:w,collectionRef:y,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=Eh(l),A=Ue.forwardRef((m,N)=>{const{scope:g,children:y}=m,w=a(l,g),E=Mr(N,w.collectionRef);return i.jsx(c,{ref:E,children:y})});A.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",p=Eh(d),f=Ue.forwardRef((m,N)=>{const{scope:g,children:y,...w}=m,E=Ue.useRef(null),_=Mr(N,E),D=a(d,g);return Ue.useEffect(()=>(D.itemMap.set(E,{ref:E,...w}),()=>void D.itemMap.delete(E))),i.jsx(p,{[u]:"",ref:_,children:y})});f.displayName=d;function x(m){const N=a(e+"CollectionConsumer",m);return Ue.useCallback(()=>{const y=N.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(N.itemMap.values()).sort((D,R)=>w.indexOf(D.ref.current)-w.indexOf(R.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:o,Slot:A,ItemSlot:f},x,n]}var P7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Kt=P7.reduce((e,t)=>{const r=Eh(`Primitive.${t}`),n=b.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function qI(e,t){e&&Ed.flushSync(()=>e.dispatchEvent(t))}function ji(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function _7(e,t=globalThis==null?void 0:globalThis.document){const r=ji(e);b.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var T7="DismissableLayer",a2="dismissableLayer.update",L7="dismissableLayer.pointerDownOutside",U7="dismissableLayer.focusOutside",jE,XI=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jm=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,A=b.useContext(XI),[d,u]=b.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=b.useState({}),x=Mr(t,R=>u(R)),m=Array.from(A.layers),[N]=[...A.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(N),y=d?m.indexOf(d):-1,w=A.layersWithOutsidePointerEventsDisabled.size>0,E=y>=g,_=D7(R=>{const I=R.target,Q=[...A.branches].some(U=>U.contains(I));!E||Q||(s==null||s(R),o==null||o(R),R.defaultPrevented||l==null||l())},p),D=M7(R=>{const I=R.target;[...A.branches].some(U=>U.contains(I))||(a==null||a(R),o==null||o(R),R.defaultPrevented||l==null||l())},p);return _7(R=>{y===A.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},p),b.useEffect(()=>{if(d)return r&&(A.layersWithOutsidePointerEventsDisabled.size===0&&(jE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),A.layersWithOutsidePointerEventsDisabled.add(d)),A.layers.add(d),FE(),()=>{r&&A.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=jE)}},[d,p,r,A]),b.useEffect(()=>()=>{d&&(A.layers.delete(d),A.layersWithOutsidePointerEventsDisabled.delete(d),FE())},[d,A]),b.useEffect(()=>{const R=()=>f({});return document.addEventListener(a2,R),()=>document.removeEventListener(a2,R)},[]),i.jsx(Kt.div,{...c,ref:x,style:{pointerEvents:w?E?"auto":"none":void 0,...e.style},onFocusCapture:Mt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Mt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Mt(e.onPointerDownCapture,_.onPointerDownCapture)})});jm.displayName=T7;var R7="DismissableLayerBranch",JI=b.forwardRef((e,t)=>{const r=b.useContext(XI),n=b.useRef(null),s=Mr(t,n);return b.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(Kt.div,{...e,ref:s})});JI.displayName=R7;function D7(e,t=globalThis==null?void 0:globalThis.document){const r=ji(e),n=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){YI(L7,r,A,{discrete:!0})};const A={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function M7(e,t=globalThis==null?void 0:globalThis.document){const r=ji(e),n=b.useRef(!1);return b.useEffect(()=>{const s=a=>{a.target&&!n.current&&YI(U7,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function FE(){const e=new CustomEvent(a2);document.dispatchEvent(e)}function YI(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?qI(s,a):s.dispatchEvent(a)}var Q7=jm,O7=JI,Is=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},H7="Portal",sx=b.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=b.useState(!1);Is(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?gO.createPortal(i.jsx(Kt.div,{...n,ref:t}),o):null});sx.displayName=H7;function $7(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var Tl=e=>{const{present:t,children:r}=e,n=z7(t),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),a=Mr(n.ref,K7(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:a}):null};Tl.displayName="Presence";function z7(e){const[t,r]=b.useState(),n=b.useRef({}),s=b.useRef(e),a=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=$7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const A=Gg(n.current);a.current=l==="mounted"?A:"none"},[l]),Is(()=>{const A=n.current,d=s.current;if(d!==e){const p=a.current,f=Gg(A);e?c("MOUNT"):f==="none"||(A==null?void 0:A.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Is(()=>{if(t){let A;const d=t.ownerDocument.defaultView??window,u=f=>{const m=Gg(n.current).includes(f.animationName);if(f.target===t&&m&&(c("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",A=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},p=f=>{f.target===t&&(a.current=Gg(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{d.clearTimeout(A),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(A=>{A&&(n.current=getComputedStyle(A)),r(A)},[])}}function Gg(e){return(e==null?void 0:e.animationName)||"none"}function K7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Xa({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=G7({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,l=ji(r),c=b.useCallback(A=>{if(a){const u=typeof A=="function"?A(e):A;u!==e&&l(u)}else s(A)},[a,e,s,l]);return[o,c]}function G7({defaultProp:e,onChange:t}){const r=b.useState(e),[n]=r,s=b.useRef(n),a=ji(t);return b.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var V7="VisuallyHidden",Fm=b.forwardRef((e,t)=>i.jsx(Kt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Fm.displayName=V7;var W7=Fm,XC="ToastProvider",[JC,q7,X7]=nx("Toast"),[ZI,Hde]=Xi("Toast",[X7]),[J7,ix]=ZI(XC),e6=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=b.useState(null),[A,d]=b.useState(0),u=b.useRef(!1),p=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${XC}\`. Expected non-empty \`string\`.`),i.jsx(JC.Provider,{scope:t,children:i.jsx(J7,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:A,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>d(f=>f+1),[]),onToastRemove:b.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:p,children:o})})};e6.displayName=XC;var t6="ToastViewport",Y7=["F8"],o2="toast.viewportPause",l2="toast.viewportResume",r6=b.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Y7,label:s="Notifications ({hotkey})",...a}=e,o=ix(t6,r),l=q7(r),c=b.useRef(null),A=b.useRef(null),d=b.useRef(null),u=b.useRef(null),p=Mr(t,u,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;b.useEffect(()=>{const N=g=>{var w;n.length!==0&&n.every(E=>g[E]||g.code===E)&&((w=u.current)==null||w.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[n]),b.useEffect(()=>{const N=c.current,g=u.current;if(x&&N&&g){const y=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(o2);g.dispatchEvent(D),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(l2);g.dispatchEvent(D),o.isClosePausedRef.current=!1}},E=D=>{!N.contains(D.relatedTarget)&&w()},_=()=>{N.contains(document.activeElement)||w()};return N.addEventListener("focusin",y),N.addEventListener("focusout",E),N.addEventListener("pointermove",y),N.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{N.removeEventListener("focusin",y),N.removeEventListener("focusout",E),N.removeEventListener("pointermove",y),N.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const m=b.useCallback(({tabbingDirection:N})=>{const y=l().map(w=>{const E=w.ref.current,_=[E,...dH(E)];return N==="forwards"?_:_.reverse()});return(N==="forwards"?y.reverse():y).flat()},[l]);return b.useEffect(()=>{const N=u.current;if(N){const g=y=>{var _,D,R;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const I=document.activeElement,Q=y.shiftKey;if(y.target===N&&Q){(_=A.current)==null||_.focus();return}const P=m({tabbingDirection:Q?"backwards":"forwards"}),O=P.findIndex(k=>k===I);r1(P.slice(O+1))?y.preventDefault():Q?(D=A.current)==null||D.focus():(R=d.current)==null||R.focus()}};return N.addEventListener("keydown",g),()=>N.removeEventListener("keydown",g)}},[l,m]),i.jsxs(O7,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&i.jsx(c2,{ref:A,onFocusFromOutsideViewport:()=>{const N=m({tabbingDirection:"forwards"});r1(N)}}),i.jsx(JC.Slot,{scope:r,children:i.jsx(Kt.ol,{tabIndex:-1,...a,ref:p})}),x&&i.jsx(c2,{ref:d,onFocusFromOutsideViewport:()=>{const N=m({tabbingDirection:"backwards"});r1(N)}})]})});r6.displayName=t6;var n6="ToastFocusProxy",c2=b.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=ix(n6,r);return i.jsx(Fm,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var A;const l=o.relatedTarget;!((A=a.viewport)!=null&&A.contains(l))&&n()}})});c2.displayName=n6;var ax="Toast",Z7="toast.swipeStart",eH="toast.swipeMove",tH="toast.swipeCancel",rH="toast.swipeEnd",s6=b.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=Xa({prop:n,defaultProp:s,onChange:a});return i.jsx(Tl,{present:r||l,children:i.jsx(iH,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ji(e.onPause),onResume:ji(e.onResume),onSwipeStart:Mt(e.onSwipeStart,A=>{A.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Mt(e.onSwipeMove,A=>{const{x:d,y:u}=A.detail.delta;A.currentTarget.setAttribute("data-swipe","move"),A.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),A.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:Mt(e.onSwipeCancel,A=>{A.currentTarget.setAttribute("data-swipe","cancel"),A.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),A.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),A.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),A.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Mt(e.onSwipeEnd,A=>{const{x:d,y:u}=A.detail.delta;A.currentTarget.setAttribute("data-swipe","end"),A.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),A.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),A.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),A.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});s6.displayName=ax;var[nH,sH]=ZI(ax,{onClose(){}}),iH=b.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:A,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:p,onSwipeEnd:f,...x}=e,m=ix(ax,r),[N,g]=b.useState(null),y=Mr(t,k=>g(k)),w=b.useRef(null),E=b.useRef(null),_=s||m.duration,D=b.useRef(0),R=b.useRef(_),I=b.useRef(0),{onToastAdd:Q,onToastRemove:U}=m,S=ji(()=>{var Z;(N==null?void 0:N.contains(document.activeElement))&&((Z=m.viewport)==null||Z.focus()),o()}),P=b.useCallback(k=>{!k||k===1/0||(window.clearTimeout(I.current),D.current=new Date().getTime(),I.current=window.setTimeout(S,k))},[S]);b.useEffect(()=>{const k=m.viewport;if(k){const Z=()=>{P(R.current),A==null||A()},H=()=>{const q=new Date().getTime()-D.current;R.current=R.current-q,window.clearTimeout(I.current),c==null||c()};return k.addEventListener(o2,H),k.addEventListener(l2,Z),()=>{k.removeEventListener(o2,H),k.removeEventListener(l2,Z)}}},[m.viewport,_,c,A,P]),b.useEffect(()=>{a&&!m.isClosePausedRef.current&&P(_)},[a,_,m.isClosePausedRef,P]),b.useEffect(()=>(Q(),()=>U()),[Q,U]);const O=b.useMemo(()=>N?d6(N):null,[N]);return m.viewport?i.jsxs(i.Fragment,{children:[O&&i.jsx(aH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),i.jsx(nH,{scope:r,onClose:S,children:Ed.createPortal(i.jsx(JC.ItemSlot,{scope:r,children:i.jsx(Q7,{asChild:!0,onEscapeKeyDown:Mt(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||S(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Kt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Mt(e.onKeyDown,k=>{k.key==="Escape"&&(l==null||l(k.nativeEvent),k.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,S()))}),onPointerDown:Mt(e.onPointerDown,k=>{k.button===0&&(w.current={x:k.clientX,y:k.clientY})}),onPointerMove:Mt(e.onPointerMove,k=>{if(!w.current)return;const Z=k.clientX-w.current.x,H=k.clientY-w.current.y,q=!!E.current,K=["left","right"].includes(m.swipeDirection),W=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,te=K?W(0,Z):0,ue=K?0:W(0,H),T=k.pointerType==="touch"?10:2,$={x:te,y:ue},V={originalEvent:k,delta:$};q?(E.current=$,Vg(eH,u,V,{discrete:!1})):kE($,m.swipeDirection,T)?(E.current=$,Vg(Z7,d,V,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(Z)>T||Math.abs(H)>T)&&(w.current=null)}),onPointerUp:Mt(e.onPointerUp,k=>{const Z=E.current,H=k.target;if(H.hasPointerCapture(k.pointerId)&&H.releasePointerCapture(k.pointerId),E.current=null,w.current=null,Z){const q=k.currentTarget,K={originalEvent:k,delta:Z};kE(Z,m.swipeDirection,m.swipeThreshold)?Vg(rH,f,K,{discrete:!0}):Vg(tH,p,K,{discrete:!0}),q.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),aH=e=>{const{__scopeToast:t,children:r,...n}=e,s=ix(ax,t),[a,o]=b.useState(!1),[l,c]=b.useState(!1);return cH(()=>o(!0)),b.useEffect(()=>{const A=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(A)},[]),l?null:i.jsx(sx,{asChild:!0,children:i.jsx(Fm,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},oH="ToastTitle",i6=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Kt.div,{...n,ref:t})});i6.displayName=oH;var lH="ToastDescription",a6=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Kt.div,{...n,ref:t})});a6.displayName=lH;var o6="ToastAction",l6=b.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(A6,{altText:r,asChild:!0,children:i.jsx(YC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${o6}\`. Expected non-empty \`string\`.`),null)});l6.displayName=o6;var c6="ToastClose",YC=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=sH(c6,r);return i.jsx(A6,{asChild:!0,children:i.jsx(Kt.button,{type:"button",...n,ref:t,onClick:Mt(e.onClick,s.onClose)})})});YC.displayName=c6;var A6=b.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(Kt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function d6(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),AH(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...d6(n))}}),t}function Vg(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?qI(s,a):s.dispatchEvent(a)}var kE=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function cH(e=()=>{}){const t=ji(e);Is(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function AH(e){return e.nodeType===e.ELEMENT_NODE}function dH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function r1(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var uH=e6,u6=r6,h6=s6,f6=i6,p6=a6,m6=l6,g6=YC;function v6(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=v6(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function y6(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=v6(e))&&(n&&(n+=" "),n+=t);return n}const IE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PE=y6,km=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return PE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(A=>{const d=r==null?void 0:r[A],u=a==null?void 0:a[A];if(d===null)return null;const p=IE(d)||IE(u);return s[A][p]}),l=r&&Object.entries(r).reduce((A,d)=>{let[u,p]=d;return p===void 0||(A[u]=p),A},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((A,d)=>{let{class:u,className:p,...f}=d;return Object.entries(f).every(x=>{let[m,N]=x;return Array.isArray(N)?N.includes({...a,...l}[m]):{...a,...l}[m]===N})?[...A,u,p]:A},[]);return PE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x6=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...fH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:x6("lucide",s),...l},[...o.map(([A,d])=>b.createElement(A,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(e,t)=>{const r=b.forwardRef(({className:n,...s},a)=>b.createElement(pH,{ref:a,iconNode:t,className:x6(`lucide-${hH(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=st("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=st("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=st("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=st("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=st("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=st("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=st("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=st("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=st("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=st("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=st("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=st("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=st("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=st("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=st("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=st("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=st("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=st("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=st("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=st("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=st("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=st("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=st("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=st("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=st("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=st("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=st("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=st("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=st("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=st("Frame",[["line",{x1:"22",x2:"2",y1:"6",y2:"6",key:"15w7dq"}],["line",{x1:"22",x2:"2",y1:"18",y2:"18",key:"1ip48p"}],["line",{x1:"6",x2:"6",y1:"2",y2:"22",key:"a2lnyx"}],["line",{x1:"18",x2:"18",y1:"2",y2:"22",key:"8vb6jd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=st("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=st("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=st("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=st("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=st("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=st("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=st("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=st("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=st("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=st("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=st("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=st("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=st("MonitorSpeaker",[["path",{d:"M5.5 20H8",key:"1k40s5"}],["path",{d:"M17 9h.01",key:"1j24nn"}],["rect",{width:"10",height:"16",x:"12",y:"4",rx:"2",key:"ixliua"}],["path",{d:"M8 6H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h4",key:"1mp6e1"}],["circle",{cx:"17",cy:"15",r:"1",key:"tqvash"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=st("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=st("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=st("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=st("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=st("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=st("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=st("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=st("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=st("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=st("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=st("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=st("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=st("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=st("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=st("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=st("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=st("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=st("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=st("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=st("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=st("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=st("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=st("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=st("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=st("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=st("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=st("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=st("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=st("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=st("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=st("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=st("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=st("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=st("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=st("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=st("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),tB="-",HH=e=>{const t=zH(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(tB);return l[0]===""&&l.length!==1&&l.shift(),N6(l,t)||$H(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},N6=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?N6(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(tB);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},OE=/^\[(.+)\]$/,$H=e=>{if(OE.test(e)){const t=OE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},zH=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return GH(Object.entries(e.classGroups),r).forEach(([a,o])=>{h2(o,n,a,t)}),n},h2=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:HE(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(KH(s)){h2(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{h2(o,HE(t,a),r,n)})})},HE=(e,t)=>{let r=e;return t.split(tB).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},KH=e=>e.isThemeGetter,GH=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,VH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},S6="!",WH=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let A=0,d=0,u;for(let N=0;N<l.length;N++){let g=l[N];if(A===0){if(g===s&&(n||l.slice(N,N+a)===t)){c.push(l.slice(d,N)),d=N+a;continue}if(g==="/"){u=N;continue}}g==="["?A++:g==="]"&&A--}const p=c.length===0?l:l.substring(d),f=p.startsWith(S6),x=f?p.substring(1):p,m=u&&u>d?u-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},qH=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},XH=e=>({cache:VH(e.cacheSize),parseClassName:WH(e),...HH(e)}),JH=/\s+/,YH=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(JH);let l="";for(let c=o.length-1;c>=0;c-=1){const A=o[c],{modifiers:d,hasImportantModifier:u,baseClassName:p,maybePostfixModifierPosition:f}=r(A);let x=!!f,m=n(x?p.substring(0,f):p);if(!m){if(!x){l=A+(l.length>0?" "+l:l);continue}if(m=n(p),!m){l=A+(l.length>0?" "+l:l);continue}x=!1}const N=qH(d).join(":"),g=u?N+S6:N,y=g+m;if(a.includes(y))continue;a.push(y);const w=s(m,x);for(let E=0;E<w.length;++E){const _=w[E];a.push(g+_)}l=A+(l.length>0?" "+l:l)}return l};function ZH(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=E6(t))&&(n&&(n+=" "),n+=r);return n}const E6=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=E6(e[n]))&&(r&&(r+=" "),r+=t);return r};function e9(e,...t){let r,n,s,a=o;function o(c){const A=t.reduce((d,u)=>u(d),e());return r=XH(A),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const A=n(c);if(A)return A;const d=YH(c,r);return s(c,d),d}return function(){return a(ZH.apply(null,arguments))}}const cn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},j6=/^\[(?:([a-z-]+):)?(.+)\]$/i,t9=/^\d+\/\d+$/,r9=new Set(["px","full","screen"]),n9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,i9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,a9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,o9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,el=e=>Ju(e)||r9.has(e)||t9.test(e),sc=e=>$h(e,"length",p9),Ju=e=>!!e&&!Number.isNaN(Number(e)),s1=e=>$h(e,"number",Ju),Lf=e=>!!e&&Number.isInteger(Number(e)),l9=e=>e.endsWith("%")&&Ju(e.slice(0,-1)),Ar=e=>j6.test(e),ic=e=>n9.test(e),c9=new Set(["length","size","percentage"]),A9=e=>$h(e,c9,F6),d9=e=>$h(e,"position",F6),u9=new Set(["image","url"]),h9=e=>$h(e,u9,g9),f9=e=>$h(e,"",m9),Uf=()=>!0,$h=(e,t,r)=>{const n=j6.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},p9=e=>s9.test(e)&&!i9.test(e),F6=()=>!1,m9=e=>a9.test(e),g9=e=>o9.test(e),v9=()=>{const e=cn("colors"),t=cn("spacing"),r=cn("blur"),n=cn("brightness"),s=cn("borderColor"),a=cn("borderRadius"),o=cn("borderSpacing"),l=cn("borderWidth"),c=cn("contrast"),A=cn("grayscale"),d=cn("hueRotate"),u=cn("invert"),p=cn("gap"),f=cn("gradientColorStops"),x=cn("gradientColorStopPositions"),m=cn("inset"),N=cn("margin"),g=cn("opacity"),y=cn("padding"),w=cn("saturate"),E=cn("scale"),_=cn("sepia"),D=cn("skew"),R=cn("space"),I=cn("translate"),Q=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",Ar,t],P=()=>[Ar,t],O=()=>["",el,sc],k=()=>["auto",Ju,Ar],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Ar],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[Ju,Ar];return{cacheSize:500,separator:":",theme:{colors:[Uf],spacing:[el,sc],blur:["none","",ic,Ar],brightness:ue(),borderColor:[e],borderRadius:["none","","full",ic,Ar],borderSpacing:P(),borderWidth:O(),contrast:ue(),grayscale:W(),hueRotate:ue(),invert:W(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[l9,sc],inset:S(),margin:S(),opacity:ue(),padding:P(),saturate:ue(),scale:ue(),sepia:W(),skew:ue(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Ar]}],container:["container"],columns:[{columns:[ic]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Ar]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lf,Ar]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ar]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Lf,Ar]}],"grid-cols":[{"grid-cols":[Uf]}],"col-start-end":[{col:["auto",{span:["full",Lf,Ar]},Ar]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[Uf]}],"row-start-end":[{row:["auto",{span:[Lf,Ar]},Ar]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ar]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ar]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ar,t]}],"min-w":[{"min-w":[Ar,t,"min","max","fit"]}],"max-w":[{"max-w":[Ar,t,"none","full","min","max","fit","prose",{screen:[ic]},ic]}],h:[{h:[Ar,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ar,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ar,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ar,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ic,sc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",s1]}],"font-family":[{font:[Uf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ar]}],"line-clamp":[{"line-clamp":["none",Ju,s1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",el,Ar]}],"list-image":[{"list-image":["none",Ar]}],"list-style-type":[{list:["none","disc","decimal",Ar]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",el,sc]}],"underline-offset":[{"underline-offset":["auto",el,Ar]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ar]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ar]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),d9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",A9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},h9]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[el,Ar]}],"outline-w":[{outline:[el,sc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[el,sc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ic,f9]}],"shadow-color":[{shadow:[Uf]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ic,Ar]}],grayscale:[{grayscale:[A]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[A]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ar]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",Ar]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ar]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Lf,Ar]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ar]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ar]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ar]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[el,sc,s1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},y9=e9(v9);function Zt(...e){return y9(y6(e))}const x9=uH,k6=b.forwardRef(({className:e,...t},r)=>i.jsx(u6,{ref:r,className:Zt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));k6.displayName=u6.displayName;const w9=km("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),I6=b.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(h6,{ref:n,className:Zt(w9({variant:t}),e),...r}));I6.displayName=h6.displayName;const b9=b.forwardRef(({className:e,...t},r)=>i.jsx(m6,{ref:r,className:Zt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));b9.displayName=m6.displayName;const P6=b.forwardRef(({className:e,...t},r)=>i.jsx(g6,{ref:r,className:Zt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(un,{className:"h-4 w-4"})}));P6.displayName=g6.displayName;const _6=b.forwardRef(({className:e,...t},r)=>i.jsx(f6,{ref:r,className:Zt("text-sm font-semibold",e),...t}));_6.displayName=f6.displayName;const T6=b.forwardRef(({className:e,...t},r)=>i.jsx(p6,{ref:r,className:Zt("text-sm opacity-90",e),...t}));T6.displayName=p6.displayName;function C9(){const{toasts:e}=Em();return i.jsxs(x9,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(I6,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(_6,{children:r}),n&&i.jsx(T6,{children:n})]}),s,i.jsx(P6,{})]},t)}),i.jsx(k6,{})]})}var B9=CF[" useId ".trim().toString()]||(()=>{}),N9=0;function Fo(e){const[t,r]=b.useState(B9());return Is(()=>{e||r(n=>n??String(N9++))},[e]),e||(t?`radix-${t}`:"")}const S9=["top","right","bottom","left"],Yc=Math.min,Mi=Math.max,ty=Math.round,Jg=Math.floor,ko=e=>({x:e,y:e}),E9={left:"right",right:"left",bottom:"top",top:"bottom"},j9={start:"end",end:"start"};function f2(e,t,r){return Mi(e,Yc(t,r))}function Sl(e,t){return typeof e=="function"?e(t):e}function El(e){return e.split("-")[0]}function zh(e){return e.split("-")[1]}function rB(e){return e==="x"?"y":"x"}function nB(e){return e==="y"?"height":"width"}function Zc(e){return["top","bottom"].includes(El(e))?"y":"x"}function sB(e){return rB(Zc(e))}function F9(e,t,r){r===void 0&&(r=!1);const n=zh(e),s=sB(e),a=nB(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=ry(o)),[o,ry(o)]}function k9(e){const t=ry(e);return[p2(e),t,p2(t)]}function p2(e){return e.replace(/start|end/g,t=>j9[t])}function I9(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:o;default:return[]}}function P9(e,t,r,n){const s=zh(e);let a=I9(El(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(p2)))),a}function ry(e){return e.replace(/left|right|bottom|top/g,t=>E9[t])}function _9(e){return{top:0,right:0,bottom:0,left:0,...e}}function L6(e){return typeof e!="number"?_9(e):{top:e,right:e,bottom:e,left:e}}function ny(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function $E(e,t,r){let{reference:n,floating:s}=e;const a=Zc(t),o=sB(t),l=nB(o),c=El(t),A=a==="y",d=n.x+n.width/2-s.width/2,u=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let f;switch(c){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:u};break;case"left":f={x:n.x-s.width,y:u};break;default:f={x:n.x,y:n.y}}switch(zh(t)){case"start":f[o]-=p*(r&&A?-1:1);break;case"end":f[o]+=p*(r&&A?-1:1);break}return f}const T9=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let A=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:u}=$E(A,n,c),p=n,f={},x=0;for(let m=0;m<l.length;m++){const{name:N,fn:g}=l[m],{x:y,y:w,data:E,reset:_}=await g({x:d,y:u,initialPlacement:n,placement:p,strategy:s,middlewareData:f,rects:A,platform:o,elements:{reference:e,floating:t}});d=y??d,u=w??u,f={...f,[N]:{...f[N],...E}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(A=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:u}=$E(A,p,c)),m=-1)}return{x:d,y:u,placement:p,strategy:s,middlewareData:f}};async function Yp(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:A="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:f=0}=Sl(t,e),x=L6(f),N=l[p?u==="floating"?"reference":"floating":u],g=ny(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(N)))==null||r?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:A,rootBoundary:d,strategy:c})),y=u==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),E=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},_=ny(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(g.top-_.top+x.top)/E.y,bottom:(_.bottom-g.bottom+x.bottom)/E.y,left:(g.left-_.left+x.left)/E.x,right:(_.right-g.right+x.right)/E.x}}const L9=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:A,padding:d=0}=Sl(e,t)||{};if(A==null)return{};const u=L6(d),p={x:r,y:n},f=sB(s),x=nB(f),m=await o.getDimensions(A),N=f==="y",g=N?"top":"left",y=N?"bottom":"right",w=N?"clientHeight":"clientWidth",E=a.reference[x]+a.reference[f]-p[f]-a.floating[x],_=p[f]-a.reference[f],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(A));let R=D?D[w]:0;(!R||!await(o.isElement==null?void 0:o.isElement(D)))&&(R=l.floating[w]||a.floating[x]);const I=E/2-_/2,Q=R/2-m[x]/2-1,U=Yc(u[g],Q),S=Yc(u[y],Q),P=U,O=R-m[x]-S,k=R/2-m[x]/2+I,Z=f2(P,k,O),H=!c.arrow&&zh(s)!=null&&k!==Z&&a.reference[x]/2-(k<P?U:S)-m[x]/2<0,q=H?k<P?k-P:k-O:0;return{[f]:p[f]+q,data:{[f]:Z,centerOffset:k-Z-q,...H&&{alignmentOffset:q}},reset:H}}}),U9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:A}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...N}=Sl(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const g=El(s),y=Zc(l),w=El(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(A.floating)),_=p||(w||!m?[ry(l)]:k9(l)),D=x!=="none";!p&&D&&_.push(...P9(l,m,x,E));const R=[l,..._],I=await Yp(t,N),Q=[];let U=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&Q.push(I[g]),u){const k=F9(s,o,E);Q.push(I[k[0]],I[k[1]])}if(U=[...U,{placement:s,overflows:Q}],!Q.every(k=>k<=0)){var S,P;const k=(((S=a.flip)==null?void 0:S.index)||0)+1,Z=R[k];if(Z)return{data:{index:k,overflows:U},reset:{placement:Z}};let H=(P=U.filter(q=>q.overflows[0]<=0).sort((q,K)=>q.overflows[1]-K.overflows[1])[0])==null?void 0:P.placement;if(!H)switch(f){case"bestFit":{var O;const q=(O=U.filter(K=>{if(D){const W=Zc(K.placement);return W===y||W==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(W=>W>0).reduce((W,te)=>W+te,0)]).sort((K,W)=>K[1]-W[1])[0])==null?void 0:O[0];q&&(H=q);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function zE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function KE(e){return S9.some(t=>e[t]>=0)}const R9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Sl(e,t);switch(n){case"referenceHidden":{const a=await Yp(t,{...s,elementContext:"reference"}),o=zE(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:KE(o)}}}case"escaped":{const a=await Yp(t,{...s,altBoundary:!0}),o=zE(a,r.floating);return{data:{escapedOffsets:o,escaped:KE(o)}}}default:return{}}}}};async function D9(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=El(r),l=zh(r),c=Zc(r)==="y",A=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,u=Sl(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:x}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof x=="number"&&(f=l==="end"?x*-1:x),c?{x:f*d,y:p*A}:{x:p*A,y:f*d}}const M9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await D9(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},Q9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:N=>{let{x:g,y}=N;return{x:g,y}}},...c}=Sl(e,t),A={x:r,y:n},d=await Yp(t,c),u=Zc(El(s)),p=rB(u);let f=A[p],x=A[u];if(a){const N=p==="y"?"top":"left",g=p==="y"?"bottom":"right",y=f+d[N],w=f-d[g];f=f2(y,f,w)}if(o){const N=u==="y"?"top":"left",g=u==="y"?"bottom":"right",y=x+d[N],w=x-d[g];x=f2(y,x,w)}const m=l.fn({...t,[p]:f,[u]:x});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:a,[u]:o}}}}}},O9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:A=!0}=Sl(e,t),d={x:r,y:n},u=Zc(s),p=rB(u);let f=d[p],x=d[u];const m=Sl(l,t),N=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=p==="y"?"height":"width",E=a.reference[p]-a.floating[w]+N.mainAxis,_=a.reference[p]+a.reference[w]-N.mainAxis;f<E?f=E:f>_&&(f=_)}if(A){var g,y;const w=p==="y"?"width":"height",E=["top","left"].includes(El(s)),_=a.reference[u]-a.floating[w]+(E&&((g=o.offset)==null?void 0:g[u])||0)+(E?0:N.crossAxis),D=a.reference[u]+a.reference[w]+(E?0:((y=o.offset)==null?void 0:y[u])||0)-(E?N.crossAxis:0);x<_?x=_:x>D&&(x=D)}return{[p]:f,[u]:x}}}},H9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...A}=Sl(e,t),d=await Yp(t,A),u=El(s),p=zh(s),f=Zc(s)==="y",{width:x,height:m}=a.floating;let N,g;u==="top"||u==="bottom"?(N=u,g=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=u,N=p==="end"?"top":"bottom");const y=m-d.top-d.bottom,w=x-d.left-d.right,E=Yc(m-d[N],y),_=Yc(x-d[g],w),D=!t.middlewareData.shift;let R=E,I=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(R=y),D&&!p){const U=Mi(d.left,0),S=Mi(d.right,0),P=Mi(d.top,0),O=Mi(d.bottom,0);f?I=x-2*(U!==0||S!==0?U+S:Mi(d.left,d.right)):R=m-2*(P!==0||O!==0?P+O:Mi(d.top,d.bottom))}await c({...t,availableWidth:I,availableHeight:R});const Q=await o.getDimensions(l.floating);return x!==Q.width||m!==Q.height?{reset:{rects:!0}}:{}}}};function lx(){return typeof window<"u"}function Kh(e){return U6(e)?(e.nodeName||"").toLowerCase():"#document"}function zi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ro(e){var t;return(t=(U6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function U6(e){return lx()?e instanceof Node||e instanceof zi(e).Node:!1}function Ja(e){return lx()?e instanceof Element||e instanceof zi(e).Element:!1}function To(e){return lx()?e instanceof HTMLElement||e instanceof zi(e).HTMLElement:!1}function GE(e){return!lx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zi(e).ShadowRoot}function Pm(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ya(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function $9(e){return["table","td","th"].includes(Kh(e))}function cx(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function iB(e){const t=aB(),r=Ja(e)?Ya(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function z9(e){let t=eA(e);for(;To(t)&&!kh(t);){if(iB(t))return t;if(cx(t))return null;t=eA(t)}return null}function aB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kh(e){return["html","body","#document"].includes(Kh(e))}function Ya(e){return zi(e).getComputedStyle(e)}function Ax(e){return Ja(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eA(e){if(Kh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||GE(e)&&e.host||Ro(e);return GE(t)?t.host:t}function R6(e){const t=eA(e);return kh(t)?e.ownerDocument?e.ownerDocument.body:e.body:To(t)&&Pm(t)?t:R6(t)}function Zp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=R6(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=zi(s);if(a){const l=m2(o);return t.concat(o,o.visualViewport||[],Pm(s)?s:[],l&&r?Zp(l):[])}return t.concat(s,Zp(s,[],r))}function m2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function D6(e){const t=Ya(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=To(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=ty(r)!==a||ty(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function oB(e){return Ja(e)?e:e.contextElement}function Yu(e){const t=oB(e);if(!To(t))return ko(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=D6(t);let o=(a?ty(r.width):r.width)/n,l=(a?ty(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const K9=ko(0);function M6(e){const t=zi(e);return!aB()||!t.visualViewport?K9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function G9(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zi(e)?!1:t}function pd(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=oB(e);let o=ko(1);t&&(n?Ja(n)&&(o=Yu(n)):o=Yu(e));const l=G9(a,r,n)?M6(a):ko(0);let c=(s.left+l.x)/o.x,A=(s.top+l.y)/o.y,d=s.width/o.x,u=s.height/o.y;if(a){const p=zi(a),f=n&&Ja(n)?zi(n):n;let x=p,m=m2(x);for(;m&&n&&f!==x;){const N=Yu(m),g=m.getBoundingClientRect(),y=Ya(m),w=g.left+(m.clientLeft+parseFloat(y.paddingLeft))*N.x,E=g.top+(m.clientTop+parseFloat(y.paddingTop))*N.y;c*=N.x,A*=N.y,d*=N.x,u*=N.y,c+=w,A+=E,x=zi(m),m=m2(x)}}return ny({width:d,height:u,x:c,y:A})}function lB(e,t){const r=Ax(e).scrollLeft;return t?t.left+r:pd(Ro(e)).left+r}function Q6(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:lB(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function V9(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=Ro(n),l=t?cx(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},A=ko(1);const d=ko(0),u=To(n);if((u||!u&&!a)&&((Kh(n)!=="body"||Pm(o))&&(c=Ax(n)),To(n))){const f=pd(n);A=Yu(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=o&&!u&&!a?Q6(o,c,!0):ko(0);return{width:r.width*A.x,height:r.height*A.y,x:r.x*A.x-c.scrollLeft*A.x+d.x+p.x,y:r.y*A.y-c.scrollTop*A.y+d.y+p.y}}function W9(e){return Array.from(e.getClientRects())}function q9(e){const t=Ro(e),r=Ax(e),n=e.ownerDocument.body,s=Mi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Mi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+lB(e);const l=-r.scrollTop;return Ya(n).direction==="rtl"&&(o+=Mi(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function X9(e,t){const r=zi(e),n=Ro(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const A=aB();(!A||A&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function J9(e,t){const r=pd(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=To(e)?Yu(e):ko(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,A=n*a.y;return{width:o,height:l,x:c,y:A}}function VE(e,t,r){let n;if(t==="viewport")n=X9(e,r);else if(t==="document")n=q9(Ro(e));else if(Ja(t))n=J9(t,r);else{const s=M6(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ny(n)}function O6(e,t){const r=eA(e);return r===t||!Ja(r)||kh(r)?!1:Ya(r).position==="fixed"||O6(r,t)}function Y9(e,t){const r=t.get(e);if(r)return r;let n=Zp(e,[],!1).filter(l=>Ja(l)&&Kh(l)!=="body"),s=null;const a=Ya(e).position==="fixed";let o=a?eA(e):e;for(;Ja(o)&&!kh(o);){const l=Ya(o),c=iB(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Pm(o)&&!c&&O6(e,o))?n=n.filter(d=>d!==o):s=l,o=eA(o)}return t.set(e,n),n}function Z9(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?cx(t)?[]:Y9(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((A,d)=>{const u=VE(t,d,s);return A.top=Mi(u.top,A.top),A.right=Yc(u.right,A.right),A.bottom=Yc(u.bottom,A.bottom),A.left=Mi(u.left,A.left),A},VE(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function e$(e){const{width:t,height:r}=D6(e);return{width:t,height:r}}function t$(e,t,r){const n=To(t),s=Ro(t),a=r==="fixed",o=pd(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ko(0);if(n||!n&&!a)if((Kh(t)!=="body"||Pm(s))&&(l=Ax(t)),n){const p=pd(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=lB(s));const A=s&&!n&&!a?Q6(s,l):ko(0),d=o.left+l.scrollLeft-c.x-A.x,u=o.top+l.scrollTop-c.y-A.y;return{x:d,y:u,width:o.width,height:o.height}}function i1(e){return Ya(e).position==="static"}function WE(e,t){if(!To(e)||Ya(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ro(e)===r&&(r=r.ownerDocument.body),r}function H6(e,t){const r=zi(e);if(cx(e))return r;if(!To(e)){let s=eA(e);for(;s&&!kh(s);){if(Ja(s)&&!i1(s))return s;s=eA(s)}return r}let n=WE(e,t);for(;n&&$9(n)&&i1(n);)n=WE(n,t);return n&&kh(n)&&i1(n)&&!iB(n)?r:n||z9(e)||r}const r$=async function(e){const t=this.getOffsetParent||H6,r=this.getDimensions,n=await r(e.floating);return{reference:t$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function n$(e){return Ya(e).direction==="rtl"}const s$={convertOffsetParentRelativeRectToViewportRelativeRect:V9,getDocumentElement:Ro,getClippingRect:Z9,getOffsetParent:H6,getElementRects:r$,getClientRects:W9,getDimensions:e$,getScale:Yu,isElement:Ja,isRTL:n$};function $6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function i$(e,t){let r=null,n;const s=Ro(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const A=e.getBoundingClientRect(),{left:d,top:u,width:p,height:f}=A;if(l||t(),!p||!f)return;const x=Jg(u),m=Jg(s.clientWidth-(d+p)),N=Jg(s.clientHeight-(u+f)),g=Jg(d),w={rootMargin:-x+"px "+-m+"px "+-N+"px "+-g+"px",threshold:Mi(0,Yc(1,c))||1};let E=!0;function _(D){const R=D[0].intersectionRatio;if(R!==c){if(!E)return o();R?o(!1,R):n=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!$6(A,e.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(_,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,w)}r.observe(e)}return o(!0),a}function a$(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,A=oB(e),d=s||a?[...A?Zp(A):[],...Zp(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),a&&g.addEventListener("resize",r)});const u=A&&l?i$(A,r):null;let p=-1,f=null;o&&(f=new ResizeObserver(g=>{let[y]=g;y&&y.target===A&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),r()}),A&&!c&&f.observe(A),f.observe(t));let x,m=c?pd(e):null;c&&N();function N(){const g=pd(e);m&&!$6(m,g)&&r(),m=g,x=requestAnimationFrame(N)}return r(),()=>{var g;d.forEach(y=>{s&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),u==null||u(),(g=f)==null||g.disconnect(),f=null,c&&cancelAnimationFrame(x)}}const o$=M9,l$=Q9,c$=U9,A$=H9,d$=R9,qE=L9,u$=O9,h$=(e,t,r)=>{const n=new Map,s={platform:s$,...r},a={...s.platform,_c:n};return T9(e,t,{...s,platform:a})};var av=typeof document<"u"?b.useLayoutEffect:b.useEffect;function sy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!sy(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!sy(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function z6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function XE(e,t){const r=z6(e);return Math.round(t*r)/r}function a1(e){const t=b.useRef(e);return av(()=>{t.current=e}),t}function f$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:A}=e,[d,u]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=b.useState(n);sy(p,n)||f(n);const[x,m]=b.useState(null),[N,g]=b.useState(null),y=b.useCallback(K=>{K!==D.current&&(D.current=K,m(K))},[]),w=b.useCallback(K=>{K!==R.current&&(R.current=K,g(K))},[]),E=a||x,_=o||N,D=b.useRef(null),R=b.useRef(null),I=b.useRef(d),Q=c!=null,U=a1(c),S=a1(s),P=a1(A),O=b.useCallback(()=>{if(!D.current||!R.current)return;const K={placement:t,strategy:r,middleware:p};S.current&&(K.platform=S.current),h$(D.current,R.current,K).then(W=>{const te={...W,isPositioned:P.current!==!1};k.current&&!sy(I.current,te)&&(I.current=te,Ed.flushSync(()=>{u(te)}))})},[p,t,r,S,P]);av(()=>{A===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,u(K=>({...K,isPositioned:!1})))},[A]);const k=b.useRef(!1);av(()=>(k.current=!0,()=>{k.current=!1}),[]),av(()=>{if(E&&(D.current=E),_&&(R.current=_),E&&_){if(U.current)return U.current(E,_,O);O()}},[E,_,O,U,Q]);const Z=b.useMemo(()=>({reference:D,floating:R,setReference:y,setFloating:w}),[y,w]),H=b.useMemo(()=>({reference:E,floating:_}),[E,_]),q=b.useMemo(()=>{const K={position:r,left:0,top:0};if(!H.floating)return K;const W=XE(H.floating,d.x),te=XE(H.floating,d.y);return l?{...K,transform:"translate("+W+"px, "+te+"px)",...z6(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:te}},[r,l,H.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:O,refs:Z,elements:H,floatingStyles:q}),[d,O,Z,H,q])}const p$=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?qE({element:n.current,padding:s}).fn(r):{}:n?qE({element:n,padding:s}).fn(r):{}}}},m$=(e,t)=>({...o$(e),options:[e,t]}),g$=(e,t)=>({...l$(e),options:[e,t]}),v$=(e,t)=>({...u$(e),options:[e,t]}),y$=(e,t)=>({...c$(e),options:[e,t]}),x$=(e,t)=>({...A$(e),options:[e,t]}),w$=(e,t)=>({...d$(e),options:[e,t]}),b$=(e,t)=>({...p$(e),options:[e,t]});var C$="Arrow",K6=b.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(Kt.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});K6.displayName=C$;var B$=K6;function cB(e){const[t,r]=b.useState(void 0);return Is(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,A=Array.isArray(c)?c[0]:c;o=A.inlineSize,l=A.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var AB="Popper",[G6,dx]=Xi(AB),[N$,V6]=G6(AB),W6=e=>{const{__scopePopper:t,children:r}=e,[n,s]=b.useState(null);return i.jsx(N$,{scope:t,anchor:n,onAnchorChange:s,children:r})};W6.displayName=AB;var q6="PopperAnchor",X6=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=V6(q6,r),o=b.useRef(null),l=Mr(t,o);return b.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(Kt.div,{...s,ref:l})});X6.displayName=q6;var dB="PopperContent",[S$,E$]=G6(dB),J6=b.forwardRef((e,t)=>{var L,C,j,G,z,ae;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:A=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:x,...m}=e,N=V6(dB,r),[g,y]=b.useState(null),w=Mr(t,de=>y(de)),[E,_]=b.useState(null),D=cB(E),R=(D==null?void 0:D.width)??0,I=(D==null?void 0:D.height)??0,Q=n+(a!=="center"?"-"+a:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},S=Array.isArray(A)?A:[A],P=S.length>0,O={padding:U,boundary:S.filter(F$),altBoundary:P},{refs:k,floatingStyles:Z,placement:H,isPositioned:q,middlewareData:K}=f$({strategy:"fixed",placement:Q,whileElementsMounted:(...de)=>a$(...de,{animationFrame:f==="always"}),elements:{reference:N.anchor},middleware:[m$({mainAxis:s+I,alignmentAxis:o}),c&&g$({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?v$():void 0,...O}),c&&y$({...O}),x$({...O,apply:({elements:de,rects:he,availableWidth:ce,availableHeight:oe})=>{const{width:Re,height:Ce}=he.reference,xe=de.floating.style;xe.setProperty("--radix-popper-available-width",`${ce}px`),xe.setProperty("--radix-popper-available-height",`${oe}px`),xe.setProperty("--radix-popper-anchor-width",`${Re}px`),xe.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),E&&b$({element:E,padding:l}),k$({arrowWidth:R,arrowHeight:I}),p&&w$({strategy:"referenceHidden",...O})]}),[W,te]=eP(H),ue=ji(x);Is(()=>{q&&(ue==null||ue())},[q,ue]);const T=(L=K.arrow)==null?void 0:L.x,$=(C=K.arrow)==null?void 0:C.y,V=((j=K.arrow)==null?void 0:j.centerOffset)!==0,[se,Y]=b.useState();return Is(()=>{g&&Y(window.getComputedStyle(g).zIndex)},[g]),i.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:q?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(G=K.transformOrigin)==null?void 0:G.x,(z=K.transformOrigin)==null?void 0:z.y].join(" "),...((ae=K.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(S$,{scope:r,placedSide:W,onArrowChange:_,arrowX:T,arrowY:$,shouldHideArrow:V,children:i.jsx(Kt.div,{"data-side":W,"data-align":te,...m,ref:w,style:{...m.style,animation:q?void 0:"none"}})})})});J6.displayName=dB;var Y6="PopperArrow",j$={top:"bottom",right:"left",bottom:"top",left:"right"},Z6=b.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=E$(Y6,n),o=j$[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(B$,{...s,ref:r,style:{...s.style,display:"block"}})})});Z6.displayName=Y6;function F$(e){return e!==null}var k$=e=>({name:"transformOrigin",options:e,fn(t){var N,g,y;const{placement:r,rects:n,middlewareData:s}=t,o=((N=s.arrow)==null?void 0:N.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[A,d]=eP(r),u={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,f=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let x="",m="";return A==="bottom"?(x=o?u:`${p}px`,m=`${-c}px`):A==="top"?(x=o?u:`${p}px`,m=`${n.floating.height+c}px`):A==="right"?(x=`${-c}px`,m=o?u:`${f}px`):A==="left"&&(x=`${n.floating.width+c}px`,m=o?u:`${f}px`),{data:{x,y:m}}}});function eP(e){const[t,r="center"]=e.split("-");return[t,r]}var I$=W6,tP=X6,rP=J6,nP=Z6,[ux,$de]=Xi("Tooltip",[dx]),uB=dx(),sP="TooltipProvider",P$=700,JE="tooltip.open",[_$,iP]=ux(sP),aP=e=>{const{__scopeTooltip:t,delayDuration:r=P$,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const A=c.current;return()=>window.clearTimeout(A)},[]),i.jsx(_$,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(A=>{l.current=A},[]),disableHoverableContent:s,children:a})};aP.displayName=sP;var oP="Tooltip",[zde,hx]=ux(oP),g2="TooltipTrigger",T$=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=hx(g2,r),a=iP(g2,r),o=uB(r),l=b.useRef(null),c=Mr(t,l,s.onTriggerChange),A=b.useRef(!1),d=b.useRef(!1),u=b.useCallback(()=>A.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),i.jsx(tP,{asChild:!0,...o,children:i.jsx(Kt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Mt(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Mt(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Mt(e.onPointerDown,()=>{s.open&&s.onClose(),A.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:Mt(e.onFocus,()=>{A.current||s.onOpen()}),onBlur:Mt(e.onBlur,s.onClose),onClick:Mt(e.onClick,s.onClose)})})});T$.displayName=g2;var L$="TooltipPortal",[Kde,U$]=ux(L$,{forceMount:void 0}),Ih="TooltipContent",lP=b.forwardRef((e,t)=>{const r=U$(Ih,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=hx(Ih,e.__scopeTooltip);return i.jsx(Tl,{present:n||o.open,children:o.disableHoverableContent?i.jsx(cP,{side:s,...a,ref:t}):i.jsx(R$,{side:s,...a,ref:t})})}),R$=b.forwardRef((e,t)=>{const r=hx(Ih,e.__scopeTooltip),n=iP(Ih,e.__scopeTooltip),s=b.useRef(null),a=Mr(t,s),[o,l]=b.useState(null),{trigger:c,onClose:A}=r,d=s.current,{onPointerInTransitChange:u}=n,p=b.useCallback(()=>{l(null),u(!1)},[u]),f=b.useCallback((x,m)=>{const N=x.currentTarget,g={x:x.clientX,y:x.clientY},y=H$(g,N.getBoundingClientRect()),w=$$(g,y),E=z$(m.getBoundingClientRect()),_=G$([...w,...E]);l(_),u(!0)},[u]);return b.useEffect(()=>()=>p(),[p]),b.useEffect(()=>{if(c&&d){const x=N=>f(N,d),m=N=>f(N,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",m)}}},[c,d,f,p]),b.useEffect(()=>{if(o){const x=m=>{const N=m.target,g={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(N))||(d==null?void 0:d.contains(N)),w=!K$(g,o);y?p():w&&(p(),A())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,A,p]),i.jsx(cP,{...e,ref:a})}),[D$,M$]=ux(oP,{isInside:!1}),Q$=j7("TooltipContent"),cP=b.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=hx(Ih,r),A=uB(r),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(JE,d),()=>document.removeEventListener(JE,d)),[d]),b.useEffect(()=>{if(c.trigger){const u=p=>{const f=p.target;f!=null&&f.contains(c.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[c.trigger,d]),i.jsx(jm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:i.jsxs(rP,{"data-state":c.stateAttribute,...A,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Q$,{children:n}),i.jsx(D$,{scope:r,isInside:!0,children:i.jsx(W7,{id:c.contentId,role:"tooltip",children:s||n})})]})})});lP.displayName=Ih;var AP="TooltipArrow",O$=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=uB(r);return M$(AP,r).isInside?null:i.jsx(nP,{...s,...n,ref:t})});O$.displayName=AP;function H$(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function $$(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function z$(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function K$(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,A=t[o].x,d=t[o].y;c>n!=d>n&&r<(A-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function G$(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),V$(t)}function V$(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var W$=aP,dP=lP;const q$=W$,X$=b.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(dP,{ref:n,sideOffset:t,className:Zt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));X$.displayName=dP.displayName;const J$=km("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),me=b.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?S7:"button";return i.jsx(o,{className:Zt(J$({variant:t,size:r,className:e})),ref:a,...s})});me.displayName="Button";const pr=b.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:Zt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));pr.displayName="Input";var Y$="Label",uP=b.forwardRef((e,t)=>i.jsx(Kt.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));uP.displayName=Y$;var hP=uP;const Z$=km("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),br=b.forwardRef(({className:e,...t},r)=>i.jsx(hP,{ref:r,className:Zt(Z$(),e),...t}));br.displayName=hP.displayName;const En=b.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:Zt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));En.displayName="Textarea";const ez=km("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yt({className:e,variant:t,...r}){return i.jsx("div",{className:Zt(ez({variant:t}),e),...r})}var tz="Separator",YE="horizontal",rz=["horizontal","vertical"],fP=b.forwardRef((e,t)=>{const{decorative:r,orientation:n=YE,...s}=e,a=nz(n)?n:YE,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(Kt.div,{"data-orientation":a,...l,...s,ref:t})});fP.displayName=tz;function nz(e){return rz.includes(e)}var pP=fP;const gl=b.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(pP,{ref:s,decorative:r,orientation:t,className:Zt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));gl.displayName=pP.displayName;function sz({notifications:e,onRemove:t}){return e.length===0?null:i.jsx("div",{className:"fixed top-20 right-6 z-50 space-y-2",children:e.map(r=>{const n=r.type==="success"?"bg-green-500":r.type==="error"?"bg-red-500":"bg-orange-500",s=r.type==="success"?wr:r.type==="error"?xH:_o;return i.jsxs("div",{className:`${n} text-white px-4 py-3 rounded-lg shadow-lg flex items-center space-x-3 transition-all duration-300 min-w-80`,children:[i.jsx(s,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"font-medium flex-1",children:r.message}),i.jsx(me,{variant:"ghost",size:"sm",onClick:()=>t(r.id),className:"text-white hover:text-gray-200 hover:bg-transparent p-1 h-auto",children:i.jsx(un,{className:"h-4 w-4"})})]},r.id)})})}const bt={DIAGRAM:"bpmn-diagram",TIMESTAMP:"bpmn-diagram-timestamp",CURRENT_DIAGRAM:"bpmn-current-diagram",PROJECT_PLAN:"enhanced_plan_sections",PROJECT_DESCRIPTION:"bpmn-project-description",USER_JOURNEY_FLOWS:"bpmn-user-journey-flows",PERSONA_BPMN_FLOWS:"bpmn-persona-flows",PERSONA_PROMPTS:"bpmn-persona-prompts",EXTRACTED_STAKEHOLDERS:"bpmn-extracted-stakeholders",PERSONA_FLOW_TYPES:"bpmn-persona-flow-types",GENERATED_BPMN_XML:"bpmn-generated-xml",STAKEHOLDER_FLOWS:"bpmn-stakeholder-flows",STAKEHOLDER_FLOW_DATA:"bpmn-stakeholder-flow-data",MARKET_RESEARCH_DATA:"bpmn-market-research-data",MARKET_RESEARCH_TIMESTAMP:"bpmn-market-research-timestamp"};function ZE(){return Math.random().toString(36).substr(2,9)}function Ll({title:e,showBackButton:t=!0,showStartOverButton:r=!0}){const[n,s]=Sm(),a=()=>{window.history.back()},o=()=>{const c=["theme"];Object.keys(localStorage).forEach(d=>{c.includes(d)||localStorage.removeItem(d)}),Object.values(bt).forEach(d=>{localStorage.removeItem(d)}),localStorage.removeItem("user_stories"),s("/start-over")},l=()=>{s("/")};return i.jsx("div",{className:"sticky top-0 z-50 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:i.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[t&&i.jsxs(me,{onClick:a,variant:"ghost",size:"sm",className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(Im,{className:"h-4 w-4 mr-2"}),"Back"]}),i.jsxs(me,{onClick:l,variant:"ghost",size:"sm",className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[i.jsx(CH,{className:"h-4 w-4 mr-2"}),"Home"]}),e&&i.jsx("div",{className:"hidden md:block",children:i.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e})})]}),i.jsx("div",{className:"flex items-center space-x-2",children:r&&i.jsxs(me,{onClick:o,variant:"outline",size:"sm",className:"text-red-600 dark:text-red-400 border-red-200 dark:border-red-800 hover:bg-red-50 dark:hover:bg-red-900/20",children:[i.jsx(eB,{className:"h-4 w-4 mr-2"}),"Start Over"]})})]})})}function iz(){const e=b.useRef(null),t=b.useRef(null),[r,n]=b.useState(null),[s,a]=b.useState(""),[o,l]=b.useState(!0),[c,A]=b.useState([]),[d,u]=b.useState("Initializing..."),[p,f]=b.useState(!1),x=b.useCallback((U,S="warning",P=4e3)=>{const O={id:ZE(),message:U,type:S,duration:P};A(k=>[...k,O]),P>0&&setTimeout(()=>{A(k=>k.filter(Z=>Z.id!==O.id))},P)},[]),m=b.useCallback(U=>{A(S=>S.filter(P=>P.id!==U))},[]),N=b.useCallback(async()=>{if(!(!e.current||!window.BpmnJS))try{l(!0),u("Loading BPMN editor...");const U=new window.BpmnJS({container:e.current,width:"100%",height:"100%"});t.current=U,await new Promise(S=>setTimeout(S,100));try{const S=U.get("palette"),P=U.get("contextPad"),O=U.get("directEditing");console.log("BPMN Services:",{palette:!!S,contextPad:!!P,directEditing:!!O}),S&&S.open()}catch(S){console.log("Service configuration:",S)}U.on("element.click",S=>{var P,O;try{const k=S.element;if(k!=null&&k.businessObject){const Z=k.businessObject,H={id:Z.id||ZE(),name:Z.name||k.id||"Unnamed Element",type:Z.$type?Z.$type.replace("bpmn2:",""):k.type||"unknown",documentation:((O=(P=Z.documentation)==null?void 0:P[0])==null?void 0:O.text)||"",properties:Z.$attrs||{}};n(H)}else n(null)}catch(k){console.error("Element selection error:",k),n(null)}}),U.on("commandStack.changed",async()=>{f(!0),u("Modified");try{const S=await U.saveXML({format:!0});a(S.xml),clearTimeout(window.autoSaveTimeout),window.autoSaveTimeout=setTimeout(()=>{localStorage.setItem(bt.CURRENT_DIAGRAM,S.xml),localStorage.setItem(bt.DIAGRAM,S.xml),localStorage.setItem(bt.TIMESTAMP,Date.now().toString()),f(!1),u("Auto-saved")},1e3)}catch(S){console.error("Auto-save failed:",S)}}),await g(U),l(!1),u("Ready"),setTimeout(()=>{t.current&&t.current.get("canvas").zoom("fit-viewport")},300)}catch(U){console.error("Failed to initialize BPMN editor:",U),x("Failed to initialize BPMN editor","error"),l(!1),u("Error")}},[x]),g=b.useCallback(async U=>{const S=localStorage.getItem(bt.CURRENT_DIAGRAM);if(S)try{await U.importXML(S),a(S),x("Diagram loaded successfully","success",2e3);return}catch(O){console.error("Failed to load current diagram:",O)}const P=localStorage.getItem(bt.DIAGRAM);if(P)try{await U.importXML(P),a(P),x("Diagram loaded from storage","success",2e3);return}catch(O){console.error("Failed to load saved diagram:",O)}await y(U)},[x]),y=b.useCallback(async U=>{const S=U||t.current;if(!S)return;const P=`<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL"
                   xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
                   xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                   xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
                   id="Definitions_1"
                   targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn2:process id="Process_1" isExecutable="false">
    <bpmn2:startEvent id="StartEvent_1" name="Start">
      <bpmn2:outgoing>SequenceFlow_1</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:task id="Task_1" name="Task">
      <bpmn2:incoming>SequenceFlow_1</bpmn2:incoming>
      <bpmn2:outgoing>SequenceFlow_2</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:endEvent id="EndEvent_1" name="End">
      <bpmn2:incoming>SequenceFlow_2</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:sequenceFlow id="SequenceFlow_1" sourceRef="StartEvent_1" targetRef="Task_1" />
    <bpmn2:sequenceFlow id="SequenceFlow_2" sourceRef="Task_1" targetRef="EndEvent_1" />
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">
      <bpmndi:BPMNShape id="StartEvent_1_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="158" y="145" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_1_di" bpmnElement="Task_1">
        <dc:Bounds x="240" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="392" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="400" y="145" width="20" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1_di" bpmnElement="SequenceFlow_1">
        <di:waypoint x="188" y="120" />
        <di:waypoint x="240" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_2_di" bpmnElement="SequenceFlow_2">
        <di:waypoint x="340" y="120" />
        <di:waypoint x="392" y="120" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>`;try{await S.importXML(P),a(P),n(null),f(!1),u("New diagram created"),x("New diagram created","success",2e3)}catch(O){console.error("Failed to create new diagram:",O),x("Failed to create new diagram","error")}},[x]),w=b.useCallback(async()=>{if(t.current)try{const U=await t.current.saveXML({format:!0});localStorage.setItem(bt.DIAGRAM,U.xml),localStorage.setItem(bt.CURRENT_DIAGRAM,U.xml),localStorage.setItem(bt.TIMESTAMP,Date.now().toString()),a(U.xml),f(!1),u("Saved"),x("Diagram saved successfully","success",2e3)}catch(U){console.error("Failed to save diagram:",U),x("Failed to save diagram","error")}},[x]),E=b.useCallback(async U=>{if(t.current)try{await t.current.importXML(U),a(U),n(null),f(!0),u("Imported"),x("Diagram imported successfully","success",2e3)}catch(S){console.error("Failed to import diagram:",S),x("Failed to import diagram","error")}},[x]),_=b.useCallback(async()=>{if(t.current)try{const U=await t.current.saveXML({format:!0}),S=new Blob([U.xml],{type:"application/xml"}),P=URL.createObjectURL(S),O=document.createElement("a");O.href=P,O.download=`bpmn-diagram-${Date.now()}.bpmn`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(P),x("Diagram exported successfully","success",2e3)}catch(U){console.error("Failed to export diagram:",U),x("Failed to export diagram","error")}},[x]),D=b.useCallback(()=>{t.current&&t.current.get("zoomScroll").stepZoom(1)},[]),R=b.useCallback(()=>{t.current&&t.current.get("zoomScroll").stepZoom(-1)},[]),I=b.useCallback(()=>{t.current&&t.current.get("canvas").zoom("fit-viewport")},[]),Q=b.useCallback(U=>{if(!(!t.current||!r))try{const S=t.current.get("modeling"),O=t.current.get("elementRegistry").get(r.id);O&&S&&(U.name!==void 0&&S.updateProperties(O,{name:U.name}),U.documentation!==void 0&&S.updateProperties(O,{documentation:[{text:U.documentation}]}),n(k=>k?{...k,...U}:null),f(!0))}catch(S){console.error("Failed to update element properties:",S),x("Failed to update element properties","error")}},[r,x]);return b.useEffect(()=>{e.current&&window.BpmnJS&&N()},[N]),{containerRef:e,selectedElement:r,diagramXml:s,isLoading:o,isModified:p,notifications:c,status:d,showNotification:x,removeNotification:m,createNewDiagram:y,saveDiagram:w,importDiagram:E,exportDiagram:_,zoomIn:D,zoomOut:R,zoomToFit:I,updateElementProperties:Q}}function o1(){const[e,t]=b.useState(!0),[r,n]=b.useState(!1),s=b.useRef(null),{containerRef:a,selectedElement:o,diagramXml:l,isLoading:c,isModified:A,notifications:d,status:u,showNotification:p,removeNotification:f,createNewDiagram:x,saveDiagram:m,importDiagram:N,exportDiagram:g,zoomIn:y,zoomOut:w,zoomToFit:E,updateElementProperties:_}=iz(),D=I=>{var U;const Q=(U=I.target.files)==null?void 0:U[0];if(Q){const S=new FileReader;S.onload=P=>{var k;const O=(k=P.target)==null?void 0:k.result;O&&N(O)},S.readAsText(Q)}},R=()=>{const I=()=>c?"bg-blue-500":A?"bg-orange-500":u==="Saved"||u==="Auto-saved"?"bg-green-500":u==="Error"?"bg-red-500":"bg-gray-500",Q=()=>c?i.jsx(Vt,{className:"h-3 w-3 animate-spin"}):A?i.jsx(Fh,{className:"h-3 w-3"}):u==="Saved"||u==="Auto-saved"?i.jsx(wr,{className:"h-3 w-3"}):null;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${I()}`}),Q(),i.jsx("span",{className:"text-xs text-gray-600",children:u})]})};return i.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[i.jsx(Ll,{title:"BPMN Editor",showBackButton:!0}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsxs("div",{className:"w-16 bg-white border-r border-gray-200 flex flex-col items-center py-4 gap-4",children:[i.jsx(me,{onClick:x,variant:"ghost",size:"sm",className:"w-10 h-10 p-0",title:"New Diagram",children:i.jsx(eB,{className:"h-4 w-4"})}),i.jsx(me,{onClick:m,variant:"ghost",size:"sm",className:"w-10 h-10 p-0",title:"Save",children:i.jsx(Oi,{className:"h-4 w-4"})}),i.jsx(me,{onClick:()=>{var I;return(I=s.current)==null?void 0:I.click()},variant:"ghost",size:"sm",className:"w-10 h-10 p-0",title:"Import",children:i.jsx(MH,{className:"h-4 w-4"})}),i.jsx(me,{onClick:g,variant:"ghost",size:"sm",className:"w-10 h-10 p-0",title:"Export",children:i.jsx(Ns,{className:"h-4 w-4"})}),i.jsx(gl,{className:"w-8"}),i.jsx(me,{onClick:y,variant:"ghost",size:"sm",className:"w-10 h-10 p-0",title:"Zoom In",children:i.jsx(QH,{className:"h-4 w-4"})}),i.jsx(me,{onClick:w,variant:"ghost",size:"sm",className:"w-10 h-10 p-0",title:"Zoom Out",children:i.jsx(OH,{className:"h-4 w-4"})}),i.jsx(me,{onClick:E,variant:"ghost",size:"sm",className:"w-10 h-10 p-0",title:"Fit to Screen",children:i.jsx(B6,{className:"h-4 w-4"})}),i.jsx(gl,{className:"w-8"}),i.jsx(me,{onClick:()=>t(!e),variant:"ghost",size:"sm",className:"w-10 h-10 p-0",title:"Toggle Properties",children:i.jsx(Jc,{className:"h-4 w-4"})}),i.jsx(me,{onClick:()=>n(!r),variant:"ghost",size:"sm",className:"w-10 h-10 p-0",title:"Toggle XML View",children:r?i.jsx(ZC,{className:"h-4 w-4"}):i.jsx(Wa,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsxs("div",{className:"h-12 bg-white border-b border-gray-200 flex items-center justify-between px-4",children:[i.jsx(R,{}),i.jsx("div",{className:"flex items-center gap-4",children:o&&i.jsxs(yt,{variant:"outline",className:"text-xs",children:[o.name," (",o.type,")"]})})]}),i.jsxs("div",{className:"flex-1 relative",children:[c&&i.jsx("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center z-10",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vt,{className:"h-5 w-5 animate-spin"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Loading BPMN Editor..."})]})}),!c&&!o&&i.jsxs("div",{className:"absolute top-4 left-4 bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800 z-10 max-w-sm",children:[i.jsx("p",{className:"font-medium",children:"BPMN Editor Controls:"}),i.jsxs("ul",{className:"mt-1 space-y-1 text-xs",children:[i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Add Elements:"})," Use the palette (left side)"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Move Elements:"})," Click directly on shapes and drag"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Pan Canvas:"})," Drag on empty background areas"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Edit Properties:"})," Click elements to select"]}),i.jsxs("li",{children:[" ",i.jsx("strong",{children:"Connect Elements:"})," Use context menu or palette"]})]})]}),i.jsx("div",{ref:a,className:"w-full h-full bg-white",style:{minHeight:"400px"}})]})]}),i.jsxs("div",{className:"flex",children:[e&&i.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsx("h3",{className:"font-semibold text-sm",children:"Properties"})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(br,{htmlFor:"element-name",className:"text-xs",children:"Name"}),i.jsx(pr,{id:"element-name",value:o.name,onChange:I=>_({name:I.target.value}),className:"mt-1",placeholder:"Element name"})]}),i.jsxs("div",{children:[i.jsx(br,{className:"text-xs",children:"Type"}),i.jsx("div",{className:"mt-1",children:i.jsx(yt,{variant:"secondary",className:"text-xs",children:o.type})})]}),i.jsxs("div",{children:[i.jsx(br,{className:"text-xs",children:"ID"}),i.jsx("div",{className:"mt-1",children:i.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:o.id})})]}),o.documentation&&i.jsxs("div",{children:[i.jsx(br,{htmlFor:"element-docs",className:"text-xs",children:"Documentation"}),i.jsx(En,{id:"element-docs",value:o.documentation,onChange:I=>_({documentation:I.target.value}),className:"mt-1",rows:3,placeholder:"Element documentation"})]})]}):i.jsx("div",{className:"text-center text-gray-500 text-sm py-8",children:"Select an element to edit its properties"})})]}),r&&i.jsxs("div",{className:"w-96 bg-white border-l border-gray-200 flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsx("h3",{className:"font-semibold text-sm",children:"BPMN XML"})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i.jsx("pre",{className:"text-xs bg-gray-50 p-3 rounded overflow-x-auto",children:i.jsx("code",{children:l})})})]})]})]}),i.jsx("input",{ref:s,type:"file",accept:".bpmn,.xml",onChange:D,className:"hidden"}),i.jsx(sz,{notifications:d,onRemove:f})]})}const az="modulepreload",oz=function(e){return"/"+e},e4={},dl=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=oz(c),c in e4)return;e4[c]=!0;const A=c.endsWith(".css"),d=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const u=document.createElement("link");if(u.rel=A?"stylesheet":az,A||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),A)return new Promise((p,f)=>{u.addEventListener("load",p),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},lt=b.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Zt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));lt.displayName="Card";const Bt=b.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Zt("flex flex-col space-y-1.5 p-6",e),...t}));Bt.displayName="CardHeader";const Nt=b.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Zt("text-2xl font-semibold leading-none tracking-tight",e),...t}));Nt.displayName="CardTitle";const lz=b.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Zt("text-sm text-muted-foreground",e),...t}));lz.displayName="CardDescription";const ct=b.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Zt("p-6 pt-0",e),...t}));ct.displayName="CardContent";const cz=b.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Zt("flex items-center p-6 pt-0",e),...t}));cz.displayName="CardFooter";function hB(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fB="Checkbox",[Az,Gde]=Xi(fB),[dz,uz]=Az(fB),mP=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:A,form:d,...u}=e,[p,f]=b.useState(null),x=Mr(t,E=>f(E)),m=b.useRef(!1),N=p?d||!!p.closest("form"):!0,[g=!1,y]=Xa({prop:s,defaultProp:a,onChange:A}),w=b.useRef(g);return b.useEffect(()=>{const E=p==null?void 0:p.form;if(E){const _=()=>y(w.current);return E.addEventListener("reset",_),()=>E.removeEventListener("reset",_)}},[p,y]),i.jsxs(dz,{scope:r,state:g,disabled:l,children:[i.jsx(Kt.button,{type:"button",role:"checkbox","aria-checked":$c(g)?"mixed":g,"aria-required":o,"data-state":yP(g),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:x,onKeyDown:Mt(e.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Mt(e.onClick,E=>{y(_=>$c(_)?!0:!_),N&&(m.current=E.isPropagationStopped(),m.current||E.stopPropagation())})}),N&&i.jsx(hz,{control:p,bubbles:!m.current,name:n,value:c,checked:g,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:$c(a)?!1:a})]})});mP.displayName=fB;var gP="CheckboxIndicator",vP=b.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=uz(gP,r);return i.jsx(Tl,{present:n||$c(a.state)||a.state===!0,children:i.jsx(Kt.span,{"data-state":yP(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});vP.displayName=gP;var hz=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...a}=e,o=b.useRef(null),l=hB(r),c=cB(t);b.useEffect(()=>{const d=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==r&&f){const x=new Event("click",{bubbles:n});d.indeterminate=$c(r),f.call(d,$c(r)?!1:r),d.dispatchEvent(x)}},[l,r,n]);const A=b.useRef($c(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??A.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function $c(e){return e==="indeterminate"}function yP(e){return $c(e)?"indeterminate":e?"checked":"unchecked"}var xP=mP,fz=vP;const Du=b.forwardRef(({className:e,...t},r)=>i.jsx(xP,{ref:r,className:Zt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(fz,{className:Zt("flex items-center justify-center text-current"),children:i.jsx(w6,{className:"h-4 w-4"})})}));Du.displayName=xP.displayName;var pz=b.createContext(void 0);function fx(e){const t=b.useContext(pz);return e||t||"ltr"}var l1="rovingFocusGroup.onEntryFocus",mz={bubbles:!1,cancelable:!0},px="RovingFocusGroup",[v2,wP,gz]=nx(px),[vz,bP]=Xi(px,[gz]),[yz,xz]=vz(px),CP=b.forwardRef((e,t)=>i.jsx(v2.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(v2.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(wz,{...e,ref:t})})}));CP.displayName=px;var wz=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:A,preventScrollOnEntryFocus:d=!1,...u}=e,p=b.useRef(null),f=Mr(t,p),x=fx(a),[m=null,N]=Xa({prop:o,defaultProp:l,onChange:c}),[g,y]=b.useState(!1),w=ji(A),E=wP(r),_=b.useRef(!1),[D,R]=b.useState(0);return b.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(l1,w),()=>I.removeEventListener(l1,w)},[w]),i.jsx(yz,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:m,onItemFocus:b.useCallback(I=>N(I),[N]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>R(I=>I+1),[]),onFocusableItemRemove:b.useCallback(()=>R(I=>I-1),[]),children:i.jsx(Kt.div,{tabIndex:g||D===0?-1:0,"data-orientation":n,...u,ref:f,style:{outline:"none",...e.style},onMouseDown:Mt(e.onMouseDown,()=>{_.current=!0}),onFocus:Mt(e.onFocus,I=>{const Q=!_.current;if(I.target===I.currentTarget&&Q&&!g){const U=new CustomEvent(l1,mz);if(I.currentTarget.dispatchEvent(U),!U.defaultPrevented){const S=E().filter(H=>H.focusable),P=S.find(H=>H.active),O=S.find(H=>H.id===m),Z=[P,O,...S].filter(Boolean).map(H=>H.ref.current);SP(Z,d)}}_.current=!1}),onBlur:Mt(e.onBlur,()=>y(!1))})})}),BP="RovingFocusGroupItem",NP=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...o}=e,l=Fo(),c=a||l,A=xz(BP,r),d=A.currentTabStopId===c,u=wP(r),{onFocusableItemAdd:p,onFocusableItemRemove:f}=A;return b.useEffect(()=>{if(n)return p(),()=>f()},[n,p,f]),i.jsx(v2.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(Kt.span,{tabIndex:d?0:-1,"data-orientation":A.orientation,...o,ref:t,onMouseDown:Mt(e.onMouseDown,x=>{n?A.onItemFocus(c):x.preventDefault()}),onFocus:Mt(e.onFocus,()=>A.onItemFocus(c)),onKeyDown:Mt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){A.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const m=Bz(x,A.orientation,A.dir);if(m!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let g=u().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const y=g.indexOf(x.currentTarget);g=A.loop?Nz(g,y+1):g.slice(y+1)}setTimeout(()=>SP(g))}})})})});NP.displayName=BP;var bz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Cz(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Bz(e,t,r){const n=Cz(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return bz[n]}function SP(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Nz(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Sz=CP,Ez=NP,pB="Tabs",[jz,Vde]=Xi(pB,[bP]),EP=bP(),[Fz,mB]=jz(pB),jP=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...A}=e,d=fx(l),[u,p]=Xa({prop:n,onChange:s,defaultProp:a});return i.jsx(Fz,{scope:r,baseId:Fo(),value:u,onValueChange:p,orientation:o,dir:d,activationMode:c,children:i.jsx(Kt.div,{dir:d,"data-orientation":o,...A,ref:t})})});jP.displayName=pB;var FP="TabsList",kP=b.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=mB(FP,r),o=EP(r);return i.jsx(Sz,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(Kt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});kP.displayName=FP;var IP="TabsTrigger",PP=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=mB(IP,r),l=EP(r),c=LP(o.baseId,n),A=UP(o.baseId,n),d=n===o.value;return i.jsx(Ez,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Kt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":A,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Mt(e.onMouseDown,u=>{!s&&u.button===0&&u.ctrlKey===!1?o.onValueChange(n):u.preventDefault()}),onKeyDown:Mt(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(n)}),onFocus:Mt(e.onFocus,()=>{const u=o.activationMode!=="manual";!d&&!s&&u&&o.onValueChange(n)})})})});PP.displayName=IP;var _P="TabsContent",TP=b.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=mB(_P,r),c=LP(l.baseId,n),A=UP(l.baseId,n),d=n===l.value,u=b.useRef(d);return b.useEffect(()=>{const p=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(Tl,{present:s||d,children:({present:p})=>i.jsx(Kt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:A,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:p&&a})})});TP.displayName=_P;function LP(e,t){return`${e}-trigger-${t}`}function UP(e,t){return`${e}-content-${t}`}var kz=jP,RP=kP,DP=PP,MP=TP;const md=kz,tA=b.forwardRef(({className:e,...t},r)=>i.jsx(RP,{ref:r,className:Zt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));tA.displayName=RP.displayName;const Vr=b.forwardRef(({className:e,...t},r)=>i.jsx(DP,{ref:r,className:Zt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Vr.displayName=DP.displayName;const Wr=b.forwardRef(({className:e,...t},r)=>i.jsx(MP,{ref:r,className:Zt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Wr.displayName=MP.displayName;var y2;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(y2||(y2={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x2;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(x2||(x2={}));var w2;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(w2||(w2={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=["user","model","function","system"];var C2;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(C2||(C2={}));var B2;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(B2||(B2={}));var N2;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(N2||(N2={}));var S2;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(S2||(S2={}));var Zu;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Zu||(Zu={}));var E2;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(E2||(E2={}));var j2;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(j2||(j2={}));var F2;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(F2||(F2={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class DA extends Bs{constructor(t,r){super(t),this.response=r}}class gB extends Bs{constructor(t,r,n,s){super(t),this.status=r,this.statusText=n,this.errorDetails=s}}class vl extends Bs{}class vB extends Bs{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz="https://generativelanguage.googleapis.com",Pz="v1beta",_z="0.24.1",Tz="genai-js";var gd;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(gd||(gd={}));class Lz{constructor(t,r,n,s,a){this.model=t,this.task=r,this.apiKey=n,this.stream=s,this.requestOptions=a}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Pz;let a=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||Iz}/${n}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function Uz(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${Tz}/${_z}`),t.join(" ")}async function Rz(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",Uz(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(s){throw new vl(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${s.message}`)}for(const[s,a]of n.entries()){if(s==="x-goog-api-key")throw new vl(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new vl(`Header name ${s} can only be set using the apiClient field`);r.append(s,a)}}return r}async function Dz(e,t,r,n,s,a){const o=new Lz(e,t,r,n,a);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},Hz(a)),{method:"POST",headers:await Rz(o),body:s})}}async function _m(e,t,r,n,s,a={},o=fetch){const{url:l,fetchOptions:c}=await Dz(e,t,r,n,s,a);return Mz(l,c,o)}async function Mz(e,t,r=fetch){let n;try{n=await r(e,t)}catch(s){Qz(s,e)}return n.ok||await Oz(n,e),n}function Qz(e,t){let r=e;throw r.name==="AbortError"?(r=new vB(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof gB||e instanceof vl||(r=new Bs(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function Oz(e,t){let r="",n;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,n=s.error.details)}catch{}throw new gB(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function Hz(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),ov(e.candidates[0]))throw new DA(`${pc(e)}`,e);return $z(e)}else if(e.promptFeedback)throw new DA(`Text not available. ${pc(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ov(e.candidates[0]))throw new DA(`${pc(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),t4(e)[0]}else if(e.promptFeedback)throw new DA(`Function call not available. ${pc(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ov(e.candidates[0]))throw new DA(`${pc(e)}`,e);return t4(e)}else if(e.promptFeedback)throw new DA(`Function call not available. ${pc(e)}`,e)},e}function $z(e){var t,r,n,s;const a=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const o of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)o.text&&a.push(o.text),o.executableCode&&a.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&a.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function t4(e){var t,r,n,s;const a=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const o of(s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&a.push(o.functionCall);if(a.length>0)return a}const zz=[Zu.RECITATION,Zu.SAFETY,Zu.LANGUAGE];function ov(e){return!!e.finishReason&&zz.includes(e.finishReason)}function pc(e){var t,r,n;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const a=e.candidates[0];ov(a)&&(s+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(s+=`: ${a.finishMessage}`))}return s}function em(e){return this instanceof em?(this.v=e,this):new em(e)}function Kz(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,a=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(p){n[p]&&(s[p]=function(f){return new Promise(function(x,m){a.push([p,f,x,m])>1||l(p,f)})})}function l(p,f){try{c(n[p](f))}catch(x){u(a[0][3],x)}}function c(p){p.value instanceof em?Promise.resolve(p.value.v).then(A,d):u(a[0][2],p)}function A(p){l("next",p)}function d(p){l("throw",p)}function u(p,f){p(f),a.shift(),a.length&&l(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Gz(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=qz(t),[n,s]=r.tee();return{stream:Wz(n),response:Vz(s)}}async function Vz(e){const t=[],r=e.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)return yB(Xz(t));t.push(s)}}function Wz(e){return Kz(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:s}=yield em(r.read());if(s)break;yield yield em(yB(n))}})}function qz(e){const t=e.getReader();return new ReadableStream({start(n){let s="";return a();function a(){return t.read().then(({value:o,done:l})=>{if(l){if(s.trim()){n.error(new Bs("Failed to parse stream"));return}n.close();return}s+=o;let c=s.match(r4),A;for(;c;){try{A=JSON.parse(c[1])}catch{n.error(new Bs(`Error parsing JSON response: "${c[1]}"`));return}n.enqueue(A),s=s.substring(c[0].length),c=s.match(r4)}return a()}).catch(o=>{let l=o;throw l.stack=o.stack,l.name==="AbortError"?l=new vB("Request aborted when reading from the stream"):l=new Bs("Error reading from the stream"),l})}}})}function Xz(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let s=0;for(const a of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=a.citationMetadata,r.candidates[s].groundingMetadata=a.groundingMetadata,r.candidates[s].finishReason=a.finishReason,r.candidates[s].finishMessage=a.finishMessage,r.candidates[s].safetyRatings=a.safetyRatings,a.content&&a.content.parts){r.candidates[s].content||(r.candidates[s].content={role:a.content.role||"user",parts:[]});const o={};for(const l of a.content.parts)l.text&&(o.text=l.text),l.functionCall&&(o.functionCall=l.functionCall),l.executableCode&&(o.executableCode=l.executableCode),l.codeExecutionResult&&(o.codeExecutionResult=l.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),r.candidates[s].content.parts.push(o)}s++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(e,t,r,n){const s=await _m(t,gd.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return Gz(s)}async function OP(e,t,r,n){const a=await(await _m(t,gd.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:yB(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function tm(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return Jz(t)}function Jz(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,s=!1;for(const a of e)"functionResponse"in a?(r.parts.push(a),s=!0):(t.parts.push(a),n=!0);if(n&&s)throw new Bs("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!s)throw new Bs("No content is provided for sending chat message.");return n?t:r}function Yz(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new vl("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(s)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const a=tm(e);n.contents=[a]}return{generateContentRequest:n}}function n4(e){let t;return e.contents?t=e:t={contents:[tm(e)]},e.systemInstruction&&(t.systemInstruction=HP(e.systemInstruction)),t}function Zz(e){return typeof e=="string"||Array.isArray(e)?{content:tm(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],eK={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function tK(e){let t=!1;for(const r of e){const{role:n,parts:s}=r;if(!t&&n!=="user")throw new Bs(`First content should be with role 'user', got ${n}`);if(!b2.includes(n))throw new Bs(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(b2)}`);if(!Array.isArray(s))throw new Bs("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Bs("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of s)for(const c of s4)c in l&&(a[c]+=1);const o=eK[n];for(const l of s4)if(!o.includes(l)&&a[l]>0)throw new Bs(`Content with role '${n}' can't contain '${l}' part`);t=!0}}function i4(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="SILENT_ERROR";class $P{constructor(t,r,n,s={}){this.model=r,this.params=n,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(tK(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,s,a,o,l,c;await this._sendPromise;const A=tm(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,A]},u=Object.assign(Object.assign({},this._requestOptions),r);let p;return this._sendPromise=this._sendPromise.then(()=>OP(this._apiKey,this.model,d,u)).then(f=>{var x;if(i4(f.response)){this._history.push(A);const m=Object.assign({parts:[],role:"model"},(x=f.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(m)}else{const m=pc(f.response);m&&console.warn(`sendMessage() was unsuccessful. ${m}. Inspect response object for details.`)}p=f}).catch(f=>{throw this._sendPromise=Promise.resolve(),f}),await this._sendPromise,p}async sendMessageStream(t,r={}){var n,s,a,o,l,c;await this._sendPromise;const A=tm(t),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,A]},u=Object.assign(Object.assign({},this._requestOptions),r),p=QP(this._apiKey,this.model,d,u);return this._sendPromise=this._sendPromise.then(()=>p).catch(f=>{throw new Error(a4)}).then(f=>f.response).then(f=>{if(i4(f)){this._history.push(A);const x=Object.assign({},f.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=pc(f);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(f=>{f.message!==a4&&console.error(f)}),p}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rK(e,t,r,n){return(await _m(t,gd.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nK(e,t,r,n){return(await _m(t,gd.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function sK(e,t,r,n){const s=r.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await _m(t,gd.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=HP(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const s=n4(t),a=Object.assign(Object.assign({},this._requestOptions),r);return OP(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),a)}async generateContentStream(t,r={}){var n;const s=n4(t),a=Object.assign(Object.assign({},this._requestOptions),r);return QP(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},s),a)}startChat(t){var r;return new $P(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=Yz(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return rK(this.apiKey,this.model,n,s)}async embedContent(t,r={}){const n=Zz(t),s=Object.assign(Object.assign({},this._requestOptions),r);return nK(this.apiKey,this.model,n,s)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return sK(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new Bs("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new k2(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new vl("Cached content must contain a `name` field.");if(!t.model)throw new vl("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(r!=null&&r[o]&&t[o]&&(r==null?void 0:r[o])!==t[o]){if(o==="model"){const l=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===c)continue}throw new vl(`Different value for "${o}" specified in modelParams (${r[o]}) and cachedContent (${t[o]})`)}const a=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new k2(this.apiKey,a,n)}}const o4=Object.freeze(Object.defineProperty({__proto__:null,get BlockReason(){return S2},ChatSession:$P,get DynamicRetrievalMode(){return F2},get ExecutableCodeLanguage(){return x2},get FinishReason(){return Zu},get FunctionCallingMode(){return j2},GenerativeModel:k2,GoogleGenerativeAI:ls,GoogleGenerativeAIAbortError:vB,GoogleGenerativeAIError:Bs,GoogleGenerativeAIFetchError:gB,GoogleGenerativeAIRequestInputError:vl,GoogleGenerativeAIResponseError:DA,get HarmBlockThreshold(){return B2},get HarmCategory(){return C2},get HarmProbability(){return N2},get Outcome(){return w2},POSSIBLE_ROLES:b2,get SchemaType(){return y2},get TaskType(){return E2}},Symbol.toStringTag,{value:"Module"})),Gh=new ls("AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg"),l4=console.error;console.error=(...e)=>{var t,r,n,s;(r=(t=e[0])==null?void 0:t.includes)!=null&&r.call(t,"Gemini")||(s=(n=e[0])==null?void 0:n.includes)!=null&&s.call(n,"API")?l4(" GEMINI API DEBUG:",...e):l4(...e)};async function iK(e){if(!e.trim())throw new Error("Prompt is required");console.log(" Starting Gemini API call for flow analysis...");try{const t=Gh.getGenerativeModel({model:"gemini-2.0-flash-lite",generationConfig:{temperature:.3,topK:40,topP:.95,maxOutputTokens:2048}});console.log(" Sending request to Gemini API...");const s=(await(await t.generateContent(e)).response).text();if(console.log(" Received response from Gemini API, length:",s.length),!s||s.trim().length===0)throw new Error("Empty response from Gemini API");return s}catch(t){throw console.error(" Gemini API Error:",t),new Error(`Gemini API failed: ${t.message}`)}}async function iy(e){if(!e.trim())throw new Error("Project description is required");const t=Gh.getGenerativeModel({model:"gemini-2.0-flash-lite",generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:2048}}),r=`Analyze this project description and generate 10-15 highly relevant, actionable enhancement suggestions: "${e}"

SUGGESTION CATEGORIES (include 2-3 from each):

1. **Advanced Technical Features**
   - AI/ML integrations and automation
   - Advanced security implementations
   - Performance optimizations and caching
   - Real-time capabilities and websockets
   - API integrations and third-party services

2. **User Experience Enhancements**
   - Accessibility improvements (WCAG compliance)
   - Mobile-first responsive design
   - Progressive web app capabilities
   - User onboarding and tutorial systems
   - Personalization and customization options

3. **Business Intelligence & Analytics**
   - Comprehensive analytics and reporting
   - A/B testing framework implementation
   - User behavior tracking and insights
   - Performance monitoring and KPIs
   - Business intelligence dashboards

4. **Quality & Reliability**
   - Comprehensive testing strategies (unit, integration, e2e)
   - Error handling and graceful degradation
   - Monitoring and alerting systems
   - Backup and disaster recovery plans
   - Load testing and stress testing protocols

5. **Scalability & Infrastructure**
   - Microservices architecture implementation
   - Container orchestration and deployment
   - CDN integration for global performance
   - Database optimization and sharding
   - Auto-scaling and load balancing

REQUIREMENTS:
- Each suggestion must be specific and actionable
- Include implementation complexity consideration
- Focus on measurable business value
- Ensure suggestions are relevant to the project type
- Include both short-term and long-term enhancements
- Consider industry best practices and standards

Return ONLY a JSON array of suggestion strings with no explanations, markdown, or additional text.

Example format: ["Implement multi-factor authentication (MFA) and biometric login options for enhanced security", "Develop a personalized onboarding experience with interactive tutorials tailored to user financial literacy levels"]`,a=(await(await t.generateContent(r)).response).text();try{let o=a.trim();o.startsWith("```json")&&(o=o.replace(/^```json\s*/,"").replace(/```\s*$/,"")),o.startsWith("```")&&(o=o.replace(/^```\s*/,"").replace(/```\s*$/,""));const l=JSON.parse(o);if(!Array.isArray(l)||l.length<8)throw new Error("Invalid suggestions format");return l.slice(0,15)}catch(o){return console.error("Failed to parse suggestions JSON:",o),a.split(`
`).map(c=>c.trim()).filter(c=>c&&!c.includes("```")&&!c.includes("JSON")&&!c.startsWith("Here")&&!c.startsWith("Based")&&c.length>20).map(c=>c.replace(/^[\d\.\-\*\+]\s*/,"")).filter(c=>c.length>30).slice(0,12)}}async function zP(e){if(!e.trim())throw new Error("Project description is required");const t=Gh.getGenerativeModel({model:"gemini-2.0-flash-lite",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192}}),r=`Create a comprehensive, detailed project plan for: "${e}"

CRITICAL REQUIREMENT: The document MUST start with a Table of Contents and include ALL 10 sections with exact numbering and titles as shown below.

MANDATORY STRUCTURE:

**Table of Contents**
1. Executive Summary
2. Technical Architecture & Infrastructure
3. Detailed Feature Specifications
4. Development Methodology & Timeline
5. User Experience & Interface Design
6. Quality Assurance & Testing Strategy
7. Deployment & DevOps Strategy
8. Risk Management & Mitigation
9. Stakeholder Management
10. Post-Launch Strategy

MANDATORY SECTIONS (ALL MUST BE INCLUDED WITH EXACT TITLES):

1. **Executive Summary**
   - Project purpose and vision
   - Key objectives and success metrics table
   - Target audience and market analysis
   - Budget estimation with cost breakdown table
   - ROI projections with timeline chart
   - **VISUALS**: Executive dashboard table, ROI timeline chart, stakeholder tree view

2. **Technical Architecture & Infrastructure**
   - Complete technology stack comparison table
   - System architecture flow diagram (ASCII art)
   - Database design with entity relationship tree
   - Security architecture flow diagram
   - Scalability progression timeline
   - Third-party integrations dependency tree
   - **VISUALS**: Architecture flow diagram, technology stack table, integration tree view

3. **Detailed Feature Specifications**
   - Core functionality comparison table
   - User stories with priority matrix table
   - User roles and permissions matrix
   - Feature prioritization tree (MVP  Future phases)
   - Acceptance criteria checklist tables
   - **VISUALS**: Feature tree hierarchy, user stories table, permissions matrix

4. **Development Methodology & Timeline**
   - Project phases timeline (Gantt-style)
   - Sprint planning table with deliverables
   - Team structure organization chart tree
   - Resource allocation timeline chart
   - Dependencies flow diagram
   - Critical path analysis with timeline
   - **VISUALS**: Gantt timeline, team org tree, dependency flow diagram

5. **User Experience & Interface Design**
   - User persona comparison table
   - User journey flow diagrams (ASCII)
   - Wireframe description with layout tree
   - Accessibility compliance checklist table
   - Responsive design breakpoint table
   - **VISUALS**: User journey flowcharts, persona comparison table, design tree structure

6. **Quality Assurance & Testing Strategy**
   - Testing methodology comparison table
   - Test case execution timeline
   - Quality metrics dashboard table
   - Bug severity classification table
   - Testing workflow flow diagram
   - **VISUALS**: Testing workflow diagram, QA timeline, metrics dashboard table

7. **Deployment & DevOps Strategy**
   - Environment progression flow diagram
   - CI/CD pipeline flow chart (ASCII)
   - Deployment timeline with milestones
   - Infrastructure monitoring table
   - Backup strategy timeline
   - **VISUALS**: CI/CD flow diagram, deployment timeline, infrastructure table

8. **Risk Management & Mitigation**
   - Risk assessment matrix table
   - Risk mitigation flow diagram
   - Risk probability timeline
   - Contingency planning tree structure
   - Impact vs likelihood chart
   - **VISUALS**: Risk matrix table, mitigation flow diagram, contingency tree

9. **Stakeholder Management**
   - Stakeholder hierarchy tree
   - Communication plan timeline
   - Responsibility assignment matrix (RACI)
   - Approval workflow diagram
   - Change management process flow
   - **VISUALS**: Stakeholder org tree, communication timeline, RACI matrix

10. **Post-Launch Strategy**
    - Launch timeline with milestones
    - KPI tracking dashboard table
    - Feature roadmap timeline
    - Growth strategy flow diagram
    - Maintenance schedule table
    - **VISUALS**: Launch timeline, KPI dashboard, roadmap timeline, growth flow diagram

MANDATORY VISUAL ELEMENTS FOR EACH SECTION:

1. **Flow Diagrams**: ASCII/Unicode flowcharts with boxes (), arrows (), and decision diamonds ()
   Example: 
       
      Start           Process   
       

2. **Tabular Data**: Professional HTML tables with headers, alternating row colors, and responsive design
   - Include comparison tables, feature matrices, cost breakdowns, and data summaries
   - Use proper table headers, sorting indicators, and status badges

3. **Tree Views**: Hierarchical structures using text-based indentation and Unicode tree characters ()
   Example:
    Executive Summary
       Objectives
       Budget Analysis
    Technical Architecture

4. **Timeline Views**: Gantt-style representations using CSS progress bars and milestone markers
   - Show project phases, dependencies, and critical paths
   - Include percentage completion and milestone dates

5. **Progress Indicators**: CSS-based progress bars with percentages and status colors
   - Green for completed tasks, yellow for in-progress, red for blocked

6. **Charts & Graphs**: Data visualizations using CSS bar charts, pie charts with Unicode characters
   - Include budget breakdowns, resource allocation, and performance metrics

FORMATTING REQUIREMENTS:
- Complete HTML document with embedded CSS that matches the application's blue-purple gradient theme
- Use the application's color palette: blue (#3B82F6), purple (#8B5CF6), cyan (#06B6D4), gray gradients
- Professional corporate styling with rounded corners (8px-12px), subtle shadows, and glassmorphism effects
- Responsive design for all devices with mobile-optimized tables and diagrams
- Typography: Use system fonts (ui-sans-serif, system-ui, sans-serif) with proper line heights (1.6)
- Color scheme: White/light gray backgrounds (#F8FAFC, #F1F5F9), dark text (#1F2937), blue accent colors
- Interactive table of contents with anchor links using gradient backgrounds
- Professional charts, diagrams, and data visualizations with the theme colors
- CSS-based progress bars using blue-purple gradients and rounded styling
- Print-friendly styling with page breaks and consistent spacing
- Accessibility-compliant markup with proper ARIA labels and focus states
- Hover effects using the theme's blue/purple color transitions

VISUAL ELEMENT EXAMPLES TO INCLUDE:

**Sample Flow Diagram Template:**
<pre class="flow-diagram">
        
 Requirements      Design         Approved?   
        
                                             Yes
                                   
                                    Development 
                                   
</pre>

**Sample Table Template:**
<table class="project-table">
  <thead>
    <tr><th>Feature</th><th>Priority</th><th>Effort</th><th>Status</th></tr>
  </thead>
  <tbody>
    <tr><td>User Auth</td><td><span class="priority-high">High</span></td><td>5 days</td><td class="status-complete"> Complete</td></tr>
  </tbody>
</table>

**Required CSS Classes for Theme Consistency:**
<style>
/* Ensure full document height visibility */
html, body {
  margin: 0;
  padding: 0;
  min-height: 100%;
  overflow-x: hidden;
  font-family: ui-sans-serif, system-ui, -apple-system, sans-serif;
  line-height: 1.6;
  color: #1F2937;
  background: #F8FAFC;
}

.document-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  min-height: 100vh;
  background: white;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
}

.project-table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0;
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}
.project-table th {
  background: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%);
  color: white;
  padding: 1rem;
  text-align: left;
  font-weight: 600;
}
.project-table td {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid #E5E7EB;
}
.project-table tr:hover {
  background: #F8FAFC;
}
.priority-high { 
  background: linear-gradient(135deg, #EF4444, #DC2626);
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
}
.status-complete {
  background: linear-gradient(135deg, #10B981, #059669);
  color: white;
  padding: 0.25rem 0.5rem;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
}
.timeline-bar {
  background: linear-gradient(135deg, #3B82F6, #8B5CF6);
  height: 24px;
  border-radius: 12px;
  position: relative;
  overflow: hidden;
  margin: 0.5rem 0;
}
.section-header {
  background: linear-gradient(135deg, #F8FAFC 0%, #E5E7EB 100%);
  padding: 1.5rem;
  border-radius: 12px;
  margin: 2rem 0 1rem 0;
  border-left: 4px solid #3B82F6;
  page-break-inside: avoid;
}
.flow-diagram {
  background: #F8FAFC;
  border: 1px solid #E5E7EB;
  border-radius: 8px;
  padding: 1rem;
  font-family: 'Courier New', monospace;
  margin: 1rem 0;
  overflow-x: auto;
  white-space: pre;
}
.tree-view {
  background: #F8FAFC;
  border: 1px solid #E5E7EB;
  border-radius: 8px;
  padding: 1rem;
  font-family: 'Courier New', monospace;
  line-height: 1.5;
  margin: 1rem 0;
  overflow-x: auto;
  white-space: pre;
}

/* Ensure content sections have proper spacing */
.content-section {
  margin: 2rem 0;
  padding-bottom: 2rem;
  border-bottom: 1px solid #E5E7EB;
}

.content-section:last-child {
  border-bottom: none;
  padding-bottom: 4rem;
}

/* Table of contents styling */
.toc {
  background: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%);
  color: white;
  padding: 2rem;
  border-radius: 12px;
  margin: 2rem 0;
}

.toc a {
  color: white;
  text-decoration: none;
  display: block;
  padding: 0.5rem 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.toc a:hover {
  background: rgba(255, 255, 255, 0.1);
  padding-left: 1rem;
  transition: all 0.3s ease;
}

/* Print styles */
@media print {
  .document-container {
    max-width: none;
    margin: 0;
    padding: 1rem;
    box-shadow: none;
  }
  
  .section-header {
    page-break-after: avoid;
  }
  
  .project-table {
    page-break-inside: avoid;
  }
}
</style>

**Sample Tree View Template:**
<pre class="tree-view">
Project Structure
 Frontend Development
    React Components
    State Management
    UI/UX Design
 Backend Development
    API Development
    Database Design
    Authentication
 DevOps & Deployment
     CI/CD Pipeline
     Infrastructure Setup
</pre>

**Sample Timeline Template:**
<div class="timeline">
  <div class="timeline-item">
    <div class="timeline-bar" style="width: 75%; background-color: #4CAF50;"></div>
    <span>Phase 1: Planning (75% Complete)</span>
  </div>
</div>

QUALITY STANDARDS:
- Each section must be substantial (minimum 300 words)
- Include specific, actionable details with quantifiable metrics
- Provide realistic timelines with buffer considerations
- Use industry-standard terminology and best practices
- Include measurable success criteria with KPIs
- Address scalability, security, and maintainability from day one
- Every section MUST include the specified visual elements

CRITICAL VISUAL REQUIREMENTS:
- Minimum 3 tables per section with real data
- At least 2 flow diagrams showing process workflows
- 1 tree structure showing hierarchical organization
- Timeline charts with specific dates and milestones
- Progress indicators showing completion percentages
- All visuals must be styled with professional CSS

Return ONLY the complete HTML document with embedded CSS. The document must be production-ready, visually rich, and comprehensive enough for actual project implementation.`,a=(await(await t.generateContent(r)).response).text(),o=["Table of Contents","1. Executive Summary","2. Technical Architecture & Infrastructure","3. Detailed Feature Specifications","4. Development Methodology & Timeline","5. User Experience & Interface Design","6. Quality Assurance & Testing Strategy","7. Deployment & DevOps Strategy","8. Risk Management & Mitigation","9. Stakeholder Management","10. Post-Launch Strategy"],l=o.filter(c=>!a.includes(c));if(l.length>0){console.warn(`Retrying generation - missing sections: ${l.join(", ")}`);const c=`Create a comprehensive project plan for: "${e}"

ABSOLUTE REQUIREMENT: Include EXACTLY these sections in this order:

Table of Contents
1. Executive Summary
2. Technical Architecture & Infrastructure
3. Detailed Feature Specifications
4. Development Methodology & Timeline
5. User Experience & Interface Design
6. Quality Assurance & Testing Strategy
7. Deployment & DevOps Strategy
8. Risk Management & Mitigation
9. Stakeholder Management
10. Post-Launch Strategy

Each section must include:
- Flow diagrams using ASCII characters
- Professional HTML tables with data
- Tree structures for hierarchical organization
- Timeline charts with milestones
- Progress indicators

The document must be complete HTML with embedded CSS styling. Do not skip or merge any sections.`,u=(await(await t.generateContent(c)).response).text(),p=o.filter(f=>!u.includes(f));if(p.length>0){console.warn(`Second validation failed - still missing: ${p.join(", ")}`);const f=`Generate HTML project plan with these EXACT headings:

<h1>Table of Contents</h1>
<h2>1. Executive Summary</h2>
<h2>2. Technical Architecture & Infrastructure</h2>
<h2>3. Detailed Feature Specifications</h2>
<h2>4. Development Methodology & Timeline</h2>
<h2>5. User Experience & Interface Design</h2>
<h2>6. Quality Assurance & Testing Strategy</h2>
<h2>7. Deployment & DevOps Strategy</h2>
<h2>8. Risk Management & Mitigation</h2>
<h2>9. Stakeholder Management</h2>
<h2>10. Post-Launch Strategy</h2>

For project: "${e}"

Include visual elements: tables, flow diagrams, tree structures, timelines in each section.`;return(await(await t.generateContent(f)).response).text()}return u}return a}async function KP(e){if(!e.trim())throw new Error("Project plan is required");const t=Gh.getGenerativeModel({model:"gemini-2.0-flash-lite"}),r=`Generate a comprehensive XML sitemap based on this project plan: "${e}"

Create a realistic sitemap.xml file that includes:
- Homepage and core navigation pages
- Feature-specific pages based on the project plan
- User account and profile pages
- Administrative and management pages
- API documentation and developer resources
- Support and help pages
- Legal and policy pages
- Blog or content sections if applicable
- Search and filtering pages
- Mobile-specific pages if needed

**Requirements:**
- Valid XML sitemap format following sitemap.org protocol
- Realistic URLs that match the project type and structure
- Proper priority values (0.1 to 1.0) based on page importance
- Appropriate changefreq values (always, hourly, daily, weekly, monthly, yearly, never)
- lastmod dates set to current date for all pages
- Clean, properly formatted XML structure
- URLs should be realistic for the project description
- Include both user-facing and administrative pages
- Relevant to the project description

**XML Requirements:**
- Valid XML sitemap format following sitemap.org protocol
- Proper XML declaration and namespace
- Clean, properly formatted structure
- URLs should be realistic for the project type
- Include at least 15-25 pages for comprehensive coverage

Return ONLY the complete XML sitemap - no explanations or markdown.`;return(await(await t.generateContent(r)).response).text()}async function GP(e){if(!e.trim())throw new Error("Project plan is required");const t=Gh.getGenerativeModel({model:"gemini-2.0-flash-lite"}),r=`Analyze this project plan and extract all stakeholders/user personas and their potential workflow types: "${e}"

Extract:
1. **Stakeholders/Personas**: All distinct user types, roles, or personas mentioned in the project plan
2. **Flow Types**: For each stakeholder, identify different workflow scenarios they might encounter

Examples of stakeholders: Guest User, Registered User, Admin, Content Manager, Customer Support, Developer, Power User, Mobile User, API Consumer, etc.

Examples of flow types per stakeholder:
- Guest User: Registration Flow, Browse Content Flow, Search Flow
- Admin: User Management Flow, Content Moderation Flow, Analytics Review Flow
- Customer: Purchase Flow, Support Request Flow, Account Management Flow

Return ONLY a JSON object in this exact format:
{
  "stakeholders": ["Stakeholder1", "Stakeholder2", ...],
  "flowTypes": {
    "Stakeholder1": ["Flow Type A", "Flow Type B", ...],
    "Stakeholder2": ["Flow Type C", "Flow Type D", ...]
  }
}`,a=(await(await t.generateContent(r)).response).text();try{let o=a.trim();return o.startsWith("```json")&&(o=o.replace(/^```json\s*/,"").replace(/```\s*$/,"")),o.startsWith("```")&&(o=o.replace(/^```\s*/,"").replace(/```\s*$/,"")),JSON.parse(o)}catch(o){return console.error("Failed to parse stakeholders JSON:",o),{stakeholders:["Guest User","Registered User","Admin User","Power User","Mobile User"],flowTypes:{"Guest User":["Registration Flow","Browse Content Flow","Search Flow"],"Registered User":["Login Flow","Main Features Flow","Profile Management Flow"],"Admin User":["User Management Flow","System Configuration Flow","Analytics Flow"],"Power User":["Advanced Features Flow","Bulk Operations Flow","API Integration Flow"],"Mobile User":["Mobile App Flow","Offline Sync Flow","Push Notification Flow"]}}}}async function aK(e,t,r){const n=Gh.getGenerativeModel({model:"gemini-2.0-flash-lite",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:4096}}),s=e.replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),a=t.replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),o=`Generate a BPMN 2.0 XML swimlane diagram based on these specifications:

STAKEHOLDER: ${e}
FLOW TYPE: ${t}
DESCRIPTION: ${r.description}

PARTICIPANTS:
${r.participants.map((d,u)=>`${u+1}. ${d}`).join(`
`)}

ACTIVITIES:
${r.activities.map((d,u)=>`${u+1}. ${d}`).join(`
`)}

Create a BPMN 2.0 XML with proper swimlane structure including:
- Participant pools for different actors/systems involved in this flow
- Process flows with start events, service tasks, and end events
- Proper BPMN 2.0 XML namespace declarations
- Valid diagram interchange (DI) elements for visual layout
- Sequence flows connecting all elements
- Swimlanes representing main actors (${e}, System, External Services)

CRITICAL XML ID REQUIREMENTS:
- All IDs must be valid XML identifiers (no spaces, parentheses, commas, or special characters)
- Use only alphanumeric characters and underscores for IDs
- Example valid IDs: "Process_${s}_${a}", "Pool_${s}", "Activity_1", "Flow_1"
- Invalid characters: ( ) , . - /  @ # $ % ^ & * + = | [ ] { } < > ? ! ~ \` " '

BPMN STRUCTURE REQUIREMENTS:
- Return ONLY valid BPMN 2.0 XML
- No markdown formatting or explanations
- Include proper xmlns declarations exactly as shown:
  xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
  xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
- Use collaboration with participant pools for swimlanes
- Include bpmndi:BPMNDiagram for visual layout
- Process flows connecting the core processes in logical sequence
- Service tasks for key components
- Start and end events
- Gateways where decisions are needed
- Do not include unknown attributes like dx, dy in waypoints

EXAMPLE VALID STRUCTURE:
<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn2:collaboration id="Collaboration_1">
    <bpmn2:participant id="Pool_${s}" name="${e}" processRef="Process_${s}_${a}" />
  </bpmn2:collaboration>
  <bpmn2:process id="Process_${s}_${a}" isExecutable="true">
    <bpmn2:startEvent id="StartEvent_1" name="Start ${t}" />
    <bpmn2:serviceTask id="Activity_1" name="Task Name" />
    <bpmn2:endEvent id="EndEvent_1" name="End ${t}" />
    <bpmn2:sequenceFlow id="Flow_1" sourceRef="StartEvent_1" targetRef="Activity_1" />
    <bpmn2:sequenceFlow id="Flow_2" sourceRef="Activity_1" targetRef="EndEvent_1" />
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1">
      <bpmndi:BPMNShape id="Pool_${s}_di" bpmnElement="Pool_${s}" isHorizontal="true">
        <dc:Bounds x="160" y="80" width="600" height="250" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_1_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="212" y="162" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1_di" bpmnElement="Activity_1">
        <dc:Bounds x="320" y="140" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="502" y="162" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="248" y="180" />
        <di:waypoint x="320" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_2_di" bpmnElement="Flow_2">
        <di:waypoint x="420" y="180" />
        <di:waypoint x="502" y="180" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>

Return ONLY the complete BPMN 2.0 XML - no explanations or markdown.`;let A=(await(await n.generateContent(o)).response).text();if(A=A.replace(/```xml\n?/g,"").replace(/```\n?/g,"").trim(),!A.startsWith("<?xml")&&!A.startsWith("<bpmn"))throw console.error("Invalid BPMN XML response:",A),new Error("Generated content is not valid BPMN XML");return A}const c4=Object.freeze(Object.defineProperty({__proto__:null,extractStakeholdersFromProject:GP,generateCustomSuggestions:iy,generateFlowAnalysis:iK,generateProjectPlan:zP,generateSitemapXml:KP,generateSwimlaneXml:aK},Symbol.toStringTag,{value:"Module"}));class oK{constructor(){this.maxRetries=3,this.retryDelay=2e3;const t=new ls("AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg");this.model=t.getGenerativeModel({model:"gemini-2.0-flash-lite",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192}})}async generateComprehensiveProjectPlan(t,r={},n){n==null||n("Analyzing project requirements",10);const a={...await this.analyzeProjectRequirements(t),...r};n==null||n("Creating technical architecture plan",20);const o=await this.generateAllSections(a,t,n);n==null||n("Calculating project metrics",90);const l=o.reduce((d,u)=>d+u.estimatedHours,0),c=this.calculateProjectCost(l,a),A=this.identifyCriticalPath(o);return n==null||n("Finalizing project plan",100),{projectOverview:o[0],technicalArchitecture:o[1],developmentPhases:o.slice(2,7),riskManagement:o[7],qualityAssurance:o[8],deployment:o[9],maintenance:o[10],budgetBreakdown:o[11],timelineDetails:o[12],teamStructure:o[13],stakeholderMatrix:o[14],complianceRequirements:o[15],scalabilityPlan:o[16],securityFramework:o[17],totalEstimatedHours:l,totalEstimatedCost:c,criticalPath:A}}async analyzeProjectRequirements(t){const r=`
Analyze the following project description and extract structured requirements:

"${t}"

Return a JSON object with the following structure:
{
  "projectType": "web_app | mobile_app | desktop_app | ai_system | iot_platform | enterprise_software | ecommerce | saas",
  "industry": "technology | healthcare | finance | education | retail | manufacturing | other",
  "scope": "small | medium | large | enterprise",
  "timeline": "estimated timeline in months",
  "budget": "estimated budget range",
  "teamSize": "recommended team size",
  "technicalComplexity": "low | medium | high | expert",
  "requirements": ["list", "of", "functional", "requirements"],
  "stakeholders": ["list", "of", "stakeholder", "types"],
  "constraints": ["list", "of", "project", "constraints"]
}

Ensure realistic estimates based on project complexity.`;try{const s=(await this.retryableRequest(()=>this.model.generateContent(r))).response.text(),a=this.extractJsonFromResponse(s);return JSON.parse(a)}catch(n){return console.warn("Failed to analyze requirements, using defaults:",n),this.getDefaultRequirements()}}async generateAllSections(t,r,n){const s=this.buildSectionPrompts(t,r),a=[],o=3;for(let l=0;l<s.length;l+=o){const A=s.slice(l,l+o).map(async(u,p)=>{const x=20+(l+p)/s.length*70;n==null||n(u.title,x);try{return await this.generateSection(u,t)}catch(m){return console.warn(`Failed to generate section: ${u.title}`,m),this.getFallbackSection(u.title)}}),d=await Promise.all(A);a.push(...d),l+o<s.length&&await new Promise(u=>setTimeout(u,1e3))}return a}buildSectionPrompts(t,r){return[{title:"Project Overview",prompt:`Create a comprehensive project overview for: "${r}" using modern HTML with responsive design elements.

        Use these exact CSS template patterns for consistent styling:

        <!-- Modern Card Template -->
        <div class="modern-card" style="background: linear-gradient(135deg, #ffffff, #f8fafc); border: 2px solid #e2e8f0; border-radius: 16px; padding: 24px; margin: 20px 0; box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1); position: relative; overflow: hidden;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899);"></div>
          <h3 style="color: #6366f1; margin-bottom: 16px; font-weight: 700;">Card Title</h3>
          <p style="color: #374151; line-height: 1.6; margin-bottom: 16px;">Card content goes here...</p>
        </div>

        <!-- Modern List Template -->
        <ul class="modern-list" style="margin: 20px 0; padding: 0; list-style: none;">
          <li style="margin: 12px 0; padding: 16px 20px 16px 44px; background: linear-gradient(135deg, #ffffff, #f8fafc); border: 1px solid #e2e8f0; border-radius: 8px; position: relative; transition: all 0.2s ease; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);">
            <div style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); width: 8px; height: 8px; background: linear-gradient(135deg, #6366f1, #8b5cf6); border-radius: 50%; box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);"></div>
            List item content
          </li>
        </ul>

        <!-- Modern Table Template -->
        <table style="width: 100%; border-collapse: separate; border-spacing: 0; margin: 24px 0; background: linear-gradient(135deg, #ffffff, #f8fafc); border-radius: 12px; overflow: hidden; box-shadow: 0 6px 20px -5px rgba(0, 0, 0, 0.1); border: 2px solid #e2e8f0; position: relative;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899);"></div>
          <thead>
            <tr>
              <th style="padding: 18px; background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; font-weight: 700; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px; text-align: left;">Header</th>
            </tr>
          </thead>
          <tbody>
            <tr style="transition: all 0.2s ease;">
              <td style="padding: 16px 18px; background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); border-bottom: 1px solid #e2e8f0; color: #374151;">Content</td>
            </tr>
          </tbody>
        </table>

        <!-- Tree Structure Template -->
        <div class="tree-structure" style="margin: 24px 0; padding: 20px; background: linear-gradient(135deg, #f8fafc, #f1f5f9); border-radius: 12px; border: 1px solid #e2e8f0;">
          <div class="tree-node" style="margin: 8px 0; padding: 12px 16px; background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; border-radius: 8px; font-weight: 600; position: relative;">
            Root Node
            <div class="tree-children" style="margin-left: 24px; margin-top: 12px; border-left: 2px solid #8b5cf6; padding-left: 16px;">
              <div class="tree-child" style="margin: 8px 0; padding: 10px 14px; background: linear-gradient(135deg, #ffffff, #f8fafc); border: 1px solid #e2e8f0; border-radius: 6px; color: #374151; position: relative;">
                Child Node
              </div>
            </div>
          </div>
        </div>

        <!-- Flow Diagram Template -->
        <div class="flowchart" style="display: flex; flex-wrap: wrap; gap: 16px; margin: 20px 0; justify-content: center; align-items: center; padding: 24px; background: linear-gradient(135deg, #f8fafc, #f1f5f9); border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.05);">
          <div class="flow-step" style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; padding: 14px 20px; border-radius: 12px; font-weight: 600; position: relative; min-width: 140px; text-align: center; box-shadow: 0 4px 12px -2px rgba(99, 102, 241, 0.3); transition: all 0.3s ease; font-size: 14px; border: 2px solid rgba(255, 255, 255, 0.2);">
            Step 1
            <div style="position: absolute; right: -18px; top: 50%; transform: translateY(-50%); width: 0; height: 0; border-top: 10px solid transparent; border-bottom: 10px solid transparent; border-left: 14px solid #6366f1; z-index: 10;"></div>
          </div>
          <div class="flow-step" style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; padding: 14px 20px; border-radius: 12px; font-weight: 600; position: relative; min-width: 140px; text-align: center; box-shadow: 0 4px 12px -2px rgba(99, 102, 241, 0.3); transition: all 0.3s ease; font-size: 14px; border: 2px solid rgba(255, 255, 255, 0.2);">
            Step 2
          </div>
        </div>

        <!-- Architecture Diagram Template -->
        <div class="architecture-diagram">
          <h3 style="color: #6366f1; margin-bottom: 16px; font-weight: 700;">Architecture Overview</h3>
          <div class="diagram-container">
            <div class="diagram-box primary">
              <div class="diagram-title">Frontend</div>
              <div class="diagram-subtitle">User Interface</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Backend</div>
              <div class="diagram-subtitle">API Services</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Database</div>
              <div class="diagram-subtitle">Data Storage</div>
            </div>
            <div class="diagram-box info">
              <div class="diagram-title">External APIs</div>
              <div class="diagram-subtitle">Third-party Services</div>
            </div>
          </div>
        </div>

        <!-- Section Divider Template -->
        <div class="section-divider" style="display: flex; align-items: center; margin: 24px 0; position: relative;">
          <div style="flex: 1; height: 2px; background: linear-gradient(90deg, transparent, #6366f1, #8b5cf6, transparent);"></div>
          <div class="section-divider-text" style="padding: 0 20px; background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; border-radius: 20px; font-size: 13px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; box-shadow: 0 4px 12px -2px rgba(99, 102, 241, 0.3);">Section Title</div>
          <div style="flex: 1; height: 2px; background: linear-gradient(90deg, transparent, #6366f1, #8b5cf6, transparent);"></div>
        </div>

        Generate HTML with these specific styling patterns:

        <div class="section-divider">
          <div class="section-divider-text">Project Overview</div>
        </div>

        <div class="architecture-diagram">
          <h3>Executive Summary</h3>
          <p>Brief overview content here...</p>
          
          <div class="flowchart">
            <div class="flow-step">Vision</div>
            <div class="flow-step">Strategy</div>
            <div class="flow-step">Execution</div>
            <div class="flow-step">Success</div>
          </div>
        </div>

        <h3>Key Objectives & Success Criteria</h3>
        <ul>
          <li>Primary objective with measurable outcomes</li>
          <li>Secondary objectives aligned with business goals</li>
          <li>Success metrics and KPIs</li>
        </ul>

        <div class="architecture-diagram">
          <h3>Project Value Flow</h3>
          <div class="diagram-container">
            <!-- Start -->
            <div class="diagram-box terminal primary" style="grid-column: 1; grid-row: 2;">
              <div class="diagram-title">Start</div>
            </div>
            
            <!-- Analysis -->
            <div class="diagram-box process secondary" style="grid-column: 3; grid-row: 2;">
              <div class="diagram-title">Analysis</div>
              <div class="diagram-subtitle">Requirements</div>
            </div>
            
            <!-- Decision -->
            <div class="diagram-box decision info" style="grid-column: 5; grid-row: 2;">
              <div class="diagram-title">Approved?</div>
            </div>
            
            <!-- Development -->
            <div class="diagram-box process secondary" style="grid-column: 7; grid-row: 2;">
              <div class="diagram-title">Build</div>
              <div class="diagram-subtitle">Development</div>
            </div>
            
            <!-- Deploy -->
            <div class="diagram-box terminal success" style="grid-column: 9; grid-row: 2;">
              <div class="diagram-title">Deploy</div>
            </div>
            
            <!-- Revision Path -->
            <div class="diagram-box process accent" style="grid-column: 5; grid-row: 4;">
              <div class="diagram-title">Revise</div>
              <div class="diagram-subtitle">Update Plan</div>
            </div>
            
            <!-- Lines -->
            <div class="flowchart-line horizontal" style="grid-column: 2; grid-row: 2; align-self: center;"></div>
            <div class="flowchart-line horizontal" style="grid-column: 4; grid-row: 2; align-self: center;"></div>
            <div class="flowchart-line horizontal" style="grid-column: 6; grid-row: 2; align-self: center;"></div>
            <div class="flowchart-line horizontal" style="grid-column: 8; grid-row: 2; align-self: center;"></div>
            <div class="flowchart-line vertical" style="grid-column: 5; grid-row: 3; justify-self: center;"></div>
            <div class="flowchart-line horizontal" style="grid-column: 3; grid-row: 4; grid-column-end: 6; align-self: center;"></div>
            
            <!-- Decision Symbols -->
            <div class="decision-symbol yes" style="grid-column: 6; grid-row: 2; justify-self: start; align-self: center;"></div>
            <div class="decision-symbol no" style="grid-column: 5; grid-row: 3; justify-self: center; align-self: start;"></div>
          </div>
        </div>

        Include comprehensive content for:
        - Executive summary with strategic vision
        - Project objectives and measurable success criteria
        - Business value proposition with ROI projections
        - Key deliverables with acceptance criteria
        - High-level milestones with timeline visualization
        - Resource requirements with allocation charts

        Project Context:
        - Type: ${t.projectType}
        - Industry: ${t.industry}
        - Scope: ${t.scope}
        - Timeline: ${t.timeline}
        
        Use professional language suitable for stakeholders and investors. Include visual elements using the provided CSS classes.`},{title:"Technical Architecture",prompt:`Design comprehensive technical architecture for: "${r}" with modern visual diagrams and responsive layout.

        Use these exact CSS template patterns for consistent styling:

        <!-- Modern Card Template -->
        <div class="modern-card" style="background: linear-gradient(135deg, #ffffff, #f8fafc); border: 2px solid #e2e8f0; border-radius: 16px; padding: 24px; margin: 20px 0; box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1); position: relative; overflow: hidden;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899);"></div>
          <h3 style="color: #6366f1; margin-bottom: 16px; font-weight: 700;">Card Title</h3>
          <p style="color: #374151; line-height: 1.6; margin-bottom: 16px;">Card content goes here...</p>
        </div>

        <!-- Modern List Template -->
        <ul class="modern-list" style="margin: 20px 0; padding: 0; list-style: none;">
          <li style="margin: 12px 0; padding: 16px 20px 16px 44px; background: linear-gradient(135deg, #ffffff, #f8fafc); border: 1px solid #e2e8f0; border-radius: 8px; position: relative; transition: all 0.2s ease; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);">
            <div style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); width: 8px; height: 8px; background: linear-gradient(135deg, #6366f1, #8b5cf6); border-radius: 50%; box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);"></div>
            List item content
          </li>
        </ul>

        <!-- Modern Table Template -->
        <table style="width: 100%; border-collapse: separate; border-spacing: 0; margin: 24px 0; background: linear-gradient(135deg, #ffffff, #f8fafc); border-radius: 12px; overflow: hidden; box-shadow: 0 6px 20px -5px rgba(0, 0, 0, 0.1); border: 2px solid #e2e8f0; position: relative;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899);"></div>
          <thead>
            <tr>
              <th style="padding: 18px; background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; font-weight: 700; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px; text-align: left;">Header</th>
            </tr>
          </thead>
          <tbody>
            <tr style="transition: all 0.2s ease;">
              <td style="padding: 16px 18px; background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); border-bottom: 1px solid #e2e8f0; color: #374151;">Content</td>
            </tr>
          </tbody>
        </table>

        <!-- Tree Structure Template -->
        <div class="tree-structure" style="margin: 24px 0; padding: 20px; background: linear-gradient(135deg, #f8fafc, #f1f5f9); border-radius: 12px; border: 1px solid #e2e8f0;">
          <div class="tree-node" style="margin: 8px 0; padding: 12px 16px; background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; border-radius: 8px; font-weight: 600; position: relative;">
            Root Node
            <div class="tree-children" style="margin-left: 24px; margin-top: 12px; border-left: 2px solid #8b5cf6; padding-left: 16px;">
              <div class="tree-child" style="margin: 8px 0; padding: 10px 14px; background: linear-gradient(135deg, #ffffff, #f8fafc); border: 1px solid #e2e8f0; border-radius: 6px; color: #374151; position: relative;">
                Child Node
              </div>
            </div>
          </div>
        </div>

        <!-- Flow Diagram Template -->
        <div class="flowchart" style="display: flex; flex-wrap: wrap; gap: 16px; margin: 20px 0; justify-content: center; align-items: center; padding: 24px; background: linear-gradient(135deg, #f8fafc, #f1f5f9); border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.05);">
          <div class="flow-step" style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; padding: 14px 20px; border-radius: 12px; font-weight: 600; position: relative; min-width: 140px; text-align: center; box-shadow: 0 4px 12px -2px rgba(99, 102, 241, 0.3); transition: all 0.3s ease; font-size: 14px; border: 2px solid rgba(255, 255, 255, 0.2);">
            Step 1
            <div style="position: absolute; right: -18px; top: 50%; transform: translateY(-50%); width: 0; height: 0; border-top: 10px solid transparent; border-bottom: 10px solid transparent; border-left: 14px solid #6366f1; z-index: 10;"></div>
          </div>
          <div class="flow-step" style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; padding: 14px 20px; border-radius: 12px; font-weight: 600; position: relative; min-width: 140px; text-align: center; box-shadow: 0 4px 12px -2px rgba(99, 102, 241, 0.3); transition: all 0.3s ease; font-size: 14px; border: 2px solid rgba(255, 255, 255, 0.2);">
            Step 2
          </div>
        </div>

        <!-- Architecture Diagram Template -->
        <div class="architecture-diagram" style="background: linear-gradient(135deg, #f8fafc, #f1f5f9); border: 2px solid #e2e8f0; border-radius: 16px; padding: 24px; margin: 20px 0; box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1); position: relative; overflow: hidden;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899);"></div>
          <h3 style="color: #6366f1; margin-bottom: 16px; font-weight: 700;">Architecture Overview</h3>
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary" style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; border: 2px solid #4f46e5; border-radius: 12px; padding: 16px; text-align: center; box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.1); transition: all 0.3s ease; position: relative; min-height: 80px; display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 8px;">
              <div class="diagram-title" style="font-size: 14px; font-weight: 700; margin-bottom: 4px; text-transform: uppercase; letter-spacing: 0.5px;">Component</div>
              <div class="diagram-subtitle" style="font-size: 11px; opacity: 0.8; font-weight: 500;">Description</div>
            </div>
          </div>
        </div>

        Generate HTML using these exact CSS classes and structure patterns:

        <div class="section-divider">
          <div class="section-divider-text">System Architecture</div>
        </div>

        <div class="architecture-diagram">
          <h3>Technology Stack Overview</h3>
          <p>Comprehensive technical foundation designed for scalability and maintainability.</p>
          
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary">
              <div class="diagram-title">Frontend Layer</div>
              <div class="diagram-subtitle">React/Next.js/Vue</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">API Gateway</div>
              <div class="diagram-subtitle">REST/GraphQL</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Database Layer</div>
              <div class="diagram-subtitle">PostgreSQL/MongoDB</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Cloud Services</div>
              <div class="diagram-subtitle">AWS/Azure/GCP</div>
            </div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Data Flow Architecture</div>
        </div>

        <div class="flowchart">
          <div class="flow-step">User Interface</div>
          <div class="flow-step">API Gateway</div>
          <div class="flow-step">Business Logic</div>
          <div class="flow-step">Data Processing</div>
          <div class="flow-step">Database Storage</div>
        </div>

        <h3>Security Architecture</h3>
        <ul>
          <li>Authentication & Authorization layers with JWT/OAuth2</li>
          <li>API security with rate limiting and input validation</li>
          <li>Data encryption at rest and in transit</li>
          <li>Security monitoring and audit trails</li>
        </ul>

        <div class="section-divider">
          <div class="section-divider-text">Integration Points</div>
        </div>

        <div class="architecture-diagram">
          <div class="diagram-container" style="display: flex; flex-wrap: wrap; gap: 16px; justify-content: center; margin: 20px 0;">
            <div class="diagram-box secondary">
              <div class="diagram-title">External APIs</div>
              <div class="diagram-subtitle">Third-party Services</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Payment Gateway</div>
              <div class="diagram-subtitle">Stripe/PayPal</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Analytics</div>
              <div class="diagram-subtitle">Tracking & Metrics</div>
            </div>
          </div>
        </div>

        Include detailed sections for:
        - Technology stack recommendations with justification
        - Database schema design and optimization strategies
        - API architecture with versioning and documentation
        - Security layers and compliance requirements
        - Performance optimization and caching strategies
        - Scalability planning and load balancing
        - Integration architecture and third-party services
        - Deployment and CI/CD pipeline design

        Technical Context:
        - Complexity Level: ${t.technicalComplexity}
        - Team Size: ${t.teamSize}
        - Expected Scale: ${t.scope}

        Use modern web standards and best practices. Include all visual elements using the provided CSS classes.`},{title:"Phase 1: Foundation & Setup",prompt:`Create detailed Phase 1 foundation plan for: "${r}" with modern visual workflow and tree structure.

        Use these exact CSS template patterns for consistent styling:

        <!-- Modern Card Template -->
        <div class="modern-card" style="background: linear-gradient(135deg, #ffffff, #f8fafc); border: 2px solid #e2e8f0; border-radius: 16px; padding: 24px; margin: 20px 0; box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1); position: relative; overflow: hidden;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899);"></div>
          <h3 style="color: #6366f1; margin-bottom: 16px; font-weight: 700;">Card Title</h3>
          <p style="color: #374151; line-height: 1.6; margin-bottom: 16px;">Card content goes here...</p>
        </div>

        <!-- Modern Table Template -->
        <table style="width: 100%; border-collapse: separate; border-spacing: 0; margin: 24px 0; background: linear-gradient(135deg, #ffffff, #f8fafc); border-radius: 12px; overflow: hidden; box-shadow: 0 6px 20px -5px rgba(0, 0, 0, 0.1); border: 2px solid #e2e8f0; position: relative;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899);"></div>
          <thead>
            <tr>
              <th style="padding: 18px; background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; font-weight: 700; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px; text-align: left;">Header</th>
            </tr>
          </thead>
          <tbody>
            <tr style="transition: all 0.2s ease;">
              <td style="padding: 16px 18px; background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); border-bottom: 1px solid #e2e8f0; color: #374151;">Content</td>
            </tr>
          </tbody>
        </table>

        <!-- Flow Diagram Template -->
        <div class="flowchart" style="display: flex; flex-wrap: wrap; gap: 16px; margin: 20px 0; justify-content: center; align-items: center; padding: 24px; background: linear-gradient(135deg, #f8fafc, #f1f5f9); border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.05);">
          <div class="flow-step" style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; padding: 14px 20px; border-radius: 12px; font-weight: 600; position: relative; min-width: 140px; text-align: center; box-shadow: 0 4px 12px -2px rgba(99, 102, 241, 0.3); transition: all 0.3s ease; font-size: 14px; border: 2px solid rgba(255, 255, 255, 0.2);">
            Step 1
            <div style="position: absolute; right: -18px; top: 50%; transform: translateY(-50%); width: 0; height: 0; border-top: 10px solid transparent; border-bottom: 10px solid transparent; border-left: 14px solid #6366f1; z-index: 10;"></div>
          </div>
        </div>

        <!-- Architecture Diagram Template -->
        <div class="architecture-diagram" style="background: linear-gradient(135deg, #f8fafc, #f1f5f9); border: 2px solid #e2e8f0; border-radius: 16px; padding: 24px; margin: 20px 0; box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1); position: relative; overflow: hidden;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899);"></div>
          <h3 style="color: #6366f1; margin-bottom: 16px; font-weight: 700;">Architecture Overview</h3>
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary" style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; border: 2px solid #4f46e5; border-radius: 12px; padding: 16px; text-align: center; box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.1); transition: all 0.3s ease; position: relative; min-height: 80px; display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 8px;">
              <div class="diagram-title" style="font-size: 14px; font-weight: 700; margin-bottom: 4px; text-transform: uppercase; letter-spacing: 0.5px;">Component</div>
              <div class="diagram-subtitle" style="font-size: 11px; opacity: 0.8; font-weight: 500;">Description</div>
            </div>
          </div>
        </div>

        Generate HTML with comprehensive development flow using these CSS classes:

        <div class="section-divider">
          <div class="section-divider-text">Phase 1: Foundation & Setup</div>
        </div>

        <div class="architecture-diagram">
          <h3>Development Environment Setup</h3>
          <p>Establish robust development foundation with modern toolchain and infrastructure.</p>
          
          <div class="flowchart">
            <div class="flow-step">Environment Setup</div>
            <div class="flow-step">Framework Config</div>
            <div class="flow-step">Database Init</div>
            <div class="flow-step">Auth System</div>
            <div class="flow-step">UI Framework</div>
            <div class="flow-step">Testing Setup</div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Infrastructure Components</div>
        </div>

        <div class="architecture-diagram">
          <h3>Setup Process</h3>
          <div class="diagram-container">
            <!-- Setup Flow -->
            <div class="diagram-box terminal primary" style="grid-column: 1; grid-row: 2;">
              <div class="diagram-title">Start</div>
            </div>
            
            <div class="diagram-box process secondary" style="grid-column: 3; grid-row: 2;">
              <div class="diagram-title">Install</div>
              <div class="diagram-subtitle">Tools & Deps</div>
            </div>
            
            <div class="diagram-box decision info" style="grid-column: 5; grid-row: 2;">
              <div class="diagram-title">Valid?</div>
            </div>
            
            <div class="diagram-box process warning" style="grid-column: 7; grid-row: 2;">
              <div class="diagram-title">Configure</div>
              <div class="diagram-subtitle">Database</div>
            </div>
            
            <div class="diagram-box terminal success" style="grid-column: 9; grid-row: 2;">
              <div class="diagram-title">Ready</div>
            </div>
            
            <!-- Error Path -->
            <div class="diagram-box process accent" style="grid-column: 5; grid-row: 4;">
              <div class="diagram-title">Fix Issues</div>
              <div class="diagram-subtitle">Debug</div>
            </div>
            
            <!-- Connections -->
            <div class="flowchart-line horizontal" style="grid-column: 2; grid-row: 2; align-self: center;"></div>
            <div class="flowchart-line horizontal" style="grid-column: 4; grid-row: 2; align-self: center;"></div>
            <div class="flowchart-line horizontal" style="grid-column: 6; grid-row: 2; align-self: center;"></div>
            <div class="flowchart-line horizontal" style="grid-column: 8; grid-row: 2; align-self: center;"></div>
            <div class="flowchart-line vertical" style="grid-column: 5; grid-row: 3; justify-self: center;"></div>
            <div class="flowchart-line horizontal" style="grid-column: 3; grid-row: 4; grid-column-end: 6; align-self: center;"></div>
            
            <div class="decision-symbol yes" style="grid-column: 6; grid-row: 2; justify-self: start; align-self: center;"></div>
            <div class="decision-symbol no" style="grid-column: 5; grid-row: 3; justify-self: center; align-self: start;"></div>
          </div>
        </div>

        <h3>Development Timeline & Dependencies</h3>
        <table>
          <thead>
            <tr>
              <th>Task</th>
              <th>Duration</th>
              <th>Dependencies</th>
              <th>Deliverables</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Environment Setup</td>
              <td>2-3 days</td>
              <td>None</td>
              <td>Dev environment ready</td>
            </tr>
            <tr>
              <td>Framework Configuration</td>
              <td>3-4 days</td>
              <td>Environment</td>
              <td>Basic app structure</td>
            </tr>
            <tr>
              <td>Database Integration</td>
              <td>2-3 days</td>
              <td>Framework</td>
              <td>Data layer functional</td>
            </tr>
            <tr>
              <td>Authentication System</td>
              <td>4-5 days</td>
              <td>Database</td>
              <td>User management ready</td>
            </tr>
          </tbody>
        </table>

        <div class="section-divider">
          <div class="section-divider-text">Quality Assurance Setup</div>
        </div>

        <div class="architecture-diagram">
          <div class="flowchart">
            <div class="flow-step">Unit Testing</div>
            <div class="flow-step">Integration Tests</div>
            <div class="flow-step">Code Quality</div>
            <div class="flow-step">Documentation</div>
          </div>
        </div>

        Include comprehensive details for:
        - Development environment configuration with modern toolchain
        - Version control setup and branching strategy
        - Database design and migration framework
        - Authentication and authorization implementation
        - UI/UX framework integration and theming
        - Testing infrastructure and quality gates
        - Documentation standards and API documentation
        - Performance monitoring and logging setup

        Timeline: ${t.timeline}
        Team Size: ${t.teamSize}
        Technical Complexity: ${t.technicalComplexity}

        Provide specific tasks, time estimates, and dependency chains with visual flow representations.`},{title:"Phase 2: Core Development",prompt:`Create comprehensive Phase 2 core development plan for: "${r}" with detailed visual workflow and feature tree structure.

        Generate HTML with modern development pipeline visualization:

        <div class="section-divider">
          <div class="section-divider-text">Phase 2: Core Development</div>
        </div>

        <div class="architecture-diagram">
          <h3>Core Development Pipeline</h3>
          <p>Build the main application features with robust architecture and scalable design patterns.</p>
          
          <div class="diagram-container">
            <div class="diagram-box primary">
              <div class="diagram-title">Feature Development</div>
              <div class="diagram-subtitle">Core Business Logic</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">API Development</div>
              <div class="diagram-subtitle">Backend Services</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Frontend Components</div>
              <div class="diagram-subtitle">User Interface</div>
            </div>
            <div class="diagram-box info">
              <div class="diagram-title">Data Management</div>
              <div class="diagram-subtitle">Database & Storage</div>
            </div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Development Workflow</div>
        </div>

        <div class="flowchart">
          <div class="flow-step">Business Logic</div>
          <div class="flow-step">Database Schema</div>
          <div class="flow-step">API Endpoints</div>
          <div class="flow-step">Component Library</div>
          <div class="flow-step">Feature Integration</div>
          <div class="flow-step">Testing Suite</div>
        </div>

        <h3>Feature Development Roadmap</h3>
        <table>
          <thead>
            <tr>
              <th>Feature Module</th>
              <th>Priority</th>
              <th>Complexity</th>
              <th>Timeline</th>
              <th>Dependencies</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>User Management System</td>
              <td>High</td>
              <td>Medium</td>
              <td>1-2 weeks</td>
              <td>Authentication</td>
            </tr>
            <tr>
              <td>Core Business Features</td>
              <td>High</td>
              <td>High</td>
              <td>3-4 weeks</td>
              <td>User System</td>
            </tr>
            <tr>
              <td>Data Processing Engine</td>
              <td>Medium</td>
              <td>High</td>
              <td>2-3 weeks</td>
              <td>Database Schema</td>
            </tr>
            <tr>
              <td>API Integration Layer</td>
              <td>Medium</td>
              <td>Medium</td>
              <td>1-2 weeks</td>
              <td>Core Features</td>
            </tr>
          </tbody>
        </table>

        <div class="section-divider">
          <div class="section-divider-text">Component Architecture</div>
        </div>

        <div class="architecture-diagram">
          <div class="diagram-container" style="display: flex; flex-wrap: wrap; gap: 16px; justify-content: center; margin: 20px 0;">
            <div class="diagram-box secondary">
              <div class="diagram-title">Shared Components</div>
              <div class="diagram-subtitle">Reusable UI Elements</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Business Components</div>
              <div class="diagram-subtitle">Feature-Specific Logic</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Layout Components</div>
              <div class="diagram-subtitle">Navigation & Structure</div>
            </div>
          </div>
        </div>

        Include comprehensive details for:
        - Core business logic implementation with design patterns
        - Database schema design and optimization strategies
        - RESTful API development with proper versioning
        - Frontend component architecture and state management
        - Integration testing framework and automated testing
        - Code quality standards and review processes
        - Performance optimization and monitoring setup
        - Error handling and logging implementation

        Technical Requirements:
        - Complexity: ${t.technicalComplexity}
        - Team Size: ${t.teamSize}
        - Timeline: ${t.timeline}

        Focus on MVP features with scalable foundation for future enhancements.`},{title:"Phase 3: Advanced Features",prompt:`Create detailed Phase 3 advanced features plan for: "${r}" with comprehensive architecture diagrams and feature enhancement workflow.

        Generate HTML with advanced features visualization:

        <div class="section-divider">
          <div class="section-divider-text">Phase 3: Advanced Features</div>
        </div>

        <div class="architecture-diagram">
          <h3>Advanced Features Architecture</h3>
          <p>Implement sophisticated features that differentiate the product and enhance user experience.</p>
          
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary">
              <div class="diagram-title">Performance Layer</div>
              <div class="diagram-subtitle">Optimization & Caching</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Security Module</div>
              <div class="diagram-subtitle">Advanced Protection</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Analytics Engine</div>
              <div class="diagram-subtitle">Data Intelligence</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">AI Integration</div>
              <div class="diagram-subtitle">Machine Learning</div>
            </div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Enhancement Workflow</div>
        </div>

        <div class="flowchart">
          <div class="flow-step">Performance Optimization</div>
          <div class="flow-step">Security Hardening</div>
          <div class="flow-step">Third-party APIs</div>
          <div class="flow-step">Advanced UI/UX</div>
          <div class="flow-step">Analytics Integration</div>
          <div class="flow-step">AI Features</div>
        </div>

        <h3>Advanced Features Implementation Plan</h3>
        <table>
          <thead>
            <tr>
              <th>Feature Category</th>
              <th>Implementation</th>
              <th>Business Impact</th>
              <th>Technical Complexity</th>
              <th>Timeline</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Performance Optimization</td>
              <td>Caching, CDN, Lazy Loading</td>
              <td>User Experience</td>
              <td>Medium</td>
              <td>2-3 weeks</td>
            </tr>
            <tr>
              <td>Advanced Security</td>
              <td>2FA, Audit Logs, Encryption</td>
              <td>Trust & Compliance</td>
              <td>High</td>
              <td>3-4 weeks</td>
            </tr>
            <tr>
              <td>Analytics & Reporting</td>
              <td>Real-time Dashboards</td>
              <td>Data-Driven Decisions</td>
              <td>Medium</td>
              <td>2-3 weeks</td>
            </tr>
            <tr>
              <td>AI/ML Integration</td>
              <td>Predictive Features</td>
              <td>Competitive Advantage</td>
              <td>High</td>
              <td>4-6 weeks</td>
            </tr>
          </tbody>
        </table>

        <div class="section-divider">
          <div class="section-divider-text">Integration Architecture</div>
        </div>

        <div class="architecture-diagram">
          <div class="diagram-container" style="display: flex; flex-wrap: wrap; gap: 16px; justify-content: center; margin: 20px 0;">
            <div class="diagram-box secondary">
              <div class="diagram-title">External APIs</div>
              <div class="diagram-subtitle">Third-party Services</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Payment Systems</div>
              <div class="diagram-subtitle">Billing & Subscriptions</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Notification System</div>
              <div class="diagram-subtitle">Multi-channel Alerts</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Search Engine</div>
              <div class="diagram-subtitle">Elasticsearch/Solr</div>
            </div>
          </div>
        </div>

        Include comprehensive details for:
        - Performance optimization strategies and caching mechanisms
        - Advanced security features and compliance requirements
        - Third-party API integrations and webhook management
        - Advanced UI/UX components and micro-interactions
        - Analytics and reporting dashboard implementation
        - Machine learning and AI feature integration
        - Real-time features and WebSocket implementation
        - Advanced search and filtering capabilities

        Focus on value-added features that provide competitive advantage and enhance user engagement.`},{title:"Phase 4: Testing & QA",prompt:`Create comprehensive Phase 4 testing and quality assurance plan for: "${r}" with detailed testing architecture and QA workflow visualization.

        Generate HTML with modern testing pipeline design:

        <div class="section-divider">
          <div class="section-divider-text">Phase 4: Testing & Quality Assurance</div>
        </div>

        <div class="architecture-diagram">
          <h3>Comprehensive Testing Pipeline</h3>
          <p>Implement robust testing strategies to ensure product quality, performance, and security before deployment.</p>
          
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary">
              <div class="diagram-title">Automated Testing</div>
              <div class="diagram-subtitle">Unit & Integration Tests</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Performance Testing</div>
              <div class="diagram-subtitle">Load & Stress Testing</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Security Testing</div>
              <div class="diagram-subtitle">Penetration & Audit</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">User Testing</div>
              <div class="diagram-subtitle">UAT & Usability</div>
            </div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Testing Workflow</div>
        </div>

        <div class="flowchart">
          <div class="flow-step">Unit Tests</div>
          <div class="flow-step">Integration Tests</div>
          <div class="flow-step">Performance Tests</div>
          <div class="flow-step">Security Audit</div>
          <div class="flow-step">User Acceptance</div>
          <div class="flow-step">Production Ready</div>
        </div>

        <h3>Testing Strategy Matrix</h3>
        <table>
          <thead>
            <tr>
              <th>Testing Type</th>
              <th>Coverage Target</th>
              <th>Tools & Frameworks</th>
              <th>Timeline</th>
              <th>Success Criteria</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Unit Testing</td>
              <td>90%+ Code Coverage</td>
              <td>Jest, Vitest, Cypress</td>
              <td>1-2 weeks</td>
              <td>All tests passing</td>
            </tr>
            <tr>
              <td>Integration Testing</td>
              <td>API & Database</td>
              <td>Supertest, TestContainers</td>
              <td>1-2 weeks</td>
              <td>End-to-end workflows</td>
            </tr>
            <tr>
              <td>Performance Testing</td>
              <td>Load & Stress</td>
              <td>Artillery, JMeter</td>
              <td>1 week</td>
              <td>SLA compliance</td>
            </tr>
            <tr>
              <td>Security Testing</td>
              <td>Vulnerability Scan</td>
              <td>OWASP ZAP, Snyk</td>
              <td>1 week</td>
              <td>Zero critical issues</td>
            </tr>
          </tbody>
        </table>

        <div class="section-divider">
          <div class="section-divider-text">Quality Gates</div>
        </div>

        <div class="architecture-diagram">
          <div class="diagram-container" style="display: flex; flex-wrap: wrap; gap: 16px; justify-content: center; margin: 20px 0;">
            <div class="diagram-box secondary">
              <div class="diagram-title">Code Quality</div>
              <div class="diagram-subtitle">ESLint, SonarQube</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Test Coverage</div>
              <div class="diagram-subtitle">90%+ Coverage</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Performance</div>
              <div class="diagram-subtitle">Load Testing</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Security</div>
              <div class="diagram-subtitle">Vulnerability Scan</div>
            </div>
          </div>
        </div>

        Include comprehensive details for:
        - Automated testing framework setup and configuration
        - Unit testing strategies for frontend and backend components
        - Integration testing for APIs and database interactions
        - Performance testing scenarios and load testing protocols
        - Security testing procedures and penetration testing
        - User acceptance testing planning and execution
        - Continuous integration and deployment pipeline testing
        - Bug tracking and quality assurance processes

        Focus on establishing robust quality gates that ensure production readiness and maintain high standards throughout the development lifecycle.`},{title:"Phase 5: Deployment & Launch",prompt:`Create comprehensive Phase 5 deployment and launch plan for: "${r}" with detailed deployment architecture and launch workflow visualization.

        Generate HTML with modern deployment pipeline design:

        <div class="section-divider">
          <div class="section-divider-text">Phase 5: Deployment & Launch</div>
        </div>

        <div class="architecture-diagram">
          <h3>Deployment Pipeline Architecture</h3>
          <p>Implement robust deployment strategies with automated CI/CD pipeline and comprehensive monitoring systems.</p>
          
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary">
              <div class="diagram-title">CI/CD Pipeline</div>
              <div class="diagram-subtitle">Automated Deployment</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Production Environment</div>
              <div class="diagram-subtitle">Live Server Setup</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Monitoring System</div>
              <div class="diagram-subtitle">Performance Tracking</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Support Infrastructure</div>
              <div class="diagram-subtitle">24/7 Operations</div>
            </div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Launch Workflow</div>
        </div>

        <div class="flowchart">
          <div class="flow-step">Environment Setup</div>
          <div class="flow-step">CI/CD Configuration</div>
          <div class="flow-step">Performance Monitoring</div>
          <div class="flow-step">Launch Strategy</div>
          <div class="flow-step">Post-Launch Support</div>
        </div>

        <h3>Deployment Strategy Matrix</h3>
        <table>
          <thead>
            <tr>
              <th>Environment</th>
              <th>Deployment Method</th>
              <th>Monitoring Level</th>
              <th>Rollback Time</th>
              <th>Success Criteria</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Staging</td>
              <td>Automated CI/CD</td>
              <td>Full Monitoring</td>
              <td>< 2 minutes</td>
              <td>All tests pass</td>
            </tr>
            <tr>
              <td>Production</td>
              <td>Blue-Green Deploy</td>
              <td>Real-time Alerts</td>
              <td>< 30 seconds</td>
              <td>Zero downtime</td>
            </tr>
            <tr>
              <td>DR Environment</td>
              <td>Automated Sync</td>
              <td>Health Checks</td>
              <td>< 5 minutes</td>
              <td>Data consistency</td>
            </tr>
          </tbody>
        </table>

        <div class="section-divider">
          <div class="section-divider-text">Launch Infrastructure</div>
        </div>

        <div class="architecture-diagram">
          <div class="diagram-container" style="display: flex; flex-wrap: wrap; gap: 16px; justify-content: center; margin: 20px 0;">
            <div class="diagram-box secondary">
              <div class="diagram-title">Load Balancer</div>
              <div class="diagram-subtitle">Traffic Distribution</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">CDN Integration</div>
              <div class="diagram-subtitle">Global Performance</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">SSL/Security</div>
              <div class="diagram-subtitle">HTTPS & Encryption</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Backup Systems</div>
              <div class="diagram-subtitle">Data Protection</div>
            </div>
          </div>
        </div>

        Include comprehensive details for:
        - Production environment setup and configuration
        - CI/CD pipeline automation and deployment strategies
        - Monitoring, logging, and alerting systems implementation
        - Performance optimization and scalability planning
        - Security hardening and compliance verification
        - Launch strategy with phased rollout planning
        - Post-launch support and maintenance procedures
        - Disaster recovery and business continuity planning

        Focus on ensuring smooth production deployment with zero downtime and comprehensive monitoring.`},{title:"Risk Management",prompt:`Create comprehensive risk management plan for: "${r}" with detailed risk assessment matrix and mitigation workflow visualization.

        Generate HTML with modern risk management design:

        <div class="section-divider">
          <div class="section-divider-text">Risk Management Framework</div>
        </div>

        <div class="architecture-diagram">
          <h3>Risk Assessment Matrix</h3>
          <p>Comprehensive risk identification, assessment, and mitigation strategies to ensure project success.</p>
          
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary">
              <div class="diagram-title">Technical Risks</div>
              <div class="diagram-subtitle">Architecture & Implementation</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Business Risks</div>
              <div class="diagram-subtitle">Market & Financial</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Resource Risks</div>
              <div class="diagram-subtitle">Team & Budget</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">External Risks</div>
              <div class="diagram-subtitle">Dependencies & Environment</div>
            </div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Risk Mitigation Workflow</div>
        </div>

        <div class="flowchart">
          <div class="flow-step">Risk Identification</div>
          <div class="flow-step">Impact Assessment</div>
          <div class="flow-step">Probability Analysis</div>
          <div class="flow-step">Mitigation Planning</div>
          <div class="flow-step">Monitoring & Review</div>
        </div>

        <h3>Risk Assessment Table</h3>
        <table>
          <thead>
            <tr>
              <th>Risk Category</th>
              <th>Risk Level</th>
              <th>Impact</th>
              <th>Probability</th>
              <th>Mitigation Strategy</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Technical Complexity</td>
              <td>High</td>
              <td>Schedule Delay</td>
              <td>Medium</td>
              <td>Prototype & Proof of Concept</td>
            </tr>
            <tr>
              <td>Resource Availability</td>
              <td>Medium</td>
              <td>Quality Impact</td>
              <td>Low</td>
              <td>Cross-training & Backup Plans</td>
            </tr>
            <tr>
              <td>Third-party Dependencies</td>
              <td>Medium</td>
              <td>Feature Limitations</td>
              <td>Medium</td>
              <td>Alternative Solutions</td>
            </tr>
            <tr>
              <td>Scope Creep</td>
              <td>High</td>
              <td>Budget Overrun</td>
              <td>High</td>
              <td>Change Management Process</td>
            </tr>
          </tbody>
        </table>

        Include comprehensive details for:
        - Technical risk assessment and architecture contingencies
        - Business risk evaluation and market analysis
        - Resource planning and team capacity management
        - Timeline risk factors and schedule optimization
        - External dependency risks and vendor management
        - Contingency planning and emergency procedures
        - Risk monitoring and early warning systems
        - Escalation procedures and decision frameworks

        Focus on proactive risk management with clear mitigation strategies and measurable success criteria.`},{title:"Quality Assurance",prompt:`Design comprehensive quality assurance framework for: "${r}" with detailed QA methodology and quality gates visualization.

        Generate HTML with modern QA framework design:

        <div class="section-divider">
          <div class="section-divider-text">Quality Assurance Framework</div>
        </div>

        <div class="architecture-diagram">
          <h3>QA Methodology Overview</h3>
          <p>Establish enterprise-grade quality standards with comprehensive testing and review processes.</p>
          
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary">
              <div class="diagram-title">Testing Standards</div>
              <div class="diagram-subtitle">Automated & Manual</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Code Review</div>
              <div class="diagram-subtitle">Peer Review Process</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Performance QA</div>
              <div class="diagram-subtitle">Benchmarks & Monitoring</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Security Standards</div>
              <div class="diagram-subtitle">Compliance & Auditing</div>
            </div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Quality Gates Workflow</div>
        </div>

        <div class="flowchart">
          <div class="flow-step">Code Standards</div>
          <div class="flow-step">Peer Review</div>
          <div class="flow-step">Automated Testing</div>
          <div class="flow-step">Performance Check</div>
          <div class="flow-step">Security Scan</div>
          <div class="flow-step">Release Ready</div>
        </div>

        <h3>QA Standards Matrix</h3>
        <table>
          <thead>
            <tr>
              <th>Quality Area</th>
              <th>Standard</th>
              <th>Measurement</th>
              <th>Tool/Process</th>
              <th>Target</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Code Quality</td>
              <td>Clean Code Principles</td>
              <td>Static Analysis</td>
              <td>ESLint, SonarQube</td>
              <td>Zero critical issues</td>
            </tr>
            <tr>
              <td>Test Coverage</td>
              <td>Comprehensive Testing</td>
              <td>Coverage Percentage</td>
              <td>Jest, Cypress</td>
              <td>90%+ Coverage</td>
            </tr>
            <tr>
              <td>Performance</td>
              <td>Response Time SLA</td>
              <td>Load Testing</td>
              <td>Artillery, Lighthouse</td>
              <td>< 2s Load Time</td>
            </tr>
            <tr>
              <td>Security</td>
              <td>OWASP Standards</td>
              <td>Vulnerability Scan</td>
              <td>Snyk, OWASP ZAP</td>
              <td>Zero High Risk</td>
            </tr>
          </tbody>
        </table>

        Include comprehensive details for:
        - QA methodology implementation and team structure
        - Testing standards for unit, integration, and E2E testing
        - Code review processes and quality gates
        - Performance benchmarking and optimization criteria
        - Security standards and compliance requirements
        - Documentation standards and knowledge management
        - Continuous improvement and feedback loops
        - Quality metrics and reporting frameworks

        Focus on establishing enterprise-grade quality standards that ensure reliable, secure, and maintainable software delivery.`},{title:"Deployment Strategy",prompt:`Create detailed deployment strategy for: "${r}" with comprehensive infrastructure architecture and deployment workflow visualization.

        Generate HTML with modern deployment strategy design:

        <div class="section-divider">
          <div class="section-divider-text">Deployment Strategy Framework</div>
        </div>

        <div class="architecture-diagram">
          <h3>Infrastructure Architecture</h3>
          <p>Design scalable and reliable deployment infrastructure with automated CI/CD pipeline and comprehensive monitoring.</p>
          
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary">
              <div class="diagram-title">Infrastructure</div>
              <div class="diagram-subtitle">Cloud & Containers</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">CI/CD Pipeline</div>
              <div class="diagram-subtitle">Automated Deployment</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Environment Management</div>
              <div class="diagram-subtitle">Dev/Stage/Prod</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Monitoring</div>
              <div class="diagram-subtitle">Alerts & Logging</div>
            </div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Deployment Workflow</div>
        </div>

        <div class="flowchart">
          <div class="flow-step">Code Commit</div>
          <div class="flow-step">Build & Test</div>
          <div class="flow-step">Deploy to Staging</div>
          <div class="flow-step">Validation</div>
          <div class="flow-step">Production Deploy</div>
          <div class="flow-step">Health Check</div>
        </div>

        <h3>Environment Configuration</h3>
        <table>
          <thead>
            <tr>
              <th>Environment</th>
              <th>Infrastructure</th>
              <th>Deployment Method</th>
              <th>Data Source</th>
              <th>Monitoring Level</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Development</td>
              <td>Local/Docker</td>
              <td>Manual/Hot Reload</td>
              <td>Mock Data</td>
              <td>Basic Logging</td>
            </tr>
            <tr>
              <td>Staging</td>
              <td>Cloud Instance</td>
              <td>Automated CI/CD</td>
              <td>Production Copy</td>
              <td>Full Monitoring</td>
            </tr>
            <tr>
              <td>Production</td>
              <td>Load Balanced</td>
              <td>Blue-Green Deploy</td>
              <td>Live Database</td>
              <td>Real-time Alerts</td>
            </tr>
          </tbody>
        </table>

        Include comprehensive details for:
        - Infrastructure requirements and cloud architecture planning
        - CI/CD pipeline design with automated testing integration
        - Environment management and configuration strategies
        - Release management with version control and rollback procedures
        - Monitoring, logging, and alerting system implementation
        - Security hardening and access control measures
        - Performance optimization and scalability planning
        - Disaster recovery and backup strategies

        Focus on reliability, scalability, and zero-downtime deployment capabilities.`},{title:"Maintenance & Support",prompt:`Plan comprehensive maintenance and support strategy for: "${r}" with detailed support infrastructure and maintenance workflow visualization.

        Generate HTML with modern maintenance strategy design:

        <div class="section-divider">
          <div class="section-divider-text">Maintenance & Support Strategy</div>
        </div>

        <div class="architecture-diagram">
          <h3>Support Infrastructure Overview</h3>
          <p>Establish comprehensive maintenance and support framework for long-term sustainability and optimal performance.</p>
          
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary">
              <div class="diagram-title">Maintenance Tasks</div>
              <div class="diagram-subtitle">Scheduled & Preventive</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Support Structure</div>
              <div class="diagram-subtitle">24/7 Operations</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Updates & Upgrades</div>
              <div class="diagram-subtitle">Version Management</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Performance Monitoring</div>
              <div class="diagram-subtitle">Real-time Analytics</div>
            </div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Maintenance Workflow</div>
        </div>

        <div class="flowchart">
          <div class="flow-step">Health Monitoring</div>
          <div class="flow-step">Issue Detection</div>
          <div class="flow-step">Impact Assessment</div>
          <div class="flow-step">Resolution Planning</div>
          <div class="flow-step">Implementation</div>
          <div class="flow-step">Verification</div>
        </div>

        <h3>Support Tier Structure</h3>
        <table>
          <thead>
            <tr>
              <th>Support Level</th>
              <th>Response Time</th>
              <th>Coverage</th>
              <th>Escalation Path</th>
              <th>Resources</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Tier 1 - Basic</td>
              <td>< 4 hours</td>
              <td>Business Hours</td>
              <td>Tier 2 Escalation</td>
              <td>Support Team</td>
            </tr>
            <tr>
              <td>Tier 2 - Advanced</td>
              <td>< 2 hours</td>
              <td>Extended Hours</td>
              <td>Development Team</td>
              <td>Senior Engineers</td>
            </tr>
            <tr>
              <td>Tier 3 - Critical</td>
              <td>< 30 minutes</td>
              <td>24/7 Coverage</td>
              <td>Emergency Response</td>
              <td>Expert Team</td>
            </tr>
          </tbody>
        </table>

        <div class="section-divider">
          <div class="section-divider-text">Lifecycle Management</div>
        </div>

        <div class="architecture-diagram">
          <div class="diagram-container" style="display: flex; flex-wrap: wrap; gap: 16px; justify-content: center; margin: 20px 0;">
            <div class="diagram-box secondary">
              <div class="diagram-title">Security Updates</div>
              <div class="diagram-subtitle">Monthly Patches</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Feature Updates</div>
              <div class="diagram-subtitle">Quarterly Releases</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Major Upgrades</div>
              <div class="diagram-subtitle">Annual Planning</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">EOL Planning</div>
              <div class="diagram-subtitle">5-Year Roadmap</div>
            </div>
          </div>
        </div>

        Include comprehensive details for:
        - Ongoing maintenance task scheduling and automation
        - Support team structure and escalation procedures
        - Update and upgrade planning with minimal downtime
        - Performance monitoring and optimization strategies
        - Security maintenance and vulnerability management
        - Documentation and knowledge base management
        - User training and change management processes
        - Long-term sustainability and technology evolution planning

        Plan for 3-5 year lifecycle with clear upgrade paths and technology roadmap.`},{title:"Budget Breakdown",prompt:`Create comprehensive budget breakdown for: "${r}" with detailed cost analysis and financial planning visualization.

        Use these exact CSS template patterns for consistent styling:

        <!-- Modern Card Template -->
        <div class="modern-card" style="background: linear-gradient(135deg, #ffffff, #f8fafc); border: 2px solid #e2e8f0; border-radius: 16px; padding: 24px; margin: 20px 0; box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1); position: relative; overflow: hidden;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899);"></div>
          <h3 style="color: #6366f1; margin-bottom: 16px; font-weight: 700;">Card Title</h3>
          <p style="color: #374151; line-height: 1.6; margin-bottom: 16px;">Card content goes here...</p>
        </div>

        <!-- Modern Table Template -->
        <table style="width: 100%; border-collapse: separate; border-spacing: 0; margin: 24px 0; background: linear-gradient(135deg, #ffffff, #f8fafc); border-radius: 12px; overflow: hidden; box-shadow: 0 6px 20px -5px rgba(0, 0, 0, 0.1); border: 2px solid #e2e8f0; position: relative;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899);"></div>
          <thead>
            <tr>
              <th style="padding: 18px; background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; font-weight: 700; font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px; text-align: left;">Header</th>
            </tr>
          </thead>
          <tbody>
            <tr style="transition: all 0.2s ease;">
              <td style="padding: 16px 18px; background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); border-bottom: 1px solid #e2e8f0; color: #374151;">Content</td>
            </tr>
          </tbody>
        </table>

        <!-- Flow Diagram Template -->
        <div class="flowchart" style="display: flex; flex-wrap: wrap; gap: 16px; margin: 20px 0; justify-content: center; align-items: center; padding: 24px; background: linear-gradient(135deg, #f8fafc, #f1f5f9); border-radius: 12px; border: 1px solid #e2e8f0; box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.05);">
          <div class="flow-step" style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; padding: 14px 20px; border-radius: 12px; font-weight: 600; position: relative; min-width: 140px; text-align: center; box-shadow: 0 4px 12px -2px rgba(99, 102, 241, 0.3); transition: all 0.3s ease; font-size: 14px; border: 2px solid rgba(255, 255, 255, 0.2);">
            Step 1
            <div style="position: absolute; right: -18px; top: 50%; transform: translateY(-50%); width: 0; height: 0; border-top: 10px solid transparent; border-bottom: 10px solid transparent; border-left: 14px solid #6366f1; z-index: 10;"></div>
          </div>
        </div>

        <!-- Architecture Diagram Template -->
        <div class="architecture-diagram" style="background: linear-gradient(135deg, #f8fafc, #f1f5f9); border: 2px solid #e2e8f0; border-radius: 16px; padding: 24px; margin: 20px 0; box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1); position: relative; overflow: hidden;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #6366f1, #8b5cf6, #ec4899);"></div>
          <h3 style="color: #6366f1; margin-bottom: 16px; font-weight: 700;">Architecture Overview</h3>
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary" style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; border: 2px solid #4f46e5; border-radius: 12px; padding: 16px; text-align: center; box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.1); transition: all 0.3s ease; position: relative; min-height: 80px; display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 8px;">
              <div class="diagram-title" style="font-size: 14px; font-weight: 700; margin-bottom: 4px; text-transform: uppercase; letter-spacing: 0.5px;">Component</div>
              <div class="diagram-subtitle" style="font-size: 11px; opacity: 0.8; font-weight: 500;">Description</div>
            </div>
          </div>
        </div>

        Generate HTML with modern budget analysis design:

        <div class="section-divider">
          <div class="section-divider-text">Budget Breakdown & Financial Planning</div>
        </div>

        <div class="architecture-diagram">
          <h3>Cost Structure Overview</h3>
          <p>Comprehensive financial analysis with realistic cost estimates and contingency planning for project success.</p>
          
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary">
              <div class="diagram-title">Development Costs</div>
              <div class="diagram-subtitle">Team & Implementation</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Infrastructure</div>
              <div class="diagram-subtitle">Cloud & Hardware</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Third-party Services</div>
              <div class="diagram-subtitle">APIs & Tools</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Operational Costs</div>
              <div class="diagram-subtitle">Ongoing Expenses</div>
            </div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Cost Allocation Flow</div>
        </div>

        <div class="flowchart">
          <div class="flow-step">Personnel (60%)</div>
          <div class="flow-step">Infrastructure (20%)</div>
          <div class="flow-step">Third-party (10%)</div>
          <div class="flow-step">Testing & QA (5%)</div>
          <div class="flow-step">Contingency (5%)</div>
        </div>

        <h3>Detailed Cost Breakdown</h3>
        <table>
          <thead>
            <tr>
              <th>Cost Category</th>
              <th>Description</th>
              <th>Unit Cost</th>
              <th>Duration/Quantity</th>
              <th>Total Cost</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Development Team</td>
              <td>Senior/Mid/Junior Developers</td>
              <td>$80-150/hour</td>
              <td>${t.timeline}</td>
              <td>Calculate based on team size</td>
            </tr>
            <tr>
              <td>Cloud Infrastructure</td>
              <td>AWS/Azure/GCP Services</td>
              <td>$500-2000/month</td>
              <td>12 months</td>
              <td>$6,000-24,000</td>
            </tr>
            <tr>
              <td>Third-party APIs</td>
              <td>Payment, Auth, Analytics</td>
              <td>$50-500/month</td>
              <td>12 months</td>
              <td>$600-6,000</td>
            </tr>
            <tr>
              <td>Testing & QA</td>
              <td>Automated Testing Tools</td>
              <td>$200-1000/month</td>
              <td>Project Duration</td>
              <td>Based on timeline</td>
            </tr>
          </tbody>
        </table>

        <div class="section-divider">
          <div class="section-divider-text">Financial Planning</div>
        </div>

        <div class="architecture-diagram">
          <div class="diagram-container" style="display: flex; flex-wrap: wrap; gap: 16px; justify-content: center; margin: 20px 0;">
            <div class="diagram-box secondary">
              <div class="diagram-title">Phase 1 Budget</div>
              <div class="diagram-subtitle">Foundation (30%)</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Phase 2-3 Budget</div>
              <div class="diagram-subtitle">Development (50%)</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Phase 4-5 Budget</div>
              <div class="diagram-subtitle">Testing & Launch (15%)</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Contingency Fund</div>
              <div class="diagram-subtitle">Risk Buffer (5%)</div>
            </div>
          </div>
        </div>

        Include comprehensive details for:
        - Development team costs with role-based hourly rates
        - Infrastructure and hosting expenses with scalability considerations
        - Third-party service licensing and API usage costs
        - Testing, QA, and deployment automation tool expenses
        - Project management and coordination overhead costs
        - Legal, compliance, and security audit expenses
        - Training and knowledge transfer costs
        - Ongoing operational and maintenance budgets

        Budget Context:
        - Total Budget Range: ${t.budget}
        - Team Size: ${t.teamSize}
        - Project Timeline: ${t.timeline}

        Provide realistic cost estimates with 5-10% contingency buffer for risk mitigation.`},{title:"Timeline Details",prompt:`Create comprehensive project timeline for: "${r}" with detailed milestone tracking and timeline visualization.

        Generate HTML with modern timeline design:

        <div class="section-divider">
          <div class="section-divider-text">Project Timeline & Milestone Planning</div>
        </div>

        <div class="architecture-diagram">
          <h3>Timeline Overview</h3>
          <p>Comprehensive project scheduling with critical path analysis and milestone dependency tracking for successful delivery.</p>
          
          <div class="diagram-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 24px 0;">
            <div class="diagram-box primary">
              <div class="diagram-title">Phase Planning</div>
              <div class="diagram-subtitle">Sequential Development</div>
            </div>
            <div class="diagram-box secondary">
              <div class="diagram-title">Critical Path</div>
              <div class="diagram-subtitle">Dependency Analysis</div>
            </div>
            <div class="diagram-box accent">
              <div class="diagram-title">Resource Allocation</div>
              <div class="diagram-subtitle">Team & Budget Timeline</div>
            </div>
            <div class="diagram-box primary">
              <div class="diagram-title">Risk Buffers</div>
              <div class="diagram-subtitle">Contingency Planning</div>
            </div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Development Timeline Flow</div>
        </div>

        <div class="flowchart">
          <div class="flow-step">Phase 1 (20%)</div>
          <div class="flow-step">Phase 2 (30%)</div>
          <div class="flow-step">Phase 3 (25%)</div>
          <div class="flow-step">Phase 4 (15%)</div>
          <div class="flow-step">Phase 5 (10%)</div>
        </div>

        <h3>Detailed Phase Timeline</h3>
        <table>
          <thead>
            <tr>
              <th>Phase</th>
              <th>Duration</th>
              <th>Key Milestones</th>
              <th>Dependencies</th>
              <th>Team Focus</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Foundation & Setup</td>
              <td>20% of timeline</td>
              <td>Environment, Framework, Auth</td>
              <td>None</td>
              <td>Full Team</td>
            </tr>
            <tr>
              <td>Core Development</td>
              <td>30% of timeline</td>
              <td>MVP Features, API, Database</td>
              <td>Phase 1 Complete</td>
              <td>Development Focus</td>
            </tr>
            <tr>
              <td>Advanced Features</td>
              <td>25% of timeline</td>
              <td>Integrations, Performance</td>
              <td>Core Features</td>
              <td>Specialized Teams</td>
            </tr>
            <tr>
              <td>Testing & QA</td>
              <td>15% of timeline</td>
              <td>Testing, Security, UAT</td>
              <td>Feature Complete</td>
              <td>QA Team Lead</td>
            </tr>
            <tr>
              <td>Deployment & Launch</td>
              <td>10% of timeline</td>
              <td>Production, Monitoring</td>
              <td>Testing Complete</td>
              <td>DevOps Focus</td>
            </tr>
          </tbody>
        </table>

        Include comprehensive details for:
        - Phase-by-phase breakdown with specific deliverables
        - Critical path analysis identifying project bottlenecks
        - Milestone tracking with clear success criteria
        - Resource allocation timeline showing team capacity
        - Risk buffer periods integrated throughout development
        - Delivery schedules with client review incorporation
        - Parallel development opportunities for timeline optimization
        - Contingency planning for scope changes and challenges

        Timeline Context:
        - Duration: ${t.timeline}
        - Scope: ${t.scope}

        Create realistic timeline with 10-15% buffer periods for risk mitigation.`},{title:"Team Structure",prompt:`Design optimal team structure for: "${r}" with modern organizational chart and team hierarchy visualization.

        Generate HTML with modern team structure design:

        <div class="section-divider">
          <div class="section-divider-text">Team Structure & Organization</div>
        </div>

        <div class="org-chart">
          <h3>Project Team Hierarchy</h3>
          
          <!-- Executive Level -->
          <div class="org-level">
            <div class="org-role manager lead">Project Manager</div>
          </div>
          
          <!-- Leadership Level -->
          <div class="org-level">
            <div class="org-role manager">Tech Lead</div>
            <div class="org-role designer lead">Design Lead</div>
            <div class="org-role analyst">Product Owner</div>
          </div>
          
          <!-- Development Team -->
          <div class="org-level">
            <div class="org-role developer">Senior Developer</div>
            <div class="org-role developer">Frontend Dev</div>
            <div class="org-role developer">Backend Dev</div>
            <div class="org-role designer">UI/UX Designer</div>
            <div class="org-role tester">QA Engineer</div>
          </div>
          
          <!-- Support Team -->
          <div class="org-level">
            <div class="org-role analyst">DevOps Engineer</div>
            <div class="org-role tester">Automation Tester</div>
            <div class="org-role developer">Junior Developer</div>
          </div>
        </div>

        <div class="section-divider">
          <div class="section-divider-text">Team Composition Matrix</div>
        </div>

        <div class="team-compact">
          <div class="team-member">
            <div class="role-title">Project Manager</div>
            <div class="role-level">Leadership</div>
          </div>
          <div class="team-member">
            <div class="role-title">Technical Lead</div>
            <div class="role-level">Senior</div>
          </div>
          <div class="team-member">
            <div class="role-title">Senior Developer</div>
            <div class="role-level">Senior</div>
          </div>
          <div class="team-member">
            <div class="role-title">Frontend Developer</div>
            <div class="role-level">Mid-Level</div>
          </div>
          <div class="team-member">
            <div class="role-title">Backend Developer</div>
            <div class="role-level">Mid-Level</div>
          </div>
          <div class="team-member">
            <div class="role-title">UI/UX Designer</div>
            <div class="role-level">Mid-Level</div>
          </div>
          <div class="team-member">
            <div class="role-title">QA Engineer</div>
            <div class="role-level">Mid-Level</div>
          </div>
          <div class="team-member">
            <div class="role-title">DevOps Engineer</div>
            <div class="role-level">Senior</div>
          </div>
        </div>

        <h3>Team Responsibilities Matrix</h3>
        <table>
          <thead>
            <tr>
              <th>Role</th>
              <th>Key Responsibilities</th>
              <th>Skills Required</th>
              <th>Experience Level</th>
              <th>Reporting Structure</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Project Manager</td>
              <td>Planning, Coordination, Stakeholder Management</td>
              <td>Agile, Communication, Risk Management</td>
              <td>5+ years</td>
              <td>Reports to Stakeholders</td>
            </tr>
            <tr>
              <td>Technical Lead</td>
              <td>Architecture, Code Review, Technical Decisions</td>
              <td>Full-stack Development, System Design</td>
              <td>7+ years</td>
              <td>Reports to Project Manager</td>
            </tr>
            <tr>
              <td>Senior Developer</td>
              <td>Complex Features, Mentoring, Code Quality</td>
              <td>Advanced Programming, Design Patterns</td>
              <td>5+ years</td>
              <td>Reports to Technical Lead</td>
            </tr>
            <tr>
              <td>Frontend Developer</td>
              <td>UI Implementation, User Experience</td>
              <td>React, TypeScript, CSS, Responsive Design</td>
              <td>3+ years</td>
              <td>Reports to Technical Lead</td>
            </tr>
            <tr>
              <td>Backend Developer</td>
              <td>API Development, Database Design</td>
              <td>Node.js, Database, Cloud Services</td>
              <td>3+ years</td>
              <td>Reports to Technical Lead</td>
            </tr>
            <tr>
              <td>UI/UX Designer</td>
              <td>Design System, User Research, Prototyping</td>
              <td>Figma, Design Thinking, User Research</td>
              <td>3+ years</td>
              <td>Reports to Design Lead</td>
            </tr>
            <tr>
              <td>QA Engineer</td>
              <td>Testing Strategy, Quality Assurance</td>
              <td>Test Automation, Manual Testing</td>
              <td>3+ years</td>
              <td>Reports to Project Manager</td>
            </tr>
            <tr>
              <td>DevOps Engineer</td>
              <td>CI/CD, Infrastructure, Monitoring</td>
              <td>AWS/Azure, Docker, Kubernetes</td>
              <td>4+ years</td>
              <td>Reports to Technical Lead</td>
            </tr>
          </tbody>
        </table>

        <div class="section-divider">
          <div class="section-divider-text">Communication & Collaboration</div>
        </div>

        <div class="architecture-diagram">
          <h3>Team Communication Flow</h3>
          <div class="diagram-container">
            <!-- Daily Standup -->
            <div class="diagram-box terminal primary" style="grid-column: 1; grid-row: 2;">
              <div class="diagram-title">Daily Standup</div>
            </div>
            
            <!-- Sprint Planning -->
            <div class="diagram-box process secondary" style="grid-column: 3; grid-row: 2;">
              <div class="diagram-title">Sprint Planning</div>
              <div class="diagram-subtitle">Bi-weekly</div>
            </div>
            
            <!-- Code Review -->
            <div class="diagram-box process warning" style="grid-column: 5; grid-row: 2;">
              <div class="diagram-title">Code Review</div>
              <div class="diagram-subtitle">Continuous</div>
            </div>
            
            <!-- Team Sync -->
            <div class="diagram-box process info" style="grid-column: 7; grid-row: 2;">
              <div class="diagram-title">Team Sync</div>
              <div class="diagram-subtitle">Weekly</div>
            </div>
            
            <!-- Retrospective -->
            <div class="diagram-box terminal success" style="grid-column: 9; grid-row: 2;">
              <div class="diagram-title">Retrospective</div>
            </div>
            
            <!-- Connections -->
            <div class="flowchart-line horizontal" style="grid-column: 2; grid-row: 2; align-self: center;"></div>
            <div class="flowchart-line horizontal" style="grid-column: 4; grid-row: 2; align-self: center;"></div>
            <div class="flowchart-line horizontal" style="grid-column: 6; grid-row: 2; align-self: center;"></div>
            <div class="flowchart-line horizontal" style="grid-column: 8; grid-row: 2; align-self: center;"></div>
          </div>
        </div>

        Include comprehensive details for:
        - Role definitions with clear responsibilities and accountability
        - Skill requirements matrix with technical and soft skills
        - Team composition optimization for project complexity
        - Reporting structure with clear communication channels
        - Collaboration protocols and meeting cadences
        - Performance metrics and team success indicators
        - Onboarding process for new team members
        - Escalation procedures and conflict resolution

        Team Configuration:
        - Size: ${t.teamSize}
        - Technical Complexity: ${t.technicalComplexity}
        - Project Scope: ${t.scope}

        Design team structure for optimal collaboration and delivery efficiency.`},{title:"Stakeholder Matrix",prompt:`Create stakeholder engagement matrix for: "${r}"
        
        Include:
        - Stakeholder identification
        - Influence and interest mapping
        - Communication strategy
        - Feedback mechanisms
        - Decision-making authority
        - Escalation procedures
        
        Stakeholders: ${t.stakeholders.join(", ")}
        
        Ensure effective stakeholder management.`},{title:"Compliance Requirements",prompt:`Define compliance and regulatory requirements for: "${r}"
        
        Include:
        - Industry regulations
        - Data protection requirements
        - Security compliance
        - Accessibility standards
        - International compliance
        - Audit requirements
        
        Industry: ${t.industry}
        
        Ensure full regulatory compliance.`},{title:"Scalability Plan",prompt:`Design scalability and growth plan for: "${r}"
        
        Include:
        - Horizontal scaling strategy
        - Vertical scaling options
        - Performance optimization
        - Load balancing approach
        - Database scaling
        - Future enhancement roadmap
        
        Scope: ${t.scope}
        
        Plan for 10x growth scenarios.`},{title:"Security Framework",prompt:`Create comprehensive security framework for: "${r}"
        
        Include:
        - Security architecture
        - Threat modeling
        - Authentication and authorization
        - Data encryption
        - Security monitoring
        - Incident response plan
        
        Industry: ${t.industry}
        Technical Complexity: ${t.technicalComplexity}
        
        Implement defense-in-depth strategy.`}]}async generateSection(t,r){const n=`${t.prompt}

Additional Context:
- Requirements: ${r.requirements.join(", ")}
- Constraints: ${r.constraints.join(", ")}
- Stakeholders: ${r.stakeholders.join(", ")}

Generate a detailed, professional section with:
1. Clear structure and headings
2. Specific, actionable recommendations
3. Realistic time and resource estimates
4. Risk considerations
5. Success metrics

Format as HTML with proper styling for professional presentation.
Include estimated hours for completion at the end.

Estimated Hours: [X hours]`,a=(await this.retryableRequest(()=>this.model.generateContent(n))).response.text(),o=a.match(/Estimated Hours:\s*\[?(\d+)\s*hours?\]?/i),l=o?parseInt(o[1]):this.getDefaultHours(t.title);return{title:t.title,content:this.cleanHtmlContent(a),priority:this.getSectionPriority(t.title),estimatedHours:l}}async retryableRequest(t){for(let r=1;r<=this.maxRetries;r++)try{return await t()}catch(n){if(r===this.maxRetries)throw n;console.warn(`Request attempt ${r} failed, retrying in ${this.retryDelay}ms...`),await new Promise(s=>setTimeout(s,this.retryDelay*r))}}extractJsonFromResponse(t){const r=t.match(/\{[\s\S]*\}/);return r?r[0]:t}cleanHtmlContent(t){return t.replace(/Estimated Hours:\s*\[?\d+\s*hours?\]?/gi,"").replace(/```html\s*/g,"").replace(/```\s*/g,"").trim()}getSectionPriority(t){const r=["Project Overview","Technical Architecture","Phase 1: Foundation & Setup"],n=["Phase 2: Core Development","Risk Management","Security Framework"],s=["Phase 3: Advanced Features","Quality Assurance","Deployment Strategy"];return r.includes(t)?"critical":n.includes(t)?"high":s.includes(t)?"medium":"low"}getDefaultHours(t){return{"Project Overview":16,"Technical Architecture":40,"Phase 1: Foundation & Setup":120,"Phase 2: Core Development":200,"Phase 3: Advanced Features":160,"Phase 4: Testing & QA":80,"Phase 5: Deployment & Launch":60,"Risk Management":24,"Quality Assurance":32,"Deployment Strategy":40,"Maintenance & Support":24,"Budget Breakdown":16,"Timeline Details":20,"Team Structure":16,"Stakeholder Matrix":12,"Compliance Requirements":32,"Scalability Plan":40,"Security Framework":48}[t]||24}calculateProjectCost(t,r){const s={low:50,medium:75,high:100,expert:150}[r.technicalComplexity],a={small:1,medium:1.2,large:1.5,enterprise:2};return Math.round(t*s*a[r.scope])}identifyCriticalPath(t){return t.filter(r=>r.priority==="critical"||r.priority==="high").map(r=>r.title)}getDefaultRequirements(){return{projectType:"web_app",industry:"technology",scope:"medium",timeline:"6-12 months",budget:"$50,000 - $200,000",teamSize:"5-8 developers",technicalComplexity:"medium",requirements:["User authentication","Data management","Responsive design"],stakeholders:["Project Manager","Development Team","End Users"],constraints:["Budget limitations","Timeline constraints"]}}getFallbackSection(t){return{title:t,content:`<div class="fallback-section">
        <h3>${t}</h3>
        <p>This section requires additional specification. Please provide more details about your ${t.toLowerCase()} requirements.</p>
        <ul>
          <li>Define specific requirements</li>
          <li>Identify key stakeholders</li>
          <li>Establish success criteria</li>
          <li>Set realistic timelines</li>
        </ul>
      </div>`,priority:"medium",estimatedHours:this.getDefaultHours(t)}}}function lK(){return new oK}class cK{constructor(){this.maxRetries=3,this.retryDelay=1e3;const t=new ls("AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg");this.model=t.getGenerativeModel({model:"gemini-2.0-flash-lite",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:4096}})}async generateProjectPlan(t,r){const n=Date.now(),s=t.sections.filter(A=>A.enabled).sort((A,d)=>A.order-d.order),a=[];let o=0;for(let A=0;A<s.length;A++){const d=s[A];r==null||r(d.title,A+1,s.length);try{const u=await this.generateSection(d,t.projectDescription,t.additionalContext);a.push(u),o+=u.estimatedHours,A<s.length-1&&await new Promise(p=>setTimeout(p,this.retryDelay))}catch(u){console.error(`Failed to generate section: ${d.title}`,u),a.push({id:d.id,title:d.title,content:`<p>Failed to generate content for ${d.title}. Please try again.</p>`,generated:!1,estimatedHours:d.estimatedHours||8,priority:d.priority||"medium"})}}const l=this.generateHtmlDocument(a,t.projectDescription),c=Date.now()-n;return{sections:a,totalEstimatedHours:o,generationTime:c,htmlContent:l}}async generateSection(t,r,n){const s=`
Project Description: "${r}"

${n?`Additional Context: ${n}`:""}

Section: ${t.title}
Description: ${t.description}

${t.prompt}

Please provide a comprehensive, professional response that includes:
- Detailed analysis and recommendations
- Specific implementation steps
- Best practices and considerations
- Risk factors and mitigation strategies
- Success metrics where applicable

Format the response in clean HTML with proper headings, paragraphs, lists, and structure.
Use professional styling classes like 'section-header', 'key-point', 'recommendation', etc.
`,o=(await this.retryableRequest(()=>this.model.generateContent(s))).response.text(),l=this.cleanHtmlContent(o);return{id:t.id,title:t.title,content:l,generated:!0,estimatedHours:t.estimatedHours||this.estimateHours(t.title),priority:t.priority||"medium"}}async retryableRequest(t){let r;for(let n=1;n<=this.maxRetries;n++)try{return await t()}catch(s){r=s,console.warn(`Attempt ${n} failed:`,s),n<this.maxRetries&&await new Promise(a=>setTimeout(a,this.retryDelay*n))}throw r}cleanHtmlContent(t){let r=t.trim();return r.startsWith("```html")?r=r.replace(/^```html\s*/,"").replace(/```\s*$/,""):r.startsWith("```")&&(r=r.replace(/^```\s*/,"").replace(/```\s*$/,"")),r.includes("<")||(r=`<div class="section-content">${r.replace(/\n/g,"</p><p>")}</div>`,r=r.replace('<div class="section-content"><p>','<div class="section-content"><p>'),r=r.replace("</p></div>","</p></div>")),r}estimateHours(t){return{"Executive Summary":4,"Technical Architecture":16,"Feature Specifications":12,"Development Methodology":8,"User Experience Design":12,"Quality Assurance":10,"Deployment Strategy":10,"Risk Management":6,"Stakeholder Management":4,"Post-Launch Strategy":6}[t]||8}generateHtmlDocument(t,r){const n=t.map(s=>`
      <section class="project-section" id="${s.id}">
        <div class="section-header">
          <h2 class="section-title">${s.title}</h2>
          <div class="section-meta">
            <span class="estimated-hours">${s.estimatedHours}h</span>
            <span class="priority priority-${s.priority}">${s.priority}</span>
          </div>
        </div>
        <div class="section-content">
          ${s.content}
        </div>
      </section>
    `).join(`
`);return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Plan - ${r.substring(0,50)}...</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6; color: #333; background: #f8fafc;
        }
        .project-plan { max-width: 1200px; margin: 0 auto; padding: 2rem; }
        .plan-header { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; padding: 3rem 2rem; border-radius: 12px; margin-bottom: 2rem;
            text-align: center;
        }
        .plan-title { font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem; }
        .plan-description { font-size: 1.2rem; opacity: 0.9; }
        .project-section { 
            background: white; border-radius: 8px; padding: 2rem; margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); border-left: 4px solid #667eea;
        }
        .section-header { 
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 2px solid #f1f5f9;
        }
        .section-title { font-size: 1.8rem; font-weight: 600; color: #1e293b; }
        .section-meta { display: flex; gap: 1rem; }
        .estimated-hours { 
            background: #e0f2fe; color: #0277bd; padding: 0.25rem 0.75rem;
            border-radius: 1rem; font-size: 0.875rem; font-weight: 500;
        }
        .priority { 
            padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.875rem;
            font-weight: 500; text-transform: uppercase;
        }
        .priority-critical { background: #fee2e2; color: #dc2626; }
        .priority-high { background: #fef3c7; color: #d97706; }
        .priority-medium { background: #e0f2fe; color: #0277bd; }
        .priority-low { background: #f0fdf4; color: #059669; }
        .section-content { font-size: 1rem; }
        .section-content h1, .section-content h2, .section-content h3 {
            color: #1e293b; margin: 1.5rem 0 1rem 0; font-weight: 600;
        }
        .section-content h1 { font-size: 1.5rem; }
        .section-content h2 { font-size: 1.3rem; }
        .section-content h3 { font-size: 1.1rem; }
        .section-content p { margin-bottom: 1rem; }
        .section-content ul, .section-content ol { 
            margin-left: 2rem; margin-bottom: 1rem;
        }
        .section-content li { margin-bottom: 0.5rem; }
        .key-point { 
            background: #f8fafc; border-left: 3px solid #3b82f6;
            padding: 1rem; margin: 1rem 0; border-radius: 0 6px 6px 0;
        }
        .recommendation { 
            background: #f0fdf4; border-left: 3px solid #10b981;
            padding: 1rem; margin: 1rem 0; border-radius: 0 6px 6px 0;
        }
        @media (max-width: 768px) {
            .project-plan { padding: 1rem; }
            .plan-header { padding: 2rem 1rem; }
            .plan-title { font-size: 2rem; }
            .section-header { flex-direction: column; align-items: flex-start; gap: 1rem; }
        }
    </style>
</head>
<body>
    <div class="project-plan">
        <header class="plan-header">
            <h1 class="plan-title">Comprehensive Project Plan</h1>
            <p class="plan-description">${r}</p>
        </header>
        ${n}
    </div>
</body>
</html>`}}const AK=[{id:"executive-summary",title:"Executive Summary",description:"High-level overview of the project including objectives, scope, and expected outcomes",prompt:"Create a comprehensive executive summary that includes project vision, key objectives, success metrics, budget overview, timeline summary, and strategic importance. Make it suitable for stakeholders and decision-makers.",order:1,enabled:!0,estimatedHours:4,priority:"critical"},{id:"technical-architecture",title:"Technical Architecture & Infrastructure",description:"Detailed technical design, system architecture, and infrastructure requirements",prompt:"Design a comprehensive technical architecture including system diagrams, technology stack recommendations, database design, API architecture, security framework, performance considerations, scalability planning, and infrastructure requirements.",order:2,enabled:!0,estimatedHours:16,priority:"critical"},{id:"feature-specifications",title:"Detailed Feature Specifications",description:"Comprehensive breakdown of all features, user stories, and functional requirements",prompt:"Create detailed feature specifications including user stories, acceptance criteria, functional requirements, non-functional requirements, feature prioritization, and integration requirements. Include wireframes descriptions where relevant.",order:3,enabled:!0,estimatedHours:12,priority:"high"},{id:"development-methodology",title:"Development Methodology & Timeline",description:"Development approach, project phases, milestones, and detailed timeline",prompt:"Define the development methodology (Agile, Scrum, etc.), sprint planning, milestone definitions, detailed project timeline, resource allocation, dependencies, and risk buffers. Include a realistic delivery schedule.",order:4,enabled:!0,estimatedHours:8,priority:"high"},{id:"user-experience-design",title:"User Experience & Interface Design",description:"UX/UI design strategy, user journey mapping, and design system specifications",prompt:"Create a comprehensive UX/UI strategy including user persona analysis, user journey mapping, design system specifications, accessibility requirements, responsive design approach, and usability testing plans.",order:5,enabled:!0,estimatedHours:12,priority:"high"},{id:"quality-assurance",title:"Quality Assurance & Testing Strategy",description:"Testing methodology, QA processes, and quality standards",prompt:"Design a comprehensive QA strategy including testing methodologies, test case development, automated testing approach, performance testing, security testing, user acceptance testing, and bug tracking processes.",order:6,enabled:!0,estimatedHours:10,priority:"high"},{id:"deployment-devops",title:"Deployment & DevOps Strategy",description:"Deployment pipeline, DevOps practices, and production environment setup",prompt:"Create a detailed deployment and DevOps strategy including CI/CD pipeline design, environment management, deployment automation, monitoring and alerting, backup strategies, and rollback procedures.",order:7,enabled:!0,estimatedHours:10,priority:"medium"},{id:"risk-management",title:"Risk Management & Mitigation",description:"Risk assessment, mitigation strategies, and contingency planning",prompt:"Develop a comprehensive risk management plan including risk identification, risk assessment matrix, mitigation strategies, contingency planning, and monitoring procedures. Cover technical, business, and operational risks.",order:8,enabled:!0,estimatedHours:6,priority:"medium"},{id:"stakeholder-management",title:"Stakeholder Management",description:"Stakeholder identification, communication plan, and engagement strategy",prompt:"Create a stakeholder management plan including stakeholder identification, influence/interest matrix, communication strategy, feedback mechanisms, decision-making processes, and escalation procedures.",order:9,enabled:!0,estimatedHours:4,priority:"medium"},{id:"post-launch-strategy",title:"Post-Launch Strategy",description:"Maintenance, support, monitoring, and future enhancement planning",prompt:"Design a comprehensive post-launch strategy including maintenance planning, user support processes, performance monitoring, analytics implementation, user feedback collection, and future enhancement roadmap.",order:10,enabled:!0,estimatedHours:6,priority:"low"}];function dK(){return new cK}class uK{constructor(){const t=new ls("AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg");this.genAI=t,this.model=t.getGenerativeModel({model:"gemini-2.0-flash-lite"})}getDefaultSections(){return[{id:"executive-summary",title:"Executive Summary",content:"",isGenerating:!1,isCompleted:!1,order:1},{id:"technical-architecture",title:"Technical Architecture & Infrastructure",content:"",isGenerating:!1,isCompleted:!1,order:2},{id:"feature-specifications",title:"Detailed Feature Specifications",content:"",isGenerating:!1,isCompleted:!1,order:3},{id:"development-methodology",title:"Development Methodology & Timeline",content:"",isGenerating:!1,isCompleted:!1,order:4},{id:"user-experience",title:"User Experience & Interface Design",content:"",isGenerating:!1,isCompleted:!1,order:5},{id:"quality-assurance",title:"Quality Assurance & Testing Strategy",content:"",isGenerating:!1,isCompleted:!1,order:6},{id:"deployment-devops",title:"Deployment & DevOps Strategy",content:"",isGenerating:!1,isCompleted:!1,order:7},{id:"risk-management",title:"Risk Management & Mitigation",content:"",isGenerating:!1,isCompleted:!1,order:8},{id:"stakeholder-management",title:"Stakeholder Management",content:"",isGenerating:!1,isCompleted:!1,order:9},{id:"post-launch",title:"Post-Launch Strategy",content:"",isGenerating:!1,isCompleted:!1,order:10}]}buildSectionPromptWithAI(t,r,n,s){var l;const a=`Project Description: ${r}`,o=n&&n.length>0?`

Additional Requirements:
${n.map(c=>`- ${c}`).join(`
`)}`:"";if((l=s==null?void 0:s.aiPrompts)!=null&&l.primary){let c=s.aiPrompts.primary;return s.aiPrompts.secondary&&(c+=`

Additional Details: ${s.aiPrompts.secondary}`),s.aiPrompts.context&&(c+=`

Context Guidelines: ${s.aiPrompts.context}`),`${a}${o}

${c}

CRITICAL: Return ONLY clean HTML content without any markdown formatting, code blocks, or backtick tags. Your response must start directly with the HTML section tag and contain no explanatory text or markdown.

Create sophisticated, compact HTML sections using ONLY HTML and CSS - NO IMAGES. Use modern layouts with tables, flowcharts, timelines, cards, metrics, and status badges. Never suggest images or external diagrams. All visualizations must be HTML/CSS based.`}return this.buildSectionPrompt(t,r,n)}buildSectionPrompt(t,r,n){const s=`Project Description: ${r}`,a=n&&n.length>0?`

Additional Requirements:
${n.map(c=>`- ${c}`).join(`
`)}`:"",l={"Executive Summary":`Create a comprehensive executive summary with rich HTML formatting. Include:
        - Project overview and objectives with key metrics
        - Value propositions in card format
        - Target market analysis with demographics table
        - Technical approach with architecture flow
        - Success metrics dashboard layout
        - ROI projections table with timeline`,"Technical Architecture & Infrastructure":`Design technical architecture with ultra-compact HTML-based visual elements:
        - Multi-layered microservices architecture: API Gateway  Service Mesh  Container Orchestrator  Database Cluster  Message Queue  Cache Layer
        - Technology stack comparison table with modern frameworks (Next.js, React Native, Node.js, PostgreSQL, Redis, Docker, Kubernetes)
        - Database schema with microservices patterns: User Service  Payment Service  Notification Service  Analytics Service
        - API endpoints table with GraphQL, REST, WebSocket, and gRPC implementations
        - Metrics dashboard using display: flex layout with real-time monitoring cards (CPU, Memory, Latency, Throughput, Error Rate)
        - Security protocols: OAuth 2.0  JWT  Rate Limiting  WAF  SSL/TLS  Zero Trust Architecture
        - Complex cloud-native flow: CI/CD Pipeline  Blue/Green Deployment  Auto-scaling  Load Balancing  Service Discovery`,"Detailed Feature Specifications":`Create feature specifications with structured layouts:
        - Feature priority matrix table
        - User stories in card format
        - Acceptance criteria checklists
        - Requirements traceability matrix
        - Feature dependencies flowchart
        - API specifications table`,"Development Methodology & Timeline":`Develop methodology with ultra-compact HTML-based visual planning:
        - Modern agile methodology comparison using the agile-comparison class with methodology cards for Scrum, Kanban, SAFe, DevOps, and Lean
        - Modern sprint timeline using the sprint-timeline class with alternating timeline cards and center line visualization
        - Modern team structure: Product Owner  Scrum Master  Frontend Engineer  Backend Engineer  DevOps Engineer  QA Automation Engineer
        - Critical path flow: Requirements Gathering  System Design  API Development  Frontend Development  Integration Testing  UAT  Production Deployment
        - Resource allocation dashboard using the resource-allocation class with capacity cards and progress bars for team utilization
        - Delivery pipeline: Feature Branch  Pull Request  Code Review  Automated Testing  Staging Deployment  Production Release`,"User Experience & Interface Design":`Design UX strategy with ultra-compact HTML visual elements:
        - User persona cards with behavioral data: Power User  Casual User  Admin  Guest with engagement metrics
        - User journey mapping: Brand Discovery  Product Research  Comparison  Add to Cart  Checkout  Post-Purchase  Loyalty
        - Information architecture: Landing Page  Product Categories  Search Results  Product Details  Shopping Cart  Payment Gateway  Order Confirmation
        - Design system components: Atomic Design  Design Tokens  Component Library  Pattern Library  Style Guide
        - Modern UX metrics dashboard with gradient cards and progress bars using the ux-metrics class structure
        - Responsive design flow: Mobile-First  Progressive Enhancement  Breakpoint Optimization  Cross-Device Testing`,"Quality Assurance & Testing Strategy":`Create testing strategy with detailed matrices:
        - Testing types coverage matrix
        - Test execution timeline
        - Quality metrics dashboard
        - Bug severity classification table
        - Testing tools comparison
        - QA process flowchart`,"Deployment & DevOps Strategy":`Design DevOps with ultra-compact HTML-based infrastructure visualization:
        - CI/CD pipeline: Git Commit  Webhook Trigger  Docker Build  Unit Tests  Integration Tests  Security Scan  Staging Deploy  E2E Tests  Production Deploy
        - Environment configuration: Development  Testing  Staging  Pre-Production  Production with infrastructure as code
        - Cloud infrastructure: CDN  Load Balancer  API Gateway  Microservices  Service Mesh  Database Cluster  Message Queue  Cache Layer  Monitoring Stack
        - DevOps metrics dashboard using display: flex layout (Deployment Frequency, Lead Time, MTTR, Change Failure Rate, Uptime)
        - Container orchestration: Dockerfile  Image Registry  Kubernetes Cluster  Pod Scaling  Service Discovery  Ingress Controller
        - Monitoring stack: Prometheus  Grafana  ELK Stack  Jaeger  Alertmanager  PagerDuty  Incident Response`,"Risk Management & Mitigation":`Develop risk management with ultra-compact HTML-based assessment visualization:
        - Risk assessment matrix with probability/impact scoring and modern risk categories (Cybersecurity, Compliance, Technical Debt, Market, Operational)
        - Mitigation strategies: Risk Identification  Impact Analysis  Probability Assessment  Mitigation Planning  Implementation  Monitoring  Review
        - Risk monitoring timeline: Continuous Monitoring  Threat Detection  Risk Assessment  Response Planning  Incident Response  Post-Incident Review
        - Risk metrics dashboard using display: flex layout (Risk Score, Mitigation Coverage, Response Time, Incident Frequency, Compliance Status)
        - Modern risk categories: Supply Chain  Data Privacy  API Security  Infrastructure  Third-Party Dependencies  Regulatory Compliance
        - Incident response flow: Alert  Triage  Investigation  Containment  Eradication  Recovery  Lessons Learned`,"Stakeholder Management":`Create stakeholder plan with ultra-compact HTML communication visualization:
        - Stakeholder ecosystem: Product Owner  Engineering Manager  Tech Lead  Senior Developer  Junior Developer  QA Lead  DevOps Engineer  UX Designer
        - Communication flow: Sprint Planning  Daily Standups  Code Reviews  Deployment Notifications  Incident Reports  Post-Mortem Reviews
        - RACI matrix with modern roles: Product Manager  Engineering  Design  Marketing  Sales  Customer Success  Legal  Security
        - Escalation chain: Developer  Tech Lead  Engineering Manager  VP Engineering  CTO  CEO
        - Stakeholder metrics dashboard using display: flex layout (Engagement Score, Response Time, Decision Velocity, Satisfaction Rating)
        - Feedback loop: User Research  Product Requirements  Technical Specification  Development  Testing  Release  User Feedback`,"Post-Launch Strategy":`Develop post-launch with ultra-compact HTML roadmap visualization:
        - Launch phases: Alpha Testing  Beta Release  Soft Launch  Public Launch  Scale-up  Optimization
        - User onboarding journey: Account Creation  Email Verification  Profile Setup  Feature Discovery  First Success  Habit Formation
        - Analytics stack: Google Analytics  Mixpanel  Amplitude  Hotjar  DataDog  Custom Dashboards
        - Post-launch metrics dashboard using display: flex layout (MAU, DAU, Retention Rate, Churn Rate, Revenue Growth, Feature Adoption)
        - Growth strategies: SEO Optimization  Content Marketing  Social Media  Paid Advertising  Referral Programs  Partnership Development
        - Product roadmap: Bug Fixes  Performance Optimization  Feature Enhancements  New Integrations  Mobile App  Enterprise Features`}[t]||`Create a detailed section about ${t} for this project.`;return`${s}${a}

${l}

CRITICAL: Return ONLY clean HTML content without any markdown formatting, code blocks, or backtick tags. Your response must start directly with the HTML section tag and contain no explanatory text or markdown.

Create sophisticated, compact HTML sections using ONLY HTML and CSS - NO IMAGES. For technical diagrams use dense, modern layouts with NO overlapping elements:

COMPACT ARCHITECTURE DIAGRAMS - Use precise layered positioning:
<div class="architecture-diagram">
  <div class="diagram-layer">
    <div class="diagram-component frontend">Frontend App</div>
    <div class="diagram-component api">API Gateway</div>
    <div class="diagram-component cache">Redis Cache</div>
  </div>
  <div class="diagram-layer">
    <div class="diagram-component load-balancer">Load Balancer</div>
    <div class="diagram-component microservice">User Service</div>
    <div class="diagram-component microservice">Auth Service</div>
    <div class="diagram-component database">PostgreSQL</div>
  </div>
</div>

DENSE ORGANIZATIONAL TREES - Use hierarchical structure:
<div class="org-chart">
  <div class="org-level-compact">
    <div class="org-role manager">PM</div>
  </div>
  <div class="org-level-compact">
    <div class="org-role developer">Frontend</div>
    <div class="org-role developer">Backend</div>
    <div class="org-role designer">UX/UI</div>
    <div class="org-role developer">DevOps</div>
  </div>
</div>

COMPACT CONNECTED FLOWS - Use tight horizontal layout with arrows:
<div class="flowchart">
  <div class="flow-step">Requirements</div>
  <div class="flow-step">Design</div>
  <div class="flow-step">Development</div>
  <div class="flow-step">Testing</div>
  <div class="flow-step">Deployment</div>
</div>

ADVANCED GRID FLOWS - Use precise positioning with connection arrows:
<div class="advanced-flow-grid">
  <div class="flow-node start"><span>Start</span></div>
  <div class="flow-node decision"><span>Validate?</span></div>
  <div class="flow-node process-a"><span>Process A</span></div>
  <div class="flow-node process-b"><span>Process B</span></div>
  <div class="flow-node end"><span>Complete</span></div>
  <div class="flow-connection horizontal" style="grid-column: 1/3; grid-row: 2; width: 80%;"></div>
  <div class="flow-connection horizontal" style="grid-column: 2/4; grid-row: 1; width: 80%;"></div>
  <div class="flow-connection horizontal" style="grid-column: 2/4; grid-row: 3; width: 80%;"></div>
  <div class="flow-connection horizontal" style="grid-column: 4/6; grid-row: 2; width: 80%;"></div>
  <div class="decision-label yes" style="grid-column: 2; grid-row: 1; margin-top: -10px;">Yes</div>
  <div class="decision-label no" style="grid-column: 2; grid-row: 3; margin-bottom: -10px;">No</div>
</div>

MODERN SPRINT TIMELINE - Use alternating timeline cards with center line:
<div class="sprint-timeline">
  <h3>Sprint Development Timeline</h3>
  <div class="timeline-container">
    <div class="timeline-line"></div>
    
    <div class="timeline-item">
      <div class="timeline-card planning">
        <div class="timeline-arrow"></div>
        <div class="timeline-header">
          <div class="timeline-title">Sprint Planning</div>
          <div class="timeline-date">Week 1</div>
        </div>
        <div class="timeline-description">Define sprint goals, select backlog items, and estimate effort required for upcoming sprint cycle.</div>
        <div class="timeline-progress">
          <div class="timeline-progress-bar planning" style="width: 100%;"></div>
        </div>
        <div class="timeline-tags">
          <span class="timeline-tag duration">2 days</span>
          <span class="timeline-tag participants">Team Lead, PO</span>
        </div>
      </div>
      <div class="timeline-node planning"></div>
    </div>

    <div class="timeline-item">
      <div class="timeline-card development">
        <div class="timeline-arrow"></div>
        <div class="timeline-header">
          <div class="timeline-title">Development Phase</div>
          <div class="timeline-date">Week 1-2</div>
        </div>
        <div class="timeline-description">Active development of features with daily standups and continuous integration.</div>
        <div class="timeline-progress">
          <div class="timeline-progress-bar development" style="width: 75%;"></div>
        </div>
        <div class="timeline-tags">
          <span class="timeline-tag duration">8 days</span>
          <span class="timeline-tag participants">Dev Team</span>
        </div>
      </div>
      <div class="timeline-node development"></div>
    </div>

    <div class="timeline-item">
      <div class="timeline-card testing">
        <div class="timeline-arrow"></div>
        <div class="timeline-header">
          <div class="timeline-title">Testing & QA</div>
          <div class="timeline-date">Week 2-3</div>
        </div>
        <div class="timeline-description">Comprehensive testing including unit tests, integration tests, and user acceptance testing.</div>
        <div class="timeline-progress">
          <div class="timeline-progress-bar testing" style="width: 60%;"></div>
        </div>
        <div class="timeline-tags">
          <span class="timeline-tag duration">4 days</span>
          <span class="timeline-tag participants">QA Team</span>
        </div>
      </div>
      <div class="timeline-node testing"></div>
    </div>

    <div class="timeline-item">
      <div class="timeline-card review">
        <div class="timeline-arrow"></div>
        <div class="timeline-header">
          <div class="timeline-title">Sprint Review</div>
          <div class="timeline-date">Week 3</div>
        </div>
        <div class="timeline-description">Demonstrate completed work to stakeholders and gather feedback for future improvements.</div>
        <div class="timeline-progress">
          <div class="timeline-progress-bar review" style="width: 30%;"></div>
        </div>
        <div class="timeline-tags">
          <span class="timeline-tag duration">1 day</span>
          <span class="timeline-tag participants">Full Team</span>
        </div>
      </div>
      <div class="timeline-node review"></div>
    </div>

    <div class="timeline-item">
      <div class="timeline-card retrospective">
        <div class="timeline-arrow"></div>
        <div class="timeline-header">
          <div class="timeline-title">Retrospective</div>
          <div class="timeline-date">Week 3</div>
        </div>
        <div class="timeline-description">Reflect on sprint process, identify improvements, and plan optimizations for next sprint.</div>
        <div class="timeline-progress">
          <div class="timeline-progress-bar retrospective" style="width: 0%;"></div>
        </div>
        <div class="timeline-tags">
          <span class="timeline-tag duration">Half day</span>
          <span class="timeline-tag participants">Dev Team</span>
        </div>
      </div>
      <div class="timeline-node retrospective"></div>
    </div>
  </div>
  
  <div class="timeline-compact">
    <div class="timeline-milestone">
      <div class="milestone-node completed"></div>
      <div class="milestone-title">Planning</div>
      <div class="milestone-date">Jan 15</div>
    </div>
    <div class="timeline-milestone">
      <div class="milestone-node current"></div>
      <div class="milestone-title">Development</div>
      <div class="milestone-date">Jan 22</div>
    </div>
    <div class="timeline-milestone">
      <div class="milestone-node upcoming"></div>
      <div class="milestone-title">Testing</div>
      <div class="milestone-date">Jan 29</div>
    </div>
    <div class="timeline-milestone">
      <div class="milestone-node upcoming"></div>
      <div class="milestone-title">Review</div>
      <div class="milestone-date">Feb 5</div>
    </div>
    <div class="timeline-milestone">
      <div class="milestone-node upcoming"></div>
      <div class="milestone-title">Retrospective</div>
      <div class="milestone-date">Feb 6</div>
    </div>
  </div>
</div>

MODERN AGILE METHODOLOGY COMPARISON - Use methodology cards with ratings and metrics:
<div class="agile-comparison">
  <h3>Agile Methodology Comparison</h3>
  <div class="methodology-grid">
    <div class="methodology-card scrum">
      <div class="methodology-header">
        <div class="methodology-title">Scrum</div>
        <div class="methodology-icon"></div>
      </div>
      <div class="methodology-description">Sprint-based framework with defined roles and ceremonies</div>
      <div class="methodology-rating">
        <span class="rating-label">Complexity:</span>
        <div class="rating-stars">
          <div class="rating-star filled"></div>
          <div class="rating-star filled"></div>
          <div class="rating-star filled"></div>
          <div class="rating-star"></div>
          <div class="rating-star"></div>
        </div>
      </div>
      <div class="methodology-metrics">
        <span class="methodology-metric">2-4 week sprints</span>
        <span class="methodology-metric">Daily standups</span>
        <span class="methodology-metric">Sprint reviews</span>
      </div>
    </div>
    <div class="methodology-card kanban">
      <div class="methodology-header">
        <div class="methodology-title">Kanban</div>
        <div class="methodology-icon"></div>
      </div>
      <div class="methodology-description">Visual workflow management with continuous delivery</div>
      <div class="methodology-rating">
        <span class="rating-label">Complexity:</span>
        <div class="rating-stars">
          <div class="rating-star filled"></div>
          <div class="rating-star filled"></div>
          <div class="rating-star"></div>
          <div class="rating-star"></div>
          <div class="rating-star"></div>
        </div>
      </div>
      <div class="methodology-metrics">
        <span class="methodology-metric">Continuous flow</span>
        <span class="methodology-metric">WIP limits</span>
        <span class="methodology-metric">Pull system</span>
      </div>
    </div>
    <div class="methodology-card safe">
      <div class="methodology-header">
        <div class="methodology-title">SAFe</div>
        <div class="methodology-icon"></div>
      </div>
      <div class="methodology-description">Scaled agile framework for enterprise organizations</div>
      <div class="methodology-rating">
        <span class="rating-label">Complexity:</span>
        <div class="rating-stars">
          <div class="rating-star filled"></div>
          <div class="rating-star filled"></div>
          <div class="rating-star filled"></div>
          <div class="rating-star filled"></div>
          <div class="rating-star filled"></div>
        </div>
      </div>
      <div class="methodology-metrics">
        <span class="methodology-metric">PI planning</span>
        <span class="methodology-metric">ART structure</span>
        <span class="methodology-metric">Lean portfolio</span>
      </div>
    </div>
    <div class="methodology-card devops">
      <div class="methodology-header">
        <div class="methodology-title">DevOps</div>
        <div class="methodology-icon"></div>
      </div>
      <div class="methodology-description">Culture and practices for development and operations collaboration</div>
      <div class="methodology-rating">
        <span class="rating-label">Complexity:</span>
        <div class="rating-stars">
          <div class="rating-star filled"></div>
          <div class="rating-star filled"></div>
          <div class="rating-star filled"></div>
          <div class="rating-star filled"></div>
          <div class="rating-star"></div>
        </div>
      </div>
      <div class="methodology-metrics">
        <span class="methodology-metric">CI/CD</span>
        <span class="methodology-metric">Automation</span>
        <span class="methodology-metric">Monitoring</span>
      </div>
    </div>
  </div>
</div>

MODERN RESOURCE ALLOCATION DASHBOARD - Use capacity cards with progress bars:
<div class="resource-allocation">
  <h3>Team Resource Allocation</h3>
  <div class="resource-grid">
    <div class="resource-card frontend">
      <div class="resource-header">
        <div class="resource-title">Frontend Team</div>
        <div class="resource-capacity high">85%</div>
      </div>
      <div class="capacity-bar">
        <div class="capacity-fill frontend" style="width: 85%;"></div>
      </div>
      <div class="resource-details">
        <div class="resource-detail">
          <span class="resource-label">Developers:</span>
          <span class="resource-value">3 people</span>
        </div>
        <div class="resource-detail">
          <span class="resource-label">Sprint Capacity:</span>
          <span class="resource-value">120 hours</span>
        </div>
        <div class="resource-detail">
          <span class="resource-label">Committed:</span>
          <span class="resource-value">102 hours</span>
        </div>
      </div>
    </div>
    <div class="resource-card backend">
      <div class="resource-header">
        <div class="resource-title">Backend Team</div>
        <div class="resource-capacity high">92%</div>
      </div>
      <div class="capacity-bar">
        <div class="capacity-fill backend" style="width: 92%;"></div>
      </div>
      <div class="resource-details">
        <div class="resource-detail">
          <span class="resource-label">Developers:</span>
          <span class="resource-value">4 people</span>
        </div>
        <div class="resource-detail">
          <span class="resource-label">Sprint Capacity:</span>
          <span class="resource-value">160 hours</span>
        </div>
        <div class="resource-detail">
          <span class="resource-label">Committed:</span>
          <span class="resource-value">147 hours</span>
        </div>
      </div>
    </div>
    <div class="resource-card qa">
      <div class="resource-header">
        <div class="resource-title">QA Team</div>
        <div class="resource-capacity medium">65%</div>
      </div>
      <div class="capacity-bar">
        <div class="capacity-fill qa" style="width: 65%;"></div>
      </div>
      <div class="resource-details">
        <div class="resource-detail">
          <span class="resource-label">Engineers:</span>
          <span class="resource-value">2 people</span>
        </div>
        <div class="resource-detail">
          <span class="resource-label">Sprint Capacity:</span>
          <span class="resource-value">80 hours</span>
        </div>
        <div class="resource-detail">
          <span class="resource-label">Committed:</span>
          <span class="resource-value">52 hours</span>
        </div>
      </div>
    </div>
    <div class="resource-card devops">
      <div class="resource-header">
        <div class="resource-title">DevOps Team</div>
        <div class="resource-capacity medium">70%</div>
      </div>
      <div class="capacity-bar">
        <div class="capacity-fill devops" style="width: 70%;"></div>
      </div>
      <div class="resource-details">
        <div class="resource-detail">
          <span class="resource-label">Engineers:</span>
          <span class="resource-value">2 people</span>
        </div>
        <div class="resource-detail">
          <span class="resource-label">Sprint Capacity:</span>
          <span class="resource-value">80 hours</span>
        </div>
        <div class="resource-detail">
          <span class="resource-label">Committed:</span>
          <span class="resource-value">56 hours</span>
        </div>
      </div>
    </div>
  </div>
  <div class="resource-summary">
    <div class="summary-chip">
      <span class="value">78%</span>
      <span class="label">Overall Utilization</span>
    </div>
    <div class="summary-chip">
      <span class="value">11</span>
      <span class="label">Team Members</span>
    </div>
    <div class="summary-chip">
      <span class="value">440h</span>
      <span class="label">Total Capacity</span>
    </div>
    <div class="summary-chip">
      <span class="value">357h</span>
      <span class="label">Committed Hours</span>
    </div>
  </div>
</div>

MODERN UX METRICS DASHBOARD - Use comprehensive metric cards with progress indicators:
<div class="ux-metrics">
  <h3>User Experience Metrics Dashboard</h3>
  <div class="metrics-grid">
    <div class="metric-card conversion">
      <div class="metric-header">
        <div class="metric-title">Conversion Rate</div>
        <div class="metric-icon"></div>
      </div>
      <div class="metric-value">3.2%</div>
      <div class="metric-change positive">+0.5% vs last month</div>
      <div class="metric-progress">
        <div class="metric-progress-bar conversion" style="width: 65%;"></div>
      </div>
    </div>
    <div class="metric-card engagement">
      <div class="metric-header">
        <div class="metric-title">Session Duration</div>
        <div class="metric-icon"></div>
      </div>
      <div class="metric-value">4:32</div>
      <div class="metric-change positive">+15s vs last month</div>
      <div class="metric-progress">
        <div class="metric-progress-bar engagement" style="width: 76%;"></div>
      </div>
    </div>
    <div class="metric-card satisfaction">
      <div class="metric-header">
        <div class="metric-title">User Satisfaction</div>
        <div class="metric-icon"></div>
      </div>
      <div class="metric-value">4.7/5</div>
      <div class="metric-change positive">+0.2 vs last month</div>
      <div class="metric-progress">
        <div class="metric-progress-bar satisfaction" style="width: 94%;"></div>
      </div>
    </div>
    <div class="metric-card performance">
      <div class="metric-header">
        <div class="metric-title">Page Load Time</div>
        <div class="metric-icon"></div>
      </div>
      <div class="metric-value">1.8s</div>
      <div class="metric-change negative">+0.3s vs last month</div>
      <div class="metric-progress">
        <div class="metric-progress-bar performance" style="width: 72%;"></div>
      </div>
    </div>
  </div>
  <div class="metrics-row">
    <div class="metric-chip">
      <span class="value">89%</span>
      <span class="label">Task Completion</span>
    </div>
    <div class="metric-chip">
      <span class="value">2.3%</span>
      <span class="label">Bounce Rate</span>
    </div>
    <div class="metric-chip">
      <span class="value">67%</span>
      <span class="label">Feature Adoption</span>
    </div>
    <div class="metric-chip">
      <span class="value">78%</span>
      <span class="label">Mobile Usage</span>
    </div>
  </div>
</div>

Use tables, flowcharts, timelines, cards, metrics, and status badges. Never suggest images or external diagrams. All visualizations must be HTML/CSS based.`}async generateSection(t,r,n){try{const s=this.buildSectionPromptWithAI(t,r.projectDescription,r.additionalRequirements,n);let l=(await(await this.model.generateContent(s)).response).text();return l=l.replace(/```html\s*/gi,"").replace(/```\s*/g,"").replace(/^\s*html\s*/gi,"").trim(),l}catch(s){throw console.error(`Error generating section ${t}:`,s),new Error(`Failed to generate ${t} section`)}}async generateCompletePlan(t,r){const n=this.getDefaultSections(),s=n.length;for(let a=0;a<n.length;a++){const o=n[a];r&&r({currentSection:a+1,totalSections:s,currentSectionTitle:o.title,overallProgress:a/s*100,isGenerating:!0});try{console.log(`Generating section ${a+1}/${s}: ${o.title}`),o.content=await this.generateSection(o.title,t),o.isCompleted=!0,o.isGenerating=!1,r&&r({currentSection:a+1,totalSections:s,currentSectionTitle:o.title,overallProgress:(a+1)/s*100,isGenerating:a<s-1})}catch(l){console.error(`Failed to generate section ${o.title}:`,l),o.content=`Error generating content for ${o.title}. Please try again.`,o.isCompleted=!1,o.isGenerating=!1}a<s-1&&await new Promise(l=>setTimeout(l,1500))}return r&&r({currentSection:s,totalSections:s,currentSectionTitle:"Complete",overallProgress:100,isGenerating:!1}),n}generateHtmlReport(t){const r=t.sort((n,s)=>n.order-s.order).map(n=>`
        <section class="project-section" id="${n.id}">
          <h2 class="section-title">${n.title}</h2>
          <div class="section-content">
            ${this.formatSectionContent(n.content)}
          </div>
        </section>
      `).join(`
`);return`
      <div class="enhanced-project-plan">
        <header class="plan-header">
          <h1>Comprehensive Project Plan</h1>
          <div class="plan-meta">
            <span>Generated on: ${new Date().toLocaleDateString()}</span>
            <span>Sections: ${t.length}</span>
          </div>
        </header>
        
        <nav class="plan-toc">
          <h3>Table of Contents</h3>
          <ol>
            ${t.map(n=>`
              <li><a href="#${n.id}">${n.title}</a></li>
            `).join("")}
          </ol>
        </nav>

        <main class="plan-content">
          ${r}
        </main>
      </div>
    `}formatSectionContent(t){let r=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/^### (.*?)$/gm,"<h4>$1</h4>").replace(/^## (.*?)$/gm,"<h3>$1</h3>").replace(/^# (.*?)$/gm,"<h2>$1</h2>").replace(/^- (.*?)$/gm,"<li>$1</li>");return r=r.replace(/(<li>.*?<\/li>)/g,"<ul>$1</ul>"),r=r.replace(/\n\n/g,"</p><p>").replace(/^(.)/gm,"<p>$1").replace(/(.*)$/gm,"$1</p>"),r}}function hK(){return new uK}var xB="Progress",wB=100,[fK,Wde]=Xi(xB),[pK,mK]=fK(xB),VP=b.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=gK,...o}=e;(s||s===0)&&!A4(s)&&console.error(vK(`${s}`,"Progress"));const l=A4(s)?s:wB;n!==null&&!d4(n,l)&&console.error(yK(`${n}`,"Progress"));const c=d4(n,l)?n:null,A=ay(c)?a(c,l):void 0;return i.jsx(pK,{scope:r,value:c,max:l,children:i.jsx(Kt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ay(c)?c:void 0,"aria-valuetext":A,role:"progressbar","data-state":XP(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});VP.displayName=xB;var WP="ProgressIndicator",qP=b.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=mK(WP,r);return i.jsx(Kt.div,{"data-state":XP(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});qP.displayName=WP;function gK(e,t){return`${Math.round(e/t*100)}%`}function XP(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ay(e){return typeof e=="number"}function A4(e){return ay(e)&&!isNaN(e)&&e>0}function d4(e,t){return ay(e)&&!isNaN(e)&&e<=t&&e>=0}function vK(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${wB}\`.`}function yK(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${wB} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var JP=VP,xK=qP;const bB=b.forwardRef(({className:e,value:t,...r},n)=>i.jsx(JP,{ref:n,className:Zt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(xK,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));bB.displayName=JP.displayName;function u4({progress:e,sections:t}){return i.jsx(lt,{className:"w-full",children:i.jsx(ct,{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Project Plan Generation"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.currentSection,"/",e.totalSections," sections"]})]}),i.jsx(bB,{value:e.overallProgress,className:"w-full"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.isGenerating?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"inline w-4 h-4 mr-2 animate-spin"}),"Generating: ",e.currentSectionTitle]}):"Generation complete"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.map(r=>i.jsxs("div",{className:`
                  flex items-center space-x-3 p-3 rounded-lg border transition-colors
                  ${r.isCompleted?"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800":r.isGenerating?"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":"bg-gray-50 border-gray-200 dark:bg-gray-900/20 dark:border-gray-800"}
                `,children:[i.jsx("div",{className:"flex-shrink-0",children:r.isCompleted?i.jsx(wr,{className:"w-5 h-5 text-green-600"}):r.isGenerating?i.jsx(Vt,{className:"w-5 h-5 text-blue-600 animate-spin"}):i.jsx(Xp,{className:"w-5 h-5 text-gray-400"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("p",{className:`
                    text-sm font-medium truncate
                    ${r.isCompleted?"text-green-900 dark:text-green-100":r.isGenerating?"text-blue-900 dark:text-blue-100":"text-gray-600 dark:text-gray-400"}
                  `,children:[r.order,". ",r.title]}),i.jsx("p",{className:`
                    text-xs
                    ${r.isCompleted?"text-green-600 dark:text-green-400":r.isGenerating?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-500"}
                  `,children:r.isCompleted?"Complete":r.isGenerating?"Generating...":"Pending"})]})]},r.id))}),e.isGenerating&&i.jsx("div",{className:"text-center pt-2",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Estimated time remaining: ",Math.max(1,10-e.currentSection)," minutes"]})})]})})})}var c1="focusScope.autoFocusOnMount",A1="focusScope.autoFocusOnUnmount",h4={bubbles:!1,cancelable:!0},wK="FocusScope",CB=b.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=b.useState(null),A=ji(s),d=ji(a),u=b.useRef(null),p=Mr(t,m=>c(m)),f=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let m=function(w){if(f.paused||!l)return;const E=w.target;l.contains(E)?u.current=E:Ac(u.current,{select:!0})},N=function(w){if(f.paused||!l)return;const E=w.relatedTarget;E!==null&&(l.contains(E)||Ac(u.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&Ac(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",N);const y=new MutationObserver(g);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",N),y.disconnect()}}},[n,l,f.paused]),b.useEffect(()=>{if(l){p4.add(f);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(c1,h4);l.addEventListener(c1,A),l.dispatchEvent(g),g.defaultPrevented||(bK(EK(YP(l)),{select:!0}),document.activeElement===m&&Ac(l))}return()=>{l.removeEventListener(c1,A),setTimeout(()=>{const g=new CustomEvent(A1,h4);l.addEventListener(A1,d),l.dispatchEvent(g),g.defaultPrevented||Ac(m??document.body,{select:!0}),l.removeEventListener(A1,d),p4.remove(f)},0)}}},[l,A,d,f]);const x=b.useCallback(m=>{if(!r&&!n||f.paused)return;const N=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(N&&g){const y=m.currentTarget,[w,E]=CK(y);w&&E?!m.shiftKey&&g===E?(m.preventDefault(),r&&Ac(w,{select:!0})):m.shiftKey&&g===w&&(m.preventDefault(),r&&Ac(E,{select:!0})):g===y&&m.preventDefault()}},[r,n,f.paused]);return i.jsx(Kt.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});CB.displayName=wK;function bK(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ac(n,{select:t}),document.activeElement!==r)return}function CK(e){const t=YP(e),r=f4(t,e),n=f4(t.reverse(),e);return[r,n]}function YP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function f4(e,t){for(const r of e)if(!BK(r,{upTo:t}))return r}function BK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function NK(e){return e instanceof HTMLInputElement&&"select"in e}function Ac(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&NK(e)&&t&&e.select()}}var p4=SK();function SK(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=m4(e,t),e.unshift(t)},remove(t){var r;e=m4(e,t),(r=e[0])==null||r.resume()}}}function m4(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function EK(e){return e.filter(t=>t.tagName!=="A")}var d1=0;function ZP(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??g4()),document.body.insertAdjacentElement("beforeend",e[1]??g4()),d1++,()=>{d1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),d1--}},[])}function g4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Co=function(){return Co=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Co.apply(this,arguments)};function e_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function jK(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var lv="right-scroll-bar-position",cv="width-before-scroll-bar",FK="with-scroll-bars-hidden",kK="--removed-body-scroll-bar-size";function u1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function IK(e,t){var r=b.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var PK=typeof window<"u"?b.useLayoutEffect:b.useEffect,v4=new WeakMap;function _K(e,t){var r=IK(null,function(n){return e.forEach(function(s){return u1(s,n)})});return PK(function(){var n=v4.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||u1(l,null)}),a.forEach(function(l){s.has(l)||u1(l,o)})}v4.set(r,e)},[e]),r}function TK(e){return e}function LK(e,t){t===void 0&&(t=TK);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},A=function(){return Promise.resolve().then(c)};A(),r={push:function(d){o.push(d),A()},filter:function(d){return o=o.filter(d),r}}}};return s}function UK(e){e===void 0&&(e={});var t=LK(null);return t.options=Co({async:!0,ssr:!1},e),t}var t_=function(e){var t=e.sideCar,r=e_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,Co({},r))};t_.isSideCarExport=!0;function RK(e,t){return e.useMedium(t),t_}var r_=UK(),h1=function(){},mx=b.forwardRef(function(e,t){var r=b.useRef(null),n=b.useState({onScrollCapture:h1,onWheelCapture:h1,onTouchMoveCapture:h1}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,A=e.removeScrollBar,d=e.enabled,u=e.shards,p=e.sideCar,f=e.noIsolation,x=e.inert,m=e.allowPinchZoom,N=e.as,g=N===void 0?"div":N,y=e.gapMode,w=e_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,_=_K([r,t]),D=Co(Co({},w),s);return b.createElement(b.Fragment,null,d&&b.createElement(E,{sideCar:r_,removeScrollBar:A,shards:u,noIsolation:f,inert:x,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:y}),o?b.cloneElement(b.Children.only(l),Co(Co({},D),{ref:_})):b.createElement(g,Co({},D,{className:c,ref:_}),l))});mx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mx.classNames={fullWidth:cv,zeroRight:lv};var DK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=DK();return t&&e.setAttribute("nonce",t),e}function QK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function OK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HK=function(){var e=0,t=null;return{add:function(r){e==0&&(t=MK())&&(QK(t,r),OK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$K=function(){var e=HK();return function(t,r){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},n_=function(){var e=$K(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},zK={left:0,top:0,right:0,gap:0},f1=function(e){return parseInt(e||"",10)||0},KK=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[f1(r),f1(n),f1(s)]},GK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zK;var t=KK(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},VK=n_(),eh="data-scroll-locked",WK=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(FK,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(eh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(cv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(lv," .").concat(lv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(cv," .").concat(cv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(eh,`] {
    `).concat(kK,": ").concat(l,`px;
  }
`)},y4=function(){var e=parseInt(document.body.getAttribute(eh)||"0",10);return isFinite(e)?e:0},qK=function(){b.useEffect(function(){return document.body.setAttribute(eh,(y4()+1).toString()),function(){var e=y4()-1;e<=0?document.body.removeAttribute(eh):document.body.setAttribute(eh,e.toString())}},[])},XK=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;qK();var a=b.useMemo(function(){return GK(s)},[s]);return b.createElement(VK,{styles:WK(a,!t,s,r?"":"!important")})},I2=!1;if(typeof window<"u")try{var Yg=Object.defineProperty({},"passive",{get:function(){return I2=!0,!0}});window.addEventListener("test",Yg,Yg),window.removeEventListener("test",Yg,Yg)}catch{I2=!1}var su=I2?{passive:!1}:!1,JK=function(e){return e.tagName==="TEXTAREA"},s_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!JK(e)&&r[t]==="visible")},YK=function(e){return s_(e,"overflowY")},ZK=function(e){return s_(e,"overflowX")},x4=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=i_(e,n);if(s){var a=a_(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},eG=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},tG=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},i_=function(e,t){return e==="v"?YK(t):ZK(t)},a_=function(e,t){return e==="v"?eG(t):tG(t)},rG=function(e,t){return e==="h"&&t==="rtl"?-1:1},nG=function(e,t,r,n,s){var a=rG(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),A=!1,d=o>0,u=0,p=0;do{var f=a_(e,l),x=f[0],m=f[1],N=f[2],g=m-N-a*x;(x||g)&&i_(e,l)&&(u+=g,p+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(u)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(A=!0),A},Zg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},w4=function(e){return[e.deltaX,e.deltaY]},b4=function(e){return e&&"current"in e?e.current:e},sG=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iG=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aG=0,iu=[];function oG(e){var t=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),s=b.useState(aG++)[0],a=b.useState(n_)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=jK([e.lockRef.current],(e.shards||[]).map(b4),!0).filter(Boolean);return m.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(m,N){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=Zg(m),y=r.current,w="deltaX"in m?m.deltaX:y[0]-g[0],E="deltaY"in m?m.deltaY:y[1]-g[1],_,D=m.target,R=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in m&&R==="h"&&D.type==="range")return!1;var I=x4(R,D);if(!I)return!0;if(I?_=R:(_=R==="v"?"h":"v",I=x4(R,D)),!I)return!1;if(!n.current&&"changedTouches"in m&&(w||E)&&(n.current=_),!_)return!0;var Q=n.current||_;return nG(Q,N,m,Q==="h"?w:E,!0)},[]),c=b.useCallback(function(m){var N=m;if(!(!iu.length||iu[iu.length-1]!==a)){var g="deltaY"in N?w4(N):Zg(N),y=t.current.filter(function(_){return _.name===N.type&&(_.target===N.target||N.target===_.shadowParent)&&sG(_.delta,g)})[0];if(y&&y.should){N.cancelable&&N.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(b4).filter(Boolean).filter(function(_){return _.contains(N.target)}),E=w.length>0?l(N,w[0]):!o.current.noIsolation;E&&N.cancelable&&N.preventDefault()}}},[]),A=b.useCallback(function(m,N,g,y){var w={name:m,delta:N,target:g,should:y,shadowParent:lG(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(E){return E!==w})},1)},[]),d=b.useCallback(function(m){r.current=Zg(m),n.current=void 0},[]),u=b.useCallback(function(m){A(m.type,w4(m),m.target,l(m,e.lockRef.current))},[]),p=b.useCallback(function(m){A(m.type,Zg(m),m.target,l(m,e.lockRef.current))},[]);b.useEffect(function(){return iu.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:p}),document.addEventListener("wheel",c,su),document.addEventListener("touchmove",c,su),document.addEventListener("touchstart",d,su),function(){iu=iu.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,su),document.removeEventListener("touchmove",c,su),document.removeEventListener("touchstart",d,su)}},[]);var f=e.removeScrollBar,x=e.inert;return b.createElement(b.Fragment,null,x?b.createElement(a,{styles:iG(s)}):null,f?b.createElement(XK,{gapMode:e.gapMode}):null)}function lG(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cG=RK(r_,oG);var BB=b.forwardRef(function(e,t){return b.createElement(mx,Co({},e,{ref:t,sideCar:cG}))});BB.classNames=mx.classNames;var AG=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},au=new WeakMap,e0=new WeakMap,t0={},p1=0,o_=function(e){return e&&(e.host||o_(e.parentNode))},dG=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=o_(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},uG=function(e,t,r,n){var s=dG(t,Array.isArray(e)?e:[e]);t0[r]||(t0[r]=new WeakMap);var a=t0[r],o=[],l=new Set,c=new Set(s),A=function(u){!u||l.has(u)||(l.add(u),A(u.parentNode))};s.forEach(A);var d=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(p){if(l.has(p))d(p);else try{var f=p.getAttribute(n),x=f!==null&&f!=="false",m=(au.get(p)||0)+1,N=(a.get(p)||0)+1;au.set(p,m),a.set(p,N),o.push(p),m===1&&x&&e0.set(p,!0),N===1&&p.setAttribute(r,"true"),x||p.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return d(t),l.clear(),p1++,function(){o.forEach(function(u){var p=au.get(u)-1,f=a.get(u)-1;au.set(u,p),a.set(u,f),p||(e0.has(u)||u.removeAttribute(n),e0.delete(u)),f||u.removeAttribute(r)}),p1--,p1||(au=new WeakMap,au=new WeakMap,e0=new WeakMap,t0={})}},l_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=AG(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),uG(n,s,r,"aria-hidden")):function(){return null}},NB="Dialog",[c_,qde]=Xi(NB),[hG,eo]=c_(NB),A_=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[A=!1,d]=Xa({prop:n,defaultProp:s,onChange:a});return i.jsx(hG,{scope:t,triggerRef:l,contentRef:c,contentId:Fo(),titleId:Fo(),descriptionId:Fo(),open:A,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(u=>!u),[d]),modal:o,children:r})};A_.displayName=NB;var d_="DialogTrigger",fG=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=eo(d_,r),a=Mr(t,s.triggerRef);return i.jsx(Kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jB(s.open),...n,ref:a,onClick:Mt(e.onClick,s.onOpenToggle)})});fG.displayName=d_;var SB="DialogPortal",[pG,u_]=c_(SB,{forceMount:void 0}),h_=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=eo(SB,t);return i.jsx(pG,{scope:t,forceMount:r,children:b.Children.map(n,o=>i.jsx(Tl,{present:r||a.open,children:i.jsx(sx,{asChild:!0,container:s,children:o})}))})};h_.displayName=SB;var oy="DialogOverlay",f_=b.forwardRef((e,t)=>{const r=u_(oy,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=eo(oy,e.__scopeDialog);return a.modal?i.jsx(Tl,{present:n||a.open,children:i.jsx(gG,{...s,ref:t})}):null});f_.displayName=oy;var mG=Eh("DialogOverlay.RemoveScroll"),gG=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=eo(oy,r);return i.jsx(BB,{as:mG,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Kt.div,{"data-state":jB(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),vd="DialogContent",p_=b.forwardRef((e,t)=>{const r=u_(vd,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=eo(vd,e.__scopeDialog);return i.jsx(Tl,{present:n||a.open,children:a.modal?i.jsx(vG,{...s,ref:t}):i.jsx(yG,{...s,ref:t})})});p_.displayName=vd;var vG=b.forwardRef((e,t)=>{const r=eo(vd,e.__scopeDialog),n=b.useRef(null),s=Mr(t,r.contentRef,n);return b.useEffect(()=>{const a=n.current;if(a)return l_(a)},[]),i.jsx(m_,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mt(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Mt(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Mt(e.onFocusOutside,a=>a.preventDefault())})}),yG=b.forwardRef((e,t)=>{const r=eo(vd,e.__scopeDialog),n=b.useRef(!1),s=b.useRef(!1);return i.jsx(m_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,A;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((A=r.triggerRef.current)==null?void 0:A.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),m_=b.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=eo(vd,r),c=b.useRef(null),A=Mr(t,c);return ZP(),i.jsxs(i.Fragment,{children:[i.jsx(CB,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(jm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":jB(l.open),...o,ref:A,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(xG,{titleId:l.titleId}),i.jsx(bG,{contentRef:c,descriptionId:l.descriptionId})]})]})}),EB="DialogTitle",g_=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=eo(EB,r);return i.jsx(Kt.h2,{id:s.titleId,...n,ref:t})});g_.displayName=EB;var v_="DialogDescription",y_=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=eo(v_,r);return i.jsx(Kt.p,{id:s.descriptionId,...n,ref:t})});y_.displayName=v_;var x_="DialogClose",w_=b.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=eo(x_,r);return i.jsx(Kt.button,{type:"button",...n,ref:t,onClick:Mt(e.onClick,()=>s.onOpenChange(!1))})});w_.displayName=x_;function jB(e){return e?"open":"closed"}var b_="DialogTitleWarning",[Xde,C_]=B7(b_,{contentName:vd,titleName:EB,docsSlug:"dialog"}),xG=({titleId:e})=>{const t=C_(b_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},wG="DialogDescriptionWarning",bG=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${C_(wG).contentName}}.`;return b.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},CG=A_,BG=h_,B_=f_,N_=p_,S_=g_,E_=y_,NG=w_;const SG=CG,EG=BG,j_=b.forwardRef(({className:e,...t},r)=>i.jsx(B_,{ref:r,className:Zt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));j_.displayName=B_.displayName;const F_=b.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(EG,{children:[i.jsx(j_,{}),i.jsxs(N_,{ref:n,className:Zt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(NG,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(un,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));F_.displayName=N_.displayName;const k_=({className:e,...t})=>i.jsx("div",{className:Zt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});k_.displayName="DialogHeader";const I_=b.forwardRef(({className:e,...t},r)=>i.jsx(S_,{ref:r,className:Zt("text-lg font-semibold leading-none tracking-tight",e),...t}));I_.displayName=S_.displayName;const jG=b.forwardRef(({className:e,...t},r)=>i.jsx(E_,{ref:r,className:Zt("text-sm text-muted-foreground",e),...t}));jG.displayName=E_.displayName;const FG=[{id:"executive-summary",title:"Executive Summary",description:"Project overview and objectives",icon:"",order:1,enabled:!0,aiPrompts:{primary:"Generate a comprehensive executive summary including project goals, scope, key objectives, success criteria, and expected business value based on the user requirements.",secondary:"Create a brief overview highlighting the main value proposition, target audience, and expected outcomes.",context:"Focus on business value, strategic alignment, and high-level project scope."}},{id:"technical-architecture",title:"Technical Architecture & Infrastructure",description:"System design and technology stack",icon:"",order:2,enabled:!0,aiPrompts:{primary:"Define detailed technical architecture including system design, technology stack, database architecture, API design, security considerations, and infrastructure requirements.",secondary:"Specify scalability, performance, and reliability requirements with architectural patterns and best practices.",context:"Include frontend/backend separation, microservices considerations, cloud infrastructure, and third-party integrations."}},{id:"feature-specifications",title:"Detailed Feature Specifications",description:"Complete feature breakdown",icon:"",order:3,enabled:!0,aiPrompts:{primary:"Create detailed feature specifications with functional requirements, user interactions, business rules, and technical implementation details for each feature.",secondary:"Define feature priorities, dependencies, and acceptance criteria with user story mapping.",context:"Focus on user needs, business logic, and technical feasibility for each feature."}},{id:"development-methodology",title:"Development Methodology & Timeline",description:"Project timeline and methodology",icon:"",order:4,enabled:!0,aiPrompts:{primary:"Develop a comprehensive project timeline with development methodology, sprint planning, milestones, resource allocation, and project phases.",secondary:"Create realistic estimates, team capacity planning, and dependency management with risk buffers.",context:"Consider team size, skill levels, complexity factors, and external dependencies."}},{id:"user-experience",title:"User Experience & Interface Design",description:"UX/UI design strategy",icon:"",order:5,enabled:!0,aiPrompts:{primary:"Generate comprehensive UX/UI design strategy including user flows, wireframes, design system specifications, accessibility requirements, and responsive design considerations.",secondary:"Define user personas, journey maps, and interaction patterns with usability testing approach.",context:"Focus on user-centered design, accessibility standards, and modern design principles."}},{id:"quality-assurance",title:"Quality Assurance & Testing Strategy",description:"Testing and QA approach",icon:"",order:6,enabled:!0,aiPrompts:{primary:"Create a comprehensive testing strategy including unit testing, integration testing, end-to-end testing, performance testing, and security testing approaches.",secondary:"Define QA processes, test automation, bug tracking, and quality metrics with testing tools and frameworks.",context:"Include both manual and automated testing, CI/CD integration, and quality gates."}},{id:"deployment-devops",title:"Deployment & DevOps Strategy",description:"Deployment and infrastructure",icon:"",order:7,enabled:!0,aiPrompts:{primary:"Develop deployment strategy including CI/CD pipelines, infrastructure as code, environment management, monitoring, and release management processes.",secondary:"Define DevOps practices, containerization, orchestration, and infrastructure automation with backup and disaster recovery.",context:"Focus on automation, reliability, security, and scalability of deployment processes."}},{id:"risk-management",title:"Risk Management & Mitigation",description:"Risk assessment and planning",icon:"",order:8,enabled:!0,aiPrompts:{primary:"Conduct comprehensive risk assessment including technical risks, project risks, business risks, and external dependencies with detailed mitigation strategies.",secondary:"Create risk monitoring processes, contingency plans, and escalation procedures with risk impact analysis.",context:"Consider technology risks, timeline risks, resource risks, and market risks."}},{id:"stakeholder-management",title:"Stakeholder Management",description:"Communication and stakeholder strategy",icon:"",order:9,enabled:!0,aiPrompts:{primary:"Define stakeholder management strategy including stakeholder identification, communication plans, reporting structures, and engagement approaches.",secondary:"Create stakeholder matrix, communication schedules, and feedback mechanisms with change management processes.",context:"Include internal and external stakeholders, decision makers, and end users."}},{id:"post-launch",title:"Post-Launch Strategy",description:"Launch and growth planning",icon:"",order:10,enabled:!0,aiPrompts:{primary:"Develop post-launch strategy including go-to-market plan, user adoption, performance monitoring, maintenance, and continuous improvement processes.",secondary:"Define success metrics, user onboarding, support processes, and growth strategies with feedback collection.",context:"Focus on user adoption, system performance, business growth, and long-term sustainability."}}];function kG(){try{const e=localStorage.getItem("project_sections_settings");if(e)return JSON.parse(e)}catch(e){console.error("Error loading project sections settings:",e)}return FG}function Ps(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=Ps(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var P_={exports:{}},__={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx=b,IG=FI;function PG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _G=typeof Object.is=="function"?Object.is:PG,TG=IG.useSyncExternalStore,LG=gx.useRef,UG=gx.useEffect,RG=gx.useMemo,DG=gx.useDebugValue;__.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var a=LG(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=RG(function(){function c(f){if(!A){if(A=!0,d=f,f=n(f),s!==void 0&&o.hasValue){var x=o.value;if(s(x,f))return u=x}return u=f}if(x=u,_G(d,f))return x;var m=n(f);return s!==void 0&&s(x,m)?x:(d=f,u=m)}var A=!1,d,u,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,s]);var l=TG(e,a[0],a[1]);return UG(function(){o.hasValue=!0,o.value=l},[l]),DG(l),l};P_.exports=__;var MG=P_.exports;const QG=J5(MG),OG={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},C4=e=>{let t;const r=new Set,n=(d,u)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const f=t;t=u??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(x=>x(t,f))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>A,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(OG?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},A=t=e(n,s,c);return c},HG=e=>e?C4(e):C4,{useDebugValue:$G}=Ue,{useSyncExternalStoreWithSelector:zG}=QG,KG=e=>e;function T_(e,t=KG,r){const n=zG(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return $G(n),n}const B4=(e,t)=>{const r=HG(e),n=(s,a=t)=>T_(r,s,a);return Object.assign(n,r),n},GG=(e,t)=>e?B4(e,t):B4;function vs(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,s]of e)if(!Object.is(s,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var VG={value:()=>{}};function vx(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Av(r)}function Av(e){this._=e}function WG(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",s=r.indexOf(".");if(s>=0&&(n=r.slice(s+1),r=r.slice(0,s)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Av.prototype=vx.prototype={constructor:Av,on:function(e,t){var r=this._,n=WG(e+"",r),s,a=-1,o=n.length;if(arguments.length<2){for(;++a<o;)if((s=(e=n[a]).type)&&(s=qG(r[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(s=(e=n[a]).type)r[s]=N4(r[s],e.name,t);else if(t==null)for(s in r)r[s]=N4(r[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Av(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var r=new Array(s),n=0,s,a;n<s;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,s=a.length;n<s;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],s=0,a=n.length;s<a;++s)n[s].value.apply(t,r)}};function qG(e,t){for(var r=0,n=e.length,s;r<n;++r)if((s=e[r]).name===t)return s.value}function N4(e,t,r){for(var n=0,s=e.length;n<s;++n)if(e[n].name===t){e[n]=VG,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var P2="http://www.w3.org/1999/xhtml";const S4={svg:"http://www.w3.org/2000/svg",xhtml:P2,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yx(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),S4.hasOwnProperty(t)?{space:S4[t],local:e}:e}function XG(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===P2&&t.documentElement.namespaceURI===P2?t.createElement(e):t.createElementNS(r,e)}}function JG(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function L_(e){var t=yx(e);return(t.local?JG:XG)(t)}function YG(){}function FB(e){return e==null?YG:function(){return this.querySelector(e)}}function ZG(e){typeof e!="function"&&(e=FB(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var a=t[s],o=a.length,l=n[s]=new Array(o),c,A,d=0;d<o;++d)(c=a[d])&&(A=e.call(c,c.__data__,d,a))&&("__data__"in c&&(A.__data__=c.__data__),l[d]=A);return new Vi(n,this._parents)}function eV(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function tV(){return[]}function U_(e){return e==null?tV:function(){return this.querySelectorAll(e)}}function rV(e){return function(){return eV(e.apply(this,arguments))}}function nV(e){typeof e=="function"?e=rV(e):e=U_(e);for(var t=this._groups,r=t.length,n=[],s=[],a=0;a<r;++a)for(var o=t[a],l=o.length,c,A=0;A<l;++A)(c=o[A])&&(n.push(e.call(c,c.__data__,A,o)),s.push(c));return new Vi(n,s)}function R_(e){return function(){return this.matches(e)}}function D_(e){return function(t){return t.matches(e)}}var sV=Array.prototype.find;function iV(e){return function(){return sV.call(this.children,e)}}function aV(){return this.firstElementChild}function oV(e){return this.select(e==null?aV:iV(typeof e=="function"?e:D_(e)))}var lV=Array.prototype.filter;function cV(){return Array.from(this.children)}function AV(e){return function(){return lV.call(this.children,e)}}function dV(e){return this.selectAll(e==null?cV:AV(typeof e=="function"?e:D_(e)))}function uV(e){typeof e!="function"&&(e=R_(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var a=t[s],o=a.length,l=n[s]=[],c,A=0;A<o;++A)(c=a[A])&&e.call(c,c.__data__,A,a)&&l.push(c);return new Vi(n,this._parents)}function M_(e){return new Array(e.length)}function hV(){return new Vi(this._enter||this._groups.map(M_),this._parents)}function ly(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ly.prototype={constructor:ly,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function fV(e){return function(){return e}}function pV(e,t,r,n,s,a){for(var o=0,l,c=t.length,A=a.length;o<A;++o)(l=t[o])?(l.__data__=a[o],n[o]=l):r[o]=new ly(e,a[o]);for(;o<c;++o)(l=t[o])&&(s[o]=l)}function mV(e,t,r,n,s,a,o){var l,c,A=new Map,d=t.length,u=a.length,p=new Array(d),f;for(l=0;l<d;++l)(c=t[l])&&(p[l]=f=o.call(c,c.__data__,l,t)+"",A.has(f)?s[l]=c:A.set(f,c));for(l=0;l<u;++l)f=o.call(e,a[l],l,a)+"",(c=A.get(f))?(n[l]=c,c.__data__=a[l],A.delete(f)):r[l]=new ly(e,a[l]);for(l=0;l<d;++l)(c=t[l])&&A.get(p[l])===c&&(s[l]=c)}function gV(e){return e.__data__}function vV(e,t){if(!arguments.length)return Array.from(this,gV);var r=t?mV:pV,n=this._parents,s=this._groups;typeof e!="function"&&(e=fV(e));for(var a=s.length,o=new Array(a),l=new Array(a),c=new Array(a),A=0;A<a;++A){var d=n[A],u=s[A],p=u.length,f=yV(e.call(d,d&&d.__data__,A,n)),x=f.length,m=l[A]=new Array(x),N=o[A]=new Array(x),g=c[A]=new Array(p);r(d,u,m,N,g,f,t);for(var y=0,w=0,E,_;y<x;++y)if(E=m[y]){for(y>=w&&(w=y+1);!(_=N[w])&&++w<x;);E._next=_||null}}return o=new Vi(o,n),o._enter=l,o._exit=c,o}function yV(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xV(){return new Vi(this._exit||this._groups.map(M_),this._parents)}function wV(e,t,r){var n=this.enter(),s=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),r==null?a.remove():r(a),n&&s?n.merge(s).order():s}function bV(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,s=r.length,a=n.length,o=Math.min(s,a),l=new Array(s),c=0;c<o;++c)for(var A=r[c],d=n[c],u=A.length,p=l[c]=new Array(u),f,x=0;x<u;++x)(f=A[x]||d[x])&&(p[x]=f);for(;c<s;++c)l[c]=r[c];return new Vi(l,this._parents)}function CV(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],s=n.length-1,a=n[s],o;--s>=0;)(o=n[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function BV(e){e||(e=NV);function t(u,p){return u&&p?e(u.__data__,p.__data__):!u-!p}for(var r=this._groups,n=r.length,s=new Array(n),a=0;a<n;++a){for(var o=r[a],l=o.length,c=s[a]=new Array(l),A,d=0;d<l;++d)(A=o[d])&&(c[d]=A);c.sort(t)}return new Vi(s,this._parents).order()}function NV(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function SV(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function EV(){return Array.from(this)}function jV(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],s=0,a=n.length;s<a;++s){var o=n[s];if(o)return o}return null}function FV(){let e=0;for(const t of this)++e;return e}function kV(){return!this.node()}function IV(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var s=t[r],a=0,o=s.length,l;a<o;++a)(l=s[a])&&e.call(l,l.__data__,a,s);return this}function PV(e){return function(){this.removeAttribute(e)}}function _V(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TV(e,t){return function(){this.setAttribute(e,t)}}function LV(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function UV(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function RV(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function DV(e,t){var r=yx(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?_V:PV:typeof t=="function"?r.local?RV:UV:r.local?LV:TV)(r,t))}function Q_(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function MV(e){return function(){this.style.removeProperty(e)}}function QV(e,t,r){return function(){this.style.setProperty(e,t,r)}}function OV(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function HV(e,t,r){return arguments.length>1?this.each((t==null?MV:typeof t=="function"?OV:QV)(e,t,r??"")):Ph(this.node(),e)}function Ph(e,t){return e.style.getPropertyValue(t)||Q_(e).getComputedStyle(e,null).getPropertyValue(t)}function $V(e){return function(){delete this[e]}}function zV(e,t){return function(){this[e]=t}}function KV(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function GV(e,t){return arguments.length>1?this.each((t==null?$V:typeof t=="function"?KV:zV)(e,t)):this.node()[e]}function O_(e){return e.trim().split(/^|\s+/)}function kB(e){return e.classList||new H_(e)}function H_(e){this._node=e,this._names=O_(e.getAttribute("class")||"")}H_.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function $_(e,t){for(var r=kB(e),n=-1,s=t.length;++n<s;)r.add(t[n])}function z_(e,t){for(var r=kB(e),n=-1,s=t.length;++n<s;)r.remove(t[n])}function VV(e){return function(){$_(this,e)}}function WV(e){return function(){z_(this,e)}}function qV(e,t){return function(){(t.apply(this,arguments)?$_:z_)(this,e)}}function XV(e,t){var r=O_(e+"");if(arguments.length<2){for(var n=kB(this.node()),s=-1,a=r.length;++s<a;)if(!n.contains(r[s]))return!1;return!0}return this.each((typeof t=="function"?qV:t?VV:WV)(r,t))}function JV(){this.textContent=""}function YV(e){return function(){this.textContent=e}}function ZV(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function eW(e){return arguments.length?this.each(e==null?JV:(typeof e=="function"?ZV:YV)(e)):this.node().textContent}function tW(){this.innerHTML=""}function rW(e){return function(){this.innerHTML=e}}function nW(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function sW(e){return arguments.length?this.each(e==null?tW:(typeof e=="function"?nW:rW)(e)):this.node().innerHTML}function iW(){this.nextSibling&&this.parentNode.appendChild(this)}function aW(){return this.each(iW)}function oW(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lW(){return this.each(oW)}function cW(e){var t=typeof e=="function"?e:L_(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function AW(){return null}function dW(e,t){var r=typeof e=="function"?e:L_(e),n=t==null?AW:typeof t=="function"?t:FB(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function uW(){var e=this.parentNode;e&&e.removeChild(this)}function hW(){return this.each(uW)}function fW(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pW(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mW(e){return this.select(e?pW:fW)}function gW(e){return arguments.length?this.property("__data__",e):this.node().__data__}function vW(e){return function(t){e.call(this,t,this.__data__)}}function yW(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function xW(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,s=t.length,a;r<s;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function wW(e,t,r){return function(){var n=this.__on,s,a=vW(t);if(n){for(var o=0,l=n.length;o<l;++o)if((s=n[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=r),s.value=t;return}}this.addEventListener(e.type,a,r),s={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(s):this.__on=[s]}}function bW(e,t,r){var n=yW(e+""),s,a=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,A=l.length,d;c<A;++c)for(s=0,d=l[c];s<a;++s)if((o=n[s]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?wW:xW,s=0;s<a;++s)this.each(l(n[s],t,r));return this}function K_(e,t,r){var n=Q_(e),s=n.CustomEvent;typeof s=="function"?s=new s(t,r):(s=n.document.createEvent("Event"),r?(s.initEvent(t,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function CW(e,t){return function(){return K_(this,e,t)}}function BW(e,t){return function(){return K_(this,e,t.apply(this,arguments))}}function NW(e,t){return this.each((typeof t=="function"?BW:CW)(e,t))}function*SW(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],s=0,a=n.length,o;s<a;++s)(o=n[s])&&(yield o)}var G_=[null];function Vi(e,t){this._groups=e,this._parents=t}function Tm(){return new Vi([[document.documentElement]],G_)}function EW(){return this}Vi.prototype=Tm.prototype={constructor:Vi,select:ZG,selectAll:nV,selectChild:oV,selectChildren:dV,filter:uV,data:vV,enter:hV,exit:xV,join:wV,merge:bV,selection:EW,order:CV,sort:BV,call:SV,nodes:EV,node:jV,size:FV,empty:kV,each:IV,attr:DV,style:HV,property:GV,classed:XV,text:eW,html:sW,raise:aW,lower:lW,append:cW,insert:dW,remove:hW,clone:mW,datum:gW,on:bW,dispatch:NW,[Symbol.iterator]:SW};function ga(e){return typeof e=="string"?new Vi([[document.querySelector(e)]],[document.documentElement]):new Vi([[e]],G_)}function jW(e){let t;for(;t=e.sourceEvent;)e=t;return e}function $a(e,t){if(e=jW(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const FW={passive:!1},rm={capture:!0,passive:!1};function m1(e){e.stopImmediatePropagation()}function th(e){e.preventDefault(),e.stopImmediatePropagation()}function V_(e){var t=e.document.documentElement,r=ga(e).on("dragstart.drag",th,rm);"onselectstart"in t?r.on("selectstart.drag",th,rm):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function W_(e,t){var r=e.document.documentElement,n=ga(e).on("dragstart.drag",null);t&&(n.on("click.drag",th,rm),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const r0=e=>()=>e;function _2(e,{sourceEvent:t,subject:r,target:n,identifier:s,active:a,x:o,y:l,dx:c,dy:A,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:A,enumerable:!0,configurable:!0},_:{value:d}})}_2.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function kW(e){return!e.ctrlKey&&!e.button}function IW(){return this.parentNode}function PW(e,t){return t??{x:e.x,y:e.y}}function _W(){return navigator.maxTouchPoints||"ontouchstart"in this}function TW(){var e=kW,t=IW,r=PW,n=_W,s={},a=vx("start","drag","end"),o=0,l,c,A,d,u=0;function p(E){E.on("mousedown.drag",f).filter(n).on("touchstart.drag",N).on("touchmove.drag",g,FW).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(E,_){if(!(d||!e.call(this,E,_))){var D=w(this,t.call(this,E,_),E,_,"mouse");D&&(ga(E.view).on("mousemove.drag",x,rm).on("mouseup.drag",m,rm),V_(E.view),m1(E),A=!1,l=E.clientX,c=E.clientY,D("start",E))}}function x(E){if(th(E),!A){var _=E.clientX-l,D=E.clientY-c;A=_*_+D*D>u}s.mouse("drag",E)}function m(E){ga(E.view).on("mousemove.drag mouseup.drag",null),W_(E.view,A),th(E),s.mouse("end",E)}function N(E,_){if(e.call(this,E,_)){var D=E.changedTouches,R=t.call(this,E,_),I=D.length,Q,U;for(Q=0;Q<I;++Q)(U=w(this,R,E,_,D[Q].identifier,D[Q]))&&(m1(E),U("start",E,D[Q]))}}function g(E){var _=E.changedTouches,D=_.length,R,I;for(R=0;R<D;++R)(I=s[_[R].identifier])&&(th(E),I("drag",E,_[R]))}function y(E){var _=E.changedTouches,D=_.length,R,I;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),R=0;R<D;++R)(I=s[_[R].identifier])&&(m1(E),I("end",E,_[R]))}function w(E,_,D,R,I,Q){var U=a.copy(),S=$a(Q||D,_),P,O,k;if((k=r.call(E,new _2("beforestart",{sourceEvent:D,target:p,identifier:I,active:o,x:S[0],y:S[1],dx:0,dy:0,dispatch:U}),R))!=null)return P=k.x-S[0]||0,O=k.y-S[1]||0,function Z(H,q,K){var W=S,te;switch(H){case"start":s[I]=Z,te=o++;break;case"end":delete s[I],--o;case"drag":S=$a(K||q,_),te=o;break}U.call(H,E,new _2(H,{sourceEvent:q,subject:k,target:p,identifier:I,active:te,x:S[0]+P,y:S[1]+O,dx:S[0]-W[0],dy:S[1]-W[1],dispatch:U}),R)}}return p.filter=function(E){return arguments.length?(e=typeof E=="function"?E:r0(!!E),p):e},p.container=function(E){return arguments.length?(t=typeof E=="function"?E:r0(E),p):t},p.subject=function(E){return arguments.length?(r=typeof E=="function"?E:r0(E),p):r},p.touchable=function(E){return arguments.length?(n=typeof E=="function"?E:r0(!!E),p):n},p.on=function(){var E=a.on.apply(a,arguments);return E===a?p:E},p.clickDistance=function(E){return arguments.length?(u=(E=+E)*E,p):Math.sqrt(u)},p}function IB(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function q_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lm(){}var nm=.7,cy=1/nm,rh="\\s*([+-]?\\d+)\\s*",sm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LW=/^#([0-9a-f]{3,8})$/,UW=new RegExp(`^rgb\\(${rh},${rh},${rh}\\)$`),RW=new RegExp(`^rgb\\(${Io},${Io},${Io}\\)$`),DW=new RegExp(`^rgba\\(${rh},${rh},${rh},${sm}\\)$`),MW=new RegExp(`^rgba\\(${Io},${Io},${Io},${sm}\\)$`),QW=new RegExp(`^hsl\\(${sm},${Io},${Io}\\)$`),OW=new RegExp(`^hsla\\(${sm},${Io},${Io},${sm}\\)$`),E4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};IB(Lm,im,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:j4,formatHex:j4,formatHex8:HW,formatHsl:$W,formatRgb:F4,toString:F4});function j4(){return this.rgb().formatHex()}function HW(){return this.rgb().formatHex8()}function $W(){return X_(this).formatHsl()}function F4(){return this.rgb().formatRgb()}function im(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=LW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?k4(t):r===3?new Bi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?n0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?n0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UW.exec(e))?new Bi(t[1],t[2],t[3],1):(t=RW.exec(e))?new Bi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DW.exec(e))?n0(t[1],t[2],t[3],t[4]):(t=MW.exec(e))?n0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=QW.exec(e))?_4(t[1],t[2]/100,t[3]/100,1):(t=OW.exec(e))?_4(t[1],t[2]/100,t[3]/100,t[4]):E4.hasOwnProperty(e)?k4(E4[e]):e==="transparent"?new Bi(NaN,NaN,NaN,0):null}function k4(e){return new Bi(e>>16&255,e>>8&255,e&255,1)}function n0(e,t,r,n){return n<=0&&(e=t=r=NaN),new Bi(e,t,r,n)}function zW(e){return e instanceof Lm||(e=im(e)),e?(e=e.rgb(),new Bi(e.r,e.g,e.b,e.opacity)):new Bi}function T2(e,t,r,n){return arguments.length===1?zW(e):new Bi(e,t,r,n??1)}function Bi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}IB(Bi,T2,q_(Lm,{brighter(e){return e=e==null?cy:Math.pow(cy,e),new Bi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nm:Math.pow(nm,e),new Bi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bi(sd(this.r),sd(this.g),sd(this.b),Ay(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I4,formatHex:I4,formatHex8:KW,formatRgb:P4,toString:P4}));function I4(){return`#${VA(this.r)}${VA(this.g)}${VA(this.b)}`}function KW(){return`#${VA(this.r)}${VA(this.g)}${VA(this.b)}${VA((isNaN(this.opacity)?1:this.opacity)*255)}`}function P4(){const e=Ay(this.opacity);return`${e===1?"rgb(":"rgba("}${sd(this.r)}, ${sd(this.g)}, ${sd(this.b)}${e===1?")":`, ${e})`}`}function Ay(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function VA(e){return e=sd(e),(e<16?"0":"")+e.toString(16)}function _4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ka(e,t,r,n)}function X_(e){if(e instanceof Ka)return new Ka(e.h,e.s,e.l,e.opacity);if(e instanceof Lm||(e=im(e)),!e)return new Ka;if(e instanceof Ka)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new Ka(o,l,c,e.opacity)}function GW(e,t,r,n){return arguments.length===1?X_(e):new Ka(e,t,r,n??1)}function Ka(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}IB(Ka,GW,q_(Lm,{brighter(e){return e=e==null?cy:Math.pow(cy,e),new Ka(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nm:Math.pow(nm,e),new Ka(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Bi(g1(e>=240?e-240:e+120,s,n),g1(e,s,n),g1(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Ka(T4(this.h),s0(this.s),s0(this.l),Ay(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ay(this.opacity);return`${e===1?"hsl(":"hsla("}${T4(this.h)}, ${s0(this.s)*100}%, ${s0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function T4(e){return e=(e||0)%360,e<0?e+360:e}function s0(e){return Math.max(0,Math.min(1,e||0))}function g1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const J_=e=>()=>e;function VW(e,t){return function(r){return e+r*t}}function WW(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function qW(e){return(e=+e)==1?Y_:function(t,r){return r-t?WW(t,r,e):J_(isNaN(t)?r:t)}}function Y_(e,t){var r=t-e;return r?VW(e,r):J_(isNaN(e)?t:e)}const L4=function e(t){var r=qW(t);function n(s,a){var o=r((s=T2(s)).r,(a=T2(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),A=Y_(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=A(d),s+""}}return n.gamma=e,n}(1);function mc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var L2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v1=new RegExp(L2.source,"g");function XW(e){return function(){return e}}function JW(e){return function(t){return e(t)+""}}function YW(e,t){var r=L2.lastIndex=v1.lastIndex=0,n,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=L2.exec(e))&&(s=v1.exec(t));)(a=s.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:mc(n,s)})),r=v1.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?JW(c[0].x):XW(t):(t=c.length,function(A){for(var d=0,u;d<t;++d)l[(u=c[d]).i]=u.x(A);return l.join("")})}var U4=180/Math.PI,U2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Z_(e,t,r,n,s,a){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,c/=l),e*n<t*r&&(e=-e,t=-t,c=-c,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(t,e)*U4,skewX:Math.atan(c)*U4,scaleX:o,scaleY:l}}var i0;function ZW(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?U2:Z_(t.a,t.b,t.c,t.d,t.e,t.f)}function eq(e){return e==null||(i0||(i0=document.createElementNS("http://www.w3.org/2000/svg","g")),i0.setAttribute("transform",e),!(e=i0.transform.baseVal.consolidate()))?U2:(e=e.matrix,Z_(e.a,e.b,e.c,e.d,e.e,e.f))}function eT(e,t,r,n){function s(A){return A.length?A.pop()+" ":""}function a(A,d,u,p,f,x){if(A!==u||d!==p){var m=f.push("translate(",null,t,null,r);x.push({i:m-4,x:mc(A,u)},{i:m-2,x:mc(d,p)})}else(u||p)&&f.push("translate("+u+t+p+r)}function o(A,d,u,p){A!==d?(A-d>180?d+=360:d-A>180&&(A+=360),p.push({i:u.push(s(u)+"rotate(",null,n)-2,x:mc(A,d)})):d&&u.push(s(u)+"rotate("+d+n)}function l(A,d,u,p){A!==d?p.push({i:u.push(s(u)+"skewX(",null,n)-2,x:mc(A,d)}):d&&u.push(s(u)+"skewX("+d+n)}function c(A,d,u,p,f,x){if(A!==u||d!==p){var m=f.push(s(f)+"scale(",null,",",null,")");x.push({i:m-4,x:mc(A,u)},{i:m-2,x:mc(d,p)})}else(u!==1||p!==1)&&f.push(s(f)+"scale("+u+","+p+")")}return function(A,d){var u=[],p=[];return A=e(A),d=e(d),a(A.translateX,A.translateY,d.translateX,d.translateY,u,p),o(A.rotate,d.rotate,u,p),l(A.skewX,d.skewX,u,p),c(A.scaleX,A.scaleY,d.scaleX,d.scaleY,u,p),A=d=null,function(f){for(var x=-1,m=p.length,N;++x<m;)u[(N=p[x]).i]=N.x(f);return u.join("")}}}var tq=eT(ZW,"px, ","px)","deg)"),rq=eT(eq,", ",")",")"),nq=1e-12;function R4(e){return((e=Math.exp(e))+1/e)/2}function sq(e){return((e=Math.exp(e))-1/e)/2}function iq(e){return((e=Math.exp(2*e))-1)/(e+1)}const aq=function e(t,r,n){function s(a,o){var l=a[0],c=a[1],A=a[2],d=o[0],u=o[1],p=o[2],f=d-l,x=u-c,m=f*f+x*x,N,g;if(m<nq)g=Math.log(p/A)/t,N=function(R){return[l+R*f,c+R*x,A*Math.exp(t*R*g)]};else{var y=Math.sqrt(m),w=(p*p-A*A+n*m)/(2*A*r*y),E=(p*p-A*A-n*m)/(2*p*r*y),_=Math.log(Math.sqrt(w*w+1)-w),D=Math.log(Math.sqrt(E*E+1)-E);g=(D-_)/t,N=function(R){var I=R*g,Q=R4(_),U=A/(r*y)*(Q*iq(t*I+_)-sq(_));return[l+U*f,c+U*x,A*Q/R4(t*I+_)]}}return N.duration=g*1e3*t/Math.SQRT2,N}return s.rho=function(a){var o=Math.max(.001,+a),l=o*o,c=l*l;return e(o,l,c)},s}(Math.SQRT2,2,4);var _h=0,ep=0,Rf=0,tT=1e3,dy,tp,uy=0,yd=0,xx=0,am=typeof performance=="object"&&performance.now?performance:Date,rT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function PB(){return yd||(rT(oq),yd=am.now()+xx)}function oq(){yd=0}function hy(){this._call=this._time=this._next=null}hy.prototype=nT.prototype={constructor:hy,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?PB():+r)+(t==null?0:+t),!this._next&&tp!==this&&(tp?tp._next=this:dy=this,tp=this),this._call=e,this._time=r,R2()},stop:function(){this._call&&(this._call=null,this._time=1/0,R2())}};function nT(e,t,r){var n=new hy;return n.restart(e,t,r),n}function lq(){PB(),++_h;for(var e=dy,t;e;)(t=yd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--_h}function D4(){yd=(uy=am.now())+xx,_h=ep=0;try{lq()}finally{_h=0,Aq(),yd=0}}function cq(){var e=am.now(),t=e-uy;t>tT&&(xx-=t,uy=e)}function Aq(){for(var e,t=dy,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:dy=r);tp=e,R2(n)}function R2(e){if(!_h){ep&&(ep=clearTimeout(ep));var t=e-yd;t>24?(e<1/0&&(ep=setTimeout(D4,e-am.now()-xx)),Rf&&(Rf=clearInterval(Rf))):(Rf||(uy=am.now(),Rf=setInterval(cq,tT)),_h=1,rT(D4))}}function M4(e,t,r){var n=new hy;return t=t==null?0:+t,n.restart(s=>{n.stop(),e(s+t)},t,r),n}var dq=vx("start","end","cancel","interrupt"),uq=[],sT=0,Q4=1,D2=2,dv=3,O4=4,M2=5,uv=6;function wx(e,t,r,n,s,a){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;hq(e,r,{name:t,index:n,group:s,on:dq,tween:uq,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:sT})}function _B(e,t){var r=to(e,t);if(r.state>sT)throw new Error("too late; already scheduled");return r}function Do(e,t){var r=to(e,t);if(r.state>dv)throw new Error("too late; already running");return r}function to(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function hq(e,t,r){var n=e.__transition,s;n[t]=r,r.timer=nT(a,0,r.time);function a(A){r.state=Q4,r.timer.restart(o,r.delay,r.time),r.delay<=A&&o(A-r.delay)}function o(A){var d,u,p,f;if(r.state!==Q4)return c();for(d in n)if(f=n[d],f.name===r.name){if(f.state===dv)return M4(o);f.state===O4?(f.state=uv,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete n[d]):+d<t&&(f.state=uv,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete n[d])}if(M4(function(){r.state===dv&&(r.state=O4,r.timer.restart(l,r.delay,r.time),l(A))}),r.state=D2,r.on.call("start",e,e.__data__,r.index,r.group),r.state===D2){for(r.state=dv,s=new Array(p=r.tween.length),d=0,u=-1;d<p;++d)(f=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(s[++u]=f);s.length=u+1}}function l(A){for(var d=A<r.duration?r.ease.call(null,A/r.duration):(r.timer.restart(c),r.state=M2,1),u=-1,p=s.length;++u<p;)s[u].call(e,d);r.state===M2&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=uv,r.timer.stop(),delete n[t];for(var A in n)return;delete e.__transition}}function hv(e,t){var r=e.__transition,n,s,a=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){a=!1;continue}s=n.state>D2&&n.state<M2,n.state=uv,n.timer.stop(),n.on.call(s?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}a&&delete e.__transition}}function fq(e){return this.each(function(){hv(this,e)})}function pq(e,t){var r,n;return function(){var s=Do(this,e),a=s.tween;if(a!==r){n=r=a;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}s.tween=n}}function mq(e,t,r){var n,s;if(typeof r!="function")throw new Error;return function(){var a=Do(this,e),o=a.tween;if(o!==n){s=(n=o).slice();for(var l={name:t,value:r},c=0,A=s.length;c<A;++c)if(s[c].name===t){s[c]=l;break}c===A&&s.push(l)}a.tween=s}}function gq(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=to(this.node(),r).tween,s=0,a=n.length,o;s<a;++s)if((o=n[s]).name===e)return o.value;return null}return this.each((t==null?pq:mq)(r,e,t))}function TB(e,t,r){var n=e._id;return e.each(function(){var s=Do(this,n);(s.value||(s.value={}))[t]=r.apply(this,arguments)}),function(s){return to(s,n).value[t]}}function iT(e,t){var r;return(typeof t=="number"?mc:t instanceof im?L4:(r=im(t))?(t=r,L4):YW)(e,t)}function vq(e){return function(){this.removeAttribute(e)}}function yq(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xq(e,t,r){var n,s=r+"",a;return function(){var o=this.getAttribute(e);return o===s?null:o===n?a:a=t(n=o,r)}}function wq(e,t,r){var n,s=r+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===n?a:a=t(n=o,r)}}function bq(e,t,r){var n,s,a;return function(){var o,l=r(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===n&&c===s?a:(s=c,a=t(n=o,l)))}}function Cq(e,t,r){var n,s,a;return function(){var o,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===n&&c===s?a:(s=c,a=t(n=o,l)))}}function Bq(e,t){var r=yx(e),n=r==="transform"?rq:iT;return this.attrTween(e,typeof t=="function"?(r.local?Cq:bq)(r,n,TB(this,"attr."+e,t)):t==null?(r.local?yq:vq)(r):(r.local?wq:xq)(r,n,t))}function Nq(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Sq(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Eq(e,t){var r,n;function s(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&Sq(e,a)),r}return s._value=t,s}function jq(e,t){var r,n;function s(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&Nq(e,a)),r}return s._value=t,s}function Fq(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=yx(e);return this.tween(r,(n.local?Eq:jq)(n,t))}function kq(e,t){return function(){_B(this,e).delay=+t.apply(this,arguments)}}function Iq(e,t){return t=+t,function(){_B(this,e).delay=t}}function Pq(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?kq:Iq)(t,e)):to(this.node(),t).delay}function _q(e,t){return function(){Do(this,e).duration=+t.apply(this,arguments)}}function Tq(e,t){return t=+t,function(){Do(this,e).duration=t}}function Lq(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_q:Tq)(t,e)):to(this.node(),t).duration}function Uq(e,t){if(typeof t!="function")throw new Error;return function(){Do(this,e).ease=t}}function Rq(e){var t=this._id;return arguments.length?this.each(Uq(t,e)):to(this.node(),t).ease}function Dq(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Do(this,e).ease=r}}function Mq(e){if(typeof e!="function")throw new Error;return this.each(Dq(this._id,e))}function Qq(e){typeof e!="function"&&(e=R_(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var a=t[s],o=a.length,l=n[s]=[],c,A=0;A<o;++A)(c=a[A])&&e.call(c,c.__data__,A,a)&&l.push(c);return new jl(n,this._parents,this._name,this._id)}function Oq(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,s=r.length,a=Math.min(n,s),o=new Array(n),l=0;l<a;++l)for(var c=t[l],A=r[l],d=c.length,u=o[l]=new Array(d),p,f=0;f<d;++f)(p=c[f]||A[f])&&(u[f]=p);for(;l<n;++l)o[l]=t[l];return new jl(o,this._parents,this._name,this._id)}function Hq(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function $q(e,t,r){var n,s,a=Hq(t)?_B:Do;return function(){var o=a(this,e),l=o.on;l!==n&&(s=(n=l).copy()).on(t,r),o.on=s}}function zq(e,t){var r=this._id;return arguments.length<2?to(this.node(),r).on.on(e):this.each($q(r,e,t))}function Kq(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Gq(){return this.on("end.remove",Kq(this._id))}function Vq(e){var t=this._name,r=this._id;typeof e!="function"&&(e=FB(e));for(var n=this._groups,s=n.length,a=new Array(s),o=0;o<s;++o)for(var l=n[o],c=l.length,A=a[o]=new Array(c),d,u,p=0;p<c;++p)(d=l[p])&&(u=e.call(d,d.__data__,p,l))&&("__data__"in d&&(u.__data__=d.__data__),A[p]=u,wx(A[p],t,r,p,A,to(d,r)));return new jl(a,this._parents,t,r)}function Wq(e){var t=this._name,r=this._id;typeof e!="function"&&(e=U_(e));for(var n=this._groups,s=n.length,a=[],o=[],l=0;l<s;++l)for(var c=n[l],A=c.length,d,u=0;u<A;++u)if(d=c[u]){for(var p=e.call(d,d.__data__,u,c),f,x=to(d,r),m=0,N=p.length;m<N;++m)(f=p[m])&&wx(f,t,r,m,p,x);a.push(p),o.push(d)}return new jl(a,o,t,r)}var qq=Tm.prototype.constructor;function Xq(){return new qq(this._groups,this._parents)}function Jq(e,t){var r,n,s;return function(){var a=Ph(this,e),o=(this.style.removeProperty(e),Ph(this,e));return a===o?null:a===r&&o===n?s:s=t(r=a,n=o)}}function aT(e){return function(){this.style.removeProperty(e)}}function Yq(e,t,r){var n,s=r+"",a;return function(){var o=Ph(this,e);return o===s?null:o===n?a:a=t(n=o,r)}}function Zq(e,t,r){var n,s,a;return function(){var o=Ph(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Ph(this,e))),o===c?null:o===n&&c===s?a:(s=c,a=t(n=o,l))}}function eX(e,t){var r,n,s,a="style."+t,o="end."+a,l;return function(){var c=Do(this,e),A=c.on,d=c.value[a]==null?l||(l=aT(t)):void 0;(A!==r||s!==d)&&(n=(r=A).copy()).on(o,s=d),c.on=n}}function tX(e,t,r){var n=(e+="")=="transform"?tq:iT;return t==null?this.styleTween(e,Jq(e,n)).on("end.style."+e,aT(e)):typeof t=="function"?this.styleTween(e,Zq(e,n,TB(this,"style."+e,t))).each(eX(this._id,e)):this.styleTween(e,Yq(e,n,t),r).on("end.style."+e,null)}function rX(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function nX(e,t,r){var n,s;function a(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&rX(e,o,r)),n}return a._value=t,a}function sX(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,nX(e,t,r??""))}function iX(e){return function(){this.textContent=e}}function aX(e){return function(){var t=e(this);this.textContent=t??""}}function oX(e){return this.tween("text",typeof e=="function"?aX(TB(this,"text",e)):iX(e==null?"":e+""))}function lX(e){return function(t){this.textContent=e.call(this,t)}}function cX(e){var t,r;function n(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&lX(s)),t}return n._value=e,n}function AX(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,cX(e))}function dX(){for(var e=this._name,t=this._id,r=oT(),n=this._groups,s=n.length,a=0;a<s;++a)for(var o=n[a],l=o.length,c,A=0;A<l;++A)if(c=o[A]){var d=to(c,t);wx(c,e,r,A,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new jl(n,this._parents,e,r)}function uX(){var e,t,r=this,n=r._id,s=r.size();return new Promise(function(a,o){var l={value:o},c={value:function(){--s===0&&a()}};r.each(function(){var A=Do(this,n),d=A.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),A.on=t}),s===0&&a()})}var hX=0;function jl(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function oT(){return++hX}var tl=Tm.prototype;jl.prototype={constructor:jl,select:Vq,selectAll:Wq,selectChild:tl.selectChild,selectChildren:tl.selectChildren,filter:Qq,merge:Oq,selection:Xq,transition:dX,call:tl.call,nodes:tl.nodes,node:tl.node,size:tl.size,empty:tl.empty,each:tl.each,on:zq,attr:Bq,attrTween:Fq,style:tX,styleTween:sX,text:oX,textTween:AX,remove:Gq,tween:gq,delay:Pq,duration:Lq,ease:Rq,easeVarying:Mq,end:uX,[Symbol.iterator]:tl[Symbol.iterator]};function fX(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var pX={time:null,delay:0,duration:250,ease:fX};function mX(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function gX(e){var t,r;e instanceof jl?(t=e._id,e=e._name):(t=oT(),(r=pX).time=PB(),e=e==null?null:e+"");for(var n=this._groups,s=n.length,a=0;a<s;++a)for(var o=n[a],l=o.length,c,A=0;A<l;++A)(c=o[A])&&wx(c,e,t,A,o,r||mX(c,t));return new jl(n,this._parents,e,t)}Tm.prototype.interrupt=fq;Tm.prototype.transition=gX;const a0=e=>()=>e;function vX(e,{sourceEvent:t,target:r,transform:n,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:s}})}function ul(e,t,r){this.k=e,this.x=t,this.y=r}ul.prototype={constructor:ul,scale:function(e){return e===1?this:new ul(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ul(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var yl=new ul(1,0,0);ul.prototype;function y1(e){e.stopImmediatePropagation()}function Df(e){e.preventDefault(),e.stopImmediatePropagation()}function yX(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function xX(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function H4(){return this.__zoom||yl}function wX(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function bX(){return navigator.maxTouchPoints||"ontouchstart"in this}function CX(e,t,r){var n=e.invertX(t[0][0])-r[0][0],s=e.invertX(t[1][0])-r[1][0],a=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(s>n?(n+s)/2:Math.min(0,n)||Math.max(0,s),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function lT(){var e=yX,t=xX,r=CX,n=wX,s=bX,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=aq,A=vx("start","zoom","end"),d,u,p,f=500,x=150,m=0,N=10;function g(k){k.property("__zoom",H4).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",Q).on("dblclick.zoom",U).filter(s).on("touchstart.zoom",S).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(k,Z,H,q){var K=k.selection?k.selection():k;K.property("__zoom",H4),k!==K?_(k,Z,H,q):K.interrupt().each(function(){D(this,arguments).event(q).start().zoom(null,typeof Z=="function"?Z.apply(this,arguments):Z).end()})},g.scaleBy=function(k,Z,H,q){g.scaleTo(k,function(){var K=this.__zoom.k,W=typeof Z=="function"?Z.apply(this,arguments):Z;return K*W},H,q)},g.scaleTo=function(k,Z,H,q){g.transform(k,function(){var K=t.apply(this,arguments),W=this.__zoom,te=H==null?E(K):typeof H=="function"?H.apply(this,arguments):H,ue=W.invert(te),T=typeof Z=="function"?Z.apply(this,arguments):Z;return r(w(y(W,T),te,ue),K,o)},H,q)},g.translateBy=function(k,Z,H,q){g.transform(k,function(){return r(this.__zoom.translate(typeof Z=="function"?Z.apply(this,arguments):Z,typeof H=="function"?H.apply(this,arguments):H),t.apply(this,arguments),o)},null,q)},g.translateTo=function(k,Z,H,q,K){g.transform(k,function(){var W=t.apply(this,arguments),te=this.__zoom,ue=q==null?E(W):typeof q=="function"?q.apply(this,arguments):q;return r(yl.translate(ue[0],ue[1]).scale(te.k).translate(typeof Z=="function"?-Z.apply(this,arguments):-Z,typeof H=="function"?-H.apply(this,arguments):-H),W,o)},q,K)};function y(k,Z){return Z=Math.max(a[0],Math.min(a[1],Z)),Z===k.k?k:new ul(Z,k.x,k.y)}function w(k,Z,H){var q=Z[0]-H[0]*k.k,K=Z[1]-H[1]*k.k;return q===k.x&&K===k.y?k:new ul(k.k,q,K)}function E(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function _(k,Z,H,q){k.on("start.zoom",function(){D(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(q).end()}).tween("zoom",function(){var K=this,W=arguments,te=D(K,W).event(q),ue=t.apply(K,W),T=H==null?E(ue):typeof H=="function"?H.apply(K,W):H,$=Math.max(ue[1][0]-ue[0][0],ue[1][1]-ue[0][1]),V=K.__zoom,se=typeof Z=="function"?Z.apply(K,W):Z,Y=c(V.invert(T).concat($/V.k),se.invert(T).concat($/se.k));return function(L){if(L===1)L=se;else{var C=Y(L),j=$/C[2];L=new ul(j,T[0]-C[0]*j,T[1]-C[1]*j)}te.zoom(null,L)}})}function D(k,Z,H){return!H&&k.__zooming||new R(k,Z)}function R(k,Z){this.that=k,this.args=Z,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,Z),this.taps=0}R.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,Z){return this.mouse&&k!=="mouse"&&(this.mouse[1]=Z.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=Z.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=Z.invert(this.touch1[0])),this.that.__zoom=Z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var Z=ga(this.that).datum();A.call(k,this.that,new vX(k,{sourceEvent:this.sourceEvent,target:g,type:k,transform:this.that.__zoom,dispatch:A}),Z)}};function I(k,...Z){if(!e.apply(this,arguments))return;var H=D(this,Z).event(k),q=this.__zoom,K=Math.max(a[0],Math.min(a[1],q.k*Math.pow(2,n.apply(this,arguments)))),W=$a(k);if(H.wheel)(H.mouse[0][0]!==W[0]||H.mouse[0][1]!==W[1])&&(H.mouse[1]=q.invert(H.mouse[0]=W)),clearTimeout(H.wheel);else{if(q.k===K)return;H.mouse=[W,q.invert(W)],hv(this),H.start()}Df(k),H.wheel=setTimeout(te,x),H.zoom("mouse",r(w(y(q,K),H.mouse[0],H.mouse[1]),H.extent,o));function te(){H.wheel=null,H.end()}}function Q(k,...Z){if(p||!e.apply(this,arguments))return;var H=k.currentTarget,q=D(this,Z,!0).event(k),K=ga(k.view).on("mousemove.zoom",T,!0).on("mouseup.zoom",$,!0),W=$a(k,H),te=k.clientX,ue=k.clientY;V_(k.view),y1(k),q.mouse=[W,this.__zoom.invert(W)],hv(this),q.start();function T(V){if(Df(V),!q.moved){var se=V.clientX-te,Y=V.clientY-ue;q.moved=se*se+Y*Y>m}q.event(V).zoom("mouse",r(w(q.that.__zoom,q.mouse[0]=$a(V,H),q.mouse[1]),q.extent,o))}function $(V){K.on("mousemove.zoom mouseup.zoom",null),W_(V.view,q.moved),Df(V),q.event(V).end()}}function U(k,...Z){if(e.apply(this,arguments)){var H=this.__zoom,q=$a(k.changedTouches?k.changedTouches[0]:k,this),K=H.invert(q),W=H.k*(k.shiftKey?.5:2),te=r(w(y(H,W),q,K),t.apply(this,Z),o);Df(k),l>0?ga(this).transition().duration(l).call(_,te,q,k):ga(this).call(g.transform,te,q,k)}}function S(k,...Z){if(e.apply(this,arguments)){var H=k.touches,q=H.length,K=D(this,Z,k.changedTouches.length===q).event(k),W,te,ue,T;for(y1(k),te=0;te<q;++te)ue=H[te],T=$a(ue,this),T=[T,this.__zoom.invert(T),ue.identifier],K.touch0?!K.touch1&&K.touch0[2]!==T[2]&&(K.touch1=T,K.taps=0):(K.touch0=T,W=!0,K.taps=1+!!d);d&&(d=clearTimeout(d)),W&&(K.taps<2&&(u=T[0],d=setTimeout(function(){d=null},f)),hv(this),K.start())}}function P(k,...Z){if(this.__zooming){var H=D(this,Z).event(k),q=k.changedTouches,K=q.length,W,te,ue,T;for(Df(k),W=0;W<K;++W)te=q[W],ue=$a(te,this),H.touch0&&H.touch0[2]===te.identifier?H.touch0[0]=ue:H.touch1&&H.touch1[2]===te.identifier&&(H.touch1[0]=ue);if(te=H.that.__zoom,H.touch1){var $=H.touch0[0],V=H.touch0[1],se=H.touch1[0],Y=H.touch1[1],L=(L=se[0]-$[0])*L+(L=se[1]-$[1])*L,C=(C=Y[0]-V[0])*C+(C=Y[1]-V[1])*C;te=y(te,Math.sqrt(L/C)),ue=[($[0]+se[0])/2,($[1]+se[1])/2],T=[(V[0]+Y[0])/2,(V[1]+Y[1])/2]}else if(H.touch0)ue=H.touch0[0],T=H.touch0[1];else return;H.zoom("touch",r(w(te,ue,T),H.extent,o))}}function O(k,...Z){if(this.__zooming){var H=D(this,Z).event(k),q=k.changedTouches,K=q.length,W,te;for(y1(k),p&&clearTimeout(p),p=setTimeout(function(){p=null},f),W=0;W<K;++W)te=q[W],H.touch0&&H.touch0[2]===te.identifier?delete H.touch0:H.touch1&&H.touch1[2]===te.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(te=$a(te,this),Math.hypot(u[0]-te[0],u[1]-te[1])<N)){var ue=ga(this).on("dblclick.zoom");ue&&ue.apply(this,arguments)}}}return g.wheelDelta=function(k){return arguments.length?(n=typeof k=="function"?k:a0(+k),g):n},g.filter=function(k){return arguments.length?(e=typeof k=="function"?k:a0(!!k),g):e},g.touchable=function(k){return arguments.length?(s=typeof k=="function"?k:a0(!!k),g):s},g.extent=function(k){return arguments.length?(t=typeof k=="function"?k:a0([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),g):t},g.scaleExtent=function(k){return arguments.length?(a[0]=+k[0],a[1]=+k[1],g):[a[0],a[1]]},g.translateExtent=function(k){return arguments.length?(o[0][0]=+k[0][0],o[1][0]=+k[1][0],o[0][1]=+k[0][1],o[1][1]=+k[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(k){return arguments.length?(r=k,g):r},g.duration=function(k){return arguments.length?(l=+k,g):l},g.interpolate=function(k){return arguments.length?(c=k,g):c},g.on=function(){var k=A.on.apply(A,arguments);return k===A?g:k},g.clickDistance=function(k){return arguments.length?(m=(k=+k)*k,g):Math.sqrt(m)},g.tapDistance=function(k){return arguments.length?(N=+k,g):N},g}const bx=b.createContext(null),BX=bx.Provider,Fl={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},cT=Fl.error001();function ln(e,t){const r=b.useContext(bx);if(r===null)throw new Error(cT);return T_(r,e,t)}const cs=()=>{const e=b.useContext(bx);if(e===null)throw new Error(cT);return b.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},NX=e=>e.userSelectionActive?"none":"all";function om({position:e,children:t,className:r,style:n,...s}){const a=ln(NX),o=`${e}`.split("-");return Ue.createElement("div",{className:Ps(["react-flow__panel",r,...o]),style:{...n,pointerEvents:a},...s},t)}function SX({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:Ue.createElement(om,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Ue.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const EX=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:A,...d})=>{const u=b.useRef(null),[p,f]=b.useState({x:0,y:0,width:0,height:0}),x=Ps(["react-flow__edge-textwrapper",A]);return b.useEffect(()=>{if(u.current){const m=u.current.getBBox();f({x:m.x,y:m.y,width:m.width,height:m.height})}},[r]),typeof r>"u"||!r?null:Ue.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:x,visibility:p.width?"visible":"hidden",...d},s&&Ue.createElement("rect",{width:p.width+2*o[0],x:-o[0],y:-o[1],height:p.height+2*o[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),Ue.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:u,style:n},r),c)};var jX=b.memo(EX);const LB=e=>({width:e.offsetWidth,height:e.offsetHeight}),Th=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),UB=(e={x:0,y:0},t)=>({x:Th(e.x,t[0][0],t[1][0]),y:Th(e.y,t[0][1],t[1][1])}),$4=(e,t,r)=>e<t?Th(Math.abs(e-t),1,50)/50:e>r?-Th(Math.abs(e-r),1,50)/50:0,AT=(e,t)=>{const r=$4(e.x,35,t.width-35)*20,n=$4(e.y,35,t.height-35)*20;return[r,n]},dT=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},uT=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),lm=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),hT=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),z4=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),FX=(e,t)=>hT(uT(lm(e),lm(t))),Q2=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},kX=e=>ya(e.width)&&ya(e.height)&&ya(e.x)&&ya(e.y),ya=e=>!isNaN(e)&&isFinite(e),Rn=Symbol.for("internals"),fT=["Enter"," ","Escape"],IX=(e,t)=>{},PX=e=>"nativeEvent"in e;function O2(e){var s,a;const t=PX(e)?e.nativeEvent:e,r=((a=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:a[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const pT=e=>"clientX"in e,zc=(e,t)=>{var a,o;const r=pT(e),n=r?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,s=r?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},fy=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Um=({id:e,path:t,labelX:r,labelY:n,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:A,style:d,markerEnd:u,markerStart:p,interactionWidth:f=20})=>Ue.createElement(Ue.Fragment,null,Ue.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:u,markerStart:p}),f&&Ue.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}),s&&ya(r)&&ya(n)?Ue.createElement(jX,{x:r,y:n,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:A}):null);Um.displayName="BaseEdge";function Mf(e,t,r){return r===void 0?r:n=>{const s=t().edges.find(a=>a.id===e);s&&r(n,{...s})}}function mT({sourceX:e,sourceY:t,targetX:r,targetY:n}){const s=Math.abs(r-e)/2,a=r<e?r+s:r-s,o=Math.abs(n-t)/2,l=n<t?n+o:n-o;return[a,l,s,o]}function gT({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:s,sourceControlY:a,targetControlX:o,targetControlY:l}){const c=e*.125+s*.375+o*.375+r*.125,A=t*.125+a*.375+l*.375+n*.125,d=Math.abs(c-e),u=Math.abs(A-t);return[c,A,d,u]}var xd;(function(e){e.Strict="strict",e.Loose="loose"})(xd||(xd={}));var WA;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(WA||(WA={}));var cm;(function(e){e.Partial="partial",e.Full="full"})(cm||(cm={}));var wc;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(wc||(wc={}));var py;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(py||(py={}));var Ht;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ht||(Ht={}));function K4({pos:e,x1:t,y1:r,x2:n,y2:s}){return e===Ht.Left||e===Ht.Right?[.5*(t+n),r]:[t,.5*(r+s)]}function vT({sourceX:e,sourceY:t,sourcePosition:r=Ht.Bottom,targetX:n,targetY:s,targetPosition:a=Ht.Top}){const[o,l]=K4({pos:r,x1:e,y1:t,x2:n,y2:s}),[c,A]=K4({pos:a,x1:n,y1:s,x2:e,y2:t}),[d,u,p,f]=gT({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:A});return[`M${e},${t} C${o},${l} ${c},${A} ${n},${s}`,d,u,p,f]}const RB=b.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:s=Ht.Bottom,targetPosition:a=Ht.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:u,style:p,markerEnd:f,markerStart:x,interactionWidth:m})=>{const[N,g,y]=vT({sourceX:e,sourceY:t,sourcePosition:s,targetX:r,targetY:n,targetPosition:a});return Ue.createElement(Um,{path:N,labelX:g,labelY:y,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:u,style:p,markerEnd:f,markerStart:x,interactionWidth:m})});RB.displayName="SimpleBezierEdge";const G4={[Ht.Left]:{x:-1,y:0},[Ht.Right]:{x:1,y:0},[Ht.Top]:{x:0,y:-1},[Ht.Bottom]:{x:0,y:1}},_X=({source:e,sourcePosition:t=Ht.Bottom,target:r})=>t===Ht.Left||t===Ht.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},V4=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function TX({source:e,sourcePosition:t=Ht.Bottom,target:r,targetPosition:n=Ht.Top,center:s,offset:a}){const o=G4[t],l=G4[n],c={x:e.x+o.x*a,y:e.y+o.y*a},A={x:r.x+l.x*a,y:r.y+l.y*a},d=_X({source:c,sourcePosition:t,target:A}),u=d.x!==0?"x":"y",p=d[u];let f=[],x,m;const N={x:0,y:0},g={x:0,y:0},[y,w,E,_]=mT({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(o[u]*l[u]===-1){x=s.x??y,m=s.y??w;const R=[{x,y:c.y},{x,y:A.y}],I=[{x:c.x,y:m},{x:A.x,y:m}];o[u]===p?f=u==="x"?R:I:f=u==="x"?I:R}else{const R=[{x:c.x,y:A.y}],I=[{x:A.x,y:c.y}];if(u==="x"?f=o.x===p?I:R:f=o.y===p?R:I,t===n){const O=Math.abs(e[u]-r[u]);if(O<=a){const k=Math.min(a-1,a-O);o[u]===p?N[u]=(c[u]>e[u]?-1:1)*k:g[u]=(A[u]>r[u]?-1:1)*k}}if(t!==n){const O=u==="x"?"y":"x",k=o[u]===l[O],Z=c[O]>A[O],H=c[O]<A[O];(o[u]===1&&(!k&&Z||k&&H)||o[u]!==1&&(!k&&H||k&&Z))&&(f=u==="x"?R:I)}const Q={x:c.x+N.x,y:c.y+N.y},U={x:A.x+g.x,y:A.y+g.y},S=Math.max(Math.abs(Q.x-f[0].x),Math.abs(U.x-f[0].x)),P=Math.max(Math.abs(Q.y-f[0].y),Math.abs(U.y-f[0].y));S>=P?(x=(Q.x+U.x)/2,m=f[0].y):(x=f[0].x,m=(Q.y+U.y)/2)}return[[e,{x:c.x+N.x,y:c.y+N.y},...f,{x:A.x+g.x,y:A.y+g.y},r],x,m,E,_]}function LX(e,t,r,n){const s=Math.min(V4(e,t)/2,V4(t,r)/2,n),{x:a,y:o}=t;if(e.x===a&&a===r.x||e.y===o&&o===r.y)return`L${a} ${o}`;if(e.y===o){const A=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${a+s*A},${o}Q ${a},${o} ${a},${o+s*d}`}const l=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${a},${o+s*c}Q ${a},${o} ${a+s*l},${o}`}function H2({sourceX:e,sourceY:t,sourcePosition:r=Ht.Bottom,targetX:n,targetY:s,targetPosition:a=Ht.Top,borderRadius:o=5,centerX:l,centerY:c,offset:A=20}){const[d,u,p,f,x]=TX({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:s},targetPosition:a,center:{x:l,y:c},offset:A});return[d.reduce((N,g,y)=>{let w="";return y>0&&y<d.length-1?w=LX(d[y-1],g,d[y+1],o):w=`${y===0?"M":"L"}${g.x} ${g.y}`,N+=w,N},""),u,p,f,x]}const Cx=b.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:A,style:d,sourcePosition:u=Ht.Bottom,targetPosition:p=Ht.Top,markerEnd:f,markerStart:x,pathOptions:m,interactionWidth:N})=>{const[g,y,w]=H2({sourceX:e,sourceY:t,sourcePosition:u,targetX:r,targetY:n,targetPosition:p,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset});return Ue.createElement(Um,{path:g,labelX:y,labelY:w,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:A,style:d,markerEnd:f,markerStart:x,interactionWidth:N})});Cx.displayName="SmoothStepEdge";const DB=b.memo(e=>{var t;return Ue.createElement(Cx,{...e,pathOptions:b.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});DB.displayName="StepEdge";function UX({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[s,a,o,l]=mT({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,s,a,o,l]}const MB=b.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:A,style:d,markerEnd:u,markerStart:p,interactionWidth:f})=>{const[x,m,N]=UX({sourceX:e,sourceY:t,targetX:r,targetY:n});return Ue.createElement(Um,{path:x,labelX:m,labelY:N,label:s,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:A,style:d,markerEnd:u,markerStart:p,interactionWidth:f})});MB.displayName="StraightEdge";function o0(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function W4({pos:e,x1:t,y1:r,x2:n,y2:s,c:a}){switch(e){case Ht.Left:return[t-o0(t-n,a),r];case Ht.Right:return[t+o0(n-t,a),r];case Ht.Top:return[t,r-o0(r-s,a)];case Ht.Bottom:return[t,r+o0(s-r,a)]}}function yT({sourceX:e,sourceY:t,sourcePosition:r=Ht.Bottom,targetX:n,targetY:s,targetPosition:a=Ht.Top,curvature:o=.25}){const[l,c]=W4({pos:r,x1:e,y1:t,x2:n,y2:s,c:o}),[A,d]=W4({pos:a,x1:n,y1:s,x2:e,y2:t,c:o}),[u,p,f,x]=gT({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:l,sourceControlY:c,targetControlX:A,targetControlY:d});return[`M${e},${t} C${l},${c} ${A},${d} ${n},${s}`,u,p,f,x]}const my=b.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:s=Ht.Bottom,targetPosition:a=Ht.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:u,style:p,markerEnd:f,markerStart:x,pathOptions:m,interactionWidth:N})=>{const[g,y,w]=yT({sourceX:e,sourceY:t,sourcePosition:s,targetX:r,targetY:n,targetPosition:a,curvature:m==null?void 0:m.curvature});return Ue.createElement(Um,{path:g,labelX:y,labelY:w,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:u,style:p,markerEnd:f,markerStart:x,interactionWidth:N})});my.displayName="BezierEdge";const QB=b.createContext(null),RX=QB.Provider;QB.Consumer;const DX=()=>b.useContext(QB),MX=e=>"id"in e&&"source"in e&&"target"in e,QX=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,$2=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,OX=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),OB=(e,t)=>{if(!e.source||!e.target)return t;let r;return MX(e)?r={...e}:r={...e,id:QX(e)},OX(r,t)?t:t.concat(r)},z2=({x:e,y:t},[r,n,s],a,[o,l])=>{const c={x:(e-r)/s,y:(t-n)/s};return a?{x:o*Math.round(c.x/o),y:l*Math.round(c.y/l)}:c},xT=({x:e,y:t},[r,n,s])=>({x:e*s+r,y:t*s+n}),id=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],s={x:e.position.x-r,y:e.position.y-n};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:s}},Bx=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,s)=>{const{x:a,y:o}=id(s,t).positionAbsolute;return uT(n,lm({x:a,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return hT(r)},wT=(e,t,[r,n,s]=[0,0,1],a=!1,o=!1,l=[0,0])=>{const c={x:(t.x-r)/s,y:(t.y-n)/s,width:t.width/s,height:t.height/s},A=[];return e.forEach(d=>{const{width:u,height:p,selectable:f=!0,hidden:x=!1}=d;if(o&&!f||x)return!1;const{positionAbsolute:m}=id(d,l),N={x:m.x,y:m.y,width:u||0,height:p||0},g=Q2(c,N),y=typeof u>"u"||typeof p>"u"||u===null||p===null,w=a&&g>0,E=(u||0)*(p||0);(y||w||g>=E||d.dragging)&&A.push(d)}),A},bT=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},CT=(e,t,r,n,s,a=.1)=>{const o=t/(e.width*(1+a)),l=r/(e.height*(1+a)),c=Math.min(o,l),A=Th(c,n,s),d=e.x+e.width/2,u=e.y+e.height/2,p=t/2-d*A,f=r/2-u*A;return{x:p,y:f,zoom:A}},MA=(e,t=0)=>e.transition().duration(t);function q4(e,t,r,n){return(t[r]||[]).reduce((s,a)=>{var o,l;return`${e.id}-${a.id}-${r}`!==n&&s.push({id:a.id||null,type:r,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+a.x+a.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+a.y+a.height/2}),s},[])}function HX(e,t,r,n,s,a){const{x:o,y:l}=zc(e),A=t.elementsFromPoint(o,l).find(x=>x.classList.contains("react-flow__handle"));if(A){const x=A.getAttribute("data-nodeid");if(x){const m=HB(void 0,A),N=A.getAttribute("data-handleid"),g=a({nodeId:x,id:N,type:m});if(g){const y=s.find(w=>w.nodeId===x&&w.type===m&&w.id===N);return{handle:{id:N,type:m,nodeId:x,x:(y==null?void 0:y.x)||r.x,y:(y==null?void 0:y.y)||r.y},validHandleResult:g}}}}let d=[],u=1/0;if(s.forEach(x=>{const m=Math.sqrt((x.x-r.x)**2+(x.y-r.y)**2);if(m<=n){const N=a(x);m<=u&&(m<u?d=[{handle:x,validHandleResult:N}]:m===u&&d.push({handle:x,validHandleResult:N}),u=m)}}),!d.length)return{handle:null,validHandleResult:BT()};if(d.length===1)return d[0];const p=d.some(({validHandleResult:x})=>x.isValid),f=d.some(({handle:x})=>x.type==="target");return d.find(({handle:x,validHandleResult:m})=>f?x.type==="target":p?m.isValid:!0)||d[0]}const $X={source:null,target:null,sourceHandle:null,targetHandle:null},BT=()=>({handleDomNode:null,isValid:!1,connection:$X,endHandle:null});function NT(e,t,r,n,s,a,o){const l=s==="target",c=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),A={...BT(),handleDomNode:c};if(c){const d=HB(void 0,c),u=c.getAttribute("data-nodeid"),p=c.getAttribute("data-handleid"),f=c.classList.contains("connectable"),x=c.classList.contains("connectableend"),m={source:l?u:r,sourceHandle:l?p:n,target:l?r:u,targetHandle:l?n:p};A.connection=m,f&&x&&(t===xd.Strict?l&&d==="source"||!l&&d==="target":u!==r||p!==n)&&(A.endHandle={nodeId:u,handleId:p,type:d},A.isValid=a(m))}return A}function zX({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((s,a)=>{if(a[Rn]){const{handleBounds:o}=a[Rn];let l=[],c=[];o&&(l=q4(a,o,"source",`${t}-${r}-${n}`),c=q4(a,o,"target",`${t}-${r}-${n}`)),s.push(...l,...c)}return s},[])}function HB(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function x1(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function KX(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function ST({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:s,getState:a,setState:o,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:A}){const d=dT(e.target),{connectionMode:u,domNode:p,autoPanOnConnect:f,connectionRadius:x,onConnectStart:m,panBy:N,getNodes:g,cancelConnection:y}=a();let w=0,E;const{x:_,y:D}=zc(e),R=d==null?void 0:d.elementFromPoint(_,D),I=HB(c,R),Q=p==null?void 0:p.getBoundingClientRect();if(!Q||!I)return;let U,S=zc(e,Q),P=!1,O=null,k=!1,Z=null;const H=zX({nodes:g(),nodeId:r,handleId:t,handleType:I}),q=()=>{if(!f)return;const[te,ue]=AT(S,Q);N({x:te,y:ue}),w=requestAnimationFrame(q)};o({connectionPosition:S,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:I,connectionStartHandle:{nodeId:r,handleId:t,type:I},connectionEndHandle:null}),m==null||m(e,{nodeId:r,handleId:t,handleType:I});function K(te){const{transform:ue}=a();S=zc(te,Q);const{handle:T,validHandleResult:$}=HX(te,d,z2(S,ue,!1,[1,1]),x,H,V=>NT(V,u,r,t,s?"target":"source",l,d));if(E=T,P||(q(),P=!0),Z=$.handleDomNode,O=$.connection,k=$.isValid,o({connectionPosition:E&&k?xT({x:E.x,y:E.y},ue):S,connectionStatus:KX(!!E,k),connectionEndHandle:$.endHandle}),!E&&!k&&!Z)return x1(U);O.source!==O.target&&Z&&(x1(U),U=Z,Z.classList.add("connecting","react-flow__handle-connecting"),Z.classList.toggle("valid",k),Z.classList.toggle("react-flow__handle-valid",k))}function W(te){var ue,T;(E||Z)&&O&&k&&(n==null||n(O)),(T=(ue=a()).onConnectEnd)==null||T.call(ue,te),c&&(A==null||A(te)),x1(U),y(),cancelAnimationFrame(w),P=!1,k=!1,O=null,Z=null,d.removeEventListener("mousemove",K),d.removeEventListener("mouseup",W),d.removeEventListener("touchmove",K),d.removeEventListener("touchend",W)}d.addEventListener("mousemove",K),d.addEventListener("mouseup",W),d.addEventListener("touchmove",K),d.addEventListener("touchend",W)}const X4=()=>!0,GX=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),VX=(e,t,r)=>n=>{const{connectionStartHandle:s,connectionEndHandle:a,connectionClickStartHandle:o}=n;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===r||(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===r,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===r}},ET=b.forwardRef(({type:e="source",position:t=Ht.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:o,onConnect:l,children:c,className:A,onMouseDown:d,onTouchStart:u,...p},f)=>{var Q,U;const x=o||null,m=e==="target",N=cs(),g=DX(),{connectOnClick:y,noPanClassName:w}=ln(GX,vs),{connecting:E,clickConnecting:_}=ln(VX(g,x,e),vs);g||(U=(Q=N.getState()).onError)==null||U.call(Q,"010",Fl.error010());const D=S=>{const{defaultEdgeOptions:P,onConnect:O,hasDefaultEdges:k}=N.getState(),Z={...P,...S};if(k){const{edges:H,setEdges:q}=N.getState();q(OB(Z,H))}O==null||O(Z),l==null||l(Z)},R=S=>{if(!g)return;const P=pT(S);s&&(P&&S.button===0||!P)&&ST({event:S,handleId:x,nodeId:g,onConnect:D,isTarget:m,getState:N.getState,setState:N.setState,isValidConnection:r||N.getState().isValidConnection||X4}),P?d==null||d(S):u==null||u(S)},I=S=>{const{onClickConnectStart:P,onClickConnectEnd:O,connectionClickStartHandle:k,connectionMode:Z,isValidConnection:H}=N.getState();if(!g||!k&&!s)return;if(!k){P==null||P(S,{nodeId:g,handleId:x,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:g,type:e,handleId:x}});return}const q=dT(S.target),K=r||H||X4,{connection:W,isValid:te}=NT({nodeId:g,id:x,type:e},Z,k.nodeId,k.handleId||null,k.type,K,q);te&&D(W),O==null||O(S),N.setState({connectionClickStartHandle:null})};return Ue.createElement("div",{"data-handleid":x,"data-nodeid":g,"data-handlepos":t,"data-id":`${g}-${x}-${e}`,className:Ps(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,A,{source:!m,target:m,connectable:n,connectablestart:s,connectableend:a,connecting:_,connectionindicator:n&&(s&&!E||a&&E)}]),onMouseDown:R,onTouchStart:R,onClick:y?I:void 0,ref:f,...p},c)});ET.displayName="Handle";var gy=b.memo(ET);const jT=({data:e,isConnectable:t,targetPosition:r=Ht.Top,sourcePosition:n=Ht.Bottom})=>Ue.createElement(Ue.Fragment,null,Ue.createElement(gy,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,Ue.createElement(gy,{type:"source",position:n,isConnectable:t}));jT.displayName="DefaultNode";var K2=b.memo(jT);const FT=({data:e,isConnectable:t,sourcePosition:r=Ht.Bottom})=>Ue.createElement(Ue.Fragment,null,e==null?void 0:e.label,Ue.createElement(gy,{type:"source",position:r,isConnectable:t}));FT.displayName="InputNode";var kT=b.memo(FT);const IT=({data:e,isConnectable:t,targetPosition:r=Ht.Top})=>Ue.createElement(Ue.Fragment,null,Ue.createElement(gy,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label);IT.displayName="OutputNode";var PT=b.memo(IT);const $B=()=>null;$B.displayName="GroupNode";const WX=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),l0=e=>e.id;function qX(e,t){return vs(e.selectedNodes.map(l0),t.selectedNodes.map(l0))&&vs(e.selectedEdges.map(l0),t.selectedEdges.map(l0))}const _T=b.memo(({onSelectionChange:e})=>{const t=cs(),{selectedNodes:r,selectedEdges:n}=ln(WX,qX);return b.useEffect(()=>{const s={nodes:r,edges:n};e==null||e(s),t.getState().onSelectionChange.forEach(a=>a(s))},[r,n,e]),null});_T.displayName="SelectionListener";const XX=e=>!!e.onSelectionChange;function JX({onSelectionChange:e}){const t=ln(XX);return e||t?Ue.createElement(_T,{onSelectionChange:e}):null}const YX=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ou(e,t){b.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function vr(e,t,r){b.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const ZX=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:s,onConnectStart:a,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:A,nodesConnectable:d,nodesFocusable:u,edgesFocusable:p,edgesUpdatable:f,elevateNodesOnSelect:x,minZoom:m,maxZoom:N,nodeExtent:g,onNodesChange:y,onEdgesChange:w,elementsSelectable:E,connectionMode:_,snapGrid:D,snapToGrid:R,translateExtent:I,connectOnClick:Q,defaultEdgeOptions:U,fitView:S,fitViewOptions:P,onNodesDelete:O,onEdgesDelete:k,onNodeDrag:Z,onNodeDragStart:H,onNodeDragStop:q,onSelectionDrag:K,onSelectionDragStart:W,onSelectionDragStop:te,noPanClassName:ue,nodeOrigin:T,rfId:$,autoPanOnConnect:V,autoPanOnNodeDrag:se,onError:Y,connectionRadius:L,isValidConnection:C,nodeDragThreshold:j})=>{const{setNodes:G,setEdges:z,setDefaultNodesAndEdges:ae,setMinZoom:de,setMaxZoom:he,setTranslateExtent:ce,setNodeExtent:oe,reset:Re}=ln(YX,vs),Ce=cs();return b.useEffect(()=>{const xe=n==null?void 0:n.map(Fe=>({...Fe,...U}));return ae(r,xe),()=>{Re()}},[]),vr("defaultEdgeOptions",U,Ce.setState),vr("connectionMode",_,Ce.setState),vr("onConnect",s,Ce.setState),vr("onConnectStart",a,Ce.setState),vr("onConnectEnd",o,Ce.setState),vr("onClickConnectStart",l,Ce.setState),vr("onClickConnectEnd",c,Ce.setState),vr("nodesDraggable",A,Ce.setState),vr("nodesConnectable",d,Ce.setState),vr("nodesFocusable",u,Ce.setState),vr("edgesFocusable",p,Ce.setState),vr("edgesUpdatable",f,Ce.setState),vr("elementsSelectable",E,Ce.setState),vr("elevateNodesOnSelect",x,Ce.setState),vr("snapToGrid",R,Ce.setState),vr("snapGrid",D,Ce.setState),vr("onNodesChange",y,Ce.setState),vr("onEdgesChange",w,Ce.setState),vr("connectOnClick",Q,Ce.setState),vr("fitViewOnInit",S,Ce.setState),vr("fitViewOnInitOptions",P,Ce.setState),vr("onNodesDelete",O,Ce.setState),vr("onEdgesDelete",k,Ce.setState),vr("onNodeDrag",Z,Ce.setState),vr("onNodeDragStart",H,Ce.setState),vr("onNodeDragStop",q,Ce.setState),vr("onSelectionDrag",K,Ce.setState),vr("onSelectionDragStart",W,Ce.setState),vr("onSelectionDragStop",te,Ce.setState),vr("noPanClassName",ue,Ce.setState),vr("nodeOrigin",T,Ce.setState),vr("rfId",$,Ce.setState),vr("autoPanOnConnect",V,Ce.setState),vr("autoPanOnNodeDrag",se,Ce.setState),vr("onError",Y,Ce.setState),vr("connectionRadius",L,Ce.setState),vr("isValidConnection",C,Ce.setState),vr("nodeDragThreshold",j,Ce.setState),ou(e,G),ou(t,z),ou(m,de),ou(N,he),ou(I,ce),ou(g,oe),null},J4={display:"none"},eJ={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},TT="react-flow__node-desc",LT="react-flow__edge-desc",tJ="react-flow__aria-live",rJ=e=>e.ariaLiveMessage;function nJ({rfId:e}){const t=ln(rJ);return Ue.createElement("div",{id:`${tJ}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:eJ},t)}function sJ({rfId:e,disableKeyboardA11y:t}){return Ue.createElement(Ue.Fragment,null,Ue.createElement("div",{id:`${TT}-${e}`,style:J4},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Ue.createElement("div",{id:`${LT}-${e}`,style:J4},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&Ue.createElement(nJ,{rfId:e}))}var Am=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=b.useState(!1),s=b.useRef(!1),a=b.useRef(new Set([])),[o,l]=b.useMemo(()=>{if(e!==null){const A=(Array.isArray(e)?e:[e]).filter(u=>typeof u=="string").map(u=>u.split("+")),d=A.reduce((u,p)=>u.concat(...p),[]);return[A,d]}return[[],[]]},[e]);return b.useEffect(()=>{const c=typeof document<"u"?document:null,A=(t==null?void 0:t.target)||c;if(e!==null){const d=f=>{if(s.current=f.ctrlKey||f.metaKey||f.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&O2(f))return!1;const m=Z4(f.code,l);a.current.add(f[m]),Y4(o,a.current,!1)&&(f.preventDefault(),n(!0))},u=f=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&O2(f))return!1;const m=Z4(f.code,l);Y4(o,a.current,!0)?(n(!1),a.current.clear()):a.current.delete(f[m]),f.key==="Meta"&&a.current.clear(),s.current=!1},p=()=>{a.current.clear(),n(!1)};return A==null||A.addEventListener("keydown",d),A==null||A.addEventListener("keyup",u),window.addEventListener("blur",p),()=>{A==null||A.removeEventListener("keydown",d),A==null||A.removeEventListener("keyup",u),window.removeEventListener("blur",p)}}},[e,n]),r};function Y4(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(s=>t.has(s)))}function Z4(e,t){return t.includes(e)?"code":"key"}function UT(e,t,r,n){var l,c;const s=e.parentNode||e.parentId;if(!s)return r;const a=t.get(s),o=id(a,n);return UT(a,t,{x:(r.x??0)+o.x,y:(r.y??0)+o.y,z:(((l=a[Rn])==null?void 0:l.z)??0)>(r.z??0)?((c=a[Rn])==null?void 0:c.z)??0:r.z??0},n)}function RT(e,t,r){e.forEach(n=>{var a;const s=n.parentNode||n.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||r!=null&&r[n.id]){const{x:o,y:l,z:c}=UT(n,e,{...n.position,z:((a=n[Rn])==null?void 0:a.z)??0},t);n.positionAbsolute={x:o,y:l},n[Rn].z=c,r!=null&&r[n.id]&&(n[Rn].isParent=!0)}})}function w1(e,t,r,n){const s=new Map,a={},o=n?1e3:0;return e.forEach(l=>{var f;const c=(ya(l.zIndex)?l.zIndex:0)+(l.selected?o:0),A=t.get(l.id),d={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},u=l.parentNode||l.parentId;u&&(a[u]=!0);const p=(A==null?void 0:A.type)&&(A==null?void 0:A.type)!==l.type;Object.defineProperty(d,Rn,{enumerable:!1,value:{handleBounds:p||(f=A==null?void 0:A[Rn])==null?void 0:f.handleBounds,z:c}}),s.set(l.id,d)}),RT(s,r,a),s}function DT(e,t={}){const{getNodes:r,width:n,height:s,minZoom:a,maxZoom:o,d3Zoom:l,d3Selection:c,fitViewOnInitDone:A,fitViewOnInit:d,nodeOrigin:u}=e(),p=t.initial&&!A&&d;if(l&&c&&(p||!t.initial)){const x=r().filter(N=>{var y;const g=t.includeHiddenNodes?N.width&&N.height:!N.hidden;return(y=t.nodes)!=null&&y.length?g&&t.nodes.some(w=>w.id===N.id):g}),m=x.every(N=>N.width&&N.height);if(x.length>0&&m){const N=Bx(x,u),{x:g,y,zoom:w}=CT(N,n,s,t.minZoom??a,t.maxZoom??o,t.padding??.1),E=yl.translate(g,y).scale(w);return typeof t.duration=="number"&&t.duration>0?l.transform(MA(c,t.duration),E):l.transform(c,E),!0}}return!1}function iJ(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[Rn]:n[Rn],selected:r.selected})}),new Map(t)}function aJ(e,t){return t.map(r=>{const n=e.find(s=>s.id===r.id);return n&&(r.selected=n.selected),r})}function c0({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:s,edges:a,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:A}=r();e!=null&&e.length&&(c&&n({nodeInternals:iJ(e,s)}),o==null||o(e)),t!=null&&t.length&&(A&&n({edges:aJ(t,a)}),l==null||l(t))}const lu=()=>{},oJ={zoomIn:lu,zoomOut:lu,zoomTo:lu,getZoom:()=>1,setViewport:lu,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:lu,fitBounds:lu,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},lJ=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),cJ=()=>{const e=cs(),{d3Zoom:t,d3Selection:r}=ln(lJ,vs);return b.useMemo(()=>r&&t?{zoomIn:s=>t.scaleBy(MA(r,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(MA(r,s==null?void 0:s.duration),1/1.2),zoomTo:(s,a)=>t.scaleTo(MA(r,a==null?void 0:a.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,a)=>{const[o,l,c]=e.getState().transform,A=yl.translate(s.x??o,s.y??l).scale(s.zoom??c);t.transform(MA(r,a==null?void 0:a.duration),A)},getViewport:()=>{const[s,a,o]=e.getState().transform;return{x:s,y:a,zoom:o}},fitView:s=>DT(e.getState,s),setCenter:(s,a,o)=>{const{width:l,height:c,maxZoom:A}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:A,u=l/2-s*d,p=c/2-a*d,f=yl.translate(u,p).scale(d);t.transform(MA(r,o==null?void 0:o.duration),f)},fitBounds:(s,a)=>{const{width:o,height:l,minZoom:c,maxZoom:A}=e.getState(),{x:d,y:u,zoom:p}=CT(s,o,l,c,A,(a==null?void 0:a.padding)??.1),f=yl.translate(d,u).scale(p);t.transform(MA(r,a==null?void 0:a.duration),f)},project:s=>{const{transform:a,snapToGrid:o,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),z2(s,a,o,l)},screenToFlowPosition:s=>{const{transform:a,snapToGrid:o,snapGrid:l,domNode:c}=e.getState();if(!c)return s;const{x:A,y:d}=c.getBoundingClientRect(),u={x:s.x-A,y:s.y-d};return z2(u,a,o,l)},flowToScreenPosition:s=>{const{transform:a,domNode:o}=e.getState();if(!o)return s;const{x:l,y:c}=o.getBoundingClientRect(),A=xT(s,a);return{x:A.x+l,y:A.y+c}},viewportInitialized:!0}:oJ,[t,r])};function Nx(){const e=cJ(),t=cs(),r=b.useCallback(()=>t.getState().getNodes().map(m=>({...m})),[]),n=b.useCallback(m=>t.getState().nodeInternals.get(m),[]),s=b.useCallback(()=>{const{edges:m=[]}=t.getState();return m.map(N=>({...N}))},[]),a=b.useCallback(m=>{const{edges:N=[]}=t.getState();return N.find(g=>g.id===m)},[]),o=b.useCallback(m=>{const{getNodes:N,setNodes:g,hasDefaultNodes:y,onNodesChange:w}=t.getState(),E=N(),_=typeof m=="function"?m(E):m;if(y)g(_);else if(w){const D=_.length===0?E.map(R=>({type:"remove",id:R.id})):_.map(R=>({item:R,type:"reset"}));w(D)}},[]),l=b.useCallback(m=>{const{edges:N=[],setEdges:g,hasDefaultEdges:y,onEdgesChange:w}=t.getState(),E=typeof m=="function"?m(N):m;if(y)g(E);else if(w){const _=E.length===0?N.map(D=>({type:"remove",id:D.id})):E.map(D=>({item:D,type:"reset"}));w(_)}},[]),c=b.useCallback(m=>{const N=Array.isArray(m)?m:[m],{getNodes:g,setNodes:y,hasDefaultNodes:w,onNodesChange:E}=t.getState();if(w){const D=[...g(),...N];y(D)}else if(E){const _=N.map(D=>({item:D,type:"add"}));E(_)}},[]),A=b.useCallback(m=>{const N=Array.isArray(m)?m:[m],{edges:g=[],setEdges:y,hasDefaultEdges:w,onEdgesChange:E}=t.getState();if(w)y([...g,...N]);else if(E){const _=N.map(D=>({item:D,type:"add"}));E(_)}},[]),d=b.useCallback(()=>{const{getNodes:m,edges:N=[],transform:g}=t.getState(),[y,w,E]=g;return{nodes:m().map(_=>({..._})),edges:N.map(_=>({..._})),viewport:{x:y,y:w,zoom:E}}},[]),u=b.useCallback(({nodes:m,edges:N})=>{const{nodeInternals:g,getNodes:y,edges:w,hasDefaultNodes:E,hasDefaultEdges:_,onNodesDelete:D,onEdgesDelete:R,onNodesChange:I,onEdgesChange:Q}=t.getState(),U=(m||[]).map(Z=>Z.id),S=(N||[]).map(Z=>Z.id),P=y().reduce((Z,H)=>{const q=H.parentNode||H.parentId,K=!U.includes(H.id)&&q&&Z.find(te=>te.id===q);return(typeof H.deletable=="boolean"?H.deletable:!0)&&(U.includes(H.id)||K)&&Z.push(H),Z},[]),O=w.filter(Z=>typeof Z.deletable=="boolean"?Z.deletable:!0),k=O.filter(Z=>S.includes(Z.id));if(P||k){const Z=bT(P,O),H=[...k,...Z],q=H.reduce((K,W)=>(K.includes(W.id)||K.push(W.id),K),[]);if((_||E)&&(_&&t.setState({edges:w.filter(K=>!q.includes(K.id))}),E&&(P.forEach(K=>{g.delete(K.id)}),t.setState({nodeInternals:new Map(g)}))),q.length>0&&(R==null||R(H),Q&&Q(q.map(K=>({id:K,type:"remove"})))),P.length>0&&(D==null||D(P),I)){const K=P.map(W=>({id:W.id,type:"remove"}));I(K)}}},[]),p=b.useCallback(m=>{const N=kX(m),g=N?null:t.getState().nodeInternals.get(m.id);return!N&&!g?[null,null,N]:[N?m:z4(g),g,N]},[]),f=b.useCallback((m,N=!0,g)=>{const[y,w,E]=p(m);return y?(g||t.getState().getNodes()).filter(_=>{if(!E&&(_.id===w.id||!_.positionAbsolute))return!1;const D=z4(_),R=Q2(D,y);return N&&R>0||R>=y.width*y.height}):[]},[]),x=b.useCallback((m,N,g=!0)=>{const[y]=p(m);if(!y)return!1;const w=Q2(y,N);return g&&w>0||w>=y.width*y.height},[]);return b.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:s,getEdge:a,setNodes:o,setEdges:l,addNodes:c,addEdges:A,toObject:d,deleteElements:u,getIntersectingNodes:f,isNodeIntersecting:x}),[e,r,n,s,a,o,l,c,A,d,u,f,x])}const AJ={actInsideInputWithModifier:!1};var dJ=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=cs(),{deleteElements:n}=Nx(),s=Am(e,AJ),a=Am(t);b.useEffect(()=>{if(s){const{edges:o,getNodes:l}=r.getState(),c=l().filter(d=>d.selected),A=o.filter(d=>d.selected);n({nodes:c,edges:A}),r.setState({nodesSelectionActive:!1})}},[s]),b.useEffect(()=>{r.setState({multiSelectionActive:a})},[a])};function uJ(e){const t=cs();b.useEffect(()=>{let r;const n=()=>{var a,o;if(!e.current)return;const s=LB(e.current);(s.height===0||s.width===0)&&((o=(a=t.getState()).onError)==null||o.call(a,"004",Fl.error004())),t.setState({width:s.width||500,height:s.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const zB={position:"absolute",width:"100%",height:"100%",top:0,left:0},hJ=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,A0=e=>({x:e.x,y:e.y,zoom:e.k}),cu=(e,t)=>e.target.closest(`.${t}`),ej=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),tj=e=>{const t=e.ctrlKey&&fy()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},fJ=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),pJ=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:s=!0,zoomOnPinch:a=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=WA.Free,zoomOnDoubleClick:A=!0,elementsSelectable:d,panOnDrag:u=!0,defaultViewport:p,translateExtent:f,minZoom:x,maxZoom:m,zoomActivationKeyCode:N,preventScrolling:g=!0,children:y,noWheelClassName:w,noPanClassName:E})=>{const _=b.useRef(),D=cs(),R=b.useRef(!1),I=b.useRef(!1),Q=b.useRef(null),U=b.useRef({x:0,y:0,zoom:0}),{d3Zoom:S,d3Selection:P,d3ZoomHandler:O,userSelectionActive:k}=ln(fJ,vs),Z=Am(N),H=b.useRef(0),q=b.useRef(!1),K=b.useRef();return uJ(Q),b.useEffect(()=>{if(Q.current){const W=Q.current.getBoundingClientRect(),te=lT().scaleExtent([x,m]).translateExtent(f),ue=ga(Q.current).call(te),T=yl.translate(p.x,p.y).scale(Th(p.zoom,x,m)),$=[[0,0],[W.width,W.height]],V=te.constrain()(T,$,f);te.transform(ue,V),te.wheelDelta(tj),D.setState({d3Zoom:te,d3Selection:ue,d3ZoomHandler:ue.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:Q.current.closest(".react-flow")})}},[]),b.useEffect(()=>{P&&S&&(o&&!Z&&!k?P.on("wheel.zoom",W=>{if(cu(W,w))return!1;W.preventDefault(),W.stopImmediatePropagation();const te=P.property("__zoom").k||1;if(W.ctrlKey&&a){const C=$a(W),j=tj(W),G=te*Math.pow(2,j);S.scaleTo(P,G,C,W);return}const ue=W.deltaMode===1?20:1;let T=c===WA.Vertical?0:W.deltaX*ue,$=c===WA.Horizontal?0:W.deltaY*ue;!fy()&&W.shiftKey&&c!==WA.Vertical&&(T=W.deltaY*ue,$=0),S.translateBy(P,-(T/te)*l,-($/te)*l,{internal:!0});const V=A0(P.property("__zoom")),{onViewportChangeStart:se,onViewportChange:Y,onViewportChangeEnd:L}=D.getState();clearTimeout(K.current),q.current||(q.current=!0,t==null||t(W,V),se==null||se(V)),q.current&&(e==null||e(W,V),Y==null||Y(V),K.current=setTimeout(()=>{r==null||r(W,V),L==null||L(V),q.current=!1},150))},{passive:!1}):typeof O<"u"&&P.on("wheel.zoom",function(W,te){if(!g&&W.type==="wheel"&&!W.ctrlKey||cu(W,w))return null;W.preventDefault(),O.call(this,W,te)},{passive:!1}))},[k,o,c,P,S,O,Z,a,g,w,t,e,r]),b.useEffect(()=>{S&&S.on("start",W=>{var T,$;if(!W.sourceEvent||W.sourceEvent.internal)return null;H.current=(T=W.sourceEvent)==null?void 0:T.button;const{onViewportChangeStart:te}=D.getState(),ue=A0(W.transform);R.current=!0,U.current=ue,(($=W.sourceEvent)==null?void 0:$.type)==="mousedown"&&D.setState({paneDragging:!0}),te==null||te(ue),t==null||t(W.sourceEvent,ue)})},[S,t]),b.useEffect(()=>{S&&(k&&!R.current?S.on("zoom",null):k||S.on("zoom",W=>{var ue;const{onViewportChange:te}=D.getState();if(D.setState({transform:[W.transform.x,W.transform.y,W.transform.k]}),I.current=!!(n&&ej(u,H.current??0)),(e||te)&&!((ue=W.sourceEvent)!=null&&ue.internal)){const T=A0(W.transform);te==null||te(T),e==null||e(W.sourceEvent,T)}}))},[k,S,e,u,n]),b.useEffect(()=>{S&&S.on("end",W=>{if(!W.sourceEvent||W.sourceEvent.internal)return null;const{onViewportChangeEnd:te}=D.getState();if(R.current=!1,D.setState({paneDragging:!1}),n&&ej(u,H.current??0)&&!I.current&&n(W.sourceEvent),I.current=!1,(r||te)&&hJ(U.current,W.transform)){const ue=A0(W.transform);U.current=ue,clearTimeout(_.current),_.current=setTimeout(()=>{te==null||te(ue),r==null||r(W.sourceEvent,ue)},o?150:0)}})},[S,o,u,r,n]),b.useEffect(()=>{S&&S.filter(W=>{const te=Z||s,ue=a&&W.ctrlKey;if((u===!0||Array.isArray(u)&&u.includes(1))&&W.button===1&&W.type==="mousedown"&&(cu(W,"react-flow__node")||cu(W,"react-flow__edge")))return!0;if(!u&&!te&&!o&&!A&&!a||k||!A&&W.type==="dblclick"||cu(W,w)&&W.type==="wheel"||cu(W,E)&&(W.type!=="wheel"||o&&W.type==="wheel"&&!Z)||!a&&W.ctrlKey&&W.type==="wheel"||!te&&!o&&!ue&&W.type==="wheel"||!u&&(W.type==="mousedown"||W.type==="touchstart")||Array.isArray(u)&&!u.includes(W.button)&&W.type==="mousedown")return!1;const T=Array.isArray(u)&&u.includes(W.button)||!W.button||W.button<=1;return(!W.ctrlKey||W.type==="wheel")&&T})},[k,S,s,a,o,A,u,d,Z]),Ue.createElement("div",{className:"react-flow__renderer",ref:Q,style:zB},y)},mJ=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function gJ(){const{userSelectionActive:e,userSelectionRect:t}=ln(mJ,vs);return e&&t?Ue.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function rj(e,t){const r=t.parentNode||t.parentId,n=e.find(s=>s.id===r);if(n){const s=t.position.x+t.width-n.width,a=t.position.y+t.height-n.height;if(s>0||a>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,s>0&&(n.style.width+=s),a>0&&(n.style.height+=a),t.position.x<0){const o=Math.abs(t.position.x);n.position.x=n.position.x-o,n.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);n.position.y=n.position.y-o,n.style.height+=o,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function MT(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,s)=>{const a=e.filter(l=>l.id===s.id);if(a.length===0)return n.push(s),n;const o={...s};for(const l of a)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&rj(n,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&rj(n,o);break}case"remove":return n}return n.push(o),n},r)}function QT(e,t){return MT(e,t)}function vJ(e,t){return MT(e,t)}const gc=(e,t)=>({id:e,type:"select",selected:t});function Mu(e,t){return e.reduce((r,n)=>{const s=t.includes(n.id);return!n.selected&&s?(n.selected=!0,r.push(gc(n.id,!0))):n.selected&&!s&&(n.selected=!1,r.push(gc(n.id,!1))),r},[])}const b1=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},yJ=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),OT=b.memo(({isSelecting:e,selectionMode:t=cm.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:A,onPaneMouseLeave:d,children:u})=>{const p=b.useRef(null),f=cs(),x=b.useRef(0),m=b.useRef(0),N=b.useRef(),{userSelectionActive:g,elementsSelectable:y,dragging:w}=ln(yJ,vs),E=()=>{f.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,m.current=0},_=O=>{a==null||a(O),f.getState().resetSelectedElements(),f.setState({nodesSelectionActive:!1})},D=O=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){O.preventDefault();return}o==null||o(O)},R=l?O=>l(O):void 0,I=O=>{const{resetSelectedElements:k,domNode:Z}=f.getState();if(N.current=Z==null?void 0:Z.getBoundingClientRect(),!y||!e||O.button!==0||O.target!==p.current||!N.current)return;const{x:H,y:q}=zc(O,N.current);k(),f.setState({userSelectionRect:{width:0,height:0,startX:H,startY:q,x:H,y:q}}),n==null||n(O)},Q=O=>{const{userSelectionRect:k,nodeInternals:Z,edges:H,transform:q,onNodesChange:K,onEdgesChange:W,nodeOrigin:te,getNodes:ue}=f.getState();if(!e||!N.current||!k)return;f.setState({userSelectionActive:!0,nodesSelectionActive:!1});const T=zc(O,N.current),$=k.startX??0,V=k.startY??0,se={...k,x:T.x<$?T.x:$,y:T.y<V?T.y:V,width:Math.abs(T.x-$),height:Math.abs(T.y-V)},Y=ue(),L=wT(Z,se,q,t===cm.Partial,!0,te),C=bT(L,H).map(G=>G.id),j=L.map(G=>G.id);if(x.current!==j.length){x.current=j.length;const G=Mu(Y,j);G.length&&(K==null||K(G))}if(m.current!==C.length){m.current=C.length;const G=Mu(H,C);G.length&&(W==null||W(G))}f.setState({userSelectionRect:se})},U=O=>{if(O.button!==0)return;const{userSelectionRect:k}=f.getState();!g&&k&&O.target===p.current&&(_==null||_(O)),f.setState({nodesSelectionActive:x.current>0}),E(),s==null||s(O)},S=O=>{g&&(f.setState({nodesSelectionActive:x.current>0}),s==null||s(O)),E()},P=y&&(e||g);return Ue.createElement("div",{className:Ps(["react-flow__pane",{dragging:w,selection:e}]),onClick:P?void 0:b1(_,p),onContextMenu:b1(D,p),onWheel:b1(R,p),onMouseEnter:P?void 0:c,onMouseDown:P?I:void 0,onMouseMove:P?Q:A,onMouseUp:P?U:void 0,onMouseLeave:P?S:d,ref:p,style:zB},u,Ue.createElement(gJ,null))});OT.displayName="Pane";function HT(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:HT(n,t):!1}function nj(e,t,r){let n=e;do{if(n!=null&&n.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function xJ(e,t,r,n){return Array.from(e.values()).filter(s=>(s.selected||s.id===n)&&(!s.parentNode||s.parentId||!HT(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var a,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((a=s.positionAbsolute)==null?void 0:a.x)??0),y:r.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function wJ(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function $T(e,t,r,n,s=[0,0],a){const o=wJ(e,e.extent||n);let l=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const u=r.get(c),{x:p,y:f}=id(u,s).positionAbsolute;l=u&&ya(p)&&ya(f)&&ya(u.width)&&ya(u.height)?[[p+e.width*s[0],f+e.height*s[1]],[p+u.width-e.width+e.width*s[0],f+u.height-e.height+e.height*s[1]]]:l}else a==null||a("005",Fl.error005()),l=o;else if(e.extent&&c&&e.extent!=="parent"){const u=r.get(c),{x:p,y:f}=id(u,s).positionAbsolute;l=[[e.extent[0][0]+p,e.extent[0][1]+f],[e.extent[1][0]+p,e.extent[1][1]+f]]}let A={x:0,y:0};if(c){const u=r.get(c);A=id(u,s).positionAbsolute}const d=l&&l!=="parent"?UB(t,l):t;return{position:{x:d.x-A.x,y:d.y-A.y},positionAbsolute:d}}function C1({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(s=>({...r.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?n.find(s=>s.id===e):n[0],n]}const sj=(e,t,r,n)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const a=Array.from(s),o=t.getBoundingClientRect(),l={x:o.width*n[0],y:o.height*n[1]};return a.map(c=>{const A=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(A.left-o.left-l.x)/r,y:(A.top-o.top-l.y)/r,...LB(c)}})};function Qf(e,t,r){return r===void 0?r:n=>{const s=t().nodeInternals.get(e);s&&r(n,{...s})}}function G2({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:o,nodeInternals:l,onError:c}=t.getState(),A=l.get(e);if(!A){c==null||c("012",Fl.error012(e));return}t.setState({nodesSelectionActive:!1}),A.selected?(r||A.selected&&o)&&(a({nodes:[A],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):s([e])}function bJ(){const e=cs();return b.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:s,snapToGrid:a}=e.getState(),o=r.touches?r.touches[0].clientX:r.clientX,l=r.touches?r.touches[0].clientY:r.clientY,c={x:(o-n[0])/n[2],y:(l-n[1])/n[2]};return{xSnapped:a?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:a?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function B1(e){return(t,r,n)=>e==null?void 0:e(t,n)}function zT({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:s,isSelectable:a,selectNodesOnDrag:o}){const l=cs(),[c,A]=b.useState(!1),d=b.useRef([]),u=b.useRef({x:null,y:null}),p=b.useRef(0),f=b.useRef(null),x=b.useRef({x:0,y:0}),m=b.useRef(null),N=b.useRef(!1),g=b.useRef(!1),y=b.useRef(!1),w=bJ();return b.useEffect(()=>{if(e!=null&&e.current){const E=ga(e.current),_=({x:I,y:Q})=>{const{nodeInternals:U,onNodeDrag:S,onSelectionDrag:P,updateNodePositions:O,nodeExtent:k,snapGrid:Z,snapToGrid:H,nodeOrigin:q,onError:K}=l.getState();u.current={x:I,y:Q};let W=!1,te={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&k){const T=Bx(d.current,q);te=lm(T)}if(d.current=d.current.map(T=>{const $={x:I-T.distance.x,y:Q-T.distance.y};H&&($.x=Z[0]*Math.round($.x/Z[0]),$.y=Z[1]*Math.round($.y/Z[1]));const V=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];d.current.length>1&&k&&!T.extent&&(V[0][0]=T.positionAbsolute.x-te.x+k[0][0],V[1][0]=T.positionAbsolute.x+(T.width??0)-te.x2+k[1][0],V[0][1]=T.positionAbsolute.y-te.y+k[0][1],V[1][1]=T.positionAbsolute.y+(T.height??0)-te.y2+k[1][1]);const se=$T(T,$,U,V,q,K);return W=W||T.position.x!==se.position.x||T.position.y!==se.position.y,T.position=se.position,T.positionAbsolute=se.positionAbsolute,T}),!W)return;O(d.current,!0,!0),A(!0);const ue=s?S:B1(P);if(ue&&m.current){const[T,$]=C1({nodeId:s,dragItems:d.current,nodeInternals:U});ue(m.current,T,$)}},D=()=>{if(!f.current)return;const[I,Q]=AT(x.current,f.current);if(I!==0||Q!==0){const{transform:U,panBy:S}=l.getState();u.current.x=(u.current.x??0)-I/U[2],u.current.y=(u.current.y??0)-Q/U[2],S({x:I,y:Q})&&_(u.current)}p.current=requestAnimationFrame(D)},R=I=>{var q;const{nodeInternals:Q,multiSelectionActive:U,nodesDraggable:S,unselectNodesAndEdges:P,onNodeDragStart:O,onSelectionDragStart:k}=l.getState();g.current=!0;const Z=s?O:B1(k);(!o||!a)&&!U&&s&&((q=Q.get(s))!=null&&q.selected||P()),s&&a&&o&&G2({id:s,store:l,nodeRef:e});const H=w(I);if(u.current=H,d.current=xJ(Q,S,H,s),Z&&d.current){const[K,W]=C1({nodeId:s,dragItems:d.current,nodeInternals:Q});Z(I.sourceEvent,K,W)}};if(t)E.on(".drag",null);else{const I=TW().on("start",Q=>{const{domNode:U,nodeDragThreshold:S}=l.getState();S===0&&R(Q),y.current=!1;const P=w(Q);u.current=P,f.current=(U==null?void 0:U.getBoundingClientRect())||null,x.current=zc(Q.sourceEvent,f.current)}).on("drag",Q=>{var O,k;const U=w(Q),{autoPanOnNodeDrag:S,nodeDragThreshold:P}=l.getState();if(Q.sourceEvent.type==="touchmove"&&Q.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!N.current&&g.current&&S&&(N.current=!0,D()),!g.current){const Z=U.xSnapped-(((O=u==null?void 0:u.current)==null?void 0:O.x)??0),H=U.ySnapped-(((k=u==null?void 0:u.current)==null?void 0:k.y)??0);Math.sqrt(Z*Z+H*H)>P&&R(Q)}(u.current.x!==U.xSnapped||u.current.y!==U.ySnapped)&&d.current&&g.current&&(m.current=Q.sourceEvent,x.current=zc(Q.sourceEvent,f.current),_(U))}}).on("end",Q=>{if(!(!g.current||y.current)&&(A(!1),N.current=!1,g.current=!1,cancelAnimationFrame(p.current),d.current)){const{updateNodePositions:U,nodeInternals:S,onNodeDragStop:P,onSelectionDragStop:O}=l.getState(),k=s?P:B1(O);if(U(d.current,!1,!1),k){const[Z,H]=C1({nodeId:s,dragItems:d.current,nodeInternals:S});k(Q.sourceEvent,Z,H)}}}).filter(Q=>{const U=Q.target;return!Q.button&&(!r||!nj(U,`.${r}`,e))&&(!n||nj(U,n,e))});return E.call(I),()=>{E.on(".drag",null)}}}},[e,t,r,n,a,l,s,o,w]),c}function KT(){const e=cs();return b.useCallback(r=>{const{nodeInternals:n,nodeExtent:s,updateNodePositions:a,getNodes:o,snapToGrid:l,snapGrid:c,onError:A,nodesDraggable:d}=e.getState(),u=o().filter(y=>y.selected&&(y.draggable||d&&typeof y.draggable>"u")),p=l?c[0]:5,f=l?c[1]:5,x=r.isShiftPressed?4:1,m=r.x*p*x,N=r.y*f*x,g=u.map(y=>{if(y.positionAbsolute){const w={x:y.positionAbsolute.x+m,y:y.positionAbsolute.y+N};l&&(w.x=c[0]*Math.round(w.x/c[0]),w.y=c[1]*Math.round(w.y/c[1]));const{positionAbsolute:E,position:_}=$T(y,w,n,s,void 0,A);y.position=_,y.positionAbsolute=E}return y});a(g,!0,!1)},[])}const nh={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Of=e=>{const t=({id:r,type:n,data:s,xPos:a,yPos:o,xPosOrigin:l,yPosOrigin:c,selected:A,onClick:d,onMouseEnter:u,onMouseMove:p,onMouseLeave:f,onContextMenu:x,onDoubleClick:m,style:N,className:g,isDraggable:y,isSelectable:w,isConnectable:E,isFocusable:_,selectNodesOnDrag:D,sourcePosition:R,targetPosition:I,hidden:Q,resizeObserver:U,dragHandle:S,zIndex:P,isParent:O,noDragClassName:k,noPanClassName:Z,initialized:H,disableKeyboardA11y:q,ariaLabel:K,rfId:W,hasHandleBounds:te})=>{const ue=cs(),T=b.useRef(null),$=b.useRef(null),V=b.useRef(R),se=b.useRef(I),Y=b.useRef(n),L=w||y||d||u||p||f,C=KT(),j=Qf(r,ue.getState,u),G=Qf(r,ue.getState,p),z=Qf(r,ue.getState,f),ae=Qf(r,ue.getState,x),de=Qf(r,ue.getState,m),he=Re=>{const{nodeDragThreshold:Ce}=ue.getState();if(w&&(!D||!y||Ce>0)&&G2({id:r,store:ue,nodeRef:T}),d){const xe=ue.getState().nodeInternals.get(r);xe&&d(Re,{...xe})}},ce=Re=>{if(!O2(Re)&&!q)if(fT.includes(Re.key)&&w){const Ce=Re.key==="Escape";G2({id:r,store:ue,unselect:Ce,nodeRef:T})}else y&&A&&Object.prototype.hasOwnProperty.call(nh,Re.key)&&(ue.setState({ariaLiveMessage:`Moved selected node ${Re.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~o}`}),C({x:nh[Re.key].x,y:nh[Re.key].y,isShiftPressed:Re.shiftKey}))};b.useEffect(()=>()=>{$.current&&(U==null||U.unobserve($.current),$.current=null)},[]),b.useEffect(()=>{if(T.current&&!Q){const Re=T.current;(!H||!te||$.current!==Re)&&($.current&&(U==null||U.unobserve($.current)),U==null||U.observe(Re),$.current=Re)}},[Q,H,te]),b.useEffect(()=>{const Re=Y.current!==n,Ce=V.current!==R,xe=se.current!==I;T.current&&(Re||Ce||xe)&&(Re&&(Y.current=n),Ce&&(V.current=R),xe&&(se.current=I),ue.getState().updateNodeDimensions([{id:r,nodeElement:T.current,forceUpdate:!0}]))},[r,n,R,I]);const oe=zT({nodeRef:T,disabled:Q||!y,noDragClassName:k,handleSelector:S,nodeId:r,isSelectable:w,selectNodesOnDrag:D});return Q?null:Ue.createElement("div",{className:Ps(["react-flow__node",`react-flow__node-${n}`,{[Z]:y},g,{selected:A,selectable:w,parent:O,dragging:oe}]),ref:T,style:{zIndex:P,transform:`translate(${l}px,${c}px)`,pointerEvents:L?"all":"none",visibility:H?"visible":"hidden",...N},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:j,onMouseMove:G,onMouseLeave:z,onContextMenu:ae,onClick:he,onDoubleClick:de,onKeyDown:_?ce:void 0,tabIndex:_?0:void 0,role:_?"button":void 0,"aria-describedby":q?void 0:`${TT}-${W}`,"aria-label":K},Ue.createElement(RX,{value:r},Ue.createElement(e,{id:r,data:s,type:n,xPos:a,yPos:o,selected:A,isConnectable:E,sourcePosition:R,targetPosition:I,dragging:oe,dragHandle:S,zIndex:P})))};return t.displayName="NodeWrapper",b.memo(t)};const CJ=e=>{const t=e.getNodes().filter(r=>r.selected);return{...Bx(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function BJ({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=cs(),{width:s,height:a,x:o,y:l,transformString:c,userSelectionActive:A}=ln(CJ,vs),d=KT(),u=b.useRef(null);if(b.useEffect(()=>{var x;r||(x=u.current)==null||x.focus({preventScroll:!0})},[r]),zT({nodeRef:u}),A||!s||!a)return null;const p=e?x=>{const m=n.getState().getNodes().filter(N=>N.selected);e(x,m)}:void 0,f=x=>{Object.prototype.hasOwnProperty.call(nh,x.key)&&d({x:nh[x.key].x,y:nh[x.key].y,isShiftPressed:x.shiftKey})};return Ue.createElement("div",{className:Ps(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},Ue.createElement("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:r?void 0:-1,onKeyDown:r?void 0:f,style:{width:s,height:a,top:l,left:o}}))}var NJ=b.memo(BJ);const SJ=e=>e.nodesSelectionActive,GT=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:o,deleteKeyCode:l,onMove:c,onMoveStart:A,onMoveEnd:d,selectionKeyCode:u,selectionOnDrag:p,selectionMode:f,onSelectionStart:x,onSelectionEnd:m,multiSelectionKeyCode:N,panActivationKeyCode:g,zoomActivationKeyCode:y,elementsSelectable:w,zoomOnScroll:E,zoomOnPinch:_,panOnScroll:D,panOnScrollSpeed:R,panOnScrollMode:I,zoomOnDoubleClick:Q,panOnDrag:U,defaultViewport:S,translateExtent:P,minZoom:O,maxZoom:k,preventScrolling:Z,onSelectionContextMenu:H,noWheelClassName:q,noPanClassName:K,disableKeyboardA11y:W})=>{const te=ln(SJ),ue=Am(u),T=Am(g),$=T||U,V=T||D,se=ue||p&&$!==!0;return dJ({deleteKeyCode:l,multiSelectionKeyCode:N}),Ue.createElement(pJ,{onMove:c,onMoveStart:A,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:w,zoomOnScroll:E,zoomOnPinch:_,panOnScroll:V,panOnScrollSpeed:R,panOnScrollMode:I,zoomOnDoubleClick:Q,panOnDrag:!ue&&$,defaultViewport:S,translateExtent:P,minZoom:O,maxZoom:k,zoomActivationKeyCode:y,preventScrolling:Z,noWheelClassName:q,noPanClassName:K},Ue.createElement(OT,{onSelectionStart:x,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:o,panOnDrag:$,isSelecting:!!se,selectionMode:f},e,te&&Ue.createElement(NJ,{onSelectionContextMenu:H,noPanClassName:K,disableKeyboardA11y:W})))};GT.displayName="FlowRenderer";var EJ=b.memo(GT);function jJ(e){return ln(b.useCallback(r=>e?wT(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function FJ(e){const t={input:Of(e.input||kT),default:Of(e.default||K2),output:Of(e.output||PT),group:Of(e.group||$B)},r={},n=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,a)=>(s[a]=Of(e[a]||K2),s),r);return{...t,...n}}const kJ=({x:e,y:t,width:r,height:n,origin:s})=>!r||!n?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-r*s[0],y:t-n*s[1]},IJ=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),VT=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:s,updateNodeDimensions:a,onError:o}=ln(IJ,vs),l=jJ(e.onlyRenderVisibleElements),c=b.useRef(),A=b.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(u=>{const p=u.map(f=>({id:f.target.getAttribute("data-id"),nodeElement:f.target,forceUpdate:!0}));a(p)});return c.current=d,d},[]);return b.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),Ue.createElement("div",{className:"react-flow__nodes",style:zB},l.map(d=>{var _,D,R;let u=d.type||"default";e.nodeTypes[u]||(o==null||o("003",Fl.error003(u)),u="default");const p=e.nodeTypes[u]||e.nodeTypes.default,f=!!(d.draggable||t&&typeof d.draggable>"u"),x=!!(d.selectable||s&&typeof d.selectable>"u"),m=!!(d.connectable||r&&typeof d.connectable>"u"),N=!!(d.focusable||n&&typeof d.focusable>"u"),g=e.nodeExtent?UB(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,y=(g==null?void 0:g.x)??0,w=(g==null?void 0:g.y)??0,E=kJ({x:y,y:w,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return Ue.createElement(p,{key:d.id,id:d.id,className:d.className,style:d.style,type:u,data:d.data,sourcePosition:d.sourcePosition||Ht.Bottom,targetPosition:d.targetPosition||Ht.Top,hidden:d.hidden,xPos:y,yPos:w,xPosOrigin:E.x,yPosOrigin:E.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:f,isSelectable:x,isConnectable:m,isFocusable:N,resizeObserver:A,dragHandle:d.dragHandle,zIndex:((_=d[Rn])==null?void 0:_.z)??0,isParent:!!((D=d[Rn])!=null&&D.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((R=d[Rn])!=null&&R.handleBounds)})}))};VT.displayName="NodeRenderer";var PJ=b.memo(VT);const _J=(e,t,r)=>r===Ht.Left?e-t:r===Ht.Right?e+t:e,TJ=(e,t,r)=>r===Ht.Top?e-t:r===Ht.Bottom?e+t:e,ij="react-flow__edgeupdater",aj=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:s,onMouseEnter:a,onMouseOut:o,type:l})=>Ue.createElement("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:o,className:Ps([ij,`${ij}-${l}`]),cx:_J(t,n,e),cy:TJ(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),LJ=()=>!0;var Au=e=>{const t=({id:r,className:n,type:s,data:a,onClick:o,onEdgeDoubleClick:l,selected:c,animated:A,label:d,labelStyle:u,labelShowBg:p,labelBgStyle:f,labelBgPadding:x,labelBgBorderRadius:m,style:N,source:g,target:y,sourceX:w,sourceY:E,targetX:_,targetY:D,sourcePosition:R,targetPosition:I,elementsSelectable:Q,hidden:U,sourceHandleId:S,targetHandleId:P,onContextMenu:O,onMouseEnter:k,onMouseMove:Z,onMouseLeave:H,reconnectRadius:q,onReconnect:K,onReconnectStart:W,onReconnectEnd:te,markerEnd:ue,markerStart:T,rfId:$,ariaLabel:V,isFocusable:se,isReconnectable:Y,pathOptions:L,interactionWidth:C,disableKeyboardA11y:j})=>{const G=b.useRef(null),[z,ae]=b.useState(!1),[de,he]=b.useState(!1),ce=cs(),oe=b.useMemo(()=>`url('#${$2(T,$)}')`,[T,$]),Re=b.useMemo(()=>`url('#${$2(ue,$)}')`,[ue,$]);if(U)return null;const Ce=et=>{var Tr;const{edges:ur,addSelectedEdges:Ut,unselectNodesAndEdges:Xr,multiSelectionActive:rr}=ce.getState(),Yt=ur.find(Jt=>Jt.id===r);Yt&&(Q&&(ce.setState({nodesSelectionActive:!1}),Yt.selected&&rr?(Xr({nodes:[],edges:[Yt]}),(Tr=G.current)==null||Tr.blur()):Ut([r])),o&&o(et,Yt))},xe=Mf(r,ce.getState,l),Fe=Mf(r,ce.getState,O),ze=Mf(r,ce.getState,k),Qe=Mf(r,ce.getState,Z),We=Mf(r,ce.getState,H),Oe=(et,ur)=>{if(et.button!==0)return;const{edges:Ut,isValidConnection:Xr}=ce.getState(),rr=ur?y:g,Yt=(ur?P:S)||null,Tr=ur?"target":"source",Jt=Xr||LJ,kn=ur,yr=Ut.find(mr=>mr.id===r);he(!0),W==null||W(et,yr,Tr);const bn=mr=>{he(!1),te==null||te(mr,yr,Tr)};ST({event:et,handleId:Yt,nodeId:rr,onConnect:mr=>K==null?void 0:K(yr,mr),isTarget:kn,getState:ce.getState,setState:ce.setState,isValidConnection:Jt,edgeUpdaterType:Tr,onReconnectEnd:bn})},Ke=et=>Oe(et,!0),ht=et=>Oe(et,!1),Pt=()=>ae(!0),wt=()=>ae(!1),ft=!Q&&!o,Qt=et=>{var ur;if(!j&&fT.includes(et.key)&&Q){const{unselectNodesAndEdges:Ut,addSelectedEdges:Xr,edges:rr}=ce.getState();et.key==="Escape"?((ur=G.current)==null||ur.blur(),Ut({edges:[rr.find(Tr=>Tr.id===r)]})):Xr([r])}};return Ue.createElement("g",{className:Ps(["react-flow__edge",`react-flow__edge-${s}`,n,{selected:c,animated:A,inactive:ft,updating:z}]),onClick:Ce,onDoubleClick:xe,onContextMenu:Fe,onMouseEnter:ze,onMouseMove:Qe,onMouseLeave:We,onKeyDown:se?Qt:void 0,tabIndex:se?0:void 0,role:se?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":V===null?void 0:V||`Edge from ${g} to ${y}`,"aria-describedby":se?`${LT}-${$}`:void 0,ref:G},!de&&Ue.createElement(e,{id:r,source:g,target:y,selected:c,animated:A,label:d,labelStyle:u,labelShowBg:p,labelBgStyle:f,labelBgPadding:x,labelBgBorderRadius:m,data:a,style:N,sourceX:w,sourceY:E,targetX:_,targetY:D,sourcePosition:R,targetPosition:I,sourceHandleId:S,targetHandleId:P,markerStart:oe,markerEnd:Re,pathOptions:L,interactionWidth:C}),Y&&Ue.createElement(Ue.Fragment,null,(Y==="source"||Y===!0)&&Ue.createElement(aj,{position:R,centerX:w,centerY:E,radius:q,onMouseDown:Ke,onMouseEnter:Pt,onMouseOut:wt,type:"source"}),(Y==="target"||Y===!0)&&Ue.createElement(aj,{position:I,centerX:_,centerY:D,radius:q,onMouseDown:ht,onMouseEnter:Pt,onMouseOut:wt,type:"target"})))};return t.displayName="EdgeWrapper",b.memo(t)};function UJ(e){const t={default:Au(e.default||my),straight:Au(e.bezier||MB),step:Au(e.step||DB),smoothstep:Au(e.step||Cx),simplebezier:Au(e.simplebezier||RB)},r={},n=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,a)=>(s[a]=Au(e[a]||my),s),r);return{...t,...n}}function oj(e,t,r=null){const n=((r==null?void 0:r.x)||0)+t.x,s=((r==null?void 0:r.y)||0)+t.y,a=(r==null?void 0:r.width)||t.width,o=(r==null?void 0:r.height)||t.height;switch(e){case Ht.Top:return{x:n+a/2,y:s};case Ht.Right:return{x:n+a,y:s+o/2};case Ht.Bottom:return{x:n+a/2,y:s+o};case Ht.Left:return{x:n,y:s+o/2}}}function lj(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const RJ=(e,t,r,n,s,a)=>{const o=oj(r,e,t),l=oj(a,n,s);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function DJ({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:s,targetHeight:a,width:o,height:l,transform:c}){const A={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+s),y2:Math.max(e.y+n,t.y+a)};A.x===A.x2&&(A.x2+=1),A.y===A.y2&&(A.y2+=1);const d=lm({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:l/c[2]}),u=Math.max(0,Math.min(d.x2,A.x2)-Math.max(d.x,A.x)),p=Math.max(0,Math.min(d.y2,A.y2)-Math.max(d.y,A.y));return Math.ceil(u*p)>0}function cj(e){var n,s,a,o,l;const t=((n=e==null?void 0:e[Rn])==null?void 0:n.handleBounds)||null,r=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!r]}const MJ=[{level:0,isMaxLevel:!0,edges:[]}];function QJ(e,t,r=!1){let n=-1;const s=e.reduce((o,l)=>{var d,u;const c=ya(l.zIndex);let A=c?l.zIndex:0;if(r){const p=t.get(l.target),f=t.get(l.source),x=l.selected||(p==null?void 0:p.selected)||(f==null?void 0:f.selected),m=Math.max(((d=f==null?void 0:f[Rn])==null?void 0:d.z)||0,((u=p==null?void 0:p[Rn])==null?void 0:u.z)||0,1e3);A=(c?l.zIndex:0)+(x?m:0)}return o[A]?o[A].push(l):o[A]=[l],n=A>n?A:n,o},{}),a=Object.entries(s).map(([o,l])=>{const c=+o;return{edges:l,level:c,isMaxLevel:c===n}});return a.length===0?MJ:a}function OJ(e,t,r){const n=ln(b.useCallback(s=>e?s.edges.filter(a=>{const o=t.get(a.source),l=t.get(a.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&DJ({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return QJ(n,t,r)}const HJ=({color:e="none",strokeWidth:t=1})=>Ue.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),$J=({color:e="none",strokeWidth:t=1})=>Ue.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Aj={[py.Arrow]:HJ,[py.ArrowClosed]:$J};function zJ(e){const t=cs();return b.useMemo(()=>{var s,a;return Object.prototype.hasOwnProperty.call(Aj,e)?Aj[e]:((a=(s=t.getState()).onError)==null||a.call(s,"009",Fl.error009(e)),null)},[e])}const KJ=({id:e,type:t,color:r,width:n=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=zJ(t);return c?Ue.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0"},Ue.createElement(c,{color:r,strokeWidth:o})):null},GJ=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((s,a)=>([a.markerStart,a.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=$2(o,t);n.includes(l)||(s.push({id:l,color:o.color||e,...o}),n.push(l))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))},WT=({defaultColor:e,rfId:t})=>{const r=ln(b.useCallback(GJ({defaultColor:e,rfId:t}),[e,t]),(n,s)=>!(n.length!==s.length||n.some((a,o)=>a.id!==s[o].id)));return Ue.createElement("defs",null,r.map(n=>Ue.createElement(KJ,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};WT.displayName="MarkerDefinitions";var VJ=b.memo(WT);const WJ=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),qT=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:s,noPanClassName:a,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:A,onEdgeClick:d,onEdgeDoubleClick:u,onReconnect:p,onReconnectStart:f,onReconnectEnd:x,reconnectRadius:m,children:N,disableKeyboardA11y:g})=>{const{edgesFocusable:y,edgesUpdatable:w,elementsSelectable:E,width:_,height:D,connectionMode:R,nodeInternals:I,onError:Q}=ln(WJ,vs),U=OJ(t,I,r);return _?Ue.createElement(Ue.Fragment,null,U.map(({level:S,edges:P,isMaxLevel:O})=>Ue.createElement("svg",{key:S,style:{zIndex:S},width:_,height:D,className:"react-flow__edges react-flow__container"},O&&Ue.createElement(VJ,{defaultColor:e,rfId:n}),Ue.createElement("g",null,P.map(k=>{const[Z,H,q]=cj(I.get(k.source)),[K,W,te]=cj(I.get(k.target));if(!q||!te)return null;let ue=k.type||"default";s[ue]||(Q==null||Q("011",Fl.error011(ue)),ue="default");const T=s[ue]||s.default,$=R===xd.Strict?W.target:(W.target??[]).concat(W.source??[]),V=lj(H.source,k.sourceHandle),se=lj($,k.targetHandle),Y=(V==null?void 0:V.position)||Ht.Bottom,L=(se==null?void 0:se.position)||Ht.Top,C=!!(k.focusable||y&&typeof k.focusable>"u"),j=k.reconnectable||k.updatable,G=typeof p<"u"&&(j||w&&typeof j>"u");if(!V||!se)return Q==null||Q("008",Fl.error008(V,k)),null;const{sourceX:z,sourceY:ae,targetX:de,targetY:he}=RJ(Z,V,Y,K,se,L);return Ue.createElement(T,{key:k.id,id:k.id,className:Ps([k.className,a]),type:ue,data:k.data,selected:!!k.selected,animated:!!k.animated,hidden:!!k.hidden,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,style:k.style,source:k.source,target:k.target,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerEnd:k.markerEnd,markerStart:k.markerStart,sourceX:z,sourceY:ae,targetX:de,targetY:he,sourcePosition:Y,targetPosition:L,elementsSelectable:E,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:A,onClick:d,onEdgeDoubleClick:u,onReconnect:p,onReconnectStart:f,onReconnectEnd:x,reconnectRadius:m,rfId:n,ariaLabel:k.ariaLabel,isFocusable:C,isReconnectable:G,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth,disableKeyboardA11y:g})})))),N):null};qT.displayName="EdgeRenderer";var qJ=b.memo(qT);const XJ=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function JJ({children:e}){const t=ln(XJ);return Ue.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function YJ(e){const t=Nx(),r=b.useRef(!1);b.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const ZJ={[Ht.Left]:Ht.Right,[Ht.Right]:Ht.Left,[Ht.Top]:Ht.Bottom,[Ht.Bottom]:Ht.Top},XT=({nodeId:e,handleType:t,style:r,type:n=wc.Bezier,CustomComponent:s,connectionStatus:a})=>{var D,R,I;const{fromNode:o,handleId:l,toX:c,toY:A,connectionMode:d}=ln(b.useCallback(Q=>({fromNode:Q.nodeInternals.get(e),handleId:Q.connectionHandleId,toX:(Q.connectionPosition.x-Q.transform[0])/Q.transform[2],toY:(Q.connectionPosition.y-Q.transform[1])/Q.transform[2],connectionMode:Q.connectionMode}),[e]),vs),u=(D=o==null?void 0:o[Rn])==null?void 0:D.handleBounds;let p=u==null?void 0:u[t];if(d===xd.Loose&&(p=p||(u==null?void 0:u[t==="source"?"target":"source"])),!o||!p)return null;const f=l?p.find(Q=>Q.id===l):p[0],x=f?f.x+f.width/2:(o.width??0)/2,m=f?f.y+f.height/2:o.height??0,N=(((R=o.positionAbsolute)==null?void 0:R.x)??0)+x,g=(((I=o.positionAbsolute)==null?void 0:I.y)??0)+m,y=f==null?void 0:f.position,w=y?ZJ[y]:null;if(!y||!w)return null;if(s)return Ue.createElement(s,{connectionLineType:n,connectionLineStyle:r,fromNode:o,fromHandle:f,fromX:N,fromY:g,toX:c,toY:A,fromPosition:y,toPosition:w,connectionStatus:a});let E="";const _={sourceX:N,sourceY:g,sourcePosition:y,targetX:c,targetY:A,targetPosition:w};return n===wc.Bezier?[E]=yT(_):n===wc.Step?[E]=H2({..._,borderRadius:0}):n===wc.SmoothStep?[E]=H2(_):n===wc.SimpleBezier?[E]=vT(_):E=`M${N},${g} ${c},${A}`,Ue.createElement("path",{d:E,fill:"none",className:"react-flow__connection-path",style:r})};XT.displayName="ConnectionLine";const eY=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function tY({containerStyle:e,style:t,type:r,component:n}){const{nodeId:s,handleType:a,nodesConnectable:o,width:l,height:c,connectionStatus:A}=ln(eY,vs);return!(s&&a&&l&&o)?null:Ue.createElement("svg",{style:e,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},Ue.createElement("g",{className:Ps(["react-flow__connection",A])},Ue.createElement(XT,{nodeId:s,handleType:a,style:t,type:r,CustomComponent:n,connectionStatus:A})))}function dj(e,t){return b.useRef(null),cs(),b.useMemo(()=>t(e),[e])}const JT=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:s,onInit:a,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:A,onNodeMouseEnter:d,onNodeMouseMove:u,onNodeMouseLeave:p,onNodeContextMenu:f,onSelectionContextMenu:x,onSelectionStart:m,onSelectionEnd:N,connectionLineType:g,connectionLineStyle:y,connectionLineComponent:w,connectionLineContainerStyle:E,selectionKeyCode:_,selectionOnDrag:D,selectionMode:R,multiSelectionKeyCode:I,panActivationKeyCode:Q,zoomActivationKeyCode:U,deleteKeyCode:S,onlyRenderVisibleElements:P,elementsSelectable:O,selectNodesOnDrag:k,defaultViewport:Z,translateExtent:H,minZoom:q,maxZoom:K,preventScrolling:W,defaultMarkerColor:te,zoomOnScroll:ue,zoomOnPinch:T,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:se,zoomOnDoubleClick:Y,panOnDrag:L,onPaneClick:C,onPaneMouseEnter:j,onPaneMouseMove:G,onPaneMouseLeave:z,onPaneScroll:ae,onPaneContextMenu:de,onEdgeContextMenu:he,onEdgeMouseEnter:ce,onEdgeMouseMove:oe,onEdgeMouseLeave:Re,onReconnect:Ce,onReconnectStart:xe,onReconnectEnd:Fe,reconnectRadius:ze,noDragClassName:Qe,noWheelClassName:We,noPanClassName:Oe,elevateEdgesOnSelect:Ke,disableKeyboardA11y:ht,nodeOrigin:Pt,nodeExtent:wt,rfId:ft})=>{const Qt=dj(e,FJ),et=dj(t,UJ);return YJ(a),Ue.createElement(EJ,{onPaneClick:C,onPaneMouseEnter:j,onPaneMouseMove:G,onPaneMouseLeave:z,onPaneContextMenu:de,onPaneScroll:ae,deleteKeyCode:S,selectionKeyCode:_,selectionOnDrag:D,selectionMode:R,onSelectionStart:m,onSelectionEnd:N,multiSelectionKeyCode:I,panActivationKeyCode:Q,zoomActivationKeyCode:U,elementsSelectable:O,onMove:r,onMoveStart:n,onMoveEnd:s,zoomOnScroll:ue,zoomOnPinch:T,zoomOnDoubleClick:Y,panOnScroll:$,panOnScrollSpeed:V,panOnScrollMode:se,panOnDrag:L,defaultViewport:Z,translateExtent:H,minZoom:q,maxZoom:K,onSelectionContextMenu:x,preventScrolling:W,noDragClassName:Qe,noWheelClassName:We,noPanClassName:Oe,disableKeyboardA11y:ht},Ue.createElement(JJ,null,Ue.createElement(qJ,{edgeTypes:et,onEdgeClick:l,onEdgeDoubleClick:A,onlyRenderVisibleElements:P,onEdgeContextMenu:he,onEdgeMouseEnter:ce,onEdgeMouseMove:oe,onEdgeMouseLeave:Re,onReconnect:Ce,onReconnectStart:xe,onReconnectEnd:Fe,reconnectRadius:ze,defaultMarkerColor:te,noPanClassName:Oe,elevateEdgesOnSelect:!!Ke,disableKeyboardA11y:ht,rfId:ft},Ue.createElement(tY,{style:y,type:g,component:w,containerStyle:E})),Ue.createElement("div",{className:"react-flow__edgelabel-renderer"}),Ue.createElement(PJ,{nodeTypes:Qt,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:u,onNodeMouseLeave:p,onNodeContextMenu:f,selectNodesOnDrag:k,onlyRenderVisibleElements:P,noPanClassName:Oe,noDragClassName:Qe,disableKeyboardA11y:ht,nodeOrigin:Pt,nodeExtent:wt,rfId:ft})))};JT.displayName="GraphView";var rY=b.memo(JT);const V2=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ac={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:V2,nodeExtent:V2,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:xd.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:IX,isValidConnection:void 0},nY=()=>GG((e,t)=>({...ac,setNodes:r=>{const{nodeInternals:n,nodeOrigin:s,elevateNodesOnSelect:a}=t();e({nodeInternals:w1(r,n,s,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(s=>({...n,...s}))})},setDefaultNodesAndEdges:(r,n)=>{const s=typeof r<"u",a=typeof n<"u",o=s?w1(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:a?n:[],hasDefaultNodes:s,hasDefaultEdges:a})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:s,fitViewOnInit:a,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:c,nodeOrigin:A}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const u=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(u.transform),f=r.reduce((m,N)=>{const g=s.get(N.id);if(g!=null&&g.hidden)s.set(g.id,{...g,[Rn]:{...g[Rn],handleBounds:void 0}});else if(g){const y=LB(N.nodeElement);!!(y.width&&y.height&&(g.width!==y.width||g.height!==y.height||N.forceUpdate))&&(s.set(g.id,{...g,[Rn]:{...g[Rn],handleBounds:{source:sj(".source",N.nodeElement,p,A),target:sj(".target",N.nodeElement,p,A)}},...y}),m.push({id:g.id,type:"dimensions",dimensions:y}))}return m},[]);RT(s,A);const x=o||a&&!o&&DT(t,{initial:!0,...l});e({nodeInternals:new Map(s),fitViewOnInitDone:x}),(f==null?void 0:f.length)>0&&(n==null||n(f))},updateNodePositions:(r,n=!0,s=!1)=>{const{triggerNodeChanges:a}=t(),o=r.map(l=>{const c={id:l.id,type:"position",dragging:s};return n&&(c.positionAbsolute=l.positionAbsolute,c.position=l.position),c});a(o)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:s,hasDefaultNodes:a,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:c}=t();if(r!=null&&r.length){if(a){const A=QT(r,l()),d=w1(A,s,o,c);e({nodeInternals:d})}n==null||n(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:s,getNodes:a}=t();let o,l=null;n?o=r.map(c=>gc(c,!0)):(o=Mu(a(),r),l=Mu(s,[])),c0({changedNodes:o,changedEdges:l,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:s,getNodes:a}=t();let o,l=null;n?o=r.map(c=>gc(c,!0)):(o=Mu(s,r),l=Mu(a(),[])),c0({changedNodes:l,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:s,getNodes:a}=t(),o=r||a(),l=n||s,c=o.map(d=>(d.selected=!1,gc(d.id,!1))),A=l.map(d=>gc(d.id,!1));c0({changedNodes:c,changedEdges:A,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:s}=t();n==null||n.scaleExtent([r,s]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:s}=t();n==null||n.scaleExtent([s,r]),e({maxZoom:r})},setTranslateExtent:r=>{var n;(n=t().d3Zoom)==null||n.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),a=n().filter(l=>l.selected).map(l=>gc(l.id,!1)),o=r.filter(l=>l.selected).map(l=>gc(l.id,!1));c0({changedNodes:a,changedEdges:o,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(s=>{s.positionAbsolute=UB(s.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:s,height:a,d3Zoom:o,d3Selection:l,translateExtent:c}=t();if(!o||!l||!r.x&&!r.y)return!1;const A=yl.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),d=[[0,0],[s,a]],u=o==null?void 0:o.constrain()(A,d,c);return o.transform(l,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:ac.connectionNodeId,connectionHandleId:ac.connectionHandleId,connectionHandleType:ac.connectionHandleType,connectionStatus:ac.connectionStatus,connectionStartHandle:ac.connectionStartHandle,connectionEndHandle:ac.connectionEndHandle}),reset:()=>e({...ac})}),Object.is),Sx=({children:e})=>{const t=b.useRef(null);return t.current||(t.current=nY()),Ue.createElement(BX,{value:t.current},e)};Sx.displayName="ReactFlowProvider";const YT=({children:e})=>b.useContext(bx)?Ue.createElement(Ue.Fragment,null,e):Ue.createElement(Sx,null,e);YT.displayName="ReactFlowWrapper";const sY={input:kT,default:K2,output:PT,group:$B},iY={default:my,straight:MB,step:DB,smoothstep:Cx,simplebezier:RB},aY=[0,0],oY=[15,15],lY={x:0,y:0,zoom:1},cY={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},KB=b.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:s,nodeTypes:a=sY,edgeTypes:o=iY,onNodeClick:l,onEdgeClick:c,onInit:A,onMove:d,onMoveStart:u,onMoveEnd:p,onConnect:f,onConnectStart:x,onConnectEnd:m,onClickConnectStart:N,onClickConnectEnd:g,onNodeMouseEnter:y,onNodeMouseMove:w,onNodeMouseLeave:E,onNodeContextMenu:_,onNodeDoubleClick:D,onNodeDragStart:R,onNodeDrag:I,onNodeDragStop:Q,onNodesDelete:U,onEdgesDelete:S,onSelectionChange:P,onSelectionDragStart:O,onSelectionDrag:k,onSelectionDragStop:Z,onSelectionContextMenu:H,onSelectionStart:q,onSelectionEnd:K,connectionMode:W=xd.Strict,connectionLineType:te=wc.Bezier,connectionLineStyle:ue,connectionLineComponent:T,connectionLineContainerStyle:$,deleteKeyCode:V="Backspace",selectionKeyCode:se="Shift",selectionOnDrag:Y=!1,selectionMode:L=cm.Full,panActivationKeyCode:C="Space",multiSelectionKeyCode:j=fy()?"Meta":"Control",zoomActivationKeyCode:G=fy()?"Meta":"Control",snapToGrid:z=!1,snapGrid:ae=oY,onlyRenderVisibleElements:de=!1,selectNodesOnDrag:he=!0,nodesDraggable:ce,nodesConnectable:oe,nodesFocusable:Re,nodeOrigin:Ce=aY,edgesFocusable:xe,edgesUpdatable:Fe,elementsSelectable:ze,defaultViewport:Qe=lY,minZoom:We=.5,maxZoom:Oe=2,translateExtent:Ke=V2,preventScrolling:ht=!0,nodeExtent:Pt,defaultMarkerColor:wt="#b1b1b7",zoomOnScroll:ft=!0,zoomOnPinch:Qt=!0,panOnScroll:et=!1,panOnScrollSpeed:ur=.5,panOnScrollMode:Ut=WA.Free,zoomOnDoubleClick:Xr=!0,panOnDrag:rr=!0,onPaneClick:Yt,onPaneMouseEnter:Tr,onPaneMouseMove:Jt,onPaneMouseLeave:kn,onPaneScroll:yr,onPaneContextMenu:bn,children:ts,onEdgeContextMenu:mr,onEdgeDoubleClick:Rt,onEdgeMouseEnter:hr,onEdgeMouseMove:pn,onEdgeMouseLeave:Ur,onEdgeUpdate:mn,onEdgeUpdateStart:Cn,onEdgeUpdateEnd:pe,onReconnect:je,onReconnectStart:De,onReconnectEnd:Ie,reconnectRadius:Te=10,edgeUpdaterRadius:nt=10,onNodesChange:Xe,onEdgesChange:Et,noDragClassName:it="nodrag",noWheelClassName:It="nowheel",noPanClassName:dt="nopan",fitView:pt=!1,fitViewOptions:_t,connectOnClick:ne=!0,attributionPosition:ve,proOptions:Be,defaultEdgeOptions:Ee,elevateNodesOnSelect:Le=!0,elevateEdgesOnSelect:$e=!1,disableKeyboardA11y:xt=!1,autoPanOnConnect:Ot=!0,autoPanOnNodeDrag:Br=!0,connectionRadius:Gt=20,isValidConnection:Nr,onError:xr,style:Sr,id:Bn,nodeDragThreshold:ao,...ea},zo)=>{const ta=Bn||"1";return Ue.createElement("div",{...ea,style:{...Sr,...cY},ref:zo,className:Ps(["react-flow",s]),"data-testid":"rf__wrapper",id:Bn},Ue.createElement(YT,null,Ue.createElement(rY,{onInit:A,onMove:d,onMoveStart:u,onMoveEnd:p,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:y,onNodeMouseMove:w,onNodeMouseLeave:E,onNodeContextMenu:_,onNodeDoubleClick:D,nodeTypes:a,edgeTypes:o,connectionLineType:te,connectionLineStyle:ue,connectionLineComponent:T,connectionLineContainerStyle:$,selectionKeyCode:se,selectionOnDrag:Y,selectionMode:L,deleteKeyCode:V,multiSelectionKeyCode:j,panActivationKeyCode:C,zoomActivationKeyCode:G,onlyRenderVisibleElements:de,selectNodesOnDrag:he,defaultViewport:Qe,translateExtent:Ke,minZoom:We,maxZoom:Oe,preventScrolling:ht,zoomOnScroll:ft,zoomOnPinch:Qt,zoomOnDoubleClick:Xr,panOnScroll:et,panOnScrollSpeed:ur,panOnScrollMode:Ut,panOnDrag:rr,onPaneClick:Yt,onPaneMouseEnter:Tr,onPaneMouseMove:Jt,onPaneMouseLeave:kn,onPaneScroll:yr,onPaneContextMenu:bn,onSelectionContextMenu:H,onSelectionStart:q,onSelectionEnd:K,onEdgeContextMenu:mr,onEdgeDoubleClick:Rt,onEdgeMouseEnter:hr,onEdgeMouseMove:pn,onEdgeMouseLeave:Ur,onReconnect:je??mn,onReconnectStart:De??Cn,onReconnectEnd:Ie??pe,reconnectRadius:Te??nt,defaultMarkerColor:wt,noDragClassName:it,noWheelClassName:It,noPanClassName:dt,elevateEdgesOnSelect:$e,rfId:ta,disableKeyboardA11y:xt,nodeOrigin:Ce,nodeExtent:Pt}),Ue.createElement(ZX,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:f,onConnectStart:x,onConnectEnd:m,onClickConnectStart:N,onClickConnectEnd:g,nodesDraggable:ce,nodesConnectable:oe,nodesFocusable:Re,edgesFocusable:xe,edgesUpdatable:Fe,elementsSelectable:ze,elevateNodesOnSelect:Le,minZoom:We,maxZoom:Oe,nodeExtent:Pt,onNodesChange:Xe,onEdgesChange:Et,snapToGrid:z,snapGrid:ae,connectionMode:W,translateExtent:Ke,connectOnClick:ne,defaultEdgeOptions:Ee,fitView:pt,fitViewOptions:_t,onNodesDelete:U,onEdgesDelete:S,onNodeDragStart:R,onNodeDrag:I,onNodeDragStop:Q,onSelectionDrag:k,onSelectionDragStart:O,onSelectionDragStop:Z,noPanClassName:dt,nodeOrigin:Ce,rfId:ta,autoPanOnConnect:Ot,autoPanOnNodeDrag:Br,onError:xr,connectionRadius:Gt,isValidConnection:Nr,nodeDragThreshold:ao}),Ue.createElement(JX,{onSelectionChange:P}),ts,Ue.createElement(SX,{proOptions:Be,position:ve}),Ue.createElement(sJ,{rfId:ta,disableKeyboardA11y:xt})))});KB.displayName="ReactFlow";function ZT(e){return t=>{const[r,n]=b.useState(t),s=b.useCallback(a=>n(o=>e(a,o)),[]);return[r,n,s]}}const eL=ZT(QT),tL=ZT(vJ),rL=({id:e,x:t,y:r,width:n,height:s,style:a,color:o,strokeColor:l,strokeWidth:c,className:A,borderRadius:d,shapeRendering:u,onClick:p,selected:f})=>{const{background:x,backgroundColor:m}=a||{},N=o||x||m;return Ue.createElement("rect",{className:Ps(["react-flow__minimap-node",{selected:f},A]),x:t,y:r,rx:d,ry:d,width:n,height:s,fill:N,stroke:l,strokeWidth:c,shapeRendering:u,onClick:p?g=>p(g,e):void 0})};rL.displayName="MiniMapNode";var AY=b.memo(rL);const dY=e=>e.nodeOrigin,uY=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),N1=e=>e instanceof Function?e:()=>e;function hY({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:s=2,nodeComponent:a=AY,onClick:o}){const l=ln(uY,vs),c=ln(dY),A=N1(t),d=N1(e),u=N1(r),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return Ue.createElement(Ue.Fragment,null,l.map(f=>{const{x,y:m}=id(f,c).positionAbsolute;return Ue.createElement(a,{key:f.id,x,y:m,width:f.width,height:f.height,style:f.style,selected:f.selected,className:u(f),color:A(f),borderRadius:n,strokeColor:d(f),strokeWidth:s,shapeRendering:p,onClick:o,id:f.id})}))}var fY=b.memo(hY);const pY=200,mY=150,gY=e=>{const t=e.getNodes(),r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:t.length>0?FX(Bx(t,e.nodeOrigin),r):r,rfId:e.rfId}},vY="react-flow__minimap-desc";function nL({style:e,className:t,nodeStrokeColor:r="transparent",nodeColor:n="#e2e2e2",nodeClassName:s="",nodeBorderRadius:a=5,nodeStrokeWidth:o=2,nodeComponent:l,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:A="none",maskStrokeWidth:d=1,position:u="bottom-right",onClick:p,onNodeClick:f,pannable:x=!1,zoomable:m=!1,ariaLabel:N="React Flow mini map",inversePan:g=!1,zoomStep:y=10,offsetScale:w=5}){const E=cs(),_=b.useRef(null),{boundingRect:D,viewBB:R,rfId:I}=ln(gY,vs),Q=(e==null?void 0:e.width)??pY,U=(e==null?void 0:e.height)??mY,S=D.width/Q,P=D.height/U,O=Math.max(S,P),k=O*Q,Z=O*U,H=w*O,q=D.x-(k-D.width)/2-H,K=D.y-(Z-D.height)/2-H,W=k+H*2,te=Z+H*2,ue=`${vY}-${I}`,T=b.useRef(0);T.current=O,b.useEffect(()=>{if(_.current){const se=ga(_.current),Y=j=>{const{transform:G,d3Selection:z,d3Zoom:ae}=E.getState();if(j.sourceEvent.type!=="wheel"||!z||!ae)return;const de=-j.sourceEvent.deltaY*(j.sourceEvent.deltaMode===1?.05:j.sourceEvent.deltaMode?1:.002)*y,he=G[2]*Math.pow(2,de);ae.scaleTo(z,he)},L=j=>{const{transform:G,d3Selection:z,d3Zoom:ae,translateExtent:de,width:he,height:ce}=E.getState();if(j.sourceEvent.type!=="mousemove"||!z||!ae)return;const oe=T.current*Math.max(1,G[2])*(g?-1:1),Re={x:G[0]-j.sourceEvent.movementX*oe,y:G[1]-j.sourceEvent.movementY*oe},Ce=[[0,0],[he,ce]],xe=yl.translate(Re.x,Re.y).scale(G[2]),Fe=ae.constrain()(xe,Ce,de);ae.transform(z,Fe)},C=lT().on("zoom",x?L:null).on("zoom.wheel",m?Y:null);return se.call(C),()=>{se.on("zoom",null)}}},[x,m,g,y]);const $=p?se=>{const Y=$a(se);p(se,{x:Y[0],y:Y[1]})}:void 0,V=f?(se,Y)=>{const L=E.getState().nodeInternals.get(Y);f(se,L)}:void 0;return Ue.createElement(om,{position:u,style:e,className:Ps(["react-flow__minimap",t]),"data-testid":"rf__minimap"},Ue.createElement("svg",{width:Q,height:U,viewBox:`${q} ${K} ${W} ${te}`,role:"img","aria-labelledby":ue,ref:_,onClick:$},N&&Ue.createElement("title",{id:ue},N),Ue.createElement(fY,{onClick:V,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:a,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:l}),Ue.createElement("path",{className:"react-flow__minimap-mask",d:`M${q-H},${K-H}h${W+H*2}v${te+H*2}h${-W-H*2}z
        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fill:c,fillRule:"evenodd",stroke:A,strokeWidth:d,pointerEvents:"none"})))}nL.displayName="MiniMap";var sL=b.memo(nL);function yY(){return Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Ue.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function xY(){return Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Ue.createElement("path",{d:"M0 0h32v4.2H0z"}))}function wY(){return Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Ue.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function bY(){return Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ue.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function CY(){return Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ue.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const rp=({children:e,className:t,...r})=>Ue.createElement("button",{type:"button",className:Ps(["react-flow__controls-button",t]),...r},e);rp.displayName="ControlButton";const BY=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),iL=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:A,children:d,position:u="bottom-left"})=>{const p=cs(),[f,x]=b.useState(!1),{isInteractive:m,minZoomReached:N,maxZoomReached:g}=ln(BY,vs),{zoomIn:y,zoomOut:w,fitView:E}=Nx();if(b.useEffect(()=>{x(!0)},[]),!f)return null;const _=()=>{y(),a==null||a()},D=()=>{w(),o==null||o()},R=()=>{E(s),l==null||l()},I=()=>{p.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),c==null||c(!m)};return Ue.createElement(om,{className:Ps(["react-flow__controls",A]),position:u,style:e,"data-testid":"rf__controls"},t&&Ue.createElement(Ue.Fragment,null,Ue.createElement(rp,{onClick:_,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:g},Ue.createElement(yY,null)),Ue.createElement(rp,{onClick:D,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:N},Ue.createElement(xY,null))),r&&Ue.createElement(rp,{className:"react-flow__controls-fitview",onClick:R,title:"fit view","aria-label":"fit view"},Ue.createElement(wY,null)),n&&Ue.createElement(rp,{className:"react-flow__controls-interactive",onClick:I,title:"toggle interactivity","aria-label":"toggle interactivity"},m?Ue.createElement(CY,null):Ue.createElement(bY,null)),d)};iL.displayName="Controls";var aL=b.memo(iL),Ki;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ki||(Ki={}));function NY({color:e,dimensions:t,lineWidth:r}){return Ue.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function SY({color:e,radius:t}){return Ue.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const EY={[Ki.Dots]:"#91919a",[Ki.Lines]:"#eee",[Ki.Cross]:"#e2e2e2"},jY={[Ki.Dots]:1,[Ki.Lines]:1,[Ki.Cross]:6},FY=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function oL({id:e,variant:t=Ki.Dots,gap:r=20,size:n,lineWidth:s=1,offset:a=2,color:o,style:l,className:c}){const A=b.useRef(null),{transform:d,patternId:u}=ln(FY,vs),p=o||EY[t],f=n||jY[t],x=t===Ki.Dots,m=t===Ki.Cross,N=Array.isArray(r)?r:[r,r],g=[N[0]*d[2]||1,N[1]*d[2]||1],y=f*d[2],w=m?[y,y]:g,E=x?[y/a,y/a]:[w[0]/a,w[1]/a];return Ue.createElement("svg",{className:Ps(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:A,"data-testid":"rf__background"},Ue.createElement("pattern",{id:u+e,x:d[0]%g[0],y:d[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`},x?Ue.createElement(SY,{color:p,radius:y/a}):Ue.createElement(NY,{dimensions:w,color:p,lineWidth:s})),Ue.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${u+e})`}))}oL.displayName="Background";var lL=b.memo(oL);function uj(e,[t,r]){return Math.min(r,Math.max(t,e))}var kY=[" ","Enter","ArrowUp","ArrowDown"],IY=[" ","Enter"],Rm="Select",[Ex,jx,PY]=nx(Rm),[Vh,Jde]=Xi(Rm,[PY,dx]),Fx=dx(),[_Y,uA]=Vh(Rm),[TY,LY]=Vh(Rm),cL=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:A,name:d,autoComplete:u,disabled:p,required:f,form:x}=e,m=Fx(t),[N,g]=b.useState(null),[y,w]=b.useState(null),[E,_]=b.useState(!1),D=fx(A),[R=!1,I]=Xa({prop:n,defaultProp:s,onChange:a}),[Q,U]=Xa({prop:o,defaultProp:l,onChange:c}),S=b.useRef(null),P=N?x||!!N.closest("form"):!0,[O,k]=b.useState(new Set),Z=Array.from(O).map(H=>H.props.value).join(";");return i.jsx(I$,{...m,children:i.jsxs(_Y,{required:f,scope:t,trigger:N,onTriggerChange:g,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:E,onValueNodeHasChildrenChange:_,contentId:Fo(),value:Q,onValueChange:U,open:R,onOpenChange:I,dir:D,triggerPointerDownPosRef:S,disabled:p,children:[i.jsx(Ex.Provider,{scope:t,children:i.jsx(TY,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(H=>{k(q=>new Set(q).add(H))},[]),onNativeOptionRemove:b.useCallback(H=>{k(q=>{const K=new Set(q);return K.delete(H),K})},[]),children:r})}),P?i.jsxs(TL,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:u,value:Q,onChange:H=>U(H.target.value),disabled:p,form:x,children:[Q===void 0?i.jsx("option",{value:""}):null,Array.from(O)]},Z):null]})})};cL.displayName=Rm;var AL="SelectTrigger",dL=b.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Fx(r),o=uA(AL,r),l=o.disabled||n,c=Mr(t,o.onTriggerChange),A=jx(r),d=b.useRef("touch"),[u,p,f]=LL(m=>{const N=A().filter(w=>!w.disabled),g=N.find(w=>w.value===o.value),y=UL(N,m,g);y!==void 0&&o.onValueChange(y.value)}),x=m=>{l||(o.onOpenChange(!0),f()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return i.jsx(tP,{asChild:!0,...a,children:i.jsx(Kt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":_L(o.value)?"":void 0,...s,ref:c,onClick:Mt(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&x(m)}),onPointerDown:Mt(s.onPointerDown,m=>{d.current=m.pointerType;const N=m.target;N.hasPointerCapture(m.pointerId)&&N.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:Mt(s.onKeyDown,m=>{const N=u.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(N&&m.key===" ")&&kY.includes(m.key)&&(x(),m.preventDefault())})})})});dL.displayName=AL;var uL="SelectValue",hL=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=uA(uL,r),{onValueNodeHasChildrenChange:A}=c,d=a!==void 0,u=Mr(t,c.onValueNodeChange);return Is(()=>{A(d)},[A,d]),i.jsx(Kt.span,{...l,ref:u,style:{pointerEvents:"none"},children:_L(c.value)?i.jsx(i.Fragment,{children:o}):a})});hL.displayName=uL;var UY="SelectIcon",fL=b.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(Kt.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});fL.displayName=UY;var RY="SelectPortal",pL=e=>i.jsx(sx,{asChild:!0,...e});pL.displayName=RY;var wd="SelectContent",mL=b.forwardRef((e,t)=>{const r=uA(wd,e.__scopeSelect),[n,s]=b.useState();if(Is(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Ed.createPortal(i.jsx(gL,{scope:e.__scopeSelect,children:i.jsx(Ex.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(vL,{...e,ref:t})});mL.displayName=wd;var Ra=10,[gL,hA]=Vh(wd),DY="SelectContentImpl",MY=Eh("SelectContent.RemoveScroll"),vL=b.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:A,alignOffset:d,arrowPadding:u,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:m,avoidCollisions:N,...g}=e,y=uA(wd,r),[w,E]=b.useState(null),[_,D]=b.useState(null),R=Mr(t,L=>E(L)),[I,Q]=b.useState(null),[U,S]=b.useState(null),P=jx(r),[O,k]=b.useState(!1),Z=b.useRef(!1);b.useEffect(()=>{if(w)return l_(w)},[w]),ZP();const H=b.useCallback(L=>{const[C,...j]=P().map(ae=>ae.ref.current),[G]=j.slice(-1),z=document.activeElement;for(const ae of L)if(ae===z||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===C&&_&&(_.scrollTop=0),ae===G&&_&&(_.scrollTop=_.scrollHeight),ae==null||ae.focus(),document.activeElement!==z))return},[P,_]),q=b.useCallback(()=>H([I,w]),[H,I,w]);b.useEffect(()=>{O&&q()},[O,q]);const{onOpenChange:K,triggerPointerDownPosRef:W}=y;b.useEffect(()=>{if(w){let L={x:0,y:0};const C=G=>{var z,ae;L={x:Math.abs(Math.round(G.pageX)-(((z=W.current)==null?void 0:z.x)??0)),y:Math.abs(Math.round(G.pageY)-(((ae=W.current)==null?void 0:ae.y)??0))}},j=G=>{L.x<=10&&L.y<=10?G.preventDefault():w.contains(G.target)||K(!1),document.removeEventListener("pointermove",C),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",C),document.addEventListener("pointerup",j,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",j,{capture:!0})}}},[w,K,W]),b.useEffect(()=>{const L=()=>K(!1);return window.addEventListener("blur",L),window.addEventListener("resize",L),()=>{window.removeEventListener("blur",L),window.removeEventListener("resize",L)}},[K]);const[te,ue]=LL(L=>{const C=P().filter(z=>!z.disabled),j=C.find(z=>z.ref.current===document.activeElement),G=UL(C,L,j);G&&setTimeout(()=>G.ref.current.focus())}),T=b.useCallback((L,C,j)=>{const G=!Z.current&&!j;(y.value!==void 0&&y.value===C||G)&&(Q(L),G&&(Z.current=!0))},[y.value]),$=b.useCallback(()=>w==null?void 0:w.focus(),[w]),V=b.useCallback((L,C,j)=>{const G=!Z.current&&!j;(y.value!==void 0&&y.value===C||G)&&S(L)},[y.value]),se=n==="popper"?W2:yL,Y=se===W2?{side:l,sideOffset:c,align:A,alignOffset:d,arrowPadding:u,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:m,avoidCollisions:N}:{};return i.jsx(gL,{scope:r,content:w,viewport:_,onViewportChange:D,itemRefCallback:T,selectedItem:I,onItemLeave:$,itemTextRefCallback:V,focusSelectedItem:q,selectedItemText:U,position:n,isPositioned:O,searchRef:te,children:i.jsx(BB,{as:MY,allowPinchZoom:!0,children:i.jsx(CB,{asChild:!0,trapped:y.open,onMountAutoFocus:L=>{L.preventDefault()},onUnmountAutoFocus:Mt(s,L=>{var C;(C=y.trigger)==null||C.focus({preventScroll:!0}),L.preventDefault()}),children:i.jsx(jm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:L=>L.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(se,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:L=>L.preventDefault(),...g,...Y,onPlaced:()=>k(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Mt(g.onKeyDown,L=>{const C=L.ctrlKey||L.altKey||L.metaKey;if(L.key==="Tab"&&L.preventDefault(),!C&&L.key.length===1&&ue(L.key),["ArrowUp","ArrowDown","Home","End"].includes(L.key)){let G=P().filter(z=>!z.disabled).map(z=>z.ref.current);if(["ArrowUp","End"].includes(L.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(L.key)){const z=L.target,ae=G.indexOf(z);G=G.slice(ae+1)}setTimeout(()=>H(G)),L.preventDefault()}})})})})})})});vL.displayName=DY;var QY="SelectItemAlignedPosition",yL=b.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=uA(wd,r),o=hA(wd,r),[l,c]=b.useState(null),[A,d]=b.useState(null),u=Mr(t,R=>d(R)),p=jx(r),f=b.useRef(!1),x=b.useRef(!0),{viewport:m,selectedItem:N,selectedItemText:g,focusSelectedItem:y}=o,w=b.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&A&&m&&N&&g){const R=a.trigger.getBoundingClientRect(),I=A.getBoundingClientRect(),Q=a.valueNode.getBoundingClientRect(),U=g.getBoundingClientRect();if(a.dir!=="rtl"){const z=U.left-I.left,ae=Q.left-z,de=R.left-ae,he=R.width+de,ce=Math.max(he,I.width),oe=window.innerWidth-Ra,Re=uj(ae,[Ra,Math.max(Ra,oe-ce)]);l.style.minWidth=he+"px",l.style.left=Re+"px"}else{const z=I.right-U.right,ae=window.innerWidth-Q.right-z,de=window.innerWidth-R.right-ae,he=R.width+de,ce=Math.max(he,I.width),oe=window.innerWidth-Ra,Re=uj(ae,[Ra,Math.max(Ra,oe-ce)]);l.style.minWidth=he+"px",l.style.right=Re+"px"}const S=p(),P=window.innerHeight-Ra*2,O=m.scrollHeight,k=window.getComputedStyle(A),Z=parseInt(k.borderTopWidth,10),H=parseInt(k.paddingTop,10),q=parseInt(k.borderBottomWidth,10),K=parseInt(k.paddingBottom,10),W=Z+H+O+K+q,te=Math.min(N.offsetHeight*5,W),ue=window.getComputedStyle(m),T=parseInt(ue.paddingTop,10),$=parseInt(ue.paddingBottom,10),V=R.top+R.height/2-Ra,se=P-V,Y=N.offsetHeight/2,L=N.offsetTop+Y,C=Z+H+L,j=W-C;if(C<=V){const z=S.length>0&&N===S[S.length-1].ref.current;l.style.bottom="0px";const ae=A.clientHeight-m.offsetTop-m.offsetHeight,de=Math.max(se,Y+(z?$:0)+ae+q),he=C+de;l.style.height=he+"px"}else{const z=S.length>0&&N===S[0].ref.current;l.style.top="0px";const de=Math.max(V,Z+m.offsetTop+(z?T:0)+Y)+j;l.style.height=de+"px",m.scrollTop=C-V+m.offsetTop}l.style.margin=`${Ra}px 0`,l.style.minHeight=te+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,a.trigger,a.valueNode,l,A,m,N,g,a.dir,n]);Is(()=>w(),[w]);const[E,_]=b.useState();Is(()=>{A&&_(window.getComputedStyle(A).zIndex)},[A]);const D=b.useCallback(R=>{R&&x.current===!0&&(w(),y==null||y(),x.current=!1)},[w,y]);return i.jsx(HY,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:D,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:i.jsx(Kt.div,{...s,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});yL.displayName=QY;var OY="SelectPopperPosition",W2=b.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ra,...a}=e,o=Fx(r);return i.jsx(rP,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});W2.displayName=OY;var[HY,GB]=Vh(wd,{}),q2="SelectViewport",xL=b.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=hA(q2,r),o=GB(q2,r),l=Mr(t,a.onViewportChange),c=b.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Ex.Slot,{scope:r,children:i.jsx(Kt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Mt(s.onScroll,A=>{const d=A.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&u){const f=Math.abs(c.current-d.scrollTop);if(f>0){const x=window.innerHeight-Ra*2,m=parseFloat(u.style.minHeight),N=parseFloat(u.style.height),g=Math.max(m,N);if(g<x){const y=g+f,w=Math.min(x,y),E=y-w;u.style.height=w+"px",u.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,u.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});xL.displayName=q2;var wL="SelectGroup",[$Y,zY]=Vh(wL),KY=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Fo();return i.jsx($Y,{scope:r,id:s,children:i.jsx(Kt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});KY.displayName=wL;var bL="SelectLabel",CL=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=zY(bL,r);return i.jsx(Kt.div,{id:s.id,...n,ref:t})});CL.displayName=bL;var vy="SelectItem",[GY,BL]=Vh(vy),NL=b.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=uA(vy,r),c=hA(vy,r),A=l.value===n,[d,u]=b.useState(a??""),[p,f]=b.useState(!1),x=Mr(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,s)}),m=Fo(),N=b.useRef("touch"),g=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(GY,{scope:r,value:n,disabled:s,textId:m,isSelected:A,onItemTextChange:b.useCallback(y=>{u(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(Ex.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(Kt.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":A&&p,"data-state":A?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:Mt(o.onFocus,()=>f(!0)),onBlur:Mt(o.onBlur,()=>f(!1)),onClick:Mt(o.onClick,()=>{N.current!=="mouse"&&g()}),onPointerUp:Mt(o.onPointerUp,()=>{N.current==="mouse"&&g()}),onPointerDown:Mt(o.onPointerDown,y=>{N.current=y.pointerType}),onPointerMove:Mt(o.onPointerMove,y=>{var w;N.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):N.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Mt(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Mt(o.onKeyDown,y=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&y.key===" "||(IY.includes(y.key)&&g(),y.key===" "&&y.preventDefault())})})})})});NL.displayName=vy;var np="SelectItemText",SL=b.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=uA(np,r),l=hA(np,r),c=BL(np,r),A=LY(np,r),[d,u]=b.useState(null),p=Mr(t,g=>u(g),c.onItemTextChange,g=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,g,c.value,c.disabled)}),f=d==null?void 0:d.textContent,x=b.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:N}=A;return Is(()=>(m(x),()=>N(x)),[m,N,x]),i.jsxs(i.Fragment,{children:[i.jsx(Kt.span,{id:c.textId,...a,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ed.createPortal(a.children,o.valueNode):null]})});SL.displayName=np;var EL="SelectItemIndicator",jL=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return BL(EL,r).isSelected?i.jsx(Kt.span,{"aria-hidden":!0,...n,ref:t}):null});jL.displayName=EL;var X2="SelectScrollUpButton",FL=b.forwardRef((e,t)=>{const r=hA(X2,e.__scopeSelect),n=GB(X2,e.__scopeSelect),[s,a]=b.useState(!1),o=Mr(t,n.onScrollButtonChange);return Is(()=>{if(r.viewport&&r.isPositioned){let l=function(){const A=c.scrollTop>0;a(A)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(IL,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});FL.displayName=X2;var J2="SelectScrollDownButton",kL=b.forwardRef((e,t)=>{const r=hA(J2,e.__scopeSelect),n=GB(J2,e.__scopeSelect),[s,a]=b.useState(!1),o=Mr(t,n.onScrollButtonChange);return Is(()=>{if(r.viewport&&r.isPositioned){let l=function(){const A=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<A;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(IL,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});kL.displayName=J2;var IL=b.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=hA("SelectScrollButton",r),o=b.useRef(null),l=jx(r),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Is(()=>{var d;const A=l().find(u=>u.ref.current===document.activeElement);(d=A==null?void 0:A.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Kt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Mt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Mt(s.onPointerMove,()=>{var A;(A=a.onItemLeave)==null||A.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Mt(s.onPointerLeave,()=>{c()})})}),VY="SelectSeparator",PL=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Kt.div,{"aria-hidden":!0,...n,ref:t})});PL.displayName=VY;var Y2="SelectArrow",WY=b.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Fx(r),a=uA(Y2,r),o=hA(Y2,r);return a.open&&o.position==="popper"?i.jsx(nP,{...s,...n,ref:t}):null});WY.displayName=Y2;function _L(e){return e===""||e===void 0}var TL=b.forwardRef((e,t)=>{const{value:r,...n}=e,s=b.useRef(null),a=Mr(t,s),o=hB(r);return b.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const u=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(u)}},[o,r]),i.jsx(Fm,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});TL.displayName="BubbleSelect";function LL(e){const t=ji(e),r=b.useRef(""),n=b.useRef(0),s=b.useCallback(o=>{const l=r.current+o;t(l),function c(A){r.current=A,window.clearTimeout(n.current),A!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function UL(e,t,r){const s=t.length>1&&Array.from(t).every(A=>A===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=qY(e,Math.max(a,0));s.length===1&&(o=o.filter(A=>A!==r));const c=o.find(A=>A.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function qY(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var XY=cL,RL=dL,JY=hL,YY=fL,ZY=pL,DL=mL,eZ=xL,ML=CL,QL=NL,tZ=SL,rZ=jL,OL=FL,HL=kL,$L=PL;const xi=XY,wi=JY,si=b.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(RL,{ref:n,className:Zt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(YY,{asChild:!0,children:i.jsx(ox,{className:"h-4 w-4 opacity-50"})})]}));si.displayName=RL.displayName;const zL=b.forwardRef(({className:e,...t},r)=>i.jsx(OL,{ref:r,className:Zt("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(b6,{className:"h-4 w-4"})}));zL.displayName=OL.displayName;const KL=b.forwardRef(({className:e,...t},r)=>i.jsx(HL,{ref:r,className:Zt("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(ox,{className:"h-4 w-4"})}));KL.displayName=HL.displayName;const ii=b.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(ZY,{children:i.jsxs(DL,{ref:s,className:Zt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(zL,{}),i.jsx(eZ,{className:Zt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(KL,{})]})}));ii.displayName=DL.displayName;const nZ=b.forwardRef(({className:e,...t},r)=>i.jsx(ML,{ref:r,className:Zt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));nZ.displayName=ML.displayName;const ar=b.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(QL,{ref:n,className:Zt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(rZ,{children:i.jsx(w6,{className:"h-4 w-4"})})}),i.jsx(tZ,{children:t})]}));ar.displayName=QL.displayName;const sZ=b.forwardRef(({className:e,...t},r)=>i.jsx($L,{ref:r,className:Zt("-mx-1 my-1 h-px bg-muted",e),...t}));sZ.displayName=$L.displayName;const iZ={};function aZ({isOpen:e,onClose:t,flowData:r,title:n,flowKey:s,onSave:a}){var G,z;const{toast:o}=Em(),[l,c,A]=eL(r.nodes||[]),[d,u,p]=tL(r.edges||[]),[f,x]=b.useState(!1),[m,N]=b.useState([]),[g,y]=b.useState([]),[w,E]=b.useState(null),[_,D]=b.useState(""),[R,I]=b.useState("default"),[Q,U]=b.useState(!0),[S,P]=b.useState(!1),[O,k]=b.useState(""),[Z,H]=b.useState(!1);Nx(),b.useEffect(()=>{const ae=JSON.stringify(r.nodes),de=JSON.stringify(r.edges),he=JSON.stringify(l),ce=JSON.stringify(d);x(ae!==he||de!==ce)},[l,d,r]),b.useEffect(()=>{if(e){if(s)try{const de=JSON.parse(localStorage.getItem("flowDiagrams")||"{}")[s];if(de&&de.nodes&&de.edges){console.log(` Loading saved flow from localStorage for key: ${s}`),c(de.nodes),u(de.edges),x(!1);return}}catch(ae){console.error("Error loading from localStorage:",ae)}console.log(` Loading original flow data for key: ${s||"no-key"}`),c(r.nodes||[]),u(r.edges||[]),x(!1)}},[e,r,s,c,u]);const q=b.useCallback(({nodes:ae,edges:de})=>{N(ae),y(de)},[]),K=b.useCallback(ae=>u(de=>OB(ae,de)),[u]),W=b.useCallback(()=>{if(!_.trim()){o({title:"Error",description:"Please enter a node label",variant:"destructive"});return}const ae={id:`node-${Date.now()}`,position:{x:Math.random()*400+100,y:Math.random()*300+100},data:{label:_.trim()},type:R,style:V(R)};c(de=>[...de,ae]),D(""),o({title:"Success",description:"Node added successfully"})},[_,R,c,o]),te=b.useCallback(()=>{if(m.length===0&&g.length===0){o({title:"No Selection",description:"Please select nodes or edges to delete",variant:"destructive"});return}const ae=m.map(he=>he.id),de=g.map(he=>he.id);c(he=>he.filter(ce=>!ae.includes(ce.id))),u(he=>he.filter(ce=>!de.includes(ce.id))),o({title:"Success",description:`Deleted ${ae.length} nodes and ${de.length} edges`})},[m,g,c,u,o]),ue=b.useCallback(ae=>{E(ae),D(ae.data.label||""),I(ae.type||"default")},[]),T=b.useCallback(()=>{!w||!_.trim()||(c(ae=>ae.map(de=>de.id===w.id?{...de,data:{...de.data,label:_.trim()},type:R,style:V(R)}:de)),E(null),D(""),o({title:"Success",description:"Node updated successfully"}))},[w,_,R,c,o]),$=b.useCallback(()=>{E(null),D(""),I("default")},[]),V=ae=>{switch(ae){case"input":return{backgroundColor:"#10B981",color:"white",border:"2px solid #059669"};case"output":return{backgroundColor:"#EF4444",color:"white",border:"2px solid #DC2626"};case"default":default:return{backgroundColor:"#3B82F6",color:"white",border:"2px solid #2563EB"}}},se=b.useCallback(()=>{const ae=d.map(he=>({id:he.id,source:he.source,target:he.target,animated:he.animated||!1,style:he.style,label:typeof he.label=="string"?he.label:void 0})),de={nodes:l,edges:ae};if(s)try{const he=JSON.parse(localStorage.getItem("flowDiagrams")||"{}");he[s]=de,localStorage.setItem("flowDiagrams",JSON.stringify(he)),o({title:"Flow Saved",description:"Flow diagram has been saved to local storage"})}catch(he){console.error("Error saving to localStorage:",he),o({title:"Save Error",description:"Failed to save flow diagram",variant:"destructive"})}a&&a(de),x(!1)},[l,d,s,a,o]),Y=b.useCallback(()=>{if(s)try{const de=JSON.parse(localStorage.getItem("flowDiagrams")||"{}")[s];if(de&&de.nodes&&de.edges){c(de.nodes),u(de.edges),x(!1),o({title:"Reset Complete",description:"Flow reset to last saved version"});return}}catch(ae){console.error("Error loading saved version for reset:",ae)}c(r.nodes||[]),u(r.edges||[]),x(!1),o({title:"Reset Complete",description:"Flow reset to original version"})},[r,s,c,u,o]),L=b.useCallback(()=>{const ae=JSON.stringify({nodes:l,edges:d},null,2),de=new Blob([ae],{type:"application/json"}),he=URL.createObjectURL(de),ce=document.createElement("a");ce.href=he,ce.download=`${n.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_flow.json`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL(he),o({title:"Flow Exported",description:"Flow diagram JSON has been downloaded"})},[l,d,n,o]),C=ae=>ae.type==="input"?"#10B981":ae.type==="output"?"#EF4444":"#3B82F6",j=b.useCallback(async()=>{var ae,de,he;if(!(!O.trim()||m.length!==1)){H(!0);try{const ce="AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg",Re=new ls(ce).getGenerativeModel({model:"gemini-2.0-flash-lite"}),Ce=m[0],xe={existingNodes:l.map(wt=>{var ft;return{id:wt.id,label:(ft=wt.data)==null?void 0:ft.label}}),existingEdges:d.map(wt=>({source:wt.source,target:wt.target})),selectedNode:{id:Ce.id,label:(ae=Ce.data)==null?void 0:ae.label},nodeCount:l.length,edgeCount:d.length},Fe=`You are an AI flow diagram generator. Generate new flow components based on the user's request, starting FROM the selected node and connecting new components to it.

Selected Starting Node: "${(de=Ce.data)==null?void 0:de.label}" (ID: ${Ce.id})

Current Flow Context:
- Existing nodes: ${xe.existingNodes.map(wt=>`${wt.id}: ${wt.label}`).join(", ")}
- Current node count: ${xe.nodeCount}
- Current edge count: ${xe.edgeCount}

User Request: "${O}"

Generate new flow components that:
1. DO NOT modify or replace existing nodes/edges
2. Create new nodes with unique IDs starting from "ai-node-${Date.now()}-"
3. MUST connect the first new node to the selected node "${Ce.id}"
4. Position new nodes to the right or below the selected node
5. Include 3-7 new nodes maximum to keep the flow manageable
6. Create a logical flow sequence from the selected node

Return ONLY a JSON object with this exact structure:
{
  "newNodes": [
    {
      "id": "ai-node-xxx",
      "position": { "x": number, "y": number },
      "data": { "label": "Node Label" },
      "style": { "backgroundColor": "#colorcode" }
    }
  ],
  "newEdges": [
    {
      "id": "ai-edge-xxx",
      "source": "source-node-id",
      "target": "target-node-id",
      "animated": false
    }
  ],
  "connectionToSelected": {
    "edgeId": "connection-edge-id",
    "fromNodeId": "${Ce.id}",
    "toNodeId": "first-new-node-id"
  }
}

Position the first new node at:
- X: ${Ce.position.x+200}
- Y: ${Ce.position.y}

Use these colors for nodes:
- Start/Input: #10B981 (green)
- Process/Action: #3B82F6 (blue)  
- Decision: #F59E0B (yellow)
- End/Output: #EF4444 (red)
- System: #8B5CF6 (purple)`,Oe=(await(await Re.generateContent(Fe)).response).text().match(/\{[\s\S]*\}/);if(!Oe)throw new Error("Invalid AI response format");const Ke=JSON.parse(Oe[0]),ht=Ke.newNodes.map((wt,ft)=>({...wt,position:{x:Ce.position.x+200+Math.floor(ft/3)*200,y:Ce.position.y+ft%3*120}})),Pt=Ke.connectionToSelected?[{id:Ke.connectionToSelected.edgeId,source:Ce.id,target:Ke.connectionToSelected.toNodeId,animated:!1,style:{stroke:"#6366F1",strokeWidth:2}}]:[];c(wt=>[...wt,...ht]),u(wt=>[...wt,...Ke.newEdges,...Pt]),o({title:"AI Flow Generated",description:`Added ${ht.length} new nodes connected from "${(he=Ce.data)==null?void 0:he.label}"`}),k("")}catch(ce){console.error("AI Flow Generation Error:",ce),o({title:"Generation Failed",description:"Could not generate AI flow. Please try a different prompt.",variant:"destructive"})}finally{H(!1)}}},[O,m,l,d,c,u,o]);return e?i.jsx(SG,{open:e,onOpenChange:t,children:i.jsxs(F_,{className:"max-w-[95vw] max-h-[95vh] w-full h-full p-0",children:[i.jsx(k_,{className:"px-6 py-4 border-b",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(I_,{className:"text-xl font-semibold",children:n}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Full-screen flow diagram editor  ",l.length," nodes,"," ",d.length," edges"]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-[25px] mr-[25px]",children:[f&&i.jsx(yt,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:"Unsaved Changes"}),i.jsxs(me,{onClick:Y,variant:"outline",size:"sm",disabled:!f,children:[i.jsx(eB,{className:"h-4 w-4 mr-2"}),"Reset"]}),i.jsxs(me,{onClick:se,size:"sm",disabled:!f,className:"bg-green-600 hover:bg-green-700",children:[i.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Save"]}),i.jsxs(me,{onClick:L,variant:"outline",size:"sm",children:[i.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),i.jsx("div",{className:"flex-1 relative",style:{height:"calc(95vh - 100px)"},children:i.jsxs(KB,{nodes:l,edges:d,onNodesChange:A,onEdgesChange:p,onConnect:K,onSelectionChange:q,nodeTypes:iZ,fitView:!0,fitViewOptions:{padding:.1},attributionPosition:"bottom-left",className:"bg-gray-50",multiSelectionKeyCode:"Shift",children:[i.jsx(aL,{className:"bg-white shadow-lg border"}),i.jsx(sL,{nodeColor:C,nodeStrokeWidth:3,zoomable:!0,pannable:!0,className:"bg-white shadow-lg border"}),i.jsx(lL,{variant:Ki.Dots,gap:16,size:1,color:"#e5e7eb"}),i.jsx(om,{position:"top-right",className:"bg-white shadow-lg border rounded-lg p-2",children:i.jsx(me,{onClick:()=>U(!Q),variant:"outline",size:"sm",className:"h-8 w-8 p-0",title:Q?"Hide Editor Panel":"Show Editor Panel",children:Q?i.jsx(ZC,{className:"h-4 w-4"}):i.jsx(Jc,{className:"h-4 w-4"})})}),Q&&i.jsxs(om,{position:"top-left",className:"bg-white shadow-lg border rounded-lg p-4 min-w-80",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Flow Editor"}),i.jsx(me,{onClick:()=>P(!S),variant:"ghost",size:"sm",className:"h-6 w-6 p-0",title:S?"Expand Panel":"Collapse Panel",children:S?i.jsx(ox,{className:"h-4 w-4"}):i.jsx(b6,{className:"h-4 w-4"})})]}),!S&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsx(br,{className:"text-xs font-medium",children:"Add New Node"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(pr,{placeholder:"Node label",value:_,onChange:ae=>D(ae.target.value),className:"text-xs h-8",onKeyPress:ae=>ae.key==="Enter"&&W()}),i.jsxs(xi,{value:R,onValueChange:I,children:[i.jsx(si,{className:"w-24 h-8 text-xs",children:i.jsx(wi,{})}),i.jsxs(ii,{children:[i.jsx(ar,{value:"input",children:"Start"}),i.jsx(ar,{value:"default",children:"Process"}),i.jsx(ar,{value:"output",children:"End"})]})]}),i.jsx(me,{onClick:W,size:"sm",className:"h-8 px-2",children:i.jsx(Ln,{className:"h-3 w-3"})})]})]}),w&&i.jsxs("div",{className:"space-y-2 mb-4 p-2 bg-blue-50 rounded border",children:[i.jsxs(br,{className:"text-xs font-medium",children:["Edit Node: ",w.id]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(pr,{placeholder:"Node label",value:_,onChange:ae=>D(ae.target.value),className:"text-xs h-8",onKeyPress:ae=>ae.key==="Enter"&&T()}),i.jsxs(xi,{value:R,onValueChange:I,children:[i.jsx(si,{className:"w-24 h-8 text-xs",children:i.jsx(wi,{})}),i.jsxs(ii,{children:[i.jsx(ar,{value:"input",children:"Start"}),i.jsx(ar,{value:"default",children:"Process"}),i.jsx(ar,{value:"output",children:"End"})]})]}),i.jsx(me,{onClick:T,size:"sm",className:"h-8 px-2 bg-green-600 hover:bg-green-700",children:i.jsx(Oi,{className:"h-3 w-3"})}),i.jsx(me,{onClick:$,size:"sm",variant:"outline",className:"h-8 px-2",children:i.jsx(un,{className:"h-3 w-3"})})]})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs(br,{className:"text-xs font-medium",children:["Selected: ",m.length," nodes,"," ",g.length," edges"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(me,{onClick:te,variant:"destructive",size:"sm",className:"h-8 px-2",disabled:m.length===0&&g.length===0,children:[i.jsx(ns,{className:"h-3 w-3 mr-1"}),"Delete"]}),m.length===1&&i.jsxs(me,{onClick:()=>ue(m[0]),variant:"outline",size:"sm",className:"h-8 px-2 ml-[27px] mr-[27px]",children:[i.jsx(bp,{className:"h-3 w-3 mr-1"}),"Edit"]})]})]}),i.jsxs("div",{className:"p-3 bg-gradient-to-r from-purple-50 to-indigo-50 rounded border border-purple-200",children:[i.jsx("p",{className:"font-medium mb-2 text-purple-800 text-sm",children:"AI Flow Generator"}),m.length===1?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),i.jsxs("span",{className:"text-xs text-gray-600",children:["From:"," ",i.jsx("strong",{children:(G=m[0].data)==null?void 0:G.label})]})]}),i.jsx("textarea",{placeholder:`Describe new flow components to add from "${(z=m[0].data)==null?void 0:z.label}" (e.g., 'Add error handling flow with validation and retry steps')`,className:"w-full h-16 px-2 py-1 text-xs border rounded resize-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",value:O,onChange:ae=>k(ae.target.value)}),i.jsx(me,{onClick:j,disabled:Z||!O.trim(),size:"sm",className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",children:Z?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-3 w-3 animate-spin mr-1"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wn,{className:"h-3 w-3 mr-1"}),"Generate Flow from Selected Node"]})})]}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:"text-gray-400 mb-2",children:i.jsx(wn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"})}),i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:m.length===0?"Select a node to generate new flow components from it":"Select only one node to generate connected flow components"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Click on a node in the diagram to start"})]})]}),i.jsxs("div",{className:"p-2 bg-gray-50 rounded text-xs text-gray-600",children:[i.jsx("p",{className:"font-medium mb-1",children:"Instructions:"}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[i.jsx("li",{children:" Select ONE node to enable AI flow generation from it"}),i.jsx("li",{children:" Use AI Generator to add connected flow components"}),i.jsx("li",{children:" Click nodes/edges to select"}),i.jsx("li",{children:" Hold Shift for multi-select"}),i.jsx("li",{children:" Drag nodes to reposition"}),i.jsx("li",{children:" Connect nodes by dragging handles"}),i.jsx("li",{children:" Use controls to zoom and fit view"}),i.jsx("li",{children:" Click Save to update the flow"})]})]})]})]})]})})]})}):null}function oZ(e){return i.jsx(Sx,{children:i.jsx(aZ,{...e})})}const lZ={};function cZ({flowData:e,title:t,className:r="",flowKey:n,onFlowUpdate:s}){const[a,o,l]=eL([]),[c,A,d]=tL([]),[u,p]=b.useState(!1);b.useEffect(()=>{let g=e;if(n)try{const w=JSON.parse(localStorage.getItem("flowDiagrams")||"{}")[n];w&&w.nodes&&w.edges?(console.log(` FlowDiagramViewer loading saved flow from localStorage for key: ${n}`),g=w):console.log(` FlowDiagramViewer using original flow data for key: ${n}`)}catch(y){console.error("Error loading flow from localStorage in viewer:",y)}console.log("FlowDiagramViewer loading data:",g),o(g.nodes||[]),A(g.edges||[])},[e,n,o,A]);const f=b.useCallback(g=>{o(g.nodes||[]),A(g.edges||[]),s&&s(g),p(!1)},[o,A,s]),x=b.useCallback(g=>A(y=>OB(g,y)),[A]),m={hideAttribution:!0},N=g=>g.type==="input"?"#10B981":g.type==="output"?"#EF4444":"#3B82F6";return!e.nodes||e.nodes.length===0?i.jsxs("div",{className:`w-full h-full ${r}`,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:"No flow data available"})]}),i.jsx("div",{className:"w-full h-96 border border-gray-200 rounded-lg flex items-center justify-center bg-gray-50",children:i.jsx("p",{className:"text-gray-500",children:"No nodes to display"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`w-full h-full ${r}`,children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between pt-[14px] pb-[14px] pl-[14px] pr-[14px]",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Interactive flow diagram with ",a.length," nodes"]})]}),i.jsxs(me,{onClick:()=>p(!0),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(B6,{className:"h-4 w-4"}),"Edit Fullscreen"]})]}),i.jsx("div",{className:"w-full h-[800px] border border-gray-200 rounded-lg overflow-hidden bg-white",children:i.jsxs(KB,{nodes:a,edges:c,onNodesChange:l,onEdgesChange:d,onConnect:x,nodeTypes:lZ,proOptions:m,fitView:!0,fitViewOptions:{padding:.2},attributionPosition:"bottom-left",children:[i.jsx(aL,{}),i.jsx(sL,{nodeColor:N,nodeStrokeWidth:3,zoomable:!0,pannable:!0}),i.jsx(lL,{variant:Ki.Dots,gap:12,size:1,color:"#e5e7eb"})]})})]}),i.jsx(oZ,{isOpen:u,onClose:()=>p(!1),flowData:e,title:t,flowKey:n,onSave:f})]})}function ad(e){return i.jsx(Sx,{children:i.jsx(cZ,{...e})})}class AZ{constructor(){const t="AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg";this.genAI=new ls(t),this.model=this.genAI.getGenerativeModel({model:"gemini-2.0-flash-lite"})}async generateFlowDiagram(t,r,n){try{const s=this.buildFlowDiagramPrompt(t,r,n),o=(await this.model.generateContent(s)).response.text();return this.parseFlowDiagramResponse(o)}catch(s){throw console.error("Error generating flow diagram:",s),new Error("Failed to generate flow diagram")}}buildFlowDiagramPrompt(t,r,n){return`
  Generate a ReactFlow diagram JSON structure for a stakeholder-specific user journey.

**Flow Focus:** User Journey Mapping for Multiple Stakeholder Types
**Process Description:** ${t.processDescription}
**Flow Details:** ${t}

## LAYOUT REQUIREMENTS:
- **Stakeholder Swim Lanes**: Arrange in 4-6 horizontal swimlanes by user type
- **User Journey Flow**: Show  all progression from discovery to goal completion
- **Alternative Paths**: Include different user pathways and choice branches
- **Decision Points**: Show user decision moments with clear outcomes
- **Support Touch points**: Include help, feedback, and assistance points
  Requirements:
  - Generate a user journey flow for the stakeholder "${r}" based on the process description and activities.
  - Include all relevant activities, decision points, and support elements for this stakeholder.
  - Use 25-35 nodes to represent the complete journey from discovery to completion.
  - Position nodes in swimlanes or layers according to user journey stages (discovery, onboarding, core, advanced, support, completion).
  - Style nodes according to their type (see below).
  - Edges should clearly show the flow, alternative paths, and decision outcomes.

  ## NODE SPECIFICATIONS:
- **Discovery Nodes**: Green (#10B981) for user entry points
- **Onboarding Nodes**: Blue (#3B82F6) for registration/setup processes
- **Core Activity Nodes**: Indigo (#4F46E5) for main user tasks
- **Feature Nodes**: Purple (#8B5CF6) for specific functionality
- **Decision Nodes**: Amber (#F59E0B) for user choice points
- **Support Nodes**: Cyan (#06B6D4) for help and assistance
- **Premium Nodes**: Emerald (#059669) for paid features
- **Completion Nodes**: Gray (#6B7280) for successful outcomes

** Node Text color must be white 

 
  ## POSITIONING:
  - Discovery Layer: Y = 50-150 (app discovery, landing page)
  - Onboarding Layer: Y = 200-300 (registration, setup)
  - Core Usage Layer: Y = 350-500 (main features, daily tasks)
  - Advanced Features Layer: Y = 550-650 (premium, power user features)
  - Support/Exit Layer: Y = 700-800 (help, completion, feedback)
  - X spacing: 200px between stakeholder paths
  - Create separate horizontal flows for each stakeholder type
  
  ## EDGE REQUIREMENTS:
  - Primary user flow edges: solid lines
  - Alternative path edges: dashed lines
  - Decision outcome edges: labeled with user choices
  - Support flow edges: animated blue lines
  - Premium upgrade edges: thick green lines
  - User feedback edges: dotted lines
  - Include clear labels for user decision outcomes
  
  Generate a JSON object with 'nodes' and 'edges' arrays showing STAKEHOLDER-SPECIFIC USER JOURNEYS.
  Each node must represent a user action, decision point, or interface touchpoint.
  
  CRITICAL: Generate 25-35 detailed nodes representing COMPLETE USER JOURNEYS for different stakeholder types showing their step-by-step progression through the application.
  
  **CRITICAL: Response Format Requirements:**
  Return ONLY a valid JSON object. Do NOT include any extra properties beyond these allowed fields:
  All the interactions should be joined 
  
  For nodes, ONLY use these properties:
  - id (string, required)
  - position (object with x, y numbers, required)
  - data (object with label string, required)
  - type (string, optional: "input", "output", "default")
  - style (object, optional)
  
  For edges, ONLY use these properties:
  - id (string, required)
  - source (string, required)
  - target (string, required)
  - animated (boolean, optional)
  - style (object, optional)
  
  DO NOT ADD: description, or any other custom properties.
  All the participant name should be visible
  Example structure:
  {
    "nodes": [
      {
        "id": "node-1",
        "position": { "x": 50, "y": 50 },
        "data": { "label": "Start: User submits form" },
        "type": "input",
        "style": { "backgroundColor": "#10B981", "color": "white", "border": "2px solid #059669" }
      }
    ],
    "edges": [
      {
        "id": "edge-1",
        "source": "node-1",
        "target": "node-2",
        "animated": true
      }
    ]
  }
  
  Generate the full flow diagram JSON for the "${r}" user journey.
  `}parseFlowDiagramResponse(t){try{console.log("Raw AI response:",t);let r=t.trim();r.startsWith("```json")?r=r.replace(/^```json\s*/,"").replace(/```\s*$/,""):r.startsWith("```")&&(r=r.replace(/^```\s*/,"").replace(/```\s*$/,""));const n=r.match(/\{[\s\S]*\}/);if(!n)throw console.error("No JSON found in response"),new Error("No JSON found in response");const s=n[0];console.log("Extracted JSON string:",s);const a=JSON.parse(s);if(console.log("Parsed flow data:",a),!a.nodes||!Array.isArray(a.nodes))throw console.error("Invalid nodes structure:",a.nodes),new Error("Invalid nodes structure");if(!a.edges||!Array.isArray(a.edges))throw console.error("Invalid edges structure:",a.edges),new Error("Invalid edges structure");const o=a.nodes.map(A=>({id:A.id,position:A.position||{x:0,y:0},data:A.data||{label:"Node"},type:A.type,style:A.style})),l=a.edges.map(A=>({id:A.id,source:A.source,target:A.target,animated:A.animated||!1,style:A.style})),c={nodes:o,edges:l};return console.log("Successfully parsed and cleaned flow diagram with",o.length,"nodes and",l.length,"edges"),c}catch(r){return console.error("Error parsing flow diagram response:",r),console.log("Using fallback diagram"),this.createFallbackDiagram()}}createFallbackDiagram(){return console.log("Creating comprehensive enterprise fallback diagram"),{nodes:[{id:"node-1",position:{x:50,y:50},data:{label:"Start: Enterprise Request"},type:"input",style:{backgroundColor:"#10B981",color:"white",border:"3px solid #059669"}},{id:"node-2",position:{x:250,y:50},data:{label:"Identity Provider"},type:"default",style:{backgroundColor:"#8B5CF6",color:"white",border:"2px solid #7C3AED"}},{id:"node-3",position:{x:450,y:50},data:{label:"MFA Gateway"},type:"default",style:{backgroundColor:"#8B5CF6",color:"white",border:"2px solid #7C3AED"}},{id:"node-4",position:{x:650,y:50},data:{label:"RBAC Engine"},type:"default",style:{backgroundColor:"#8B5CF6",color:"white",border:"2px solid #7C3AED"}},{id:"node-5",position:{x:850,y:50},data:{label:"Auth Decision?"},type:"default",style:{backgroundColor:"#F59E0B",color:"white",borderRadius:"50%"}},{id:"node-6",position:{x:1050,y:50},data:{label:"Security Token Service"},type:"default",style:{backgroundColor:"#8B5CF6",color:"white",border:"2px solid #7C3AED"}},{id:"node-7",position:{x:50,y:250},data:{label:"API Gateway"},type:"default",style:{backgroundColor:"#3B82F6",color:"white",border:"2px solid #2563EB"}},{id:"node-8",position:{x:250,y:250},data:{label:"Load Balancer"},type:"default",style:{backgroundColor:"#3B82F6",color:"white",border:"2px solid #2563EB"}},{id:"node-9",position:{x:450,y:250},data:{label:"Service Discovery"},type:"default",style:{backgroundColor:"#3B82F6",color:"white",border:"2px solid #2563EB"}},{id:"node-10",position:{x:650,y:250},data:{label:"Circuit Breaker"},type:"default",style:{backgroundColor:"#3B82F6",color:"white",border:"2px solid #2563EB"}},{id:"node-11",position:{x:850,y:250},data:{label:"Rate Limiter"},type:"default",style:{backgroundColor:"#3B82F6",color:"white",border:"2px solid #2563EB"}},{id:"node-12",position:{x:1050,y:250},data:{label:"Service Mesh"},type:"default",style:{backgroundColor:"#3B82F6",color:"white",border:"2px solid #2563EB"}},{id:"node-13",position:{x:50,y:450},data:{label:"Business Rule Engine"},type:"default",style:{backgroundColor:"#4F46E5",color:"white",border:"2px solid #4338CA"}},{id:"node-14",position:{x:250,y:450},data:{label:"Workflow Orchestrator"},type:"default",style:{backgroundColor:"#4F46E5",color:"white",border:"2px solid #4338CA"}},{id:"node-15",position:{x:450,y:450},data:{label:"State Machine"},type:"default",style:{backgroundColor:"#4F46E5",color:"white",border:"2px solid #4338CA"}},{id:"node-16",position:{x:650,y:450},data:{label:"Decision Matrix"},type:"default",style:{backgroundColor:"#F59E0B",color:"white",borderRadius:"50%"}},{id:"node-17",position:{x:850,y:450},data:{label:"Approval Chain"},type:"default",style:{backgroundColor:"#4F46E5",color:"white",border:"2px solid #4338CA"}},{id:"node-18",position:{x:1050,y:450},data:{label:"Document Processor"},type:"default",style:{backgroundColor:"#4F46E5",color:"white",border:"2px solid #4338CA"}},{id:"node-19",position:{x:50,y:650},data:{label:"Primary Database"},type:"default",style:{backgroundColor:"#059669",color:"white",border:"2px solid #047857"}},{id:"node-20",position:{x:250,y:650},data:{label:"Read Replica"},type:"default",style:{backgroundColor:"#059669",color:"white",border:"2px solid #047857"}},{id:"node-21",position:{x:450,y:650},data:{label:"Data Warehouse"},type:"default",style:{backgroundColor:"#059669",color:"white",border:"2px solid #047857"}},{id:"node-22",position:{x:650,y:650},data:{label:"Search Index"},type:"default",style:{backgroundColor:"#059669",color:"white",border:"2px solid #047857"}},{id:"node-23",position:{x:850,y:650},data:{label:"File Storage"},type:"default",style:{backgroundColor:"#059669",color:"white",border:"2px solid #047857"}},{id:"node-24",position:{x:1050,y:650},data:{label:"Backup Service"},type:"default",style:{backgroundColor:"#059669",color:"white",border:"2px solid #047857"}},{id:"node-25",position:{x:250,y:850},data:{label:"Payment Gateway"},type:"default",style:{backgroundColor:"#06B6D4",color:"white",border:"2px solid #0891B2"}},{id:"node-26",position:{x:450,y:850},data:{label:"Third-party APIs"},type:"default",style:{backgroundColor:"#06B6D4",color:"white",border:"2px solid #0891B2"}},{id:"node-27",position:{x:650,y:850},data:{label:"Partner Systems"},type:"default",style:{backgroundColor:"#06B6D4",color:"white",border:"2px solid #0891B2"}},{id:"node-28",position:{x:50,y:1050},data:{label:"Health Monitor"},type:"default",style:{backgroundColor:"#EA580C",color:"white",border:"2px solid #DC2626"}},{id:"node-29",position:{x:250,y:1050},data:{label:"Metrics Collector"},type:"default",style:{backgroundColor:"#EA580C",color:"white",border:"2px solid #DC2626"}},{id:"node-30",position:{x:450,y:1050},data:{label:"Log Aggregator"},type:"default",style:{backgroundColor:"#EA580C",color:"white",border:"2px solid #DC2626"}},{id:"node-31",position:{x:650,y:1050},data:{label:"Alert Manager"},type:"default",style:{backgroundColor:"#EA580C",color:"white",border:"2px solid #DC2626"}},{id:"node-32",position:{x:850,y:1050},data:{label:"Performance Monitor"},type:"default",style:{backgroundColor:"#EA580C",color:"white",border:"2px solid #DC2626"}},{id:"node-33",position:{x:1050,y:1050},data:{label:"Error Tracker"},type:"default",style:{backgroundColor:"#DC2626",color:"white",border:"2px solid #B91C1C"}},{id:"node-34",position:{x:850,y:1250},data:{label:"Success Completion"},type:"output",style:{backgroundColor:"#6B7280",color:"white",border:"2px solid #4B5563"}},{id:"node-35",position:{x:1150,y:200},data:{label:"Auth Failure"},type:"output",style:{backgroundColor:"#DC2626",color:"white",border:"2px solid #B91C1C"}}],edges:[{id:"edge-1",source:"node-1",target:"node-2",animated:!1},{id:"edge-2",source:"node-2",target:"node-3",animated:!1},{id:"edge-3",source:"node-3",target:"node-4",animated:!1},{id:"edge-4",source:"node-4",target:"node-5",animated:!1},{id:"edge-5",source:"node-5",target:"node-6",animated:!0,label:"Success"},{id:"edge-6",source:"node-5",target:"node-35",animated:!0,label:"Failure",style:{stroke:"#DC2626",strokeDasharray:"5,5"}},{id:"edge-7",source:"node-6",target:"node-7",animated:!1},{id:"edge-8",source:"node-7",target:"node-8",animated:!1},{id:"edge-9",source:"node-8",target:"node-9",animated:!1},{id:"edge-10",source:"node-9",target:"node-10",animated:!1},{id:"edge-11",source:"node-10",target:"node-11",animated:!1},{id:"edge-12",source:"node-11",target:"node-12",animated:!1},{id:"edge-13",source:"node-12",target:"node-13",animated:!1},{id:"edge-14",source:"node-13",target:"node-14",animated:!1},{id:"edge-15",source:"node-14",target:"node-15",animated:!1},{id:"edge-16",source:"node-15",target:"node-16",animated:!1},{id:"edge-17",source:"node-16",target:"node-17",animated:!0,label:"Approved"},{id:"edge-18",source:"node-17",target:"node-18",animated:!1},{id:"edge-19",source:"node-18",target:"node-19",animated:!1},{id:"edge-20",source:"node-19",target:"node-20",animated:!1},{id:"edge-21",source:"node-19",target:"node-21",animated:!1},{id:"edge-22",source:"node-21",target:"node-22",animated:!1},{id:"edge-23",source:"node-19",target:"node-23",animated:!1},{id:"edge-24",source:"node-23",target:"node-24",animated:!1},{id:"edge-25",source:"node-18",target:"node-25",animated:!1},{id:"edge-26",source:"node-18",target:"node-26",animated:!1},{id:"edge-27",source:"node-18",target:"node-27",animated:!1},{id:"edge-28",source:"node-12",target:"node-28",animated:!1},{id:"edge-29",source:"node-28",target:"node-29",animated:!1},{id:"edge-30",source:"node-29",target:"node-30",animated:!1},{id:"edge-31",source:"node-30",target:"node-31",animated:!1},{id:"edge-32",source:"node-31",target:"node-32",animated:!1},{id:"edge-33",source:"node-32",target:"node-33",animated:!0,style:{stroke:"#DC2626"}},{id:"edge-34",source:"node-24",target:"node-34",animated:!1},{id:"edge-35",source:"node-32",target:"node-34",animated:!1}]}}}function GL(){return new AZ}class Qu{constructor(){this.maxSize=4*1024*1024,this.compressionThreshold=50*1024}static getInstance(){return Qu.instance||(Qu.instance=new Qu),Qu.instance}compressString(t){return t.replace(/>\s+</g,"><").replace(/\s+/g," ").replace(/;\s+/g,";").replace(/:\s+/g,":").replace(/{\s+/g,"{").replace(/\s+}/g,"}").trim()}getStorageSize(){let t=0;for(let r in localStorage)localStorage.hasOwnProperty(r)&&(t+=localStorage[r].length+r.length);return t}cleanupOldData(){var a;const t=Object.keys(localStorage),r=[];for(const o of t)try{const l=JSON.parse(localStorage.getItem(o)||"{}");l.timestamp&&r.push({key:o,timestamp:l.timestamp,size:((a=localStorage.getItem(o))==null?void 0:a.length)||0})}catch{}r.sort((o,l)=>o.timestamp-l.timestamp);let n=this.getStorageSize();const s=this.maxSize*.7;for(const o of r){if(n<=s)break;console.log(`Cleaning up old storage item: ${o.key}`),localStorage.removeItem(o.key),n-=o.size}}setItem(t,r){try{let n=JSON.stringify(r);n.length>this.compressionThreshold&&typeof r=="object"&&r!==null&&(r.htmlCode&&(r.htmlCode=this.compressString(r.htmlCode)),r.cssCode&&(r.cssCode=this.compressString(r.cssCode)),Array.isArray(r)&&(r=r.map(l=>(l.htmlCode&&(l.htmlCode=this.compressString(l.htmlCode)),l.cssCode&&(l.cssCode=this.compressString(l.cssCode)),l.htmlContent&&(l.htmlContent=this.compressString(l.htmlContent)),l.cssStyles&&(l.cssStyles=this.compressString(l.cssStyles)),l))),n=JSON.stringify(r));const s={data:r,timestamp:Date.now(),size:n.length},a=this.getStorageSize(),o=JSON.stringify(s).length;return a+o>this.maxSize&&(console.log("Storage approaching limit, cleaning up old data..."),this.cleanupOldData()),localStorage.setItem(t,JSON.stringify(s)),!0}catch(n){if(n instanceof DOMException&&n.code===22){console.warn("Storage quota exceeded, attempting cleanup..."),this.cleanupOldData();try{const s={data:r,timestamp:Date.now(),size:JSON.stringify(r).length};return localStorage.setItem(t,JSON.stringify(s)),!0}catch(s){return console.error("Failed to store data even after cleanup:",s),!1}}return console.error("Error storing data:",n),!1}}getItem(t){try{const r=localStorage.getItem(t);return r?JSON.parse(r).data:null}catch(r){return console.error("Error retrieving data:",r),null}}removeItem(t){localStorage.removeItem(t)}clear(){localStorage.clear()}getStorageInfo(){const t=this.getStorageSize();return{used:t,max:this.maxSize,percentage:t/this.maxSize*100}}}const Fr=Qu.getInstance();function dZ(){return Fr.getItem("market_research_data")}function uZ(e){return Fr.setItem("market_research_data",e)}function hZ(){Fr.removeItem("market_research_data")}function Z2(){return Fr.getItem("market_research_data")!==null}function fZ(){return Fr.getItem("project_description")||""}function pZ(e){return Fr.setItem("project_description",e)}function fA({currentStep:e,completedSteps:t=[]}){const[r,n]=Sm(),s={input:"/start-over",research:"/market-research",plan:"/plan",diagram:"/user-journey",wireframes:"/wireframes",stories:"/user-stories",code:"/code"},a=l=>{const c=s[l];c&&n(c)},o=l=>{if(t.includes(l))return"completed";const c=Z2();switch(r){case"/start-over":return l==="input"?"active":"pending";case"/market-research":return l==="input"?"completed":l==="research"?"active":"pending";case"/plan":return l==="input"?"completed":l==="research"?c?"completed":"pending":l==="plan"?"active":"pending";case"/user-journey":case"/user-journey-enhanced":return l==="input"?"completed":l==="research"?c?"completed":"pending":l==="plan"?"completed":l==="diagram"?"active":"pending";case"/wireframes":case"/wireframe-designer":return l==="input"?"completed":l==="research"?c?"completed":"pending":l==="plan"||l==="diagram"?"completed":l==="wireframes"?"active":"pending";case"/user-stories":return l==="input"?"completed":l==="research"?c?"completed":"pending":l==="plan"||l==="diagram"||l==="wireframes"?"completed":l==="stories"?"active":"pending";case"/code":return l==="input"?"completed":l==="research"?c?"completed":"pending":l==="plan"||l==="diagram"||l==="wireframes"||l==="stories"?"completed":l==="code"?"active":"pending";default:return e===l||l==="input"?"active":l==="research"&&c?"completed":"pending"}};return i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-blue-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-center gap-3 lg:gap-4",children:[i.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all cursor-pointer hover:shadow-lg ${o("input")==="active"?"bg-blue-100 shadow-md":o("input")==="completed"?"bg-green-100":"bg-white"}`,onClick:()=>a("input"),children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${o("input")==="active"?"bg-blue-500 text-white":o("input")==="completed"?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:o("input")==="completed"?i.jsx(wr,{className:"h-4 w-4"}):o("input")==="active"?i.jsx(wn,{className:"h-4 w-4"}):"1"}),i.jsx("span",{className:`text-sm font-medium hidden sm:block ${o("input")==="active"?"text-blue-700":o("input")==="completed"?"text-green-700":"text-gray-600"}`,children:"Idea"})]}),i.jsx(bo,{className:"h-4 w-4 text-gray-300"}),i.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all cursor-pointer hover:shadow-lg ${o("research")==="active"?"bg-blue-100 shadow-md":o("research")==="completed"?"bg-green-100":"bg-white"}`,onClick:()=>a("research"),children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${o("research")==="active"?"bg-blue-500 text-white":o("research")==="completed"?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:o("research")==="completed"?i.jsx(wr,{className:"h-4 w-4"}):o("research")==="active"?i.jsx(Xu,{className:"h-4 w-4"}):"2"}),i.jsx("span",{className:`text-sm font-medium hidden sm:block ${o("research")==="active"?"text-blue-700":o("research")==="completed"?"text-green-700":"text-gray-600"}`,children:"Research"})]}),i.jsx(bo,{className:"h-4 w-4 text-gray-300"}),i.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all cursor-pointer hover:shadow-lg ${o("plan")==="active"?"bg-blue-100 shadow-md":o("plan")==="completed"?"bg-green-100":"bg-white"}`,onClick:()=>a("plan"),children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${o("plan")==="active"?"bg-blue-500 text-white":o("plan")==="completed"?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:o("plan")==="completed"?i.jsx(wr,{className:"h-4 w-4"}):o("plan")==="active"?i.jsx(Fs,{className:"h-4 w-4"}):"3"}),i.jsx("span",{className:`text-sm font-medium hidden sm:block ${o("plan")==="active"?"text-blue-700":o("plan")==="completed"?"text-green-700":"text-gray-600"}`,children:"Stakeholders & Process"})]}),i.jsx(bo,{className:"h-4 w-4 text-gray-300"}),i.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all cursor-pointer hover:shadow-lg ${o("wireframes")==="active"?"bg-blue-100 shadow-md":o("wireframes")==="completed"?"bg-green-100":"bg-white"}`,onClick:()=>a("wireframes"),children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${o("wireframes")==="completed"?"bg-green-500 text-white":o("wireframes")==="active"?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:o("wireframes")==="completed"?i.jsx(wr,{className:"h-4 w-4"}):o("wireframes")==="active"?i.jsx(qu,{className:"h-4 w-4"}):"5"}),i.jsx("span",{className:`text-sm font-medium hidden sm:block ${o("wireframes")==="active"?"text-blue-700":o("wireframes")==="completed"?"text-green-700":"text-gray-600"}`,children:"Wireframes"})]}),i.jsx(bo,{className:"h-4 w-4 text-gray-300"}),i.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all cursor-pointer hover:shadow-lg ${o("stories")==="active"?"bg-blue-100 shadow-md":o("stories")==="completed"?"bg-green-100":"bg-white"}`,onClick:()=>a("stories"),children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${o("stories")==="completed"?"bg-green-500 text-white":o("stories")==="active"?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:o("stories")==="completed"?i.jsx(wr,{className:"h-4 w-4"}):o("stories")==="active"?i.jsx(jh,{className:"h-4 w-4"}):"6"}),i.jsx("span",{className:`text-sm font-medium hidden sm:block ${o("stories")==="active"?"text-blue-700":o("stories")==="completed"?"text-green-700":"text-gray-600"}`,children:"Stories"})]}),i.jsx(bo,{className:"h-4 w-4 text-gray-300"}),i.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all cursor-pointer hover:shadow-lg ${o("code")==="active"?"bg-blue-100 shadow-md":o("code")==="completed"?"bg-green-100":"bg-white"}`,onClick:()=>a("code"),children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all ${o("code")==="completed"?"bg-green-500 text-white":o("code")==="active"?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:o("code")==="completed"?i.jsx(wr,{className:"h-4 w-4"}):o("code")==="active"?i.jsx(pl,{className:"h-4 w-4"}):"7"}),i.jsx("span",{className:`text-sm font-medium hidden sm:block ${o("code")==="active"?"text-blue-700":o("code")==="completed"?"text-green-700":"text-gray-600"}`,children:"Code"})]})]})})})}const VL=()=>{const e=localStorage.getItem("enhanced_plan_sections");if(e)try{const t=JSON.parse(e);return console.log(" Successfully loaded enhanced plan sections from localStorage:",t.length,"sections"),t}catch(t){console.error(" Failed to parse enhanced plan sections:",t)}else console.log(" No enhanced plan sections found in localStorage");return[]},hj=e=>{try{const t=JSON.stringify(e);localStorage.setItem("enhanced_plan_sections",t),console.log(" Successfully saved enhanced plan sections to localStorage:",e.length,"sections"),localStorage.getItem("enhanced_plan_sections")?console.log(" Verification: Data exists in localStorage"):console.error(" Verification failed: No data found in localStorage")}catch(t){console.error(" Failed to save enhanced plan sections:",t)}},S1=e=>{const t=VL();return t.length>0?t.map(r=>`${r.title}:
${r.content.replace(/<[^>]*>/g," ").trim()}`).join(`

`):e};function mZ(){var Rd,bA;const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,a]=b.useState(!1),[o,l]=b.useState(!1),[c,A]=b.useState("input"),[d,u]=b.useState(""),[p,f]=b.useState(""),[x,m]=b.useState(""),[N,g]=b.useState(!1),[y,w]=b.useState(!1),[E,_]=b.useState(""),[D,R]=b.useState(!1),[I,Q]=b.useState(""),[U,S]=b.useState(!1),[P,O]=b.useState([]),[k,Z]=b.useState([]),[H,q]=b.useState(!1);b.useState(!1);const[K,W]=b.useState(!1),[te,ue]=b.useState(!1),[T,$]=b.useState("");b.useState(null),b.useState("");const[V,se]=b.useState(null),[Y,L]=b.useState([]),[C,j]=b.useState(0),[G,z]=b.useState(""),[ae,de]=b.useState(!1),[he,ce]=b.useState(null),[oe,Re]=b.useState({}),[Ce,xe]=b.useState(!1),[Fe,ze]=b.useState(AK),[Qe,We]=b.useState(!1),[Oe,Ke]=b.useState(null),[ht,Pt]=b.useState(""),[wt,ft]=b.useState({current:0,total:0}),[Qt,et]=b.useState([]),[ur,Ut]=b.useState(!1),[Xr,rr]=b.useState({currentSection:0,totalSections:10,currentSectionTitle:"",overallProgress:0,isGenerating:!1}),[Yt,Tr]=b.useState(null),[Jt,kn]=b.useState(""),[yr,bn]=b.useState(!1),[ts,mr]=b.useState(!1),[Rt,hr]=b.useState(!0);b.useState(null);const[pn,Ur]=b.useState(null),[mn,Cn]=b.useState(!1);b.useState(!1);const[pe,je]=b.useState([]),[De,Ie]=b.useState(!1),[Te,nt]=b.useState(""),[Xe,Et]=b.useState(null),[it,It]=b.useState(""),[dt,pt]=b.useState([]),[_t,ne]=Sm();b.useEffect(()=>{const ge=localStorage.getItem(bt.PROJECT_DESCRIPTION),tt=localStorage.getItem(bt.PROJECT_PLAN),St=localStorage.getItem(bt.CURRENT_DIAGRAM);localStorage.getItem("enhanced_plan_sections"),ge&&t(ge),tt&&n(tt),St&&f(St);const Wt=VL();Wt.length>0?(console.log(" Setting enhanced sections from localStorage:",Wt.length,"sections"),et(Wt)):console.log(" No saved sections found, keeping empty state");const er=kG();pt(er);const gr=localStorage.getItem("stakeholder-names");if(gr)try{const Kr=JSON.parse(gr);je(Kr)}catch(Kr){console.error("Failed to parse saved stakeholder names:",Kr)}A(_t==="/plan"?"plan":_t==="/diagram"?"diagram":"input"),L([]),j(0),z("")},[_t]);const ve=(ge=!1)=>{const tt=[{step:"Analyzing project requirements",completed:!1,current:!1},{step:"Generating enhancement suggestions",completed:!1,current:!1}];ge&&tt.push({step:"Creating comprehensive project plan",completed:!1,current:!1},{step:"Saving project data",completed:!1,current:!1},{step:"Finalizing setup",completed:!1,current:!1}),L(tt),j(0),z("")},Be=(ge,tt=!1,St=!1)=>{L(Wt=>{const er=Wt.map((nr,_r)=>({...nr,completed:_r<ge||_r===ge&&tt,current:_r===ge&&St&&!tt})),Kr=er.filter(nr=>nr.completed).length/er.length*100;j(Kr);const lr=er.find(nr=>nr.current);return z(lr?lr.step:""),er})},Ee=async()=>{if(!e.trim()){u("Please enter a project description");return}Ut(!0),u(""),R(!1);try{const ge=hK(),tt=dt.filter(lr=>lr.enabled).sort((lr,nr)=>lr.order-nr.order),St=tt.map(lr=>({id:lr.id,title:lr.title,content:"",isGenerating:!1,isCompleted:!1,order:lr.order}));et(St);const Wt={projectDescription:e,additionalRequirements:P.length>0?P:void 0},er=[],gr=tt.length;for(let lr=0;lr<tt.length;lr++){const nr=tt[lr];rr({currentSection:lr+1,totalSections:gr,currentSectionTitle:nr.title,overallProgress:lr/gr*100,isGenerating:!0}),et(_r=>_r.map((ra,Qr)=>({...ra,isGenerating:Qr===lr,isCompleted:Qr<lr})));try{console.log(`Generating section ${lr+1}/${gr}: ${nr.title}`);const _r=await ge.generateSection(nr.title,Wt,{id:nr.id,aiPrompts:nr.aiPrompts}),ra={id:nr.id,title:nr.title,content:_r,isGenerating:!1,isCompleted:!0,order:nr.order};er.push(ra),et(Qr=>Qr.map((Ft,Ko)=>Ko===lr?{...Ft,content:_r,isGenerating:!1,isCompleted:!0}:Ft)),rr({currentSection:lr+1,totalSections:gr,currentSectionTitle:nr.title,overallProgress:(lr+1)/gr*100,isGenerating:lr<gr-1})}catch(_r){console.error(`Failed to generate section ${nr.title}:`,_r),er.push({id:nr.id,title:nr.title,content:`<div class="error-section"><h3>Error Generating ${nr.title}</h3><p>Failed to generate content for this section. Please try again.</p></div>`,isGenerating:!1,isCompleted:!1,order:nr.order})}lr<gr-1&&await new Promise(_r=>setTimeout(_r,1500))}const Kr=ge.generateHtmlReport(er);n(Kr),localStorage.setItem(bt.PROJECT_PLAN,Kr),localStorage.setItem(bt.PROJECT_DESCRIPTION,e),hj(er),rr({currentSection:gr,totalSections:gr,currentSectionTitle:"Complete",overallProgress:100,isGenerating:!1})}catch(ge){console.error("Enhanced plan generation error:",ge),u("Failed to generate enhanced project plan. Please try again.")}finally{Ut(!1)}},Le=async()=>{if(Rt){await Ee();return}if(ae){await $e();return}ve(!0),a(!0),u(""),R(!1);try{Be(0,!1,!0),await new Promise(St=>setTimeout(St,500)),Be(1,!1,!0),await new Promise(St=>setTimeout(St,300)),Be(1,!0),Be(2,!1,!0);let ge=e;P.length>0&&(ge=`${e}

Additional Requirements:
${P.map(St=>`- ${St}`).join(`
`)}

Please ensure the project plan addresses all the selected requirements above and includes comprehensive architecture diagrams, user flows, and technical specifications.`);const tt=await zP(ge);n(tt),Be(2,!0),Be(3,!1,!0),localStorage.setItem(bt.PROJECT_PLAN,tt),localStorage.setItem(bt.PROJECT_DESCRIPTION,e),await new Promise(St=>setTimeout(St,400)),Be(3,!0),Be(4,!1,!0),await new Promise(St=>setTimeout(St,300)),Be(4,!0),j(100),z(""),await new Promise(St=>setTimeout(St,500)),A("plan"),ne("/plan")}catch(ge){console.error("Project plan generation error:",ge),u("Failed to generate project plan. Please try again.")}finally{a(!1)}},$e=async()=>{xe(!0),u(""),R(!1);try{const ge=lK();let tt=e;P.length>0&&(tt=`${e}

Additional Requirements:
${P.map(er=>`- ${er}`).join(`
`)}`);const St=await ge.generateComprehensiveProjectPlan(tt,oe,(er,gr)=>{z(er),j(gr)});ce(St);const Wt=Ot(St);n(Wt),localStorage.setItem(bt.PROJECT_PLAN,Wt),localStorage.setItem(bt.PROJECT_DESCRIPTION,e),localStorage.setItem("comprehensive_plan",JSON.stringify(St)),A("plan"),ne("/plan")}catch(ge){console.error("Comprehensive plan generation error:",ge),u("Failed to generate comprehensive project plan. Please try again.")}finally{xe(!1),j(0),z("")}},xt=async()=>{We(!0),u(""),R(!1),Pt(""),ft({current:0,total:0});try{const ge=dK();let tt=e;P.length>0&&(tt=`${e}

Additional Requirements:
${P.map(er=>`- ${er}`).join(`
`)}`);const St={sections:Fe,projectDescription:tt,additionalContext:P.length>0?`Focus on: ${P.join(", ")}`:void 0},Wt=await ge.generateProjectPlan(St,(er,gr,Kr)=>{Pt(er),ft({current:gr,total:Kr});const lr=gr/Kr*100;j(lr)});Ke(Wt),n(Wt.htmlContent),localStorage.setItem(bt.PROJECT_PLAN,Wt.htmlContent),localStorage.setItem(bt.PROJECT_DESCRIPTION,e),localStorage.setItem("dynamic_plan_result",JSON.stringify(Wt)),localStorage.setItem("project_sections_config",JSON.stringify(Fe)),A("plan"),ne("/plan")}catch(ge){console.error("Dynamic plan generation error:",ge),u("Failed to generate dynamic project plan. Please try again.")}finally{We(!1),j(0),z(""),Pt(""),ft({current:0,total:0})}},Ot=ge=>`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Project Plan</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 20px; background: #f8f9fa; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 40px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h1 { color: #2563eb; border-bottom: 3px solid #3b82f6; padding-bottom: 10px; margin-bottom: 30px; }
        h2 { color: #1e40af; margin-top: 40px; margin-bottom: 20px; padding-left: 10px; border-left: 4px solid #3b82f6; }
        h3 { color: #1e3a8a; margin-top: 25px; }
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0; }
        .summary-card { background: #f1f5f9; padding: 20px; border-radius: 8px; border-left: 4px solid #3b82f6; }
        .summary-card h4 { margin: 0 0 10px 0; color: #1e40af; }
        .summary-card p { margin: 0; font-weight: 600; color: #475569; }
        .phase { background: #f8fafc; padding: 20px; margin: 20px 0; border-radius: 8px; border: 1px solid #e2e8f0; }
        .priority-critical { border-left: 4px solid #dc2626; }
        .priority-high { border-left: 4px solid #ea580c; }
        .priority-medium { border-left: 4px solid #ca8a04; }
        .priority-low { border-left: 4px solid #16a34a; }
        .critical-path { background: #fef2f2; border: 2px solid #fca5a5; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .hours-estimate { background: #eff6ff; padding: 10px; border-radius: 6px; margin: 10px 0; font-weight: 600; color: #1d4ed8; }
        ul { padding-left: 20px; }
        li { margin: 8px 0; }
        .section-content { margin: 15px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Comprehensive Project Plan</h1>
        
        <div class="summary-grid">
            <div class="summary-card">
                <h4>Total Estimated Hours</h4>
                <p>${ge.totalEstimatedHours.toLocaleString()} hours</p>
            </div>
            <div class="summary-card">
                <h4>Estimated Cost</h4>
                <p>$${ge.totalEstimatedCost.toLocaleString()}</p>
            </div>
            <div class="summary-card">
                <h4>Development Phases</h4>
                <p>${ge.developmentPhases.length} phases</p>
            </div>
            <div class="summary-card">
                <h4>Critical Path Items</h4>
                <p>${ge.criticalPath.length} items</p>
            </div>
        </div>

        <div class="critical-path">
            <h3> Critical Path</h3>
            <ul>
                ${ge.criticalPath.map(tt=>`<li><strong>${tt}</strong></li>`).join("")}
            </ul>
        </div>

        <div class="section-content priority-${ge.projectOverview.priority}">
            <h2>${ge.projectOverview.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.projectOverview.estimatedHours}</div>
            ${ge.projectOverview.content}
        </div>

        <div class="section-content priority-${ge.technicalArchitecture.priority}">
            <h2>${ge.technicalArchitecture.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.technicalArchitecture.estimatedHours}</div>
            ${ge.technicalArchitecture.content}
        </div>

        <h2>Development Phases</h2>
        ${ge.developmentPhases.map(tt=>`
            <div class="phase priority-${tt.priority}">
                <h3>${tt.title}</h3>
                <div class="hours-estimate">Estimated Hours: ${tt.estimatedHours}</div>
                ${tt.content}
            </div>
        `).join("")}

        <div class="section-content priority-${ge.riskManagement.priority}">
            <h2>${ge.riskManagement.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.riskManagement.estimatedHours}</div>
            ${ge.riskManagement.content}
        </div>

        <div class="section-content priority-${ge.qualityAssurance.priority}">
            <h2>${ge.qualityAssurance.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.qualityAssurance.estimatedHours}</div>
            ${ge.qualityAssurance.content}
        </div>

        <div class="section-content priority-${ge.deployment.priority}">
            <h2>${ge.deployment.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.deployment.estimatedHours}</div>
            ${ge.deployment.content}
        </div>

        <div class="section-content priority-${ge.maintenance.priority}">
            <h2>${ge.maintenance.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.maintenance.estimatedHours}</div>
            ${ge.maintenance.content}
        </div>

        <div class="section-content priority-${ge.budgetBreakdown.priority}">
            <h2>${ge.budgetBreakdown.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.budgetBreakdown.estimatedHours}</div>
            ${ge.budgetBreakdown.content}
        </div>

        <div class="section-content priority-${ge.timelineDetails.priority}">
            <h2>${ge.timelineDetails.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.timelineDetails.estimatedHours}</div>
            ${ge.timelineDetails.content}
        </div>

        <div class="section-content priority-${ge.teamStructure.priority}">
            <h2>${ge.teamStructure.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.teamStructure.estimatedHours}</div>
            ${ge.teamStructure.content}
        </div>

        <div class="section-content priority-${ge.stakeholderMatrix.priority}">
            <h2>${ge.stakeholderMatrix.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.stakeholderMatrix.estimatedHours}</div>
            ${ge.stakeholderMatrix.content}
        </div>

        <div class="section-content priority-${ge.complianceRequirements.priority}">
            <h2>${ge.complianceRequirements.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.complianceRequirements.estimatedHours}</div>
            ${ge.complianceRequirements.content}
        </div>

        <div class="section-content priority-${ge.scalabilityPlan.priority}">
            <h2>${ge.scalabilityPlan.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.scalabilityPlan.estimatedHours}</div>
            ${ge.scalabilityPlan.content}
        </div>

        <div class="section-content priority-${ge.securityFramework.priority}">
            <h2>${ge.securityFramework.title}</h2>
            <div class="hours-estimate">Estimated Hours: ${ge.securityFramework.estimatedHours}</div>
            ${ge.securityFramework.content}
        </div>
    </div>
</body>
</html>`,Br=async()=>{if(!e.trim()){u("Please enter project description first");return}Ie(!0),u("");try{const tt=new ls("AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg").getGenerativeModel({model:"gemini-2.0-flash-lite"}),St=r?S1(r):"",Wt=`
Analyze this project and identify ALL relevant stakeholder names/roles. Generate ONLY the names/titles.

PROJECT DESCRIPTION: ${e}

${St?`EXISTING PROJECT PLAN CONTEXT: ${St}`:""}

INSTRUCTIONS:
1. Identify 8-15 distinct stakeholder names/roles for this specific project
2. Include stakeholders across these categories:
   - End users (different user types like "Premium Users", "Basic Users", "Mobile Users")
   - Business stakeholders (like "CEO", "Product Manager", "Marketing Director") 
   - Technical stakeholders (like "Lead Developer", "QA Engineer", "DevOps Engineer")
   - External stakeholders (like "Customers", "Partners", "Vendors", "Regulators")
   - Support stakeholders (like "Customer Support", "Sales Team", "Content Writers")

3. Make stakeholder names specific to the project domain and requirements
4. Use clear, descriptive role names that are easy to understand

Return ONLY a JSON array of stakeholder name strings:
["End Users", "Product Manager", "Development Team", "QA Engineers", "Business Owner", "Customers", "IT Operations", "Customer Support"]`;let Kr=(await tt.generateContent(Wt)).response.text().trim();Kr.startsWith("```json")&&(Kr=Kr.replace(/^```json\s*/,"").replace(/```\s*$/,"")),Kr.startsWith("```")&&(Kr=Kr.replace(/^```\s*/,"").replace(/```\s*$/,""));try{const lr=JSON.parse(Kr);je(lr),localStorage.setItem("stakeholder-names",JSON.stringify(lr))}catch(lr){console.error("Failed to parse stakeholder response:",lr);const nr=["End Users","Product Manager","Development Team","Business Owner","QA Team","Customers","IT Operations","Customer Support"];je(nr),localStorage.setItem("stakeholder-names",JSON.stringify(nr))}}catch(ge){console.error("Stakeholder generation error:",ge),u("Failed to generate stakeholder analysis. Please try again.")}finally{Ie(!1)}},Gt=()=>{if(Te.trim()&&!pe.includes(Te.trim())){const ge=[...pe,Te.trim()];je(ge),localStorage.setItem("stakeholder-names",JSON.stringify(ge)),nt("")}},Nr=ge=>{const tt=pe.filter((St,Wt)=>Wt!==ge);je(tt),localStorage.setItem("stakeholder-names",JSON.stringify(tt))},xr=ge=>{Et(ge),It(pe[ge])},Sr=()=>{if(Xe!==null&&it.trim()){const ge=[...pe];ge[Xe]=it.trim(),je(ge),localStorage.setItem("stakeholder-names",JSON.stringify(ge)),Et(null),It("")}},Bn=()=>{Et(null),It("")};b.useEffect(()=>{try{const ge=JSON.parse(localStorage.getItem("flowDiagrams")||"{}"),tt=ge["project-flow-diagram"];if(tt&&tt.nodes&&tt.edges){console.log(" Loading project flow from flowDiagrams structure"),Ur({title:"User Journey Flow",description:"Generated user journey flow diagram",flowData:tt}),Cn(!1);return}const St=localStorage.getItem("project-flow-diagram");if(St)try{const Wt=JSON.parse(St);Ur(Wt),Wt.flowData&&(ge["project-flow-diagram"]=Wt.flowData,localStorage.setItem("flowDiagrams",JSON.stringify(ge)),console.log(" Migrated project flow to flowDiagrams structure")),Cn(!1);return}catch(Wt){console.error("Error parsing saved flow diagram:",Wt)}}catch(ge){console.error("Error loading saved flow diagram:",ge)}},[]);const ao=async()=>{if(!e.trim()){u("Please enter project description first");return}Cn(!0),u("");try{const ge=`
Project Description: ${e}

${r?`Existing Project Plan Context: ${S1(r)}`:""}

Generate a detailed flow diagram that shows:
1. Main user entry points and onboarding processes
2. Core system processes and workflows  
3. Decision points and conditional flows
4. Integration points with external systems
5. Data flow and processing steps
6. Error handling and exception paths
7. User interaction touchpoints
8. Administrative and management processes
`,St=new ls("AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg").getGenerativeModel({model:"gemini-2.0-flash-lite"}),Wt=r?S1(r):"",er=pe.length>0?pe:["End Users","Admin Users","Content Managers"],gr=`
    Analyze this project and create a COMPREHENSIVE User Journey Flow that provides detailed workflows for EACH stakeholder while showcasing their interactions with one another across various processes:

    PROJECT DESCRIPTION: ${e}

    IDENTIFIED STAKEHOLDERS: ${er.join(", ")}

    For EACH stakeholder, generate:
    1. A detailed workflow that outlines their specific journey through the system.
    2. Key actions, decision points, and outcomes for their role.
    3. Interactions with other stakeholders at various stages of the workflow.
    4. Shared processes and collaboration points with other stakeholders.
    5. Role-specific tasks and responsibilities.

    Additionally:
    - Highlight decision points where workflows diverge based on stakeholder roles.
    - Include shared resources or processes where multiple stakeholders interact.
    - Ensure all major system processes involving multiple stakeholders are represented.
    - Provide a consolidated view of how all stakeholders contribute to the overall system goals.

    Return a JSON object with the following structure:
    {
      "processDescription": "Comprehensive multi-stakeholder user journey flow",
      "stakeholders": [
        {
      "name": "Stakeholder Name",
      "workflow": [
        "Step 1: Description of the first step",
        "Step 2: Description of the second step",
        "Step 3: Description of the third step",
        "...additional steps"
      ],
      "interactions": [
        "Interaction with Stakeholder X at Step Y",
        "Collaboration with Stakeholder Z during Process A",
        "...additional interactions"
      ]
        },
        "...additional stakeholders"
      ],
      "sharedProcesses": [
        "Description of shared process 1",
        "Description of shared process 2",
        "...additional shared processes"
      ],
      "decisionPoints": [
        "Decision point 1: Description",
        "Decision point 2: Description",
        "...additional decision points"
      ],
      "endEvent": "All stakeholders successfully complete their workflows and achieve their objectives",
      "additionalElements": [
        "Collaboration tools for stakeholders",
        "Role-based permissions and access controls",
        "Notification and communication systems",
        "Cross-role handoff mechanisms",
        "Unified reporting and analytics for all stakeholders"
      ]
    }

    Generate a detailed and COMPREHENSIVE flow that includes individual workflows for EACH stakeholder and their interactions with others in the system.
    `,lr=(await St.generateContent(gr)).response.text();localStorage.setItem("project-flow-data-intrim",JSON.stringify(lr));let nr;try{nr=lr.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim()}catch(Ft){console.log("Using fallback flow details due to parsing error:",Ft);const Ko=er.length>0?er:["End Users","Admin Users","Content Managers"];nr=""}const ra=await GL().generateFlowDiagram(nr,er.join(", "),"Comprehensive Project Workflow, "),Qr={title:"Consolidated Multi-Stakeholder User Journey Flow",description:`Comprehensive flow diagram showing how all stakeholders (${er.join(", ")}) interact, collaborate, and achieve their goals within the system`,flowData:ra};Ur(Qr),localStorage.setItem("project-flow-diagram",JSON.stringify(Qr));try{const Ft=JSON.parse(localStorage.getItem("flowDiagrams")||"{}");Ft["project-flow-diagram"]=Qr.flowData,localStorage.setItem("flowDiagrams",JSON.stringify(Ft)),console.log(" Project flow generated and saved to flowDiagrams structure")}catch(Ft){console.error("Error saving generated flow to flowDiagrams structure:",Ft)}}catch(ge){console.error("Flow diagram generation error:",ge),u("Failed to generate flow diagram. Please try again.")}finally{Cn(!1)}},ea=()=>{if(!pn)return;const ge=JSON.stringify(pn,null,2),tt=new Blob([ge],{type:"application/json"}),St=URL.createObjectURL(tt),Wt=document.createElement("a");Wt.href=St,Wt.download="project-flow-diagram.json",document.body.appendChild(Wt),Wt.click(),document.body.removeChild(Wt),URL.revokeObjectURL(St)},zo=()=>{n(E),w(!1),_("")},ta=()=>{w(!1),_("")},_d=ge=>{O(tt=>tt.includes(ge)?tt.filter(St=>St!==ge):[...tt,ge])},gn=()=>{mr(!1),kn(""),Tr(null)},Td=async(ge,tt)=>{if(!tt.trim()){u("Please enter custom instructions for regeneration");return}bn(!0),u("");try{const Wt=new ls("AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg").getGenerativeModel({model:"gemini-2.0-flash-lite"}),er=Qt.find(Qr=>Qr.id===ge);if(!er){u(`Section not found: ${ge}`);return}const gr=`
You are an expert project planning assistant. I need you to regenerate a specific section of a project plan based on a custom prompt.

ORIGINAL PROJECT DESCRIPTION:
${e}

CURRENT SECTION TITLE: ${er.title}
CURRENT SECTION CONTENT:
${er.content}

CUSTOM REGENERATION PROMPT:
${tt}

INSTRUCTIONS:
- Regenerate ONLY the "${er.title}" section based on the custom prompt
- Keep the section title exactly the same: "${er.title}"
- The new content should address the custom prompt while maintaining relevance to the overall project
- Use professional, detailed language appropriate for project documentation
- Include relevant technical details, implementation steps, and considerations
- Format the response as clean HTML content suitable for web display
- Include proper headings, paragraphs, lists, and structure
- Make sure the content is comprehensive and actionable
- Consider the project context: ${e}

Please provide the regenerated section content as properly formatted HTML:`;let nr=(await Wt.generateContent(gr)).response.text().trim();if(nr.startsWith("```html")&&(nr=nr.replace(/^```html\s*/,"").replace(/```\s*$/,"")),nr.startsWith("```")&&(nr=nr.replace(/^```\s*/,"").replace(/```\s*$/,"")),et(Qr=>Qr.map(Ft=>Ft.id===ge?{...Ft,content:nr}:Ft)),r){let Qr=r;const Ft=new RegExp(`<section[^>]*id="${ge}"[^>]*>(.*?)</section>`,"gis"),Ko=`<section class="project-section" id="${ge}">
          <h2 class="section-title">${er.title}</h2>
          <div class="section-content">
            ${nr}
          </div>
        </section>`;Ft.test(Qr)?Qr=Qr.replace(Ft,Ko):Qr+=`
`+Ko,n(Qr),localStorage.setItem(bt.PROJECT_PLAN,Qr)}const _r=Qt.map(Qr=>Qr.id===ge?{...Qr,content:nr}:Qr);hj(_r);const ra=document.querySelector('[data-state="active"][data-orientation="horizontal"]');ra&&ra.getAttribute("value")===ge&&(se(null),setTimeout(()=>{se(ge)},10)),mr(!1),kn(""),Tr(null),console.log(`Section "${er.title}" regenerated successfully`)}catch(St){console.error("Section regeneration error:",St),u("Failed to regenerate section. Please try again.")}finally{bn(!1)}},Ai=(ge,tt)=>{document.execCommand(ge,!1,tt)},Ql=ge=>{Ai("formatBlock",`h${ge}`)},Ol=()=>{t(""),n(""),f(""),Q(""),m(""),w(!1),_(""),A("input"),u(""),R(!1),O([]),Z([]),W(!1),ue(!1),$(""),localStorage.removeItem(bt.PROJECT_DESCRIPTION),localStorage.removeItem(bt.PROJECT_PLAN),localStorage.removeItem(bt.CURRENT_DIAGRAM),localStorage.removeItem("enhanced_plan_sections"),ne("/")},Ld=()=>{if(!p){u("No BPMN script available to download");return}const ge=new Blob([p],{type:"application/xml"}),tt=URL.createObjectURL(ge),St=document.createElement("a"),Wt=e.substring(0,50).replace(/[^a-zA-Z0-9]/g,"_"),er=new Date().toISOString().slice(0,10),gr=`bpmn_diagram_${Wt}_${er}.bpmn`;St.href=tt,St.download=gr,document.body.appendChild(St),St.click(),document.body.removeChild(St),URL.revokeObjectURL(tt)},di=async()=>{if(!p){u("No BPMN script available to copy");return}try{await navigator.clipboard.writeText(p)}catch(ge){console.error("Failed to copy BPMN script:",ge),u("Failed to copy BPMN script to clipboard")}},Hl=async()=>{if(!e.trim()){u("Please enter a project description first");return}S(!0),u("");try{const ge=await KP(e);Q(ge)}catch(ge){console.error("Error generating sitemap:",ge),u("Failed to generate sitemap. Please try again.")}finally{S(!1)}},_s=()=>{if(!I){u("No sitemap XML available to download");return}const ge=new Blob([I],{type:"application/xml"}),tt=URL.createObjectURL(ge),St=document.createElement("a"),Wt=e.substring(0,50).replace(/[^a-zA-Z0-9]/g,"_"),er=new Date().toISOString().slice(0,10),gr=`sitemap_${Wt}_${er}.xml`;St.href=tt,St.download=gr,document.body.appendChild(St),St.click(),document.body.removeChild(St),URL.revokeObjectURL(tt)},yA=async()=>{if(!I){u("No sitemap XML available to copy");return}try{await navigator.clipboard.writeText(I)}catch(ge){console.error("Error copying sitemap XML:",ge),u("Failed to copy sitemap XML to clipboard")}},xA=()=>{try{const ge=T.trim();if(!ge.startsWith("<?xml")&&!ge.startsWith("<bpmn:definitions"))throw new Error("Invalid BPMN XML format");f(T),localStorage.setItem(bt.CURRENT_DIAGRAM,T),ue(!1),$("")}catch{u("Invalid BPMN XML format. Please check your script syntax.")}},Ud=()=>{p&&($(p),ue(!0))},wA=()=>{ue(!1),$("")};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[i.jsx(Ll,{title:"AI Project Planner",showBackButton:!1}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[i.jsx(fA,{currentStep:c}),d&&i.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[i.jsx(_o,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),i.jsx("p",{className:"text-red-700",children:d})]}),D&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs(lt,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[i.jsx(Bt,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-b",children:i.jsxs(Nt,{className:"flex items-center gap-3 text-xl",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(wn,{className:"h-5 w-5 text-white"})}),"Customize Your Project Plan"]})}),i.jsxs(ct,{className:"p-6",children:[i.jsx("p",{className:"text-gray-600 mb-6",children:"Select additional features and requirements to include in your project plan. These will be integrated into the comprehensive architecture and development timeline."}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:k.map(ge=>{const tt=P.includes(ge);return i.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx(Du,{id:`suggestion-${ge.replace(/\s+/g,"-")}`,checked:tt,onCheckedChange:St=>{_d(ge)},className:"h-5 w-5 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 border-2 border-gray-300"}),i.jsx("label",{htmlFor:`suggestion-${ge.replace(/\s+/g,"-")}`,className:"text-sm text-gray-700 cursor-pointer flex-1 leading-relaxed",onClick:()=>_d(ge),children:ge})]},ge)})}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[i.jsxs("h4",{className:"font-medium text-blue-800 mb-2",children:["Selected Requirements (",P.length,")"]}),P.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(ge=>i.jsx(yt,{variant:"outline",className:"bg-white border-blue-300 text-blue-700",children:ge},ge))}):i.jsx("p",{className:"text-blue-600 text-sm",children:"No additional requirements selected"})]}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-purple-800 mb-1",children:"Plan Generation Method"}),i.jsx("p",{className:"text-sm text-purple-600",children:"Choose between standard, enhanced 10-section, or comprehensive planning"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Du,{id:"enhanced-planner",checked:Rt,onCheckedChange:ge=>hr(ge)}),i.jsx("label",{htmlFor:"enhanced-planner",className:"text-sm font-medium text-purple-700 cursor-pointer",children:"Enhanced 10-Section Plan"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Du,{id:"advanced-agent",checked:ae,onCheckedChange:ge=>de(ge)}),i.jsx("label",{htmlFor:"advanced-agent",className:"text-sm font-medium text-purple-700 cursor-pointer",children:"Advanced AI Agent"})]})]})]}),ae&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pt-4 border-t border-purple-200",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:"Project Scope"}),i.jsxs("select",{className:"w-full text-xs p-2 border border-purple-200 rounded",value:oe.scope||"medium",onChange:ge=>Re(tt=>({...tt,scope:ge.target.value})),children:[i.jsx("option",{value:"small",children:"Small (1-3 months)"}),i.jsx("option",{value:"medium",children:"Medium (3-6 months)"}),i.jsx("option",{value:"large",children:"Large (6-12 months)"}),i.jsx("option",{value:"enterprise",children:"Enterprise (12+ months)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:"Technical Complexity"}),i.jsxs("select",{className:"w-full text-xs p-2 border border-purple-200 rounded",value:oe.technicalComplexity||"medium",onChange:ge=>Re(tt=>({...tt,technicalComplexity:ge.target.value})),children:[i.jsx("option",{value:"low",children:"Low - Basic CRUD"}),i.jsx("option",{value:"medium",children:"Medium - Standard Features"}),i.jsx("option",{value:"high",children:"High - Advanced Features"}),i.jsx("option",{value:"expert",children:"Expert - Cutting Edge"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:"Industry"}),i.jsxs("select",{className:"w-full text-xs p-2 border border-purple-200 rounded",value:oe.industry||"technology",onChange:ge=>Re(tt=>({...tt,industry:ge.target.value})),children:[i.jsx("option",{value:"technology",children:"Technology"}),i.jsx("option",{value:"healthcare",children:"Healthcare"}),i.jsx("option",{value:"finance",children:"Finance"}),i.jsx("option",{value:"education",children:"Education"}),i.jsx("option",{value:"retail",children:"Retail"}),i.jsx("option",{value:"manufacturing",children:"Manufacturing"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:"Team Size"}),i.jsxs("select",{className:"w-full text-xs p-2 border border-purple-200 rounded",value:oe.teamSize||"5-8 developers",onChange:ge=>Re(tt=>({...tt,teamSize:ge.target.value})),children:[i.jsx("option",{value:"1-2 developers",children:"1-2 developers"}),i.jsx("option",{value:"3-5 developers",children:"3-5 developers"}),i.jsx("option",{value:"5-8 developers",children:"5-8 developers"}),i.jsx("option",{value:"8-15 developers",children:"8-15 developers"}),i.jsx("option",{value:"15+ developers",children:"15+ developers"})]})]})]}),i.jsx("div",{className:"mt-3 p-3 bg-white/60 rounded border border-purple-100",children:i.jsx("div",{className:"text-xs text-purple-700",children:Rt?i.jsxs("div",{children:[i.jsx("strong",{children:"Enhanced 10-Section Plan:"})," Generates dedicated sections for Executive Summary, Technical Architecture, Feature Specifications, Development Methodology, UX Design, Quality Assurance, DevOps Strategy, Risk Management, Stakeholder Management, and Post-Launch Strategy with individual API calls for each section."]}):ae?i.jsxs("div",{children:[i.jsx("strong",{children:"Advanced AI Agent:"})," Generates comprehensive 18-section project plan including technical architecture, risk management, compliance, scalability, security framework, detailed timelines, cost estimates, and critical path analysis."]}):i.jsxs("div",{children:[i.jsx("strong",{children:"Standard Generation:"})," Creates focused project plan with core requirements, basic timeline, and development phases."]})})})]}),ur&&i.jsx("div",{className:"mb-6",children:i.jsx(u4,{progress:Xr,sections:Qt})}),(s||Ce)&&i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-medium text-blue-800",children:ae?"Generating Comprehensive Project Plan":"Creating Project Plan"}),i.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[Math.round(C),"%"]})]}),i.jsx("div",{className:"w-full bg-white/60 rounded-full h-3 mb-4 shadow-inner",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-700 ease-out shadow-sm",style:{width:`${C}%`}})}),G&&i.jsxs("div",{className:"flex items-center text-sm text-blue-700 mb-3 font-medium",children:[i.jsx(Vt,{className:"h-4 w-4 mr-2 animate-spin"}),G]}),ae&&Ce&&i.jsx("div",{className:"text-xs text-purple-700 bg-purple-50 p-2 rounded mb-3",children:"Advanced AI Agent is generating 18 comprehensive sections including technical architecture, risk management, compliance requirements, scalability planning, and detailed cost analysis."}),Y.length>0&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Y.map((ge,tt)=>i.jsxs("div",{className:"flex items-center text-sm bg-white/40 rounded-md p-2",children:[ge.completed?i.jsx(wr,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}):ge.current?i.jsx(Vt,{className:"h-4 w-4 text-blue-500 mr-2 animate-spin flex-shrink-0"}):i.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-gray-300 mr-2 flex-shrink-0"}),i.jsx("span",{className:`${ge.completed?"text-green-700 font-medium":ge.current?"text-blue-700 font-medium":"text-gray-500"} truncate`,children:ge.step})]},tt))})]}),i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4 mb-6",children:[i.jsx("h4",{className:"font-medium text-green-800 mb-3",children:"Dynamic Project Plan Sections"}),i.jsx("p",{className:"text-sm text-green-600 mb-4",children:"Configure which sections to include in your project plan. Each section will be generated with individual API calls for maximum quality."}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:Fe.map(ge=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-green-200 rounded-lg hover:bg-green-50 transition-colors",children:[i.jsx(Du,{id:ge.id,checked:ge.enabled,onCheckedChange:tt=>{ze(St=>St.map(Wt=>Wt.id===ge.id?{...Wt,enabled:tt}:Wt))},className:"h-4 w-4 data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{htmlFor:ge.id,className:"text-sm font-medium text-green-800 cursor-pointer block",children:ge.title}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:ge.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded",children:[ge.estimatedHours,"h"]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${ge.priority==="critical"?"bg-red-100 text-red-700":ge.priority==="high"?"bg-orange-100 text-orange-700":ge.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:ge.priority})]})]})]},ge.id))}),i.jsx("div",{className:"bg-white/60 rounded border border-green-100 p-3",children:i.jsxs("div",{className:"text-xs text-green-700",children:[i.jsx("strong",{children:"Selected:"})," ",Fe.filter(ge=>ge.enabled).length," sections",i.jsx("span",{className:"mx-2",children:""}),i.jsx("strong",{children:"Estimated:"})," ",Fe.filter(ge=>ge.enabled).reduce((ge,tt)=>ge+(tt.estimatedHours||0),0)," ","hours"]})})]}),Qe&&i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-medium text-green-800",children:"Generating Dynamic Project Plan"}),i.jsxs("span",{className:"text-sm text-green-600 font-medium",children:[Math.round(C),"%"]})]}),i.jsx("div",{className:"w-full bg-white/60 rounded-full h-3 mb-4 shadow-inner",children:i.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 h-3 rounded-full transition-all duration-700 ease-out shadow-sm",style:{width:`${C}%`}})}),ht&&i.jsxs("div",{className:"flex items-center text-sm text-green-700 mb-3 font-medium",children:[i.jsx(Vt,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating: ",ht," (",wt.current,"/",wt.total,")"]}),i.jsx("div",{className:"text-xs text-green-700 bg-green-50 p-2 rounded",children:"Making individual API calls for each selected section to ensure maximum quality and detail."})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[i.jsx(me,{variant:"outline",onClick:()=>R(!1),className:"border-gray-300 hover:bg-gray-50",disabled:s||Ce||Qe,children:"Cancel"}),i.jsx(me,{onClick:xt,disabled:s||Ce||Qe||Fe.filter(ge=>ge.enabled).length===0,className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:Qe?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating Sections..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wn,{className:"h-4 w-4 mr-2"}),"Generate Dynamic Plan (",Fe.filter(ge=>ge.enabled).length," ","sections)"]})}),i.jsx(me,{onClick:Le,disabled:s||Ce||Qe,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:s||Ce?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-4 w-4 mr-2 animate-spin"}),ae?"Generating Comprehensive Plan...":"Generating Plan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wn,{className:"h-4 w-4 mr-2"}),ae?"Generate Comprehensive Plan":"Generate Enhanced Plan"]})})]})]})]})}),c==="input"&&i.jsxs(lt,{className:"mb-6 border-0 shadow-sm bg-white",children:[i.jsx(Bt,{className:"pb-4",children:i.jsxs(Nt,{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(wn,{className:"h-4 w-4 text-white"})}),"Describe Your Project"]})}),i.jsxs(ct,{className:"px-6 pb-6 space-y-4",children:[i.jsx("p",{className:"text-gray-600",children:"Provide a detailed description of your project. Include features, requirements, and any specific goals you want to achieve."}),i.jsx(En,{placeholder:"Example: Create an e-commerce website with user registration, product catalog, shopping cart, payment processing, and order management. Include admin features for inventory management and analytics.",value:e,onChange:ge=>t(ge.target.value),className:"min-h-32 text-sm",disabled:s}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(Fs,{className:"h-4 w-4"}),"Quick Start Examples"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[i.jsxs("div",{className:"bg-white rounded-md p-2 border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>t("Create a comprehensive social media platform with user profiles, real-time messaging, content sharing (posts, photos, videos), news feed with personalized algorithms, friend connections, groups, events management, notifications system, and mobile app compatibility. Include admin dashboard for content moderation and analytics."),children:[i.jsx("h5",{className:"font-medium text-gray-800 text-xs mb-0.5",children:"Social Media"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Profiles, messaging, content sharing"})]}),i.jsxs("div",{className:"bg-white rounded-md p-2 border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>t("Build a complete project management application with task tracking, team collaboration, time logging, file sharing, project timelines (Gantt charts), resource allocation, budget tracking, reporting dashboard, and integrations with third-party tools. Support multiple project types and user roles."),children:[i.jsx("h5",{className:"font-medium text-gray-800 text-xs mb-0.5",children:"Project Management"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Tasks, collaboration, timelines"})]}),i.jsxs("div",{className:"bg-white rounded-md p-2 border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>t("Develop an online learning management system with course creation, video streaming, interactive quizzes, student progress tracking, certification system, discussion forums, assignment submissions, grade management, and payment processing for course purchases. Include mobile app for offline learning."),children:[i.jsx("h5",{className:"font-medium text-gray-800 text-xs mb-0.5",children:"Learning Platform"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Courses, quizzes, certifications"})]}),i.jsxs("div",{className:"bg-white rounded-md p-2 border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>t("Create a fintech application for personal finance management with bank account integration, expense tracking, budget planning, investment portfolio tracking, bill reminders, financial goal setting, credit score monitoring, and AI-powered financial advice. Ensure bank-level security and compliance."),children:[i.jsx("h5",{className:"font-medium text-gray-800 text-xs mb-0.5",children:"Finance App"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Expense tracking, investments"})]}),i.jsxs("div",{className:"bg-white rounded-md p-2 border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>t("Build a healthcare management platform with patient records, appointment scheduling, telemedicine video calls, prescription management, medical history tracking, insurance integration, billing system, and provider dashboard. Include patient mobile app and compliance with healthcare regulations."),children:[i.jsx("h5",{className:"font-medium text-gray-800 text-xs mb-0.5",children:"Healthcare Platform"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Records, telemedicine, billing"})]}),i.jsxs("div",{className:"bg-white rounded-md p-2 border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>t("Develop a smart home IoT platform with device management, automation rules, energy monitoring, security system integration, voice control, mobile app, real-time alerts, usage analytics, and machine learning for predictive automation. Support multiple device protocols and brands."),children:[i.jsx("h5",{className:"font-medium text-gray-800 text-xs mb-0.5",children:"IoT Platform"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Smart devices, automation"})]})]}),i.jsx("p",{className:"text-xs text-blue-600 mt-3",children:"Click any example to use it as a starting point, then customize as needed."})]}),Qe&&i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-medium text-green-800",children:"Generating Project Plan - Individual API Calls"}),i.jsxs("span",{className:"text-sm text-green-600 font-medium",children:[Math.round(C),"%"]})]}),i.jsx("div",{className:"w-full bg-white/60 rounded-full h-3 mb-4 shadow-inner",children:i.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 h-3 rounded-full transition-all duration-700 ease-out shadow-sm",style:{width:`${C}%`}})}),ht&&i.jsxs("div",{className:"flex items-center text-sm text-green-700 mb-3 font-medium",children:[i.jsx(Vt,{className:"h-4 w-4 mr-2 animate-spin"}),"Currently generating: ",ht," (",wt.current,"/",wt.total,")"]}),i.jsxs("div",{className:"text-xs text-green-700 bg-green-50 p-2 rounded",children:["Each section is generated with a separate API call for maximum quality and detail. Total sections:"," ",Fe.filter(ge=>ge.enabled).length]})]}),H&&Y.length>0&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium text-blue-800 text-sm",children:"Analyzing Project Requirements"}),i.jsxs("span",{className:"text-xs text-blue-600",children:[Math.round(C),"%"]})]}),i.jsx("div",{className:"w-full bg-blue-100 rounded-full h-2 mb-3",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${C}%`}})}),G&&i.jsxs("div",{className:"flex items-center text-xs text-blue-700",children:[i.jsx(Vt,{className:"h-3 w-3 mr-2 animate-spin"}),G]}),i.jsx("div",{className:"mt-2 space-y-1",children:Y.map((ge,tt)=>i.jsxs("div",{className:"flex items-center text-xs",children:[ge.completed?i.jsx(wr,{className:"h-3 w-3 text-green-500 mr-2"}):ge.current?i.jsx(Vt,{className:"h-3 w-3 text-blue-500 mr-2 animate-spin"}):i.jsx("div",{className:"h-3 w-3 rounded-full border border-gray-300 mr-2"}),i.jsx("span",{className:ge.completed?"text-green-700":ge.current?"text-blue-700":"text-gray-500",children:ge.step})]},tt))})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2",children:[i.jsxs("div",{className:"text-xs text-gray-400",children:[e.length,"/1000 characters"]}),i.jsx(me,{onClick:Ee,disabled:!e.trim()||Qe||s||H||ur,size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-sm",children:Qe||ur?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-3 w-3 mr-2 animate-spin"}),"Generating"," ",ht?`${ht}...`:"Sections..."]}):H?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-3 w-3 mr-2 animate-spin"}),"Analyzing..."]}):s?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-3 w-3 mr-2 animate-spin"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wn,{className:"h-3 w-3 mr-2"}),"Generate Plan (",dt.filter(ge=>ge.enabled).length," ","sections)"]})})]})]})]}),c==="plan"&&i.jsx(lt,{className:"mb-6 border-0 shadow-sm bg-white",children:i.jsxs(ct,{className:"p-6",children:[y?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Edit Project Plan"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(me,{onClick:zo,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),i.jsxs(me,{onClick:ta,variant:"outline",size:"sm",className:"border-gray-300",children:[i.jsx(un,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]}),i.jsx("div",{className:"border border-gray-300 rounded-t-lg p-3 bg-gray-50 border-b-0",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(me,{variant:"outline",size:"sm",onClick:()=>Ai("bold"),className:"h-8 px-2",type:"button",children:i.jsx(mH,{className:"h-4 w-4"})}),i.jsx(me,{variant:"outline",size:"sm",onClick:()=>Ai("italic"),className:"h-8 px-2",type:"button",children:i.jsx(BH,{className:"h-4 w-4"})}),i.jsx(me,{variant:"outline",size:"sm",onClick:()=>Ai("underline"),className:"h-8 px-2",type:"button",children:i.jsx(DH,{className:"h-4 w-4"})}),i.jsx(gl,{orientation:"vertical",className:"h-6"}),i.jsx(me,{variant:"outline",size:"sm",onClick:()=>Ql(1),className:"h-8 px-3 text-xs",type:"button",children:"H1"}),i.jsx(me,{variant:"outline",size:"sm",onClick:()=>Ql(2),className:"h-8 px-3 text-xs",type:"button",children:"H2"}),i.jsx(me,{variant:"outline",size:"sm",onClick:()=>Ql(3),className:"h-8 px-3 text-xs",type:"button",children:"H3"}),i.jsx(gl,{orientation:"vertical",className:"h-6"}),i.jsx(me,{variant:"outline",size:"sm",onClick:()=>Ai("insertUnorderedList"),className:"h-8 px-2",type:"button",children:i.jsx(jH,{className:"h-4 w-4"})}),i.jsx(me,{variant:"outline",size:"sm",onClick:()=>Ai("insertOrderedList"),className:"h-8 px-2",type:"button",children:i.jsx(EH,{className:"h-4 w-4"})}),i.jsx(me,{variant:"outline",size:"sm",onClick:()=>Ai("formatBlock","blockquote"),className:"h-8 px-2",type:"button",children:i.jsx(TH,{className:"h-4 w-4"})}),i.jsx(gl,{orientation:"vertical",className:"h-6"}),i.jsx(me,{variant:"outline",size:"sm",onClick:()=>Ai("undo"),className:"h-8 px-3 text-xs",type:"button",children:"Undo"}),i.jsx(me,{variant:"outline",size:"sm",onClick:()=>Ai("redo"),className:"h-8 px-3 text-xs",type:"button",children:"Redo"})]})}),i.jsx("div",{className:"border border-gray-300 rounded-b-lg border-t-0",children:i.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,className:"min-h-[600px] p-4 focus:outline-none focus:ring-2 focus:ring-blue-500 prose prose-gray max-w-none",style:{lineHeight:"1.6",fontSize:"14px"},dangerouslySetInnerHTML:{__html:E},onInput:ge=>{const tt=ge.target;_(tt.innerHTML)},onBlur:ge=>{const tt=ge.target;_(tt.innerHTML)}})}),i.jsxs("div",{className:"text-sm text-gray-500 flex justify-between",children:[i.jsx("span",{children:"Visual HTML editor - use toolbar buttons to format content"}),i.jsxs("span",{children:[E.replace(/<[^>]*>/g,"").length," ","characters (text only)"]})]})]}):i.jsx("div",{className:"space-y-4 mt-[24px] mb-[24px]",children:i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 mt-[20px] mb-[20px]",children:[i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-3 mb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(Fs,{className:"h-4 w-4 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stakeholders & Process"}),i.jsxs("p",{className:"text-xs text-gray-500",children:[dt.filter(ge=>ge.enabled).length," ","of ",dt.length," enabled"]})]})]})}),ur&&i.jsx("div",{className:"mb-4",children:i.jsx(u4,{progress:Xr,sections:Qt})})]})}),K&&p&&i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"border-b border-gray-200 p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-md flex items-center justify-center",children:i.jsx(pl,{className:"h-3 w-3 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"BPMN 2.0 Script"}),i.jsx("p",{className:"text-xs text-gray-600",children:"Export and manage your workflow script"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(me,{onClick:di,variant:"outline",size:"sm",className:"text-xs",children:[i.jsx(zn,{className:"h-3 w-3 mr-1"}),"Copy"]}),i.jsxs(me,{onClick:Ld,variant:"outline",size:"sm",className:"text-xs",children:[i.jsx(Ns,{className:"h-3 w-3 mr-1"}),"Download"]}),i.jsxs(me,{onClick:Ud,variant:"outline",size:"sm",disabled:te,className:"text-xs",children:[i.jsx(bp,{className:"h-3 w-3 mr-1"}),"Edit"]})]})]})}),i.jsx("div",{className:"p-3",children:te?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Edit the BPMN XML script. Ensure proper XML syntax before saving."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(me,{onClick:xA,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white text-xs",children:[i.jsx(Oi,{className:"h-3 w-3 mr-1"}),"Save"]}),i.jsxs(me,{onClick:wA,variant:"outline",size:"sm",className:"text-xs",children:[i.jsx(un,{className:"h-3 w-3 mr-1"}),"Cancel"]})]})]}),i.jsx(En,{value:T,onChange:ge=>$(ge.target.value),className:"min-h-[300px] font-mono text-xs bg-gray-50 border-gray-300 focus:border-purple-500 focus:ring-purple-500",placeholder:"Edit BPMN XML script..."}),i.jsxs("div",{className:"text-xs text-gray-500",children:[T.length," characters | Maintain valid BPMN XML structure"]})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Generated BPMN 2.0 script that powers your visual workflow diagram. Compatible with any BPMN editor."}),i.jsx("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-3 max-h-[300px] overflow-y-auto",children:i.jsx("pre",{className:"text-xs text-gray-800 font-mono whitespace-pre-wrap",children:p})}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[i.jsx("span",{children:"BPMN 2.0 XML format with swimlanes"}),i.jsxs("span",{children:[p.length," characters"]})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("div",{className:"border-b border-gray-200 p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-500 to-pink-600 rounded-md flex items-center justify-center",children:i.jsx(Yn,{className:"h-3 w-3 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Stakeholder Analysis"}),i.jsx("p",{className:"text-xs text-gray-600",children:"Identify and analyze all project stakeholders with AI-powered insights"})]})]})}),i.jsxs("div",{className:"p-3 space-y-3",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Generate comprehensive stakeholder analysis including roles, responsibilities, influence levels, and interest mapping for your project."}),i.jsx(me,{onClick:Br,disabled:De||!e.trim(),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg text-sm",children:De?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-3 w-3 mr-2 animate-spin"}),"Analyzing Stakeholders..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Yn,{className:"h-3 w-3 mr-2"}),"Generate Stakeholder Analysis"]})}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ln,{className:"h-4 w-4 text-purple-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add Stakeholder"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx("input",{type:"text",value:Te,onChange:ge=>nt(ge.target.value),placeholder:"Enter stakeholder name (e.g., Project Manager, End User, Admin)",className:"w-full h-10 rounded-lg border border-purple-200 bg-white px-4 py-2 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 shadow-sm transition-all placeholder:text-gray-400",onKeyPress:ge=>ge.key==="Enter"&&Te.trim()&&Gt()}),Te.trim()&&i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})})]}),i.jsxs(me,{onClick:Gt,disabled:!Te.trim(),className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white shadow-lg disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200 px-6",children:[i.jsx(Ln,{className:"h-4 w-4 mr-1"}),"Add"]})]}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:' Tip: Press Enter to quickly add stakeholders, or click "Generate AI Suggestions" for ideas'})]}),pe.length>0&&i.jsx("div",{className:"mt-3",children:i.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200/60 rounded-xl p-3 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center",children:i.jsx(Yn,{className:"h-3 w-3 text-white"})}),i.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:"Stakeholders"}),i.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full text-xs font-medium",children:pe.length})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[pe.map((ge,tt)=>i.jsx("div",{className:"group bg-white/90 backdrop-blur-sm border border-purple-200/60 rounded-xl p-3 hover:bg-white hover:shadow-lg hover:border-purple-300 transition-all duration-300 flex-shrink-0 min-w-[120px]",children:Xe===tt?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"text",value:it,onChange:St=>It(St.target.value),className:"flex-1 h-8 rounded-lg border border-purple-300 bg-white px-3 text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 shadow-sm",onKeyPress:St=>St.key==="Enter"&&Sr(),placeholder:"Enter stakeholder name",autoFocus:!0}),i.jsx("button",{onClick:Sr,title:"Save changes",className:"h-8 w-8 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg flex items-center justify-center transition-all hover:scale-105 shadow-sm",children:i.jsx(Oi,{className:"h-3.5 w-3.5"})}),i.jsx("button",{onClick:Bn,title:"Cancel editing",className:"h-8 w-8 bg-gray-400 hover:bg-gray-500 text-white rounded-lg flex items-center justify-center transition-all hover:scale-105 shadow-sm",children:i.jsx(un,{className:"h-3.5 w-3.5"})})]}):i.jsxs("div",{className:"flex items-center justify-between min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[i.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-purple-400 to-indigo-500 rounded-full flex-shrink-0"}),i.jsx("span",{className:"text-sm font-medium text-gray-800 truncate",title:ge,children:ge})]}),i.jsxs("div",{className:"flex items-center gap-1 ml-2 opacity-0 group-hover:opacity-100 transition-all duration-200",children:[i.jsx("button",{onClick:()=>xr(tt),title:"Edit stakeholder name",className:"h-7 w-7 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center justify-center transition-all hover:scale-110 shadow-sm",children:i.jsx(bp,{className:"h-3 w-3"})}),i.jsx("button",{onClick:()=>Nr(tt),title:"Remove stakeholder",className:"h-7 w-7 bg-red-500 hover:bg-red-600 text-white rounded-lg flex items-center justify-center transition-all hover:scale-110 shadow-sm",children:i.jsx(ns,{className:"h-3 w-3"})})]})]})},tt)),pe.length===0&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 italic bg-purple-50/50 rounded-lg p-3 border border-dashed border-purple-200",children:[i.jsx(Yn,{className:"h-4 w-4"}),i.jsx("span",{children:'No stakeholders added yet. Click "Generate AI Suggestions" or add manually.'})]})]})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("div",{className:"border-b border-gray-200 p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:i.jsx(nd,{className:"h-3 w-3 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Generate Flow Diagram"}),i.jsx("p",{className:"text-xs text-gray-600",children:"Create an interactive workflow diagram based on your project"})]})]})}),i.jsxs("div",{className:"p-3 space-y-3",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Generate a consolidated multi-stakeholder user journey flow diagram showing how all stakeholders interact, collaborate, and achieve their goals within your system."}),i.jsx(me,{onClick:ao,disabled:mn||!e.trim()||pe.length===0,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg text-sm disabled:from-gray-400 disabled:to-gray-500",children:mn?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-3 w-3 mr-2 animate-spin"}),"Generating Consolidated Flow..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Yn,{className:"h-3 w-3 mr-2"}),"Generate Multi-Stakeholder User Journey Flow"]})}),pe.length===0&&i.jsx("div",{className:"mt-2 text-xs text-amber-600 bg-amber-50 p-2 rounded-lg border border-amber-200",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Fh,{className:"h-3 w-3"}),i.jsx("span",{children:"Add stakeholders above to generate a comprehensive multi-stakeholder flow diagram"})]})}),pn&&i.jsx("div",{className:"mt-6 relative",children:i.jsxs("div",{className:"relative backdrop-blur-xl bg-gradient-to-br from-blue-50/80 via-indigo-50/60 to-purple-50/80 border border-blue-200/50 rounded-2xl p-6 shadow-xl",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/5 via-indigo-400/5 to-purple-400/5 rounded-2xl"}),i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-blue-300/10 to-transparent rounded-2xl"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-indigo-300/10 to-transparent rounded-2xl"}),i.jsxs("div",{className:"relative flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg flex items-center justify-center",children:i.jsx(nd,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-bold bg-gradient-to-r from-blue-800 to-indigo-800 bg-clip-text text-transparent",children:"User Journey Flow"}),i.jsx("p",{className:"text-sm text-blue-600/80 font-medium",children:"Interactive user experience visualization"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(me,{onClick:ao,disabled:mn,className:"group relative px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 rounded-xl font-medium text-sm",children:[mn?i.jsx(Vt,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Jp,{className:"h-4 w-4 mr-2 group-hover:scale-110 transition-transform duration-200"}),mn?"Regenerating...":"Regenerate",i.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),i.jsxs(me,{onClick:ea,className:"group relative px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 rounded-xl font-medium text-sm",children:[i.jsx(Ns,{className:"h-4 w-4 mr-2 group-hover:scale-110 transition-transform duration-200"}),"Export",i.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]}),i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/90 to-white/60 rounded-2xl shadow-2xl backdrop-blur-sm"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-indigo-500/3 to-purple-500/5 rounded-2xl"}),i.jsxs("div",{className:"relative bg-white/70 backdrop-blur-md rounded-2xl border border-white/50 shadow-inner overflow-hidden",style:{height:"360px"},children:[i.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #3B82F6 1px, transparent 0)",backgroundSize:"20px 20px"}}),i.jsx(ad,{flowData:pn.flowData,title:pn.title,className:"h-full relative z-10",flowKey:"project-flow-diagram",onFlowUpdate:ge=>{Ur({...pn,flowData:ge}),localStorage.setItem("project-flow-diagram",JSON.stringify({...pn,flowData:ge}));try{const tt=JSON.parse(localStorage.getItem("flowDiagrams")||"{}");tt["project-flow-diagram"]=ge,localStorage.setItem("flowDiagrams",JSON.stringify(tt)),console.log(" Project flow saved to flowDiagrams structure")}catch(tt){console.error("Error saving to flowDiagrams structure:",tt)}}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/5 to-indigo-400/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none rounded-2xl"})]})]}),i.jsxs("div",{className:"relative mt-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/60 backdrop-blur-sm rounded-xl border border-blue-200/30",children:[i.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full animate-pulse"}),i.jsxs("span",{className:"text-sm font-semibold text-blue-800",children:[((Rd=pn.flowData.nodes)==null?void 0:Rd.length)||0," ","nodes"]})]}),i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/60 backdrop-blur-sm rounded-xl border border-indigo-200/30",children:[i.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),i.jsxs("span",{className:"text-sm font-semibold text-indigo-800",children:[((bA=pn.flowData.edges)==null?void 0:bA.length)||0," ","connections"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 backdrop-blur-sm rounded-full border border-emerald-200/50",children:[i.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-xs font-medium text-emerald-700",children:"Live & Interactive"})]})]})]})})]})]}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-3 pt-[14px] pb-[14px] mt-[20px] mb-[20px]",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 justify-between items-center",children:[i.jsxs(me,{variant:"outline",onClick:Ol,disabled:o||N,className:"border-gray-300 hover:bg-gray-50 w-full lg:w-auto",children:[i.jsx(Im,{className:"h-4 w-4 mr-2"}),"Start Over"]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[i.jsx(yn,{href:"/market-research",className:"w-full sm:w-auto",children:i.jsxs(me,{variant:"outline",className:`w-full ${Z2()?"bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700":"bg-gradient-to-r from-gray-400 to-gray-500 hover:from-gray-500 hover:to-gray-600"} text-white border-0 shadow-lg relative`,children:[i.jsx(Xu,{className:"h-4 w-4 mr-2"}),"Market Research",Z2()&&i.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]})}),i.jsx(yn,{href:"/user-journey",className:"w-full sm:w-auto",children:i.jsxs(me,{variant:"outline",className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white border-0 shadow-lg",children:[i.jsx(Yn,{className:"h-4 w-4 mr-2"}),"User Journey Flows"]})})]})]})})]})}),c==="diagram"&&i.jsx(lt,{className:"mb-6",children:i.jsxs(ct,{className:"py-8",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(wr,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Visual Diagram Created Successfully!"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Your project plan has been converted into a comprehensive BPMN diagram with process flows and decision points."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(yn,{href:"/editor",children:i.jsxs(me,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[i.jsx(nd,{className:"h-4 w-4 mr-2"}),"View & Edit Diagram"]})}),i.jsxs(me,{variant:"outline",onClick:Ol,children:[i.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Create Another Project"]})]})]}),p&&i.jsx("div",{className:"border-t border-gray-200 pt-6",children:i.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border border-purple-200 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h4",{className:"text-lg font-semibold text-purple-800 flex items-center gap-2",children:[i.jsx(pl,{className:"h-5 w-5"}),"BPMN 2.0 Script Management"]}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx(me,{onClick:()=>W(!K),variant:"outline",size:"sm",className:"border-purple-300 text-purple-600 hover:bg-purple-50",children:K?i.jsxs(i.Fragment,{children:[i.jsx(ZC,{className:"h-4 w-4 mr-2"}),"Hide Script"]}):i.jsxs(i.Fragment,{children:[i.jsx(Wa,{className:"h-4 w-4 mr-2"}),"View Script"]})}),i.jsxs(me,{onClick:di,variant:"outline",size:"sm",className:"border-indigo-300 text-indigo-600 hover:bg-indigo-50",children:[i.jsx(zn,{className:"h-4 w-4 mr-2"}),"Copy"]}),i.jsxs(me,{onClick:Ld,variant:"outline",size:"sm",className:"border-green-300 text-green-600 hover:bg-green-50",children:[i.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Download"]})]})]}),i.jsx("p",{className:"text-sm text-purple-700 mb-4",children:"Access and manage the underlying BPMN 2.0 JSON script that powers your visual workflow diagram. This script can be imported into any BPMN-compatible editor or system."}),K&&i.jsx("div",{className:"space-y-4",children:te?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm text-purple-700",children:"Edit the BPMN JSON script. Ensure proper JSON syntax before saving."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(me,{onClick:xA,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),i.jsxs(me,{onClick:wA,variant:"outline",size:"sm",className:"border-gray-300",children:[i.jsx(un,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]}),i.jsx(En,{value:T,onChange:ge=>$(ge.target.value),className:"min-h-[400px] font-mono text-sm bg-gray-50 border-purple-300 focus:border-purple-500 focus:ring-purple-500",placeholder:"Edit BPMN XML script..."}),i.jsxs("div",{className:"text-sm text-gray-500",children:[T.length," characters | Make sure to maintain valid BPMN XML structure"]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:[i.jsx("span",{children:"BPMN 2.0 XML format with swimlanes"}),i.jsxs("span",{className:"ml-4",children:[p.length," characters total"]})]}),i.jsxs(me,{onClick:Ud,variant:"outline",size:"sm",className:"border-blue-300 text-blue-600 hover:bg-blue-50",children:[i.jsx(bp,{className:"h-4 w-4 mr-2"}),"Edit Script"]})]}),i.jsx("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4 max-h-[400px] overflow-y-auto",children:i.jsx("pre",{className:"text-sm text-gray-800 font-mono whitespace-pre-wrap",children:p})})]})})]})}),i.jsx("div",{className:"mt-3",children:i.jsxs(lt,{className:"border-0 shadow-sm",children:[i.jsx(Bt,{className:"bg-gradient-to-r from-teal-50 to-cyan-50 border-b p-3",children:i.jsx(Nt,{className:"flex items-center justify-between text-base",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-teal-500 to-cyan-600 rounded-md flex items-center justify-center",children:i.jsx(Fs,{className:"h-3 w-3 text-white"})}),"Sitemap XML Generator"]})})}),i.jsx(ct,{className:"p-3",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-600 text-sm",children:"Generate a comprehensive XML sitemap for your project including all suggested pages, content hierarchy, SEO metadata, and navigation structure."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(me,{onClick:Hl,disabled:U||!e.trim(),className:"bg-gradient-to-r from-teal-500 to-cyan-600 hover:from-teal-600 hover:to-cyan-700 text-sm",children:U?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-3 w-3 mr-2 animate-spin"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wn,{className:"h-3 w-3 mr-2"}),"Generate Sitemap XML"]})}),I&&i.jsxs(i.Fragment,{children:[i.jsxs(me,{onClick:yA,variant:"outline",size:"sm",className:"border-teal-300 text-teal-600 hover:bg-teal-50 text-xs",children:[i.jsx(zn,{className:"h-3 w-3 mr-1"}),"Copy"]}),i.jsxs(me,{onClick:_s,variant:"outline",size:"sm",className:"border-green-300 text-green-600 hover:bg-green-50 text-xs",children:[i.jsx(Ns,{className:"h-3 w-3 mr-1"}),"Download"]})]})]}),I&&i.jsx("div",{className:"mt-6",children:i.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 border border-teal-200 rounded-xl p-6",children:[i.jsxs("h4",{className:"text-lg font-semibold text-teal-800 mb-3 flex items-center gap-2",children:[i.jsx(pl,{className:"h-5 w-5"}),"Generated Sitemap XML"]}),i.jsx("p",{className:"text-sm text-teal-700 mb-4",children:"Complete XML sitemap with all application pages, URLs, priorities, and SEO metadata. Ready for implementation and search engine submission."}),i.jsx("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-4 max-h-[400px] overflow-y-auto",children:i.jsx("pre",{className:"text-sm text-green-400 font-mono whitespace-pre-wrap",children:I})})]})})]})})]})})]})})]}),ts&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-600 shadow-lg",children:i.jsx(QE,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Regenerate Section"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Use AI to regenerate content with custom instructions"})]})]}),i.jsx(me,{onClick:gn,variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700",children:i.jsx(un,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Fh,{className:"h-4 w-4 text-purple-600"}),i.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Section Information"})]}),i.jsx("p",{className:"text-sm text-purple-700",children:Yt&&(()=>{if(r&&(r.includes("<section")||r.includes("<!DOCTYPE html>"))){const ge=/<section[^>]*>((?:.|\s)*?)<\/section>/gi;let tt;for(;(tt=ge.exec(r))!==null;){const Wt=tt[0].match(/<h[1-3][^>]*>(.*?)<\/h[1-3]>/i),er=Wt?Wt[1].replace(/<[^>]*>/g,"").trim():"Unknown Section";if(er.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")===Yt)return`Regenerating: "${er}"`}}return`Regenerating section: ${Yt}`})()})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"customPrompt",className:"block text-sm font-medium text-gray-700",children:"Custom Instructions"}),i.jsx(En,{id:"customPrompt",value:Jt,onChange:ge=>kn(ge.target.value),placeholder:"Enter specific instructions for how you want this section to be regenerated...",className:"min-h-[120px] border-gray-300 focus:border-purple-500 focus:ring-purple-500"}),i.jsx("p",{className:"text-xs text-gray-500",children:'Example: "Make this more technical and include code examples" or "Focus on cost analysis and budget breakdown"'})]}),i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(_o,{className:"h-4 w-4 text-yellow-600"}),i.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Important"})]}),i.jsx("p",{className:"text-sm text-yellow-700",children:"This will completely replace the current section content. The regeneration will maintain the section title but recreate all content based on your instructions."})]})]}),i.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 flex justify-end gap-3",children:[i.jsx(me,{onClick:gn,variant:"outline",disabled:yr,children:"Cancel"}),i.jsx(me,{onClick:()=>Yt&&Td(Yt,Jt),disabled:!Jt.trim()||yr,className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white",children:yr?i.jsxs(i.Fragment,{children:[i.jsx(Jp,{className:"h-4 w-4 mr-2 animate-spin"}),"Regenerating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(QE,{className:"h-4 w-4 mr-2"}),"Regenerate Section"]})})]})]})})]})}function ro(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}const Dm=Object.prototype.toString,gZ=Object.prototype.hasOwnProperty;function e5(e){return e===void 0}function sh(e){return e!==void 0}function WL(e){return e==null}function Sa(e){return Dm.call(e)==="[object Array]"}function bd(e){return Dm.call(e)==="[object Object]"}function rA(e){return Dm.call(e)==="[object Number]"}function Kc(e){const t=Dm.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"||t==="[object Proxy]"}function Lo(e){return Dm.call(e)==="[object String]"}function Wh(e,t){return!WL(e)&&gZ.call(e,t)}function Za(e,t){const r=VB(t);let n;return kt(e,function(s,a){if(r(s,a))return n=s,!1}),n}function vZ(e,t){const r=VB(t);let n=Sa(e)?-1:void 0;return kt(e,function(s,a){if(r(s,a))return n=a,!1}),n}function Lh(e,t){const r=VB(t);let n=[];return kt(e,function(s,a){r(s,a)&&n.push(s)}),n}function kt(e,t){let r,n;if(e5(e))return;const s=Sa(e)?wZ:xZ;for(let a in e)if(Wh(e,a)&&(r=e[a],n=t(r,s(a)),n===!1))return r}function Uh(e,t,r){return kt(e,function(n,s){r=t(r,n,s)}),r}function qL(e,t){return!!Uh(e,function(r,n,s){return r&&t(n,s)},!0)}function XL(e,t){return!!Za(e,t)}function yZ(e,t){let r=[];return kt(e,function(n,s){r.push(t(n,s))}),r}function fj(e){return function(t){return qL(e,function(r,n){return t[n]===r})}}function VB(e){return Kc(e)?e:t=>t===e}function xZ(e){return e}function wZ(e){return Number(e)}function bZ(e,t){let r,n,s,a;function o(u){let p=Date.now(),f=u?0:a+t-p;if(f>0)return l(f);e.apply(s,n),c()}function l(u){r=setTimeout(o,u)}function c(){r&&clearTimeout(r),r=a=n=s=void 0}function A(){r&&o(!0),c()}function d(...u){a=Date.now(),n=u,s=this,r||l(t)}return d.flush=A,d.cancel=c,d}function kl(e,t){return e.bind(t)}function Lt(e,...t){return Object.assign(e,...t)}function CZ(e,t,r){let n=e;return kt(t,function(s,a){if(typeof s!="number"&&typeof s!="string")throw new Error("illegal key type: "+typeof s+". Key should be of type number or string.");if(s==="constructor")throw new Error("illegal key: constructor");if(s==="__proto__")throw new Error("illegal key: __proto__");let o=t[a+1],l=n[s];sh(o)&&WL(l)&&(l=n[s]=isNaN(+o)?{}:[]),e5(o)?e5(r)?delete n[s]:n[s]=r:n=l}),e}function BZ(e,t){let r={},n=Object(e);return kt(t,function(s){s in n&&(r[s]=e[s])}),r}function NZ(e,t){let r={},n=Object(e);return kt(n,function(s,a){t.indexOf(a)===-1&&(r[a]=s)}),r}var SZ=1e3;function Ul(e,t){var r=this;t=t||SZ,e.on(["render.shape","render.connection"],t,function(n,s){var a=n.type,o=s.element,l=s.gfx,c=s.attrs;if(r.canRender(o))return a==="render.shape"?r.drawShape(l,o,c):r.drawConnection(l,o,c)}),e.on(["render.getShapePath","render.getConnectionPath"],t,function(n,s){if(r.canRender(s))return n.type==="render.getShapePath"?r.getShapePath(s):r.getConnectionPath(s)})}Ul.prototype.canRender=function(e){};Ul.prototype.drawShape=function(e,t){};Ul.prototype.drawConnection=function(e,t){};Ul.prototype.getShapePath=function(e){};Ul.prototype.getConnectionPath=function(e){};function Tt(e,t){var r=dn(e);return r&&typeof r.$instanceOf=="function"&&r.$instanceOf(t)}function EZ(e,t){return XL(t,function(r){return Tt(e,r)})}function dn(e){return e&&e.businessObject||e}function Cd(e){return e&&e.di}function QA(e,t){return Tt(e,"bpmn:CallActivity")?!1:Tt(e,"bpmn:SubProcess")?(t=t||Cd(e),t&&Tt(t,"bpmndi:BPMNPlane")?!0:t&&!!t.isExpanded):Tt(e,"bpmn:Participant")?!!dn(e).processRef:!0}function pj(e){if(!(!Tt(e,"bpmn:Participant")&&!Tt(e,"bpmn:Lane"))){var t=Cd(e).isHorizontal;return t===void 0?!0:t}}function jZ(e){return e&&!!dn(e).triggeredByEvent}function FZ(e){return bd(e)&&Wh(e,"waypoints")}var yy={width:90,height:20},mj=15;function kZ(e){return Tt(e,"bpmn:Event")||Tt(e,"bpmn:Gateway")||Tt(e,"bpmn:DataStoreReference")||Tt(e,"bpmn:DataObjectReference")||Tt(e,"bpmn:DataInput")||Tt(e,"bpmn:DataOutput")||Tt(e,"bpmn:SequenceFlow")||Tt(e,"bpmn:MessageFlow")||Tt(e,"bpmn:Group")}function IZ(e){var t=e.length/2-1,r=e[Math.floor(t)],n=e[Math.ceil(t+.01)],s=PZ(e),a=Math.atan((n.y-r.y)/(n.x-r.x)),o=s.x,l=s.y;return Math.abs(a)<Math.PI/2?l-=mj:o+=mj,{x:o,y:l}}function PZ(e){var t=e.length/2-1,r=e[Math.floor(t)],n=e[Math.ceil(t+.01)];return{x:r.x+(n.x-r.x)/2,y:r.y+(n.y-r.y)/2}}function _Z(e){return e.waypoints?IZ(e.waypoints):Tt(e,"bpmn:Group")?{x:e.x+e.width/2,y:e.y+yy.height/2}:{x:e.x+e.width/2,y:e.y+e.height+yy.height/2}}function TZ(e,t){var r,n,s,a=e.label;return a&&a.bounds?(s=a.bounds,n={width:Math.max(yy.width,s.width),height:s.height},r={x:s.x+s.width/2,y:s.y+s.height/2}):(r=_Z(t),n=yy),Lt({x:r.x-n.width/2,y:r.y-n.height/2},n)}function LZ(e){if(Tt(e,"bpmn:FlowElement")||Tt(e,"bpmn:Participant")||Tt(e,"bpmn:Lane")||Tt(e,"bpmn:SequenceFlow")||Tt(e,"bpmn:MessageFlow")||Tt(e,"bpmn:DataInput")||Tt(e,"bpmn:DataOutput"))return"name";if(Tt(e,"bpmn:TextAnnotation"))return"text";if(Tt(e,"bpmn:Group"))return"categoryValueRef"}function UZ(e){var t=e.categoryValueRef;return t&&t.value||""}function xy(e){var t=e.businessObject,r=LZ(t);if(r)return r==="categoryValueRef"?UZ(t):t[r]||""}function RZ(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch{}return e}function DZ(e,t){return t.appendChild(RZ(e,t))}function ss(e,t){return DZ(t,e),e}var t5=2,JL={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":t5,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":t5,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function MZ(e,t){return JL[t]?e.style[t]:e.getAttributeNS(null,t)}function YL(e,t,r){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=JL[n];s?(s===t5&&typeof r=="number"&&(r=String(r)+"px"),e.style[n]=r):e.setAttributeNS(null,t,r)}function QZ(e,t){var r=Object.keys(t),n,s;for(n=0,s;s=r[n];n++)YL(e,s,t[s])}function tn(e,t,r){if(typeof t=="string")if(r!==void 0)YL(e,t,r);else return MZ(e,t);else QZ(e,t);return e}const OZ=Object.prototype.toString;function Bo(e){return new nA(e)}function nA(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}nA.prototype.add=function(e){return this.list.add(e),this};nA.prototype.remove=function(e){return OZ.call(e)=="[object RegExp]"?this.removeMatching(e):(this.list.remove(e),this)};nA.prototype.removeMatching=function(e){const t=this.array();for(let r=0;r<t.length;r++)e.test(t[r])&&this.remove(t[r]);return this};nA.prototype.toggle=function(e,t){return typeof t<"u"?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this};nA.prototype.array=function(){return Array.from(this.list)};nA.prototype.has=nA.prototype.contains=function(e){return this.list.contains(e)};var WB={svg:"http://www.w3.org/2000/svg"},gj='<svg xmlns="'+WB.svg+'"';function HZ(e){var t=!1;e.substring(0,4)==="<svg"?e.indexOf(WB.svg)===-1&&(e=gj+e.substring(4)):(e=gj+">"+e+"</svg>",t=!0);var r=$Z(e);if(!t)return r;for(var n=document.createDocumentFragment(),s=r.firstChild;s.firstChild;)n.appendChild(s.firstChild);return n}function $Z(e){var t;return t=new DOMParser,t.async=!1,t.parseFromString(e,"text/xml")}function en(e,t){var r;return e=e.trim(),e.charAt(0)==="<"?(r=HZ(e).firstChild,r=document.importNode(r,!0)):r=document.createElementNS(WB.svg,e),t&&tn(r,t),r}var E1=null;function ZL(){return E1===null&&(E1=en("svg")),E1}function vj(e,t){var r,n,s=Object.keys(t);for(r=0;n=s[r];r++)e[n]=t[n];return e}function zZ(e,t,r,n,s,a){var o=ZL().createSVGMatrix();switch(arguments.length){case 0:return o;case 1:return vj(o,e);case 6:return vj(o,{a:e,b:t,c:r,d:n,e:s,f:a})}}function Cp(e){return ZL().createSVGTransform()}var yj=/([&<>]{1})/g,KZ=/([&<>\n\r"]{1})/g,GZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function j1(e,t){function r(n,s){return GZ[s]||s}return e.replace(t,r)}function eU(e,t){var r,n,s,a,o;switch(e.nodeType){case 3:t.push(j1(e.textContent,yj));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(s=e.attributes,r=0,n=s.length;r<n;++r)a=s.item(r),t.push(" ",a.name,'="',j1(a.value,KZ),'"');if(e.hasChildNodes()){for(t.push(">"),o=e.childNodes,r=0,n=o.length;r<n;++r)eU(o.item(r),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("<!--",j1(e.nodeValue,yj),"-->");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function VZ(e){for(var t=e.firstChild,r=[];t;)eU(t,r),t=t.nextSibling;return r.join("")}function xj(e,t){return VZ(e)}function Mm(e){var t=e.parentNode;return t&&t.removeChild(e),e}function WZ(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}function qZ(e,t){var r,n;for(e.clear(),r=0;n=t[r];r++)e.appendItem(WZ(e,n))}function dm(e,t){var r=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),qZ(r,t)),r.consolidate()}function jd(e){return e.flat().join(",").replace(/,?([A-Za-z]),?/g,"$1")}function XZ(e){return["M",e.x,e.y]}function F1(e){return["L",e.x,e.y]}function JZ(e,t,r){return["C",e.x,e.y,t.x,t.y,r.x,r.y]}function YZ(e,t){const r=e.length,n=[XZ(e[0])];for(let s=1;s<r;s++){const a=e[s-1],o=e[s],l=e[s+1];if(!l||!t){n.push(F1(o));continue}const c=Math.min(t,r5(o.x-a.x,o.y-a.y),r5(l.x-o.x,l.y-o.y));if(!c){n.push(F1(o));continue}const A=d0(o,a,c),d=d0(o,a,c*.5),u=d0(o,l,c),p=d0(o,l,c*.5);n.push(F1(A)),n.push(JZ(d,p,u))}return n}function d0(e,t,r){const n=t.x-e.x,s=t.y-e.y,a=r5(n,s),o=r/a;return{x:e.x+n*o,y:e.y+s*o}}function r5(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}function qB(e,t,r){rA(t)&&(r=t,t=null),t||(t={});const n=en("path",t);return rA(r)&&(n.dataset.cornerRadius=String(r)),tU(n,e)}function tU(e,t){const r=parseInt(e.dataset.cornerRadius,10)||0;return tn(e,{d:jd(YZ(t,r))}),e}var n5="hsl(225, 10%, 15%)",ZZ="white";function ho(e,t){return XL(e.eventDefinitions,function(r){return r.$type===t})}function eee(e){return e.$type==="bpmn:IntermediateThrowEvent"||e.$type==="bpmn:EndEvent"}function tee(e){var t=e.dataObjectRef;return e.isCollection||t&&t.isCollection}function tr(e,t,r){var n=Cd(e);return r||n.get("color:background-color")||n.get("bioc:fill")||t||ZZ}function ot(e,t,r){var n=Cd(e);return r||n.get("color:border-color")||n.get("bioc:stroke")||t||n5}function Hf(e,t,r,n){var s=Cd(e),a=s.get("label");return n||a&&a.get("color:color")||t||ot(e,r)}function ree(e){var t=e.x+e.width/2,r=e.y+e.height/2,n=e.width/2,s=[["M",t,r],["m",0,-n],["a",n,n,0,1,1,0,2*n],["a",n,n,0,1,1,0,-2*n],["z"]];return jd(s)}function nee(e,t){var r=e.x,n=e.y,s=e.width,a=e.height,o=[["M",r+t,n],["l",s-t*2,0],["a",t,t,0,0,1,t,t],["l",0,a-t*2],["a",t,t,0,0,1,-t,t],["l",t*2-s,0],["a",t,t,0,0,1,-t,-t],["l",0,t*2-a],["a",t,t,0,0,1,t,-t],["z"]];return jd(o)}function see(e){var t=e.width,r=e.height,n=e.x,s=e.y,a=t/2,o=r/2,l=[["M",n+a,s],["l",a,o],["l",-a,o],["l",-a,-o],["z"]];return jd(l)}function iee(e){var t=e.x,r=e.y,n=e.width,s=e.height,a=[["M",t,r],["l",n,0],["l",0,s],["l",-n,0],["z"]];return jd(a)}function $f(e,t={}){return{width:Aa(e,t),height:mi(e,t)}}function Aa(e,t={}){return Wh(t,"width")?t.width:e.width}function mi(e,t={}){return Wh(t,"height")?t.height:e.height}function aee(e,t){return t.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in e)){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(e)}const oee=Object.prototype.toString,lee=Object.prototype.hasOwnProperty;function cee(e){return e===void 0}function Aee(e){return oee.call(e)==="[object Array]"}function dee(e,t){return lee.call(e,t)}function wj(e,t){let r,n;if(cee(e))return;const s=Aee(e)?hee:uee;for(let a in e)if(dee(e,a)&&(r=e[a],n=t(r,s(a)),n===!1))return r}function uee(e){return e}function hee(e){return Number(e)}function bi(e,...t){const r=e.style;return wj(t,function(n){n&&wj(n,function(s,a){r[a]=s})}),e}function rU(e,t,r){return arguments.length==2?e.getAttribute(t):r===null?e.removeAttribute(t):(e.setAttribute(t,r),e)}const fee=Object.prototype.toString;function Qm(e){return new sA(e)}function sA(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}sA.prototype.add=function(e){return this.list.add(e),this};sA.prototype.remove=function(e){return fee.call(e)=="[object RegExp]"?this.removeMatching(e):(this.list.remove(e),this)};sA.prototype.removeMatching=function(e){const t=this.array();for(let r=0;r<t.length;r++)e.test(t[r])&&this.remove(t[r]);return this};sA.prototype.toggle=function(e,t){return typeof t<"u"?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this};sA.prototype.array=function(){return Array.from(this.list)};sA.prototype.has=sA.prototype.contains=function(e){return this.list.contains(e)};function nU(e){for(var t;t=e.firstChild;)e.removeChild(t);return e}function sU(e,t,r){var n=r?e:e.parentNode;return n&&typeof n.closest=="function"&&n.closest(t)||null}var wy={},by,s5,XB;function iU(){by=window.addEventListener?"addEventListener":"attachEvent",s5=window.removeEventListener?"removeEventListener":"detachEvent",XB=by!=="addEventListener"?"on":""}var pee=wy.bind=function(e,t,r,n){return by||iU(),e[by](XB+t,r,n||!1),r},mee=wy.unbind=function(e,t,r,n){return s5||iU(),e[s5](XB+t,r,n||!1),r},xa=aee({__proto__:null,bind:pee,unbind:mee,default:wy},[wy]),aU=["focus","blur"];function gee(e,t,r,n,s){return aU.indexOf(r)!==-1&&(s=!0),xa.bind(e,r,function(a){var o=a.target||a.srcElement;a.delegateTarget=sU(o,t,!0),a.delegateTarget&&n.call(e,a)},s)}function vee(e,t,r,n){return aU.indexOf(t)!==-1&&(n=!0),xa.unbind(e,t,r,n)}var i5={bind:gee,unbind:vee},yee=xee,oU=!1,u0;typeof document<"u"&&(u0=document.createElement("div"),u0.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',oU=!u0.getElementsByTagName("link").length,u0=void 0);var $n={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:oU?[1,"X<div>","</div>"]:[0,"",""]};$n.td=$n.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];$n.option=$n.optgroup=[1,'<select multiple="multiple">',"</select>"];$n.thead=$n.tbody=$n.colgroup=$n.caption=$n.tfoot=[1,"<table>","</table>"];$n.polyline=$n.ellipse=$n.polygon=$n.circle=$n.text=$n.line=$n.path=$n.rect=$n.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function xee(e,t){if(typeof e!="string")throw new TypeError("String expected");t||(t=document);var r=/<([\w:]+)/.exec(e);if(!r)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var n=r[1];if(n=="body"){var c=t.createElement("html");return c.innerHTML=e,c.removeChild(c.lastChild)}var s=Object.prototype.hasOwnProperty.call($n,n)?$n[n]:$n._default,a=s[0],o=s[1],l=s[2],c=t.createElement("div");for(c.innerHTML=o+e+l;a--;)c=c.lastChild;if(c.firstChild==c.lastChild)return c.removeChild(c.firstChild);for(var A=t.createDocumentFragment();c.firstChild;)A.appendChild(c.removeChild(c.firstChild));return A}var Uo=yee;function hl(e,t){return t=t||document,t.querySelector(e)}function wee(e,t){return t=t||document,t.querySelectorAll(e)}function Cy(e){e.parentNode&&e.parentNode.removeChild(e)}function k1(e,t,r,n,s){var a=Cp();a.setTranslate(t,r);var o=Cp();o.setRotate(n||0,0,0);var l=Cp();l.setScale(1,1),dm(e,[a,o,l])}function lU(e,t,r){var n=Cp();n.setTranslate(t,r),dm(e,n)}function bee(e,t){var r=Cp();r.setRotate(t,0,0),dm(e,r)}function Cee(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Bee=Cee(function(e){var t=e.exports=function(r,n){if(n||(n=16),r===void 0&&(r=128),r<=0)return"0";for(var s=Math.log(Math.pow(2,r))/Math.log(n),a=2;s===1/0;a*=2)s=Math.log(Math.pow(2,r/a))/Math.log(n)*a;for(var o=s-Math.floor(s),l="",a=0;a<Math.floor(s);a++){var c=Math.floor(Math.random()*n).toString(n);l=c+l}if(o){var A=Math.pow(n,o),c=Math.floor(Math.random()*A).toString(n);l=c+l}var d=parseInt(l,n);return d!==1/0&&d>=Math.pow(2,r)?t(r,n):l};t.rack=function(r,n,s){var a=function(l){var c=0;do{if(c++>10)if(s)r+=s;else throw new Error("too many ID collisions, use more bits");var A=t(r,n)}while(Object.hasOwnProperty.call(o,A));return o[A]=l,A},o=a.hats={};return a.get=function(l){return a.hats[l]},a.set=function(l,c){return a.hats[l]=c,a},a.bits=r||128,a.base=n||16,a}});function Il(e){if(!(this instanceof Il))return new Il(e);e=e||[128,36,1],this._seed=e.length?Bee.rack(e[0],e[1],e[2]):e}Il.prototype.next=function(e){return this._seed(e||!0)};Il.prototype.nextPrefixed=function(e,t){var r;do r=e+this.next(!0);while(this.assigned(r));return this.claim(r,t),r};Il.prototype.claim=function(e,t){this._seed.set(e,t||!0)};Il.prototype.assigned=function(e){return this._seed.get(e)||!1};Il.prototype.unclaim=function(e){delete this._seed.hats[e]};Il.prototype.clear=function(){var e=this._seed.hats,t;for(t in e)this.unclaim(t)};var Nee=new Il,See=10,h0=3,Eee=1.5,fv=10,du=.95,jee=1,Fee=.25;function Fd(e,t,r,n,s,a,o){Ul.call(this,t,o);var l=e&&e.defaultFillColor,c=e&&e.defaultStrokeColor,A=e&&e.defaultLabelColor;function d(L){return r.computeStyle(L,{strokeLinecap:"round",strokeLinejoin:"round",stroke:n5,strokeWidth:2,fill:"white"})}function u(L){return r.computeStyle(L,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:n5,strokeWidth:2})}function p(L,C){var{ref:j={x:0,y:0},scale:G=1,element:z,parentGfx:ae=s._svg}=C,de=en("marker",{id:L,viewBox:"0 0 20 20",refX:j.x,refY:j.y,markerWidth:20*G,markerHeight:20*G,orient:"auto"});ss(de,z);var he=hl(":scope > defs",ae);he||(he=en("defs"),ss(ae,he)),ss(he,de)}function f(L,C,j,G){var z=Nee.nextPrefixed("marker-");return x(L,z,C,j,G),"url(#"+z+")"}function x(L,C,j,G,z){if(j==="sequenceflow-end"){var ae=en("path",{d:"M 1 5 L 11 10 L 1 15 Z",...d({fill:z,stroke:z,strokeWidth:1})});p(C,{element:ae,ref:{x:11,y:10},scale:.5,parentGfx:L})}if(j==="messageflow-start"){var de=en("circle",{cx:6,cy:6,r:3.5,...d({fill:G,stroke:z,strokeWidth:1,strokeDasharray:[1e4,1]})});p(C,{element:de,ref:{x:6,y:6},parentGfx:L})}if(j==="messageflow-end"){var he=en("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...d({fill:G,stroke:z,strokeWidth:1,strokeDasharray:[1e4,1]})});p(C,{element:he,ref:{x:8.5,y:5},parentGfx:L})}if(j==="association-start"){var ce=en("path",{d:"M 11 5 L 1 10 L 11 15",...u({fill:"none",stroke:z,strokeWidth:1.5,strokeDasharray:[1e4,1]})});p(C,{element:ce,ref:{x:1,y:10},scale:.5,parentGfx:L})}if(j==="association-end"){var oe=en("path",{d:"M 1 5 L 11 10 L 1 15",...u({fill:"none",stroke:z,strokeWidth:1.5,strokeDasharray:[1e4,1]})});p(C,{element:oe,ref:{x:11,y:10},scale:.5,parentGfx:L})}if(j==="conditional-flow-marker"){var Re=en("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...d({fill:G,stroke:z})});p(C,{element:Re,ref:{x:-1,y:10},scale:.5,parentGfx:L})}if(j==="conditional-default-flow-marker"){var Ce=en("path",{d:"M 6 4 L 10 16",...d({stroke:z,fill:"none"})});p(C,{element:Ce,ref:{x:0,y:10},scale:.5,parentGfx:L})}}function m(L,C,j,G,z={}){bd(G)&&(z=G,G=0),G=G||0,z=d(z);var ae=C/2,de=j/2,he=en("circle",{cx:ae,cy:de,r:Math.round((C+j)/4-G),...z});return ss(L,he),he}function N(L,C,j,G,z,ae){bd(z)&&(ae=z,z=0),z=z||0,ae=d(ae);var de=en("rect",{x:z,y:z,width:C-z*2,height:j-z*2,rx:G,ry:G,...ae});return ss(L,de),de}function g(L,C,j,G){var z=C/2,ae=j/2,de=[{x:z,y:0},{x:C,y:ae},{x:z,y:j},{x:0,y:ae}],he=de.map(function(oe){return oe.x+","+oe.y}).join(" ");G=d(G);var ce=en("polygon",{...G,points:he});return ss(L,ce),ce}function y(L,C,j,G){j=u(j);var z=qB(C,j,G);return ss(L,z),z}function w(L,C,j){return y(L,C,j,5)}function E(L,C,j){j=u(j);var G=en("path",{...j,d:C});return ss(L,G),G}function _(L,C,j,G){return E(C,j,Lt({"data-marker":L},G))}function D(L){return Y[L]}function R(L){return function(C,j,G){return D(L)(C,j,G)}}var I={"bpmn:MessageEventDefinition":function(L,C,j={},G){var z=n.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:j.width||C.width,containerHeight:j.height||C.height,position:{mx:.235,my:.315}}),ae=G?ot(C,c,j.stroke):tr(C,l,j.fill),de=G?tr(C,l,j.fill):ot(C,c,j.stroke),he=E(L,z,{fill:ae,stroke:de,strokeWidth:1});return he},"bpmn:TimerEventDefinition":function(L,C,j={}){var G=j.width||C.width,z=j.height||C.height,ae=j.width?1:2,de=m(L,G,z,.2*z,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:ae}),he=n.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:G,containerHeight:z,position:{mx:.5,my:.5}});E(L,he,{stroke:ot(C,c,j.stroke),strokeWidth:ae});for(var ce=0;ce<12;ce++){var oe=n.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:G,containerHeight:z,position:{mx:.5,my:.5}}),Re=G/2,Ce=z/2;E(L,oe,{strokeWidth:1,stroke:ot(C,c,j.stroke),transform:"rotate("+ce*30+","+Ce+","+Re+")"})}return de},"bpmn:EscalationEventDefinition":function(L,C,j={},G){var z=n.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:j.width||C.width,containerHeight:j.height||C.height,position:{mx:.5,my:.2}}),ae=G?ot(C,c,j.stroke):tr(C,l,j.fill);return E(L,z,{fill:ae,stroke:ot(C,c,j.stroke),strokeWidth:1})},"bpmn:ConditionalEventDefinition":function(L,C,j={}){var G=n.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:j.width||C.width,containerHeight:j.height||C.height,position:{mx:.5,my:.222}});return E(L,G,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:1})},"bpmn:LinkEventDefinition":function(L,C,j={},G){var z=n.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:.57,my:.263}}),ae=G?ot(C,c,j.stroke):tr(C,l,j.fill);return E(L,z,{fill:ae,stroke:ot(C,c,j.stroke),strokeWidth:1})},"bpmn:ErrorEventDefinition":function(L,C,j={},G){var z=n.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:j.width||C.width,containerHeight:j.height||C.height,position:{mx:.2,my:.722}}),ae=G?ot(C,c,j.stroke):tr(C,l,j.fill);return E(L,z,{fill:ae,stroke:ot(C,c,j.stroke),strokeWidth:1})},"bpmn:CancelEventDefinition":function(L,C,j={},G){var z=n.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:.638,my:-.055}}),ae=G?ot(C,c,j.stroke):"none",de=E(L,z,{fill:ae,stroke:ot(C,c,j.stroke),strokeWidth:1});return bee(de,45),de},"bpmn:CompensateEventDefinition":function(L,C,j={},G){var z=n.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:j.width||C.width,containerHeight:j.height||C.height,position:{mx:.22,my:.5}}),ae=G?ot(C,c,j.stroke):tr(C,l,j.fill);return E(L,z,{fill:ae,stroke:ot(C,c,j.stroke),strokeWidth:1})},"bpmn:SignalEventDefinition":function(L,C,j={},G){var z=n.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:j.width||C.width,containerHeight:j.height||C.height,position:{mx:.5,my:.2}}),ae=G?ot(C,c,j.stroke):tr(C,l,j.fill);return E(L,z,{strokeWidth:1,fill:ae,stroke:ot(C,c,j.stroke)})},"bpmn:MultipleEventDefinition":function(L,C,j={},G){var z=n.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:j.width||C.width,containerHeight:j.height||C.height,position:{mx:.211,my:.36}}),ae=G?ot(C,c,j.stroke):tr(C,l,j.fill);return E(L,z,{fill:ae,stroke:ot(C,c,j.stroke),strokeWidth:1})},"bpmn:ParallelMultipleEventDefinition":function(L,C,j={}){var G=n.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:j.width||C.width,containerHeight:j.height||C.height,position:{mx:.458,my:.194}});return E(L,G,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:1})},"bpmn:TerminateEventDefinition":function(L,C,j={}){var G=m(L,C.width,C.height,8,{fill:ot(C,c,j.stroke),stroke:ot(C,c,j.stroke),strokeWidth:4});return G}};function Q(L,C,j={},G){var z=dn(L),ae=eee(z),de=G||L;return z.get("eventDefinitions")&&z.get("eventDefinitions").length>1?z.get("parallelMultiple")?I["bpmn:ParallelMultipleEventDefinition"](C,de,j,ae):I["bpmn:MultipleEventDefinition"](C,de,j,ae):ho(z,"bpmn:MessageEventDefinition")?I["bpmn:MessageEventDefinition"](C,de,j,ae):ho(z,"bpmn:TimerEventDefinition")?I["bpmn:TimerEventDefinition"](C,de,j,ae):ho(z,"bpmn:ConditionalEventDefinition")?I["bpmn:ConditionalEventDefinition"](C,de,j,ae):ho(z,"bpmn:SignalEventDefinition")?I["bpmn:SignalEventDefinition"](C,de,j,ae):ho(z,"bpmn:EscalationEventDefinition")?I["bpmn:EscalationEventDefinition"](C,de,j,ae):ho(z,"bpmn:LinkEventDefinition")?I["bpmn:LinkEventDefinition"](C,de,j,ae):ho(z,"bpmn:ErrorEventDefinition")?I["bpmn:ErrorEventDefinition"](C,de,j,ae):ho(z,"bpmn:CancelEventDefinition")?I["bpmn:CancelEventDefinition"](C,de,j,ae):ho(z,"bpmn:CompensateEventDefinition")?I["bpmn:CompensateEventDefinition"](C,de,j,ae):ho(z,"bpmn:TerminateEventDefinition")?I["bpmn:TerminateEventDefinition"](C,de,j,ae):null}var U={ParticipantMultiplicityMarker:function(L,C,j={}){var G=Aa(C,j),z=mi(C,j),ae=n.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G,containerHeight:z,position:{mx:(G/2-6)/G,my:(z-15)/z}});_("participant-multiplicity",L,ae,{strokeWidth:2,fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke)})},SubProcessMarker:function(L,C,j={}){var G=N(L,14,14,0,{strokeWidth:1,fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke)});lU(G,C.width/2-7.5,C.height-20);var z=n.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:C.width,containerHeight:C.height,position:{mx:(C.width/2-7.5)/C.width,my:(C.height-20)/C.height}});_("sub-process",L,z,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke)})},ParallelMarker:function(L,C,j){var G=Aa(C,j),z=mi(C,j),ae=n.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:G,containerHeight:z,position:{mx:(G/2+j.parallel)/G,my:(z-20)/z}});_("parallel",L,ae,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke)})},SequentialMarker:function(L,C,j){var G=n.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:(C.width/2+j.seq)/C.width,my:(C.height-19)/C.height}});_("sequential",L,G,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke)})},CompensationMarker:function(L,C,j){var G=n.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:(C.width/2+j.compensation)/C.width,my:(C.height-13)/C.height}});_("compensation",L,G,{strokeWidth:1,fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke)})},LoopMarker:function(L,C,j){var G=Aa(C,j),z=mi(C,j),ae=n.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:G,containerHeight:z,position:{mx:(G/2+j.loop)/G,my:(z-7)/z}});_("loop",L,ae,{strokeWidth:1.5,fill:"none",stroke:ot(C,c,j.stroke),strokeMiterlimit:.5})},AdhocMarker:function(L,C,j){var G=Aa(C,j),z=mi(C,j),ae=n.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:G,containerHeight:z,position:{mx:(G/2+j.adhoc)/G,my:(z-15)/z}});_("adhoc",L,ae,{strokeWidth:1,fill:ot(C,c,j.stroke),stroke:ot(C,c,j.stroke)})}};function S(L,C,j,G){U[L](C,j,G)}function P(L,C,j=[],G={}){G={fill:G.fill,stroke:G.stroke,width:Aa(C,G),height:mi(C,G)};var z=dn(C),ae=j.includes("SubProcessMarker");ae?G={...G,seq:-21,parallel:-22,compensation:-25,loop:-18,adhoc:10}:G={...G,seq:-5,parallel:-6,compensation:-7,loop:0,adhoc:-8},z.get("isForCompensation")&&j.push("CompensationMarker"),Tt(z,"bpmn:AdHocSubProcess")&&(j.push("AdhocMarker"),ae||Lt(G,{compensation:G.compensation-18}));var de=z.get("loopCharacteristics"),he=de&&de.get("isSequential");de&&(Lt(G,{compensation:G.compensation-18}),j.includes("AdhocMarker")&&Lt(G,{seq:-23,loop:-18,parallel:-24}),he===void 0&&j.push("LoopMarker"),he===!1&&j.push("ParallelMarker"),he===!0&&j.push("SequentialMarker")),j.includes("CompensationMarker")&&j.length===1&&Lt(G,{compensation:-8}),kt(j,function(ce){S(ce,L,C,G)})}function O(L,C,j={}){j=Lt({size:{width:100}},j);var G=a.createText(C||"",j);return Bo(G).add("djs-label"),ss(L,G),G}function k(L,C,j,G={}){var z=dn(C),ae=$f({x:C.x,y:C.y,width:C.width,height:C.height},G);return O(L,z.name,{align:j,box:ae,padding:7,style:{fill:Hf(C,A,c,G.stroke)}})}function Z(L,C,j={}){var G={width:90,height:30,x:C.width/2+C.x,y:C.height/2+C.y};return O(L,xy(C),{box:G,fitBox:!0,style:Lt({},a.getExternalStyle(),{fill:Hf(C,A,c,j.stroke)})})}function H(L,C,j,G={}){var z=pj(j),ae=O(L,C,{box:{height:30,width:z?mi(j,G):Aa(j,G)},align:"center-middle",style:{fill:Hf(j,A,c,G.stroke)}});if(z){var de=-1*mi(j,G);k1(ae,0,-de,270)}}function q(L,C,j={}){var{width:G,height:z}=$f(C,j);return N(L,G,z,fv,{...j,fill:tr(C,l,j.fill),fillOpacity:du,stroke:ot(C,c,j.stroke)})}function K(L,C,j={}){var G=dn(C),z=tr(C,l,j.fill),ae=ot(C,c,j.stroke);return(G.get("associationDirection")==="One"||G.get("associationDirection")==="Both")&&(j.markerEnd=f(L,"association-end",z,ae)),G.get("associationDirection")==="Both"&&(j.markerStart=f(L,"association-start",z,ae)),j=fr(j,["markerStart","markerEnd"]),w(L,C.waypoints,{...j,stroke:ae,strokeDasharray:"0, 5"})}function W(L,C,j={}){var G=tr(C,l,j.fill),z=ot(C,c,j.stroke),ae=n.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:.474,my:.296}}),de=E(L,ae,{fill:G,fillOpacity:du,stroke:z}),he=dn(C);if(tee(he)){var ce=n.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:.33,my:(C.height-18)/C.height}});E(L,ce,{strokeWidth:2,fill:G,stroke:z})}return de}function te(L,C,j={}){return m(L,C.width,C.height,{fillOpacity:du,...j,fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke)})}function ue(L,C,j={}){return g(L,C.width,C.height,{fill:tr(C,l,j.fill),fillOpacity:du,stroke:ot(C,c,j.stroke)})}function T(L,C,j={}){var G=N(L,Aa(C,j),mi(C,j),0,{fill:tr(C,l,j.fill),fillOpacity:j.fillOpacity||du,stroke:ot(C,c,j.stroke),strokeWidth:1.5}),z=dn(C);if(Tt(z,"bpmn:Lane")){var ae=z.get("name");H(L,ae,C,j)}return G}function $(L,C,j={}){var G=q(L,C,j),z=QA(C);if(jZ(C)&&(tn(G,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),!z)){var ae=dn(C).flowElements||[],de=ae.filter(he=>Tt(he,"bpmn:StartEvent"));de.length===1&&V(de[0],L,j,C)}return k(L,C,z?"center-top":"center-middle",j),z?P(L,C,void 0,j):P(L,C,["SubProcessMarker"],j),G}function V(L,C,j,G){var z=22,ae={fill:tr(G,l,j.fill),stroke:ot(G,c,j.stroke),width:z,height:z},de=dn(L).isInterrupting,he=de?0:3,ce=de?1:1.2,oe=20,Re=(z-oe)/2,Ce="translate("+Re+","+Re+")";m(C,oe,oe,{fill:ae.fill,stroke:ae.stroke,strokeWidth:ce,strokeDasharray:he,transform:Ce}),Q(L,C,ae,G)}function se(L,C,j={}){var G=q(L,C,j);return k(L,C,"center-middle",j),P(L,C,void 0,j),G}var Y=this.handlers={"bpmn:AdHocSubProcess":function(L,C,j={}){return QA(C)?j=fr(j,["fill","stroke","width","height"]):j=fr(j,["fill","stroke"]),$(L,C,j)},"bpmn:Association":function(L,C,j={}){return j=fr(j,["fill","stroke"]),K(L,C,j)},"bpmn:BoundaryEvent":function(L,C,j={}){var{renderIcon:G=!0}=j;j=fr(j,["fill","stroke"]);var z=dn(C),ae=z.get("cancelActivity");j={strokeWidth:1.5,fill:tr(C,l,j.fill),fillOpacity:jee,stroke:ot(C,c,j.stroke)},ae||(j.strokeDasharray="6");var de=te(L,C,j);return m(L,C.width,C.height,h0,{...j,fill:"none"}),G&&Q(C,L,j),de},"bpmn:BusinessRuleTask":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=se(L,C,j),z=n.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),ae=E(L,z);tn(ae,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:1});var de=n.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),he=E(L,de);return tn(he,{fill:ot(C,c,j.stroke),stroke:ot(C,c,j.stroke),strokeWidth:1}),G},"bpmn:CallActivity":function(L,C,j={}){return j=fr(j,["fill","stroke"]),$(L,C,{strokeWidth:5,...j})},"bpmn:ComplexGateway":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=ue(L,C,j),z=n.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:C.width,containerHeight:C.height,position:{mx:.46,my:.26}});return E(L,z,{fill:ot(C,c,j.stroke),stroke:ot(C,c,j.stroke),strokeWidth:1}),G},"bpmn:DataInput":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=n.getRawPath("DATA_ARROW"),z=W(L,C,j);return E(L,G,{fill:"none",stroke:ot(C,c,j.stroke),strokeWidth:1}),z},"bpmn:DataInputAssociation":function(L,C,j={}){return j=fr(j,["fill","stroke"]),K(L,C,{...j,markerEnd:f(L,"association-end",tr(C,l,j.fill),ot(C,c,j.stroke))})},"bpmn:DataObject":function(L,C,j={}){return j=fr(j,["fill","stroke"]),W(L,C,j)},"bpmn:DataObjectReference":R("bpmn:DataObject"),"bpmn:DataOutput":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=n.getRawPath("DATA_ARROW"),z=W(L,C,j);return E(L,G,{strokeWidth:1,fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke)}),z},"bpmn:DataOutputAssociation":function(L,C,j={}){return j=fr(j,["fill","stroke"]),K(L,C,{...j,markerEnd:f(L,"association-end",tr(C,l,j.fill),ot(C,c,j.stroke))})},"bpmn:DataStoreReference":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=n.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:0,my:.133}});return E(L,G,{fill:tr(C,l,j.fill),fillOpacity:du,stroke:ot(C,c,j.stroke),strokeWidth:2})},"bpmn:EndEvent":function(L,C,j={}){var{renderIcon:G=!0}=j;j=fr(j,["fill","stroke"]);var z=te(L,C,{...j,strokeWidth:4});return G&&Q(C,L,j),z},"bpmn:EventBasedGateway":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=dn(C),z=ue(L,C,j);m(L,C.width,C.height,C.height*.2,{fill:tr(C,"none",j.fill),stroke:ot(C,c,j.stroke),strokeWidth:1});var ae=G.get("eventGatewayType"),de=!!G.get("instantiate");function he(){var oe=n.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:C.width,containerHeight:C.height,position:{mx:.36,my:.44}});E(L,oe,{fill:"none",stroke:ot(C,c,j.stroke),strokeWidth:2})}if(ae==="Parallel"){var ce=n.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:C.width,containerHeight:C.height,position:{mx:.474,my:.296}});E(L,ce,{fill:"none",stroke:ot(C,c,j.stroke),strokeWidth:1})}else ae==="Exclusive"&&(de||m(L,C.width,C.height,C.height*.26,{fill:"none",stroke:ot(C,c,j.stroke),strokeWidth:1}),he());return z},"bpmn:ExclusiveGateway":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=ue(L,C,j),z=n.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:C.width,containerHeight:C.height,position:{mx:.32,my:.3}}),ae=Cd(C);return ae.get("isMarkerVisible")&&E(L,z,{fill:ot(C,c,j.stroke),stroke:ot(C,c,j.stroke),strokeWidth:1}),G},"bpmn:Gateway":function(L,C,j={}){return j=fr(j,["fill","stroke"]),ue(L,C,j)},"bpmn:Group":function(L,C,j={}){return j=fr(j,["fill","stroke","width","height"]),N(L,C.width,C.height,fv,{stroke:ot(C,c,j.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:Aa(C,j),height:mi(C,j)})},"bpmn:InclusiveGateway":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=ue(L,C,j);return m(L,C.width,C.height,C.height*.24,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:2.5}),G},"bpmn:IntermediateEvent":function(L,C,j={}){var{renderIcon:G=!0}=j;j=fr(j,["fill","stroke"]);var z=te(L,C,{...j,strokeWidth:1.5});return m(L,C.width,C.height,h0,{fill:"none",stroke:ot(C,c,j.stroke),strokeWidth:1.5}),G&&Q(C,L,j),z},"bpmn:IntermediateCatchEvent":R("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":R("bpmn:IntermediateEvent"),"bpmn:Lane":function(L,C,j={}){return j=fr(j,["fill","stroke","width","height"]),T(L,C,{...j,fillOpacity:Fee})},"bpmn:ManualTask":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=se(L,C,j),z=n.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});return E(L,z,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:.5}),G},"bpmn:MessageFlow":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=dn(C),z=Cd(C),ae=tr(C,l,j.fill),de=ot(C,c,j.stroke),he=w(L,C.waypoints,{markerEnd:f(L,"messageflow-end",ae,de),markerStart:f(L,"messageflow-start",ae,de),stroke:de,strokeDasharray:"10, 11",strokeWidth:1.5});if(G.get("messageRef")){var ce=he.getPointAtLength(he.getTotalLength()/2),oe=n.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:ce.x,y:ce.y}}),Re={strokeWidth:1};z.get("messageVisibleKind")==="initiating"?(Re.fill=ae,Re.stroke=de):(Re.fill=de,Re.stroke=ae);var Ce=E(L,oe,Re),xe=G.get("messageRef"),Fe=xe.get("name"),ze=O(L,Fe,{align:"center-top",fitBox:!0,style:{fill:de}}),Qe=Ce.getBBox(),We=ze.getBBox(),Oe=ce.x-We.width/2,Ke=ce.y+Qe.height/2+See;k1(ze,Oe,Ke,0)}return he},"bpmn:ParallelGateway":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=ue(L,C,j),z=n.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:C.width,containerHeight:C.height,position:{mx:.46,my:.2}});return E(L,z,{fill:ot(C,c,j.stroke),stroke:ot(C,c,j.stroke),strokeWidth:1}),G},"bpmn:Participant":function(L,C,j={}){j=fr(j,["fill","stroke","width","height"]);var G=T(L,C,j),z=QA(C),ae=pj(C),de=dn(C),he=de.get("name");if(z){var ce=ae?[{x:30,y:0},{x:30,y:mi(C,j)}]:[{x:0,y:30},{x:Aa(C,j),y:30}];y(L,ce,{stroke:ot(C,c,j.stroke),strokeWidth:Eee}),H(L,he,C,j)}else{var oe=$f(C,j);ae||(oe.height=Aa(C,j),oe.width=mi(C,j));var Re=O(L,he,{box:oe,align:"center-middle",style:{fill:Hf(C,A,c,j.stroke)}});if(!ae){var Ce=-1*mi(C,j);k1(Re,0,-Ce,270)}}return de.get("participantMultiplicity")&&S("ParticipantMultiplicityMarker",L,C,j),G},"bpmn:ReceiveTask":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=dn(C),z=se(L,C,j),ae;return G.get("instantiate")?(m(L,28,28,20*.22,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:1}),ae=n.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):ae=n.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),E(L,ae,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:1}),z},"bpmn:ScriptTask":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=se(L,C,j),z=n.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}});return E(L,z,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:1}),G},"bpmn:SendTask":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=se(L,C,j),z=n.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}});return E(L,z,{fill:ot(C,c,j.stroke),stroke:tr(C,l,j.fill),strokeWidth:1}),G},"bpmn:SequenceFlow":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=tr(C,l,j.fill),z=ot(C,c,j.stroke),ae=w(L,C.waypoints,{markerEnd:f(L,"sequenceflow-end",G,z),stroke:z}),de=dn(C),{source:he}=C;if(he){var ce=dn(he);de.get("conditionExpression")&&Tt(ce,"bpmn:Activity")&&tn(ae,{markerStart:f(L,"conditional-flow-marker",G,z)}),ce.get("default")&&(Tt(ce,"bpmn:Gateway")||Tt(ce,"bpmn:Activity"))&&ce.get("default")===de&&tn(ae,{markerStart:f(L,"conditional-default-flow-marker",G,z)})}return ae},"bpmn:ServiceTask":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=se(L,C,j);m(L,10,10,{fill:tr(C,l,j.fill),stroke:"none",transform:"translate(6, 6)"});var z=n.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}});E(L,z,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:1}),m(L,10,10,{fill:tr(C,l,j.fill),stroke:"none",transform:"translate(11, 10)"});var ae=n.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}});return E(L,ae,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:1}),G},"bpmn:StartEvent":function(L,C,j={}){var{renderIcon:G=!0}=j;j=fr(j,["fill","stroke"]);var z=dn(C);z.get("isInterrupting")||(j={...j,strokeDasharray:"6"});var ae=te(L,C,j);return G&&Q(C,L,j),ae},"bpmn:SubProcess":function(L,C,j={}){return QA(C)?j=fr(j,["fill","stroke","width","height"]):j=fr(j,["fill","stroke"]),$(L,C,j)},"bpmn:Task":function(L,C,j={}){return j=fr(j,["fill","stroke"]),se(L,C,j)},"bpmn:TextAnnotation":function(L,C,j={}){j=fr(j,["fill","stroke","width","height"]);var{width:G,height:z}=$f(C,j),ae=N(L,G,z,0,0,{fill:"none",stroke:"none"}),de=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:G,containerHeight:z,position:{mx:0,my:0}});E(L,de,{stroke:ot(C,c,j.stroke)});var he=dn(C),ce=he.get("text")||"";return O(L,ce,{align:"left-top",box:$f(C,j),padding:7,style:{fill:Hf(C,A,c,j.stroke)}}),ae},"bpmn:Transaction":function(L,C,j={}){QA(C)?j=fr(j,["fill","stroke","width","height"]):j=fr(j,["fill","stroke"]);var G=$(L,C,{strokeWidth:1.5,...j}),z=r.style(["no-fill","no-events"],{stroke:ot(C,c,j.stroke),strokeWidth:1.5}),ae=QA(C);return ae||(j={}),N(L,Aa(C,j),mi(C,j),fv-h0,h0,z),G},"bpmn:UserTask":function(L,C,j={}){j=fr(j,["fill","stroke"]);var G=se(L,C,j),z=15,ae=12,de=n.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:z,y:ae}});E(L,de,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:.5});var he=n.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:z,y:ae}});E(L,he,{fill:tr(C,l,j.fill),stroke:ot(C,c,j.stroke),strokeWidth:.5});var ce=n.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:z,y:ae}});return E(L,ce,{fill:ot(C,c,j.stroke),stroke:ot(C,c,j.stroke),strokeWidth:.5}),G},label:function(L,C,j={}){return Z(L,C,j)}};this._drawPath=E,this._renderer=D}ro(Fd,Ul);Fd.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"];Fd.prototype.canRender=function(e){return Tt(e,"bpmn:BaseElement")};Fd.prototype.drawShape=function(e,t,r={}){var{type:n}=t,s=this._renderer(n);return s(e,t,r)};Fd.prototype.drawConnection=function(e,t,r={}){var{type:n}=t,s=this._renderer(n);return s(e,t,r)};Fd.prototype.getShapePath=function(e){return Tt(e,"bpmn:Event")?ree(e):Tt(e,"bpmn:Activity")?nee(e,fv):Tt(e,"bpmn:Gateway")?see(e):iee(e)};function fr(e,t=[]){return t.reduce((r,n)=>(e[n]&&(r[n]=e[n]),r),{})}var kee=0,Iee={width:150,height:50};function Pee(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}function _ee(e){return bd(e)?Lt({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}function Tee(e,t){t.textContent=e;var r;try{var n,s=e==="";return t.textContent=s?"dummy":e,r=t.getBBox(),n={width:r.width+r.x*2,height:r.height},s&&(n.width=0),n}catch(a){return console.log(a),{width:0,height:0}}}function Lee(e,t,r){for(var n=e.shift(),s=n,a;;){if(a=Tee(s,r),a.width=s?a.width:0,s===" "||s===""||a.width<Math.round(t)||s.length<2)return Uee(e,s,n,a);s=Dee(s,a.width,t)}}function Uee(e,t,r,n){if(t.length<r.length){var s=r.slice(t.length).trim();e.unshift(s)}return{width:n.width,height:n.height,text:t}}var bj="";function Ree(e,t){var r=e.split(/(\s|-|\u00AD)/g),n,s=[],a=0;if(r.length>1)for(;n=r.shift();)if(n.length+a<t)s.push(n),a+=n.length;else{(n==="-"||n===bj)&&s.pop();break}var o=s[s.length-1];return o&&o===bj&&(s[s.length-1]="-"),s.join("")}function Dee(e,t,r){var n=Math.max(e.length*(r/t),1),s=Ree(e,n);return s||(s=e.slice(0,Math.max(Math.round(n-1),1))),s}function Mee(){var e=document.getElementById("helper-svg");return e||(e=en("svg"),tn(e,{id:"helper-svg"}),bi(e,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(e)),e}function kx(e){this._config=Lt({},{size:Iee,padding:kee,style:{},align:"center-top"},e||{})}kx.prototype.createText=function(e,t){return this.layoutText(e,t).element};kx.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions};kx.prototype.layoutText=function(e,t){var r=Lt({},this._config.size,t.box),n=Lt({},this._config.style,t.style),s=Pee(t.align||this._config.align),a=_ee(t.padding!==void 0?t.padding:this._config.padding),o=t.fitBox||!1,l=Qee(n),c=e.split(/\u00AD?\r?\n/),A=[],d=r.width-a.left-a.right,u=en("text");tn(u,{x:0,y:0}),tn(u,n);var p=Mee();for(ss(p,u);c.length;)A.push(Lee(c,d,u));s.vertical==="middle"&&(a.top=a.bottom=0);var f=Uh(A,function(y,w,E){return y+(l||w.height)},0)+a.top+a.bottom,x=Uh(A,function(y,w,E){return w.width>y?w.width:y},0),m=a.top;s.vertical==="middle"&&(m+=(r.height-f)/2),m-=(l||A[0].height)/4;var N=en("text");tn(N,n),kt(A,function(y){var w;switch(m+=l||y.height,s.horizontal){case"left":w=a.left;break;case"right":w=(o?x:d)-a.right-y.width;break;default:w=Math.max(((o?x:d)-y.width)/2+a.left,0)}var E=en("tspan");tn(E,{x:w,y:m}),E.textContent=y.text,ss(N,E)}),Mm(u);var g={width:x,height:f};return{dimensions:g,element:N}};function Qee(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}var Oee=12,Hee=1.2,$ee=30;function cU(e){var t=Lt({fontFamily:"Arial, sans-serif",fontSize:Oee,fontWeight:"normal",lineHeight:Hee},e&&e.defaultStyle||{}),r=parseInt(t.fontSize,10)-1,n=Lt({},t,{fontSize:r},e&&e.externalStyle||{}),s=new kx({style:t});this.getExternalLabelBounds=function(a,o){var l=s.getDimensions(o,{box:{width:90,height:30},style:n});return{x:Math.round(a.x+a.width/2-l.width/2),y:Math.round(a.y),width:Math.ceil(l.width),height:Math.ceil(l.height)}},this.getTextAnnotationBounds=function(a,o){var l=s.getDimensions(o,{box:a,style:t,align:"left-top",padding:5});return{x:a.x,y:a.y,width:a.width,height:Math.max($ee,Math.round(l.height))}},this.createText=function(a,o){return s.createText(a,o||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return n}}cU.$inject=["config.textRenderer"];function zee(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(t){return this.pathMap[t].d},this.getScaledPath=function(t,r){var n=this.pathMap[t],s,a;r.abspos?(s=r.abspos.x,a=r.abspos.y):(s=r.containerWidth*r.position.mx,a=r.containerHeight*r.position.my);var o={};if(r.position){for(var l=r.containerHeight/n.height*r.yScaleFactor,c=r.containerWidth/n.width*r.xScaleFactor,A=0;A<n.heightElements.length;A++)o["y"+A]=n.heightElements[A]*l;for(var d=0;d<n.widthElements.length;d++)o["x"+d]=n.widthElements[d]*c}var u=Wee(n.d,{mx:s,my:a,e:o});return u}}var Kee=/\{([^{}]+)\}/g,Gee=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function Vee(e,t,r){var n=r;return t.replace(Gee,function(s,a,o,l,c){a=a||l,n&&(a in n&&(n=n[a]),typeof n=="function"&&c&&(n=n()))}),n=(n==null||n==r?e:n)+"",n}function Wee(e,t){return String(e).replace(Kee,function(r,n){return Vee(r,n,t)})}const qee={__init__:["bpmnRenderer"],bpmnRenderer:["type",Fd],textRenderer:["type",cU],pathMap:["type",zee]};function Xee(e,t){return t=t||{},e.replace(/{([^}]+)}/g,function(r,n){return t[n]||"{"+n+"}"})}const AU={translate:["value",Xee]};function Jee(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function a5(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function Yee(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function Zee(e){return Jee({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function ete(e){for(var t=e.waypoints,r=t.reduce(function(A,d,u){var p=t[u-1];if(p){var f=A[A.length-1],x=f&&f.endLength||0,m=tte(p,d);A.push({start:p,end:d,startLength:x,endLength:x+m,length:m})}return A},[]),n=r.reduce(function(A,d){return A+d.length},0),s=n/2,a=0,o=r[a];o.endLength<s;)o=r[++a];var l=(s-o.startLength)/o.length,c={x:o.start.x+(o.end.x-o.start.x)*l,y:o.start.y+(o.end.y-o.start.y)*l};return c}function o5(e){return FZ(e)?ete(e):Zee(e)}function tte(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function bs(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}function pv(e,t,r){return Lt({id:e.id,type:e.$type,businessObject:e,di:t},r)}function rte(e,t,r){var n=e.waypoint;return!n||n.length<2?[o5(t),o5(r)]:n.map(function(s){return{x:s.x,y:s.y}})}function dU(e,t,r){return new Error(`element ${bs(t)} referenced by ${bs(e)}#${r} not yet drawn`)}function Rl(e,t,r,n,s){this._eventBus=e,this._canvas=t,this._elementFactory=r,this._elementRegistry=n,this._textRenderer=s}Rl.$inject=["eventBus","canvas","elementFactory","elementRegistry","textRenderer"];Rl.prototype.add=function(e,t,r){var n,s,a;if(Tt(t,"bpmndi:BPMNPlane")){var o=Tt(e,"bpmn:SubProcess")?{id:e.id+"_plane"}:{};n=this._elementFactory.createRoot(pv(e,t,o)),this._canvas.addRootElement(n)}else if(Tt(t,"bpmndi:BPMNShape")){var l=!QA(e,t),c=ste(e);s=r&&(r.hidden||r.collapsed);var A=t.bounds;n=this._elementFactory.createShape(pv(e,t,{collapsed:l,hidden:s,x:Math.round(A.x),y:Math.round(A.y),width:Math.round(A.width),height:Math.round(A.height),isFrame:c})),Tt(e,"bpmn:BoundaryEvent")&&this._attachBoundary(e,n),Tt(e,"bpmn:Lane")&&(a=0),Tt(e,"bpmn:DataStoreReference")&&(nte(r,o5(A))||(r=this._canvas.findRoot(r))),this._canvas.addShape(n,r,a)}else if(Tt(t,"bpmndi:BPMNEdge")){var d=this._getSource(e),u=this._getTarget(e);s=r&&(r.hidden||r.collapsed),n=this._elementFactory.createConnection(pv(e,t,{hidden:s,source:d,target:u,waypoints:rte(t,d,u)})),Tt(e,"bpmn:DataAssociation")&&(r=this._canvas.findRoot(r)),this._canvas.addConnection(n,r,a)}else throw new Error(`unknown di ${bs(t)} for element ${bs(e)}`);return kZ(e)&&xy(n)&&this.addLabel(e,t,n),this._eventBus.fire("bpmnElement.added",{element:n}),n};Rl.prototype._attachBoundary=function(e,t){var r=e.attachedToRef;if(!r)throw new Error(`missing ${bs(e)}#attachedToRef`);var n=this._elementRegistry.get(r.id),s=n&&n.attachers;if(!n)throw dU(e,r,"attachedToRef");t.host=n,s||(n.attachers=s=[]),s.indexOf(t)===-1&&s.push(t)};Rl.prototype.addLabel=function(e,t,r){var n,s,a;return n=TZ(t,r),s=xy(r),s&&(n=this._textRenderer.getExternalLabelBounds(n,s)),a=this._elementFactory.createLabel(pv(e,t,{id:e.id+"_label",labelTarget:r,type:"label",hidden:r.hidden||!xy(r),x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(a,r.parent)};Rl.prototype._getConnectedElement=function(e,t){var r,n,s=e.$type;if(n=e[t+"Ref"],t==="source"&&s==="bpmn:DataInputAssociation"&&(n=n&&n[0]),(t==="source"&&s==="bpmn:DataOutputAssociation"||t==="target"&&s==="bpmn:DataInputAssociation")&&(n=e.$parent),r=n&&this._getElement(n),r)return r;throw n?dU(e,n,t+"Ref"):new Error(`${bs(e)}#${t} Ref not specified`)};Rl.prototype._getSource=function(e){return this._getConnectedElement(e,"source")};Rl.prototype._getTarget=function(e){return this._getConnectedElement(e,"target")};Rl.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};function nte(e,t){var r=t.x,n=t.y;return r>=e.x&&r<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function ste(e){return Tt(e,"bpmn:Group")}const ite={__depends__:[AU],bpmnImporter:["type",Rl]},ate={__depends__:[qee,ite]};function um(e,t){t=!!t,Sa(e)||(e=[e]);var r,n,s,a;return kt(e,function(o){var l=o;o.waypoints&&!t&&(l=um(o.waypoints,!0));var c=l.x,A=l.y,d=l.height||0,u=l.width||0;(c<r||r===void 0)&&(r=c),(A<n||n===void 0)&&(n=A),(c+u>s||s===void 0)&&(s=c+u),(A+d>a||a===void 0)&&(a=A+d)}),{x:r,y:n,height:a-n,width:s-r}}function uU(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function hU(e){return!!(e&&e.isFrame)}function fU(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(Math.random()*1e9)+"-"}fU.prototype.next=function(){return this._prefix+ ++this._counter};var ote=new fU("ov"),lte=500;function As(e,t,r,n){this._eventBus=t,this._canvas=r,this._elementRegistry=n,this._ids=ote,this._overlayDefaults=Lt({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=cte(r.getContainer()),this._init()}As.$inject=["config.overlays","eventBus","canvas","elementRegistry"];As.prototype.get=function(e){if(Lo(e)&&(e={id:e}),Lo(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?Lh(t.overlays,fj({type:e.type})):t.overlays.slice():[]}else return e.type?Lh(this._overlays,fj({type:e.type})):e.id?this._overlays[e.id]:null};As.prototype.add=function(e,t,r){if(bd(t)&&(r=t,t=null),e.id||(e=this._elementRegistry.get(e)),!r.position)throw new Error("must specifiy overlay position");if(!r.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var n=this._ids.next();return r=Lt({},this._overlayDefaults,r,{id:n,type:t,element:e,html:r.html}),this._addOverlay(r),n};As.prototype.remove=function(e){var t=this.get(e)||[];Sa(t)||(t=[t]);var r=this;kt(t,function(n){var s=r._getOverlayContainer(n.element,!0);if(n&&(Cy(n.html),Cy(n.htmlContainer),delete n.htmlContainer,delete n.element,delete r._overlays[n.id]),s){var a=s.overlays.indexOf(n);a!==-1&&s.overlays.splice(a,1)}})};As.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"};As.prototype.show=function(){Ix(this._overlayRoot)};As.prototype.hide=function(){Ix(this._overlayRoot,!1)};As.prototype.clear=function(){this._overlays={},this._overlayContainers=[],nU(this._overlayRoot)};As.prototype._updateOverlayContainer=function(e){var t=e.element,r=e.html,n=t.x,s=t.y;if(t.waypoints){var a=um(t);n=a.x,s=a.y}pU(r,n,s),rU(e.html,"data-container-id",t.id)};As.prototype._updateOverlay=function(e){var t=e.position,r=e.htmlContainer,n=e.element,s=t.left,a=t.top;if(t.right!==void 0){var o;n.waypoints?o=um(n).width:o=n.width,s=t.right*-1+o}if(t.bottom!==void 0){var l;n.waypoints?l=um(n).height:l=n.height,a=t.bottom*-1+l}pU(r,s||0,a||0),this._updateOverlayVisibilty(e,this._canvas.viewbox())};As.prototype._createOverlayContainer=function(e){var t=Uo('<div class="djs-overlays" />');bi(t,{position:"absolute"}),this._overlayRoot.appendChild(t);var r={html:t,element:e,overlays:[]};return this._updateOverlayContainer(r),this._overlayContainers.push(r),r};As.prototype._updateRoot=function(e){var t=e.scale||1,r="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";mU(this._overlayRoot,r)};As.prototype._getOverlayContainer=function(e,t){var r=Za(this._overlayContainers,function(n){return n.element===e});return!r&&!t?this._createOverlayContainer(e):r};As.prototype._addOverlay=function(e){var t=e.id,r=e.element,n=e.html,s,a;n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),Lo(n)&&(n=Uo(n)),a=this._getOverlayContainer(r),s=Uo('<div class="djs-overlay" data-overlay-id="'+t+'">'),bi(s,{position:"absolute"}),s.appendChild(n),e.type&&Qm(s).add("djs-overlay-"+e.type);var o=this._canvas.findRoot(r),l=this._canvas.getRootElement();Ix(s,o===l),e.htmlContainer=s,a.overlays.push(e),a.html.appendChild(s),this._overlays[t]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())};As.prototype._updateOverlayVisibilty=function(e,t){var r=e.show,n=this._canvas.findRoot(e.element),s=r&&r.minZoom,a=r&&r.maxZoom,o=e.htmlContainer,l=this._canvas.getRootElement(),c=!0;(n!==l||r&&(sh(s)&&s>t.scale||sh(a)&&a<t.scale))&&(c=!1),Ix(o,c),this._updateOverlayScale(e,t)};As.prototype._updateOverlayScale=function(e,t){var r=e.scale,n,s,a=e.htmlContainer,o,l="";r!==!0&&(r===!1?(n=1,s=1):(n=r.min,s=r.max),sh(n)&&t.scale<n&&(o=(1/t.scale||1)*n),sh(s)&&t.scale>s&&(o=(1/t.scale||1)*s)),sh(o)&&(l="scale("+o+","+o+")"),mU(a,l)};As.prototype._updateOverlaysVisibilty=function(e){var t=this;kt(this._overlays,function(r){t._updateOverlayVisibilty(r,e)})};As.prototype._init=function(){var e=this._eventBus,t=this;function r(n){t._updateRoot(n),t._updateOverlaysVisibilty(n),t.show()}e.on("canvas.viewbox.changing",function(n){t.hide()}),e.on("canvas.viewbox.changed",function(n){r(n.viewbox)}),e.on(["shape.remove","connection.remove"],function(n){var s=n.element,a=t.get({element:s});kt(a,function(c){t.remove(c.id)});var o=t._getOverlayContainer(s);if(o){Cy(o.html);var l=t._overlayContainers.indexOf(o);l!==-1&&t._overlayContainers.splice(l,1)}}),e.on("element.changed",lte,function(n){var s=n.element,a=t._getOverlayContainer(s,!0);a&&(kt(a.overlays,function(o){t._updateOverlay(o)}),t._updateOverlayContainer(a))}),e.on("element.marker.update",function(n){var s=t._getOverlayContainer(n.element,!0);s&&Qm(s.html)[n.add?"add":"remove"](n.marker)}),e.on("root.set",function(){t._updateOverlaysVisibilty(t._canvas.viewbox())}),e.on("diagram.clear",this.clear,this)};function cte(e){var t=Uo('<div class="djs-overlay-container" />');return bi(t,{position:"absolute",width:0,height:0}),e.insertBefore(t,e.firstChild),t}function pU(e,t,r){bi(e,{left:t+"px",top:r+"px"})}function Ix(e,t){e.style.display=t===!1?"none":""}function mU(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(r){e.style[r+"transform"]=t})}const gU={__init__:["overlays"],overlays:["type",As]};function vU(e,t,r,n){e.on("element.changed",function(s){var a=s.element;(a.parent||a===t.getRootElement())&&(s.gfx=r.getGraphics(a)),s.gfx&&e.fire(uU(a)+".changed",s)}),e.on("elements.changed",function(s){var a=s.elements;a.forEach(function(o){e.fire("element.changed",{element:o})}),n.updateContainments(a)}),e.on("shape.changed",function(s){n.update("shape",s.element,s.gfx)}),e.on("connection.changed",function(s){n.update("connection",s.element,s.gfx)})}vU.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const Ate={__init__:["changeSupport"],changeSupport:["type",vU]};var dte=1e3;function ci(e){this._eventBus=e}ci.$inject=["eventBus"];function ute(e,t){return function(r){return e.call(t||null,r.context,r.command,r)}}ci.prototype.on=function(e,t,r,n,s,a){if((Kc(t)||rA(t))&&(a=s,s=n,n=r,r=t,t=null),Kc(r)&&(a=s,s=n,n=r,r=dte),bd(s)&&(a=s,s=!1),!Kc(n))throw new Error("handlerFn must be a function");Sa(e)||(e=[e]);var o=this._eventBus;kt(e,function(l){var c=["commandStack",l,t].filter(function(A){return A}).join(".");o.on(c,r,s?ute(n,a):n,a)})};ci.prototype.canExecute=Dl("canExecute");ci.prototype.preExecute=Dl("preExecute");ci.prototype.preExecuted=Dl("preExecuted");ci.prototype.execute=Dl("execute");ci.prototype.executed=Dl("executed");ci.prototype.postExecute=Dl("postExecute");ci.prototype.postExecuted=Dl("postExecuted");ci.prototype.revert=Dl("revert");ci.prototype.reverted=Dl("reverted");function Dl(e){return function(r,n,s,a,o){(Kc(r)||rA(r))&&(o=a,a=s,s=n,n=r,r=null),this.on(r,e,n,s,a,o)}}function JB(e,t){t.invoke(ci,this),this.executed(function(r){var n=r.context;n.rootElement?e.setRootElement(n.rootElement):n.rootElement=e.getRootElement()}),this.revert(function(r){var n=r.context;n.rootElement&&e.setRootElement(n.rootElement)})}ro(JB,ci);JB.$inject=["canvas","injector"];const hte={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",JB]};var fte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function pte(e){return e=""+e,e&&e.replace(/[&<>"']/g,function(t){return fte[t]})}var mte="_plane";function YB(e){var t=e.id;return Tt(e,"bpmn:SubProcess")?gte(t):t}function gte(e){return e+mte}var vte="bjs-breadcrumbs-shown";function yU(e,t,r){var n=Uo('<ul class="bjs-breadcrumbs"></ul>'),s=r.getContainer(),a=Qm(s);s.appendChild(n);var o=[];e.on("element.changed",function(c){var A=c.element,d=dn(A),u=Za(o,function(p){return p===d});u&&l()});function l(c){c&&(o=yte(c));var A=o.flatMap(function(u){var p=r.findRoot(YB(u))||r.findRoot(u.id);if(!p&&Tt(u,"bpmn:Process")){var f=t.find(function(N){var g=dn(N);return g&&g.get("processRef")===u});p=f&&r.findRoot(f.id)}if(!p)return[];var x=pte(u.name||u.id),m=Uo('<li><span class="bjs-crumb"><a title="'+x+'">'+x+"</a></span></li>");return m.addEventListener("click",function(){r.setRootElement(p)}),m});n.innerHTML="";var d=A.length>1;a.toggle(vte,d),A.forEach(function(u){n.appendChild(u)})}e.on("root.set",function(c){l(c.element)})}yU.$inject=["eventBus","elementRegistry","canvas"];function yte(e){for(var t=dn(e),r=[],n=t;n;n=n.$parent)(Tt(n,"bpmn:SubProcess")||Tt(n,"bpmn:Process"))&&r.push(n);return r.reverse()}function xU(e,t){var r=null,n=new xte;e.on("root.set",function(s){var a=s.element,o=t.viewbox(),l=n.get(a);if(n.set(r,{x:o.x,y:o.y,zoom:o.scale}),r=a,!(!Tt(a,"bpmn:SubProcess")&&!l)){l=l||{x:0,y:0,zoom:1};var c=(o.x-l.x)*o.scale,A=(o.y-l.y)*o.scale;(c!==0||A!==0)&&t.scroll({dx:c,dy:A}),l.zoom!==o.scale&&t.zoom(l.zoom,{x:0,y:0})}}),e.on("diagram.clear",function(){n.clear(),r=null})}xU.$inject=["eventBus","canvas"];function xte(){this._entries=[],this.set=function(e,t){var r=!1;for(var n in this._entries)if(this._entries[n][0]===e){this._entries[n][1]=t,r=!0;break}r||this._entries.push([e,t])},this.get=function(e){for(var t in this._entries)if(this._entries[t][0]===e)return this._entries[t][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(e){var t=-1;for(var r in this._entries)if(this._entries[r][0]===e){t=r;break}t!==-1&&this._entries.splice(t,1)}}var Cj={x:180,y:160};function kd(e,t){this._eventBus=e,this._moddle=t;var r=this;e.on("import.render.start",1500,function(n,s){r._handleImport(s.definitions)})}kd.prototype._handleImport=function(e){if(e.diagrams){var t=this;this._definitions=e,this._processToDiagramMap={},e.diagrams.forEach(function(n){!n.plane||!n.plane.bpmnElement||(t._processToDiagramMap[n.plane.bpmnElement.id]=n)});var r=e.diagrams.filter(n=>n.plane).flatMap(n=>t._createNewDiagrams(n.plane));r.forEach(function(n){t._movePlaneElementsToOrigin(n.plane)})}};kd.prototype._createNewDiagrams=function(e){var t=this,r=[],n=[];e.get("planeElement").forEach(function(a){var o=a.bpmnElement;if(o){var l=o.$parent;Tt(o,"bpmn:SubProcess")&&!a.isExpanded&&r.push(o),bte(o,e)&&n.push({diElement:a,parent:l})}});var s=[];return r.forEach(function(a){if(!t._processToDiagramMap[a.id]){var o=t._createDiagram(a);t._processToDiagramMap[a.id]=o,s.push(o)}}),n.forEach(function(a){for(var o=a.diElement,l=a.parent;l&&r.indexOf(l)===-1;)l=l.$parent;if(l){var c=t._processToDiagramMap[l.id];t._moveToDiPlane(o,c.plane)}}),s};kd.prototype._movePlaneElementsToOrigin=function(e){var t=e.get("planeElement"),r=wte(e),n={x:r.x-Cj.x,y:r.y-Cj.y};t.forEach(function(s){s.waypoint?s.waypoint.forEach(function(a){a.x=a.x-n.x,a.y=a.y-n.y}):s.bounds&&(s.bounds.x=s.bounds.x-n.x,s.bounds.y=s.bounds.y-n.y)})};kd.prototype._moveToDiPlane=function(e,t){var r=wU(e),n=r.plane.get("planeElement");n.splice(n.indexOf(e),1),t.get("planeElement").push(e)};kd.prototype._createDiagram=function(e){var t=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:e}),r=this._moddle.create("bpmndi:BPMNDiagram",{plane:t});return t.$parent=r,t.bpmnElement=e,r.$parent=this._definitions,this._definitions.diagrams.push(r),r};kd.$inject=["eventBus","moddle"];function wU(e){return Tt(e,"bpmndi:BPMNDiagram")?e:wU(e.$parent)}function wte(e){var t={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return e.planeElement.forEach(function(r){if(r.bounds){var n=a5(r.bounds);t.top=Math.min(n.top,t.top),t.left=Math.min(n.left,t.left)}}),Yee(t)}function bte(e,t){var r=e.$parent;return!(!Tt(r,"bpmn:SubProcess")||r===t.bpmnElement||EZ(e,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}var f0=250,Cte='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg>',Bte="bjs-drilldown-empty";function pA(e,t,r,n,s){ci.call(this,t),this._canvas=e,this._eventBus=t,this._elementRegistry=r,this._overlays=n,this._translate=s;var a=this;this.executed("shape.toggleCollapse",f0,function(o){var l=o.shape;a._canDrillDown(l)?a._addOverlay(l):a._removeOverlay(l)},!0),this.reverted("shape.toggleCollapse",f0,function(o){var l=o.shape;a._canDrillDown(l)?a._addOverlay(l):a._removeOverlay(l)},!0),this.executed(["shape.create","shape.move","shape.delete"],f0,function(o){var l=o.oldParent,c=o.newParent||o.parent,A=o.shape;a._canDrillDown(A)&&a._addOverlay(A),a._updateDrilldownOverlay(l),a._updateDrilldownOverlay(c),a._updateDrilldownOverlay(A)},!0),this.reverted(["shape.create","shape.move","shape.delete"],f0,function(o){var l=o.oldParent,c=o.newParent||o.parent,A=o.shape;a._canDrillDown(A)&&a._addOverlay(A),a._updateDrilldownOverlay(l),a._updateDrilldownOverlay(c),a._updateDrilldownOverlay(A)},!0),t.on("import.render.complete",function(){r.filter(function(o){return a._canDrillDown(o)}).map(function(o){a._addOverlay(o)})})}ro(pA,ci);pA.prototype._updateDrilldownOverlay=function(e){var t=this._canvas;if(e){var r=t.findRoot(e);r&&this._updateOverlayVisibility(r)}};pA.prototype._canDrillDown=function(e){var t=this._canvas;return Tt(e,"bpmn:SubProcess")&&t.findRoot(YB(e))};pA.prototype._updateOverlayVisibility=function(e){var t=this._overlays,r=dn(e),n=t.get({element:r.id,type:"drilldown"})[0];if(n){var s=r&&r.get("flowElements")&&r.get("flowElements").length;Qm(n.html).toggle(Bte,!s)}};pA.prototype._addOverlay=function(e){var t=this._canvas,r=this._overlays,n=dn(e),s=r.get({element:e,type:"drilldown"});s.length&&this._removeOverlay(e);var a=Uo('<button type="button" class="bjs-drilldown">'+Cte+"</button>"),o=n.get("name")||n.get("id"),l=this._translate("Open {element}",{element:o});a.setAttribute("title",l),a.addEventListener("click",function(){t.setRootElement(t.findRoot(YB(e)))}),r.add(e,"drilldown",{position:{bottom:-7,right:-8},html:a}),this._updateOverlayVisibility(e)};pA.prototype._removeOverlay=function(e){var t=this._overlays;t.remove({element:e,type:"drilldown"})};pA.$inject=["canvas","eventBus","elementRegistry","overlays","translate"];const Nte={__depends__:[gU,Ate,hte],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",yU],drilldownCentering:["type",xU],drilldownOverlayBehavior:["type",pA],subprocessCompatibility:["type",kd]};function bU(e){return e.originalEvent||e.srcEvent}function Bj(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function Ste(){return/mac/i.test(navigator.platform)}function CU(e,t){return(bU(e)||e).button===t}function Px(e){return CU(e,0)}function Ete(e){return CU(e,1)}function jte(e){var t=bU(e)||e;return Px(e)&&t.shiftKey}function Fte(e){return!0}function p0(e){return Px(e)||Ete(e)}var Nj=500;function BU(e,t,r){var n=this;function s(I,Q,U){if(!l(I,Q)){var S,P,O;U?P=t.getGraphics(U):(S=Q.delegateTarget||Q.target,S&&(P=S,U=t.get(P))),!(!P||!U)&&(O=e.fire(I,{element:U,gfx:P,originalEvent:Q}),O===!1&&(Q.stopPropagation(),Q.preventDefault()))}}var a={};function o(I){return a[I]}function l(I,Q){var U=A[I]||Px;return!U(Q)}var c={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},A={"element.contextmenu":Fte,"element.mousedown":p0,"element.mouseup":p0,"element.click":p0,"element.dblclick":p0};function d(I,Q,U){var S=c[I];if(!S)throw new Error("unmapped DOM event name <"+I+">");return s(S,Q,U)}var u="svg, .djs-element";function p(I,Q,U,S){var P=a[U]=function(O){s(U,O)};S&&(A[U]=S),P.$delegate=i5.bind(I,u,Q,P)}function f(I,Q,U){var S=o(U);S&&i5.unbind(I,Q,S.$delegate)}function x(I){kt(c,function(Q,U){p(I,U,Q)})}function m(I){kt(c,function(Q,U){f(I,U,Q)})}e.on("canvas.destroy",function(I){m(I.svg)}),e.on("canvas.init",function(I){x(I.svg)}),e.on(["shape.added","connection.added"],function(I){var Q=I.element,U=I.gfx;e.fire("interactionEvents.createHit",{element:Q,gfx:U})}),e.on(["shape.changed","connection.changed"],Nj,function(I){var Q=I.element,U=I.gfx;e.fire("interactionEvents.updateHit",{element:Q,gfx:U})}),e.on("interactionEvents.createHit",Nj,function(I){var Q=I.element,U=I.gfx;n.createDefaultHit(Q,U)}),e.on("interactionEvents.updateHit",function(I){var Q=I.element,U=I.gfx;n.updateDefaultHit(Q,U)});var N=_("djs-hit djs-hit-stroke"),g=_("djs-hit djs-hit-click-stroke"),y=_("djs-hit djs-hit-all"),w=_("djs-hit djs-hit-no-move"),E={all:y,"click-stroke":g,stroke:N,"no-move":w};function _(I,Q){return Q=Lt({stroke:"white",strokeWidth:15},Q||{}),r.cls(I,["no-fill","no-border"],Q)}function D(I,Q){var U=E[Q];if(!U)throw new Error("invalid hit type <"+Q+">");return tn(I,U),I}function R(I,Q){ss(I,Q)}this.removeHits=function(I){var Q=wee(".djs-hit",I);kt(Q,Mm)},this.createDefaultHit=function(I,Q){var U=I.waypoints,S=I.isFrame,P;return U?this.createWaypointsHit(Q,U):(P=S?"stroke":"all",this.createBoxHit(Q,P,{width:I.width,height:I.height}))},this.createWaypointsHit=function(I,Q){var U=qB(Q);return D(U,"stroke"),R(I,U),U},this.createBoxHit=function(I,Q,U){U=Lt({x:0,y:0},U);var S=en("rect");return D(S,Q),tn(S,U),R(I,S),S},this.updateDefaultHit=function(I,Q){var U=hl(".djs-hit",Q);if(U)return I.waypoints?tU(U,I.waypoints):tn(U,{width:I.width,height:I.height}),U},this.fire=s,this.triggerMouseEvent=d,this.mouseHandler=o,this.registerEvent=p,this.unregisterEvent=f}BU.$inject=["eventBus","elementRegistry","styles"];const kte={__init__:["interactionEvents"],interactionEvents:["type",BU]};function qh(e,t){this._eventBus=e,this._canvas=t,this._selectedElements=[];var r=this;e.on(["shape.remove","connection.remove"],function(n){var s=n.element;r.deselect(s)}),e.on(["diagram.clear","root.set"],function(n){r.select(null)})}qh.$inject=["eventBus","canvas"];qh.prototype.deselect=function(e){var t=this._selectedElements,r=t.indexOf(e);if(r!==-1){var n=t.slice();t.splice(r,1),this._eventBus.fire("selection.changed",{oldSelection:n,newSelection:t})}};qh.prototype.get=function(){return this._selectedElements};qh.prototype.isSelected=function(e){return this._selectedElements.indexOf(e)!==-1};qh.prototype.select=function(e,t){var r=this._selectedElements,n=r.slice();Sa(e)||(e=e?[e]:[]);var s=this._canvas,a=s.getRootElement();e=e.filter(function(o){var l=s.findRoot(o);return a===l}),t?kt(e,function(o){r.indexOf(o)===-1&&r.push(o)}):this._selectedElements=r=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:n,newSelection:r})};var Sj="hover",Ej="selected";function NU(e,t){this._canvas=e;function r(s,a){e.addMarker(s,a)}function n(s,a){e.removeMarker(s,a)}t.on("element.hover",function(s){r(s.element,Sj)}),t.on("element.out",function(s){n(s.element,Sj)}),t.on("selection.changed",function(s){function a(A){n(A,Ej)}function o(A){r(A,Ej)}var l=s.oldSelection,c=s.newSelection;kt(l,function(A){c.indexOf(A)===-1&&a(A)}),kt(c,function(A){l.indexOf(A)===-1&&o(A)})})}NU.$inject=["canvas","eventBus"];function SU(e,t,r,n){e.on("create.end",500,function(s){var a=s.context,o=a.canExecute,l=a.elements,c=a.hints||{},A=c.autoSelect;if(o){if(A===!1)return;Sa(A)?t.select(A):t.select(l.filter(Ite))}}),e.on("connect.end",500,function(s){var a=s.context,o=a.connection;o&&t.select(o)}),e.on("shape.move.end",500,function(s){var a=s.previousSelection||[],o=n.get(s.context.shape.id),l=Za(a,function(c){return o.id===c.id});l||t.select(o)}),e.on("element.click",function(s){if(Px(s)){var a=s.element;a===r.getRootElement()&&(a=null);var o=t.isSelected(a),l=t.get().length>1,c=jte(s);if(o&&l)return c?t.deselect(a):t.select(a);o?t.deselect(a):t.select(a,c)}})}SU.$inject=["eventBus","selection","canvas","elementRegistry"];function Ite(e){return!e.hidden}const Pte={__init__:["selectionVisuals","selectionBehavior"],__depends__:[kte],selection:["type",qh],selectionVisuals:["type",NU],selectionBehavior:["type",SU]},_te=/^class[ {]/;function Tte(e){return _te.test(e.toString())}function ZB(e){return Array.isArray(e)}function I1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function mv(...e){e.length===1&&ZB(e[0])&&(e=e[0]),e=[...e];const t=e.pop();return t.$inject=e,t}const Lte=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Ute=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,Rte=/\/\*([^*]*)\*\//m;function Dte(e){if(typeof e!="function")throw new Error(`Cannot annotate "${e}". Expected a function!`);const t=e.toString().match(Tte(e)?Lte:Ute);if(!t)return[];const r=t[1]||t[2];return r&&r.split(",").map(n=>{const s=n.match(Rte);return(s&&s[1]||n).trim()})||[]}function EU(e,t){const r=t||{get:function(w,E){if(n.push(w),E===!1)return null;throw l(`No provider for "${w}"!`)}},n=[],s=this._providers=Object.create(r._providers||null),a=this._instances=Object.create(null),o=a.injector=this,l=function(w){const E=n.join(" -> ");return n.length=0,new Error(E?`${w} (Resolving: ${E})`:w)};function c(w,E){if(!s[w]&&w.includes(".")){const _=w.split(".");let D=c(_.shift());for(;_.length;)D=D[_.shift()];return D}if(I1(a,w))return a[w];if(I1(s,w)){if(n.indexOf(w)!==-1)throw n.push(w),l("Cannot resolve circular dependency!");return n.push(w),a[w]=s[w][0](s[w][1]),n.pop(),a[w]}return r.get(w,E)}function A(w,E){if(typeof E>"u"&&(E={}),typeof w!="function")if(ZB(w))w=mv(w.slice());else throw l(`Cannot invoke "${w}". Expected a function!`);const D=(w.$inject||Dte(w)).map(R=>I1(E,R)?E[R]:c(R));return{fn:w,dependencies:D}}function d(w){const{fn:E,dependencies:_}=A(w),D=Function.prototype.bind.call(E,null,..._);return new D}function u(w,E,_){const{fn:D,dependencies:R}=A(w,_);return D.apply(E,R)}function p(w){return mv(E=>w.get(E))}function f(w,E){if(E&&E.length){const _=Object.create(null),D=Object.create(null),R=[],I=[],Q=[];let U,S,P,O;for(let k in s)U=s[k],E.indexOf(k)!==-1&&(U[2]==="private"?(S=R.indexOf(U[3]),S===-1?(P=U[3].createChild([],E),O=p(P),R.push(U[3]),I.push(P),Q.push(O),_[k]=[O,k,"private",P]):_[k]=[Q[S],k,"private",I[S]]):_[k]=[U[2],U[1]],D[k]=!0),(U[2]==="factory"||U[2]==="type")&&U[1].$scope&&E.forEach(Z=>{U[1].$scope.indexOf(Z)!==-1&&(_[k]=[U[2],U[1]],D[Z]=!0)});E.forEach(k=>{if(!D[k])throw new Error('No provider for "'+k+'". Cannot use provider from the parent!')}),w.unshift(_)}return new EU(w,o)}const x={factory:u,type:d,value:function(w){return w}};function m(w,E){const _=w.__init__||[];return function(){_.forEach(D=>{typeof D=="string"?E.get(D):E.invoke(D)})}}function N(w){const E=w.__exports__;if(E){const _=w.__modules__,D=Object.keys(w).reduce((S,P)=>(P!=="__exports__"&&P!=="__modules__"&&P!=="__init__"&&P!=="__depends__"&&(S[P]=w[P]),S),Object.create(null)),R=(_||[]).concat(D),I=f(R),Q=mv(function(S){return I.get(S)});E.forEach(function(S){s[S]=[Q,S,"private",I]});const U=(w.__init__||[]).slice();return U.unshift(function(){I.init()}),w=Object.assign({},w,{__init__:U}),m(w,I)}return Object.keys(w).forEach(function(_){if(_==="__init__"||_==="__depends__")return;const D=w[_];if(D[2]==="private"){s[_]=D;return}const R=D[0],I=D[1];s[_]=[x[R],Mte(R,I),R]}),m(w,o)}function g(w,E){return w.indexOf(E)!==-1||(w=(E.__depends__||[]).reduce(g,w),w.indexOf(E)!==-1)?w:w.concat(E)}function y(w){const E=w.reduce(g,[]).map(N);let _=!1;return function(){_||(_=!0,E.forEach(D=>D()))}}this.get=c,this.invoke=u,this.instantiate=d,this.createChild=f,this.init=y(e)}function Mte(e,t){return e!=="value"&&ZB(t)&&(t=mv(t.slice())),t}var Qte=1;function mA(e,t){Ul.call(this,e,Qte),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}ro(mA,Ul);mA.prototype.canRender=function(){return!0};mA.prototype.drawShape=function(t,r,n){var s=en("rect");return tn(s,{x:0,y:0,width:r.width||0,height:r.height||0}),hU(r)?tn(s,Lt({},this.FRAME_STYLE,n||{})):tn(s,Lt({},this.SHAPE_STYLE,n||{})),ss(t,s),s};mA.prototype.drawConnection=function(t,r,n){var s=qB(r.waypoints,Lt({},this.CONNECTION_STYLE,n||{}));return ss(t,s),s};mA.prototype.getShapePath=function(t){var r=t.x,n=t.y,s=t.width,a=t.height,o=[["M",r,n],["l",s,0],["l",0,a],["l",-s,0],["z"]];return jd(o)};mA.prototype.getConnectionPath=function(t){var r=t.waypoints,n,s,a=[];for(n=0;s=r[n];n++)s=s.original||s,a.push([n===0?"M":"L",s.x,s.y]);return jd(a)};mA.$inject=["eventBus","styles"];function Ote(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(r,n,s){var a=this.style(n,s);return Lt(a,{class:r})},this.style=function(r,n){!Sa(r)&&!n&&(n=r,r=[]);var s=Uh(r,function(a,o){return Lt(a,e[o]||{})},{});return n?Lt(s,n):s},this.computeStyle=function(r,n,s){return Sa(n)||(s=n,n=[]),t.style(n||[],Lt({},s,r||{}))}}const Hte={__init__:["defaultRenderer"],defaultRenderer:["type",mA],styles:["type",Ote]};function $te(e,t){if(!e||!t)return-1;var r=e.indexOf(t);return r!==-1&&e.splice(r,1),r}function zte(e,t,r){if(!(!e||!t)){typeof r!="number"&&(r=-1);var n=e.indexOf(t);if(n!==-1){if(n===r)return;if(r!==-1)e.splice(n,1);else return}r!==-1?e.splice(r,0,t):e.push(t)}}function gv(e,t){return Math.round(e*t)/t}function jj(e){return rA(e)?e+"px":e}function Kte(e){for(;e.parent;)e=e.parent;return e}function Gte(e){e=Lt({},{width:"100%",height:"100%"},e);const t=e.container||document.body,r=document.createElement("div");return r.setAttribute("class","djs-container djs-parent"),bi(r,{position:"relative",overflow:"hidden",width:jj(e.width),height:jj(e.height)}),t.appendChild(r),r}function jU(e,t,r){const n=en("g");Bo(n).add(t);const s=r!==void 0?r:e.childNodes.length-1;return e.insertBefore(n,e.childNodes[s]||null),n}const Vte="base",FU=0,Wte=1,qte={shape:["x","y","width","height"],connection:["waypoints"]};function $t(e,t,r,n){this._eventBus=t,this._elementRegistry=n,this._graphicsFactory=r,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._focused=!1,this._init(e||{})}$t.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"];$t.prototype._init=function(e){const t=this._eventBus,r=this._container=Gte(e),n=this._svg=en("svg");tn(n,{width:"100%",height:"100%"}),rU(n,"tabindex",0),e.autoFocus&&t.on("element.hover",()=>{this.restoreFocus()}),t.on("element.mousedown",500,a=>{this.focus()}),n.addEventListener("focusin",()=>{this._setFocused(!0)}),n.addEventListener("focusout",()=>{this._setFocused(!1)}),ss(r,n);const s=this._viewport=jU(n,"viewport");e.deferUpdate&&(this._viewboxChanged=bZ(kl(this._viewboxChanged,this),300)),t.on("diagram.init",()=>{t.fire("canvas.init",{svg:n,viewport:s})}),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)};$t.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const e=this._container.parentNode;e&&e.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport};$t.prototype._setFocused=function(e){e!=this._focused&&(this._focused=e,this._eventBus.fire("canvas.focus.changed",{focused:e}))};$t.prototype._clear=function(){this._elementRegistry.getAll().forEach(t=>{const r=uU(t);r==="root"?this.removeRootElement(t):this._removeElement(t,r)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox};$t.prototype.focus=function(){this._svg.focus({preventScroll:!0}),this._setFocused(!0)};$t.prototype.restoreFocus=function(){document.activeElement===document.body&&this.focus()};$t.prototype.isFocused=function(){return this._focused};$t.prototype.getDefaultLayer=function(){return this.getLayer(Vte,FU)};$t.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");let r=this._layers[e];if(r||(r=this._layers[e]=this._createLayer(e,t)),typeof t<"u"&&r.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return r.group};$t.prototype._getChildIndex=function(e){return Uh(this._layers,function(t,r){return r.visible&&e>=r.index&&t++,t},0)};$t.prototype._createLayer=function(e,t){typeof t>"u"&&(t=Wte);const r=this._getChildIndex(t);return{group:jU(this._viewport,"layer-"+e,r),index:t,visible:!0}};$t.prototype.showLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const r=this._viewport,n=t.group,s=t.index;if(t.visible)return n;const a=this._getChildIndex(s);return r.insertBefore(n,r.childNodes[a]||null),t.visible=!0,n};$t.prototype.hideLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const r=t.group;return t.visible&&(Mm(r),t.visible=!1),r};$t.prototype._removeLayer=function(e){const t=this._layers[e];t&&(delete this._layers[e],Mm(t.group))};$t.prototype.getActiveLayer=function(){const e=this._findPlaneForRoot(this.getRootElement());return e?e.layer:null};$t.prototype.findRoot=function(e){return typeof e=="string"&&(e=this._elementRegistry.get(e)),e?(this._findPlaneForRoot(Kte(e))||{}).rootElement:void 0};$t.prototype.getRootElements=function(){return this._planes.map(function(e){return e.rootElement})};$t.prototype._findPlaneForRoot=function(e){return Za(this._planes,function(t){return t.rootElement===e})};$t.prototype.getContainer=function(){return this._container};$t.prototype._updateMarker=function(e,t,r){let n;e.id||(e=this._elementRegistry.get(e)),e.markers=e.markers||new Set,n=this._elementRegistry._elements[e.id],n&&(kt([n.gfx,n.secondaryGfx],function(s){s&&(r?(e.markers.add(t),Bo(s).add(t)):(e.markers.delete(t),Bo(s).remove(t)))}),this._eventBus.fire("element.marker.update",{element:e,gfx:n.gfx,marker:t,add:!!r}))};$t.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)};$t.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)};$t.prototype.hasMarker=function(e,t){return e.id||(e=this._elementRegistry.get(e)),e.markers?e.markers.has(t):!1};$t.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)};$t.prototype.getRootElement=function(){const e=this._rootElement;return e||this._planes.length?e:this.setRootElement(this.addRootElement(null))};$t.prototype.addRootElement=function(e){const t=this._rootsIdx++;e||(e={id:"__implicitroot_"+t,children:[],isImplicit:!0});const r=e.layer="root-"+t;this._ensureValid("root",e);const n=this.getLayer(r,FU);return this.hideLayer(r),this._addRoot(e,n),this._planes.push({rootElement:e,layer:n}),e};$t.prototype.removeRootElement=function(e){if(typeof e=="string"&&(e=this._elementRegistry.get(e)),!!this._findPlaneForRoot(e))return this._removeRoot(e),this._removeLayer(e.layer),this._planes=this._planes.filter(function(r){return r.rootElement!==e}),this._rootElement===e&&(this._rootElement=null),e};$t.prototype.setRootElement=function(e){if(e===this._rootElement)return e;let t;if(!e)throw new Error("rootElement required");return t=this._findPlaneForRoot(e),t||(e=this.addRootElement(e)),this._setRoot(e),e};$t.prototype._removeRoot=function(e){const t=this._elementRegistry,r=this._eventBus;r.fire("root.remove",{element:e}),r.fire("root.removed",{element:e}),t.remove(e)};$t.prototype._addRoot=function(e,t){const r=this._elementRegistry,n=this._eventBus;n.fire("root.add",{element:e}),r.add(e,t),n.fire("root.added",{element:e,gfx:t})};$t.prototype._setRoot=function(e,t){const r=this._rootElement;r&&(this._elementRegistry.updateGraphics(r,null,!0),this.hideLayer(r.layer)),e&&(t||(t=this._findPlaneForRoot(e).layer),this._elementRegistry.updateGraphics(e,this._svg,!0),this.showLayer(e.layer)),this._rootElement=e,this._eventBus.fire("root.set",{element:e})};$t.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element <"+t.id+"> already exists");const r=qte[e];if(!qL(r,function(s){return typeof t[s]<"u"}))throw new Error("must supply { "+r.join(", ")+" } with "+e)};$t.prototype._setParent=function(e,t,r){zte(t.children,e,r),e.parent=t};$t.prototype._addElement=function(e,t,r,n){r=r||this.getRootElement();const s=this._eventBus,a=this._graphicsFactory;this._ensureValid(e,t),s.fire(e+".add",{element:t,parent:r}),this._setParent(t,r,n);const o=a.create(e,t,n);return this._elementRegistry.add(t,o),a.update(e,t,o),s.fire(e+".added",{element:t,gfx:o}),t};$t.prototype.addShape=function(e,t,r){return this._addElement("shape",e,t,r)};$t.prototype.addConnection=function(e,t,r){return this._addElement("connection",e,t,r)};$t.prototype._removeElement=function(e,t){const r=this._elementRegistry,n=this._graphicsFactory,s=this._eventBus;if(e=r.get(e.id||e),!!e)return s.fire(t+".remove",{element:e}),n.remove(e),$te(e.parent&&e.parent.children,e),e.parent=null,s.fire(t+".removed",{element:e}),r.remove(e),e};$t.prototype.removeShape=function(e){return this._removeElement(e,"shape")};$t.prototype.removeConnection=function(e){return this._removeElement(e,"connection")};$t.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)};$t.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()};$t.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})};$t.prototype.viewbox=function(e){if(e===void 0&&this._cachedViewbox)return structuredClone(this._cachedViewbox);const t=this._viewport,r=this.getSize();let n,s,a,o,l,c,A;if(e)this._changeViewbox(function(){l=Math.min(r.width/e.width,r.height/e.height);const d=this._svg.createSVGMatrix().scale(l).translate(-e.x,-e.y);dm(t,d)});else return a=this._rootElement?this.getActiveLayer():null,n=a&&a.getBBox()||{},o=dm(t),s=o?o.matrix:zZ(),l=gv(s.a,1e3),c=gv(-s.e||0,1e3),A=gv(-s.f||0,1e3),e=this._cachedViewbox={x:c?c/l:0,y:A?A/l:0,width:r.width/l,height:r.height/l,scale:l,inner:{width:n.width||0,height:n.height||0,x:n.x||0,y:n.y||0},outer:r},e;return e};$t.prototype.scroll=function(e){const t=this._viewport;let r=t.getCTM();return e&&this._changeViewbox(function(){e=Lt({dx:0,dy:0},e||{}),r=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(r),kU(t,r)}),{x:r.e,y:r.f}};$t.prototype.scrollToElement=function(e,t){let r=100;typeof e=="string"&&(e=this._elementRegistry.get(e));const n=this.findRoot(e);if(n!==this.getRootElement()&&this.setRootElement(n),n===e)return;t||(t={}),typeof t=="number"&&(r=t),t={top:t.top||r,right:t.right||r,bottom:t.bottom||r,left:t.left||r};const s=um(e),a=a5(s),o=this.viewbox(),l=this.zoom();let c,A;o.y+=t.top/l,o.x+=t.left/l,o.width-=(t.right+t.left)/l,o.height-=(t.bottom+t.top)/l;const d=a5(o);if(!(s.width<o.width&&s.height<o.height))c=s.x-o.x,A=s.y-o.y;else{const p=Math.max(0,a.right-d.right),f=Math.min(0,a.left-d.left),x=Math.max(0,a.bottom-d.bottom),m=Math.min(0,a.top-d.top);c=p||f,A=x||m}this.scroll({dx:-c*l,dy:-A*l})};$t.prototype.zoom=function(e,t){if(!e)return this.viewbox(e).scale;if(e==="fit-viewport")return this._fitViewport(t);let r,n;return this._changeViewbox(function(){typeof t!="object"&&(r=this.viewbox().outer,t={x:r.width/2,y:r.height/2}),n=this._setZoom(e,t)}),gv(n.a,1e3)};function kU(e,t){const r="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",r)}$t.prototype._fitViewport=function(e){const t=this.viewbox(),r=t.outer,n=t.inner;let s,a;return n.x>=0&&n.y>=0&&n.x+n.width<=r.width&&n.y+n.height<=r.height&&!e?a={x:0,y:0,width:Math.max(n.width+n.x,r.width),height:Math.max(n.height+n.y,r.height)}:(s=Math.min(1,r.width/n.width,r.height/n.height),a={x:n.x+(e?n.width/2-r.width/s/2:0),y:n.y+(e?n.height/2-r.height/s/2:0),width:r.width/s,height:r.height/s}),this.viewbox(a),this.viewbox(!1).scale};$t.prototype._setZoom=function(e,t){const r=this._svg,n=this._viewport,s=r.createSVGMatrix(),a=r.createSVGPoint();let o,l,c,A,d;c=n.getCTM();const u=c.a;return t?(o=Lt(a,t),l=o.matrixTransform(c.inverse()),A=s.translate(l.x,l.y).scale(1/u*e).translate(-l.x,-l.y),d=c.multiply(A)):d=s.scale(e),kU(this._viewport,d),d};$t.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}};$t.prototype.getAbsoluteBBox=function(e){const t=this.viewbox();let r;e.waypoints?r=this.getGraphics(e).getBBox():r=e;const n=r.x*t.scale-t.x*t.scale,s=r.y*t.scale-t.y*t.scale,a=r.width*t.scale,o=r.height*t.scale;return{x:n,y:s,width:a,height:o}};$t.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Rh="data-element-id";function Ji(e){this._elements={},this._eventBus=e}Ji.$inject=["eventBus"];Ji.prototype.add=function(e,t,r){var n=e.id;this._validateId(n),tn(t,Rh,n),r&&tn(r,Rh,n),this._elements[n]={element:e,gfx:t,secondaryGfx:r}};Ji.prototype.remove=function(e){var t=this._elements,r=e.id||e,n=r&&t[r];n&&(tn(n.gfx,Rh,""),n.secondaryGfx&&tn(n.secondaryGfx,Rh,""),delete t[r])};Ji.prototype.updateId=function(e,t){this._validateId(t),typeof e=="string"&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var r=this.getGraphics(e),n=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,r,n)};Ji.prototype.updateGraphics=function(e,t,r){var n=e.id||e,s=this._elements[n];return r?s.secondaryGfx=t:s.gfx=t,t&&tn(t,Rh,n),t};Ji.prototype.get=function(e){var t;typeof e=="string"?t=e:t=e&&tn(e,Rh);var r=this._elements[t];return r&&r.element};Ji.prototype.filter=function(e){var t=[];return this.forEach(function(r,n){e(r,n)&&t.push(r)}),t};Ji.prototype.find=function(e){for(var t=this._elements,r=Object.keys(t),n=0;n<r.length;n++){var s=r[n],a=t[s],o=a.element,l=a.gfx;if(e(o,l))return o}};Ji.prototype.getAll=function(){return this.filter(function(e){return e})};Ji.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach(function(r){var n=t[r],s=n.element,a=n.gfx;return e(s,a)})};Ji.prototype.getGraphics=function(e,t){var r=e.id||e,n=this._elements[r];return n&&(t?n.secondaryGfx:n.gfx)};Ji.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};function Xte(e,t,r,n){var s=r.inverse;return Object.defineProperty(e,"remove",{value:function(a){var o=this.indexOf(a);return o!==-1&&(this.splice(o,1),t.unset(a,s,n)),a}}),Object.defineProperty(e,"contains",{value:function(a){return this.indexOf(a)!==-1}}),Object.defineProperty(e,"add",{value:function(a,o){var l=this.indexOf(a);if(typeof o>"u"){if(l!==-1)return;o=this.length}l!==-1&&this.splice(l,1),this.splice(o,0,a),l===-1&&t.set(a,s,n)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e}function Jte(e){return e.__refs_collection===!0}function Yte(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)}function IU(e,t,r){var n=Xte(r[t.name]||[],e,t,r);Object.defineProperty(r,t.name,{enumerable:t.enumerable,value:n}),n.length&&n.forEach(function(s){e.set(s,t.inverse,r)})}function Zte(e,t,r){var n=t.inverse,s=r[t.name];Object.defineProperty(r,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return s},set:function(a){if(a!==s){var o=s;s=null,o&&e.unset(o,n,r),s=a,e.set(s,n,r)}}})}function Ea(e,t){if(!(this instanceof Ea))return new Ea(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}Ea.prototype.bind=function(e,t){if(typeof t=="string"){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?IU(this,t,e):Zte(this,t,e)};Ea.prototype.ensureRefsCollection=function(e,t){var r=e[t.name];return Jte(r)||IU(this,t,e),r};Ea.prototype.ensureBound=function(e,t){Yte(e,t)||this.bind(e,t)};Ea.prototype.unset=function(e,t,r){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(r):e[t.name]=void 0)};Ea.prototype.set=function(e,t,r){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(r):e[t.name]=r)};var eN=new Ea({name:"children",enumerable:!0,collection:!0},{name:"parent"}),PU=new Ea({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),Fj=new Ea({name:"attachers",collection:!0},{name:"host"}),_U=new Ea({name:"outgoing",collection:!0},{name:"source"}),TU=new Ea({name:"incoming",collection:!0},{name:"target"});function Om(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,r=this.labels;!e&&t?r.remove(t):r.add(e,0)}}),eN.bind(this,"parent"),PU.bind(this,"labels"),_U.bind(this,"outgoing"),TU.bind(this,"incoming")}function Hm(){Om.call(this),eN.bind(this,"children"),Fj.bind(this,"host"),Fj.bind(this,"attachers")}ro(Hm,Om);function LU(){Om.call(this),eN.bind(this,"children")}ro(LU,Hm);function UU(){Hm.call(this),PU.bind(this,"labelTarget")}ro(UU,Hm);function RU(){Om.call(this),_U.bind(this,"source"),TU.bind(this,"target")}ro(RU,Om);var ere={connection:RU,shape:Hm,label:UU,root:LU};function tre(e,t){var r=ere[e];if(!r)throw new Error("unknown type: <"+e+">");return Lt(new r,t)}function Xh(){this._uid=12}Xh.prototype.createRoot=function(e){return this.create("root",e)};Xh.prototype.createLabel=function(e){return this.create("label",e)};Xh.prototype.createShape=function(e){return this.create("shape",e)};Xh.prototype.createConnection=function(e){return this.create("connection",e)};Xh.prototype.create=function(e,t){return t=Lt({},t||{}),t.id||(t.id=e+"_"+this._uid++),tre(e,t)};var By="__fn",DU=1e3,rre=Array.prototype.slice;function Fi(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}Fi.prototype.on=function(e,t,r,n){if(e=Sa(e)?e:[e],Kc(t)&&(n=r,r=t,t=DU),!rA(t))throw new Error("priority must be a number");var s=r;n&&(s=kl(r,n),s[By]=r[By]||r);var a=this;e.forEach(function(o){a._addListener(o,{priority:t,callback:s,next:null})})};Fi.prototype.once=function(e,t,r,n){var s=this;if(Kc(t)&&(n=r,r=t,t=DU),!rA(t))throw new Error("priority must be a number");function a(){a.__isTomb=!0;var o=r.apply(n,arguments);return s.off(e,a),o}a[By]=r,this.on(e,t,a)};Fi.prototype.off=function(e,t){e=Sa(e)?e:[e];var r=this;e.forEach(function(n){r._removeListener(n,t)})};Fi.prototype.createEvent=function(e){var t=new $m;return t.init(e),t};Fi.prototype.fire=function(e,t){var r,n,s,a;if(a=rre.call(arguments),typeof e=="object"&&(t=e,e=t.type),!e)throw new Error("no event type specified");if(n=this._listeners[e],!!n){t instanceof $m?r=t:r=this.createEvent(t),a[0]=r;var o=r.type;e!==o&&(r.type=e);try{s=this._invokeListeners(r,a,n)}finally{e!==o&&(r.type=o)}return s===void 0&&r.defaultPrevented&&(s=!1),s}};Fi.prototype.handleError=function(e){return this.fire("error",{error:e})===!1};Fi.prototype._destroy=function(){this._listeners={}};Fi.prototype._invokeListeners=function(e,t,r){for(var n;r&&!e.cancelBubble;)n=this._invokeListener(e,t,r),r=r.next;return n};Fi.prototype._invokeListener=function(e,t,r){var n;if(r.callback.__isTomb)return n;try{n=nre(r.callback,t),n!==void 0&&(e.returnValue=n,e.stopPropagation()),n===!1&&e.preventDefault()}catch(s){if(!this.handleError(s))throw console.error("unhandled error in event listener",s),s}return n};Fi.prototype._addListener=function(e,t){var r=this._getListeners(e),n;if(!r){this._setListeners(e,t);return}for(;r;){if(r.priority<t.priority){t.next=r,n?n.next=t:this._setListeners(e,t);return}n=r,r=r.next}n.next=t};Fi.prototype._getListeners=function(e){return this._listeners[e]};Fi.prototype._setListeners=function(e,t){this._listeners[e]=t};Fi.prototype._removeListener=function(e,t){var r=this._getListeners(e),n,s,a;if(!t){this._setListeners(e,null);return}for(;r;)n=r.next,a=r.callback,(a===t||a[By]===t)&&(s?s.next=n:this._setListeners(e,n)),s=r,r=n};function $m(){}$m.prototype.stopPropagation=function(){this.cancelBubble=!0};$m.prototype.preventDefault=function(){this.defaultPrevented=!0};$m.prototype.init=function(e){Lt(this,e||{})};function nre(e,t){return e.apply(null,t)}function sre(e){return e.childNodes[0]}function ire(e){return e.parentNode.childNodes[1]}function Yi(e,t){this._eventBus=e,this._elementRegistry=t}Yi.$inject=["eventBus","elementRegistry"];Yi.prototype._getChildrenContainer=function(e){var t=this._elementRegistry.getGraphics(e),r;return e.parent?(r=ire(t),r||(r=en("g"),Bo(r).add("djs-children"),ss(t.parentNode,r))):r=t,r};Yi.prototype._clear=function(e){var t=sre(e);return nU(t),t};Yi.prototype._createContainer=function(e,t,r,n){var s=en("g");Bo(s).add("djs-group"),typeof r<"u"?MU(s,t,t.childNodes[r]):ss(t,s);var a=en("g");Bo(a).add("djs-element"),Bo(a).add("djs-"+e),n&&Bo(a).add("djs-frame"),ss(s,a);var o=en("g");return Bo(o).add("djs-visual"),ss(a,o),a};Yi.prototype.create=function(e,t,r){var n=this._getChildrenContainer(t.parent);return this._createContainer(e,n,r,hU(t))};Yi.prototype.updateContainments=function(e){var t=this,r=this._elementRegistry,n;n=Uh(e,function(s,a){return a.parent&&(s[a.parent.id]=a.parent),s},{}),kt(n,function(s){var a=s.children;if(a){var o=t._getChildrenContainer(s);kt(a.slice().reverse(),function(l){var c=r.getGraphics(l);MU(c.parentNode,o)})}})};Yi.prototype.drawShape=function(e,t,r={}){var n=this._eventBus;return n.fire("render.shape",{gfx:e,element:t,attrs:r})};Yi.prototype.getShapePath=function(e){var t=this._eventBus;return t.fire("render.getShapePath",e)};Yi.prototype.drawConnection=function(e,t,r={}){var n=this._eventBus;return n.fire("render.connection",{gfx:e,element:t,attrs:r})};Yi.prototype.getConnectionPath=function(e){var t=this._eventBus;return t.fire("render.getConnectionPath",e)};Yi.prototype.update=function(e,t,r){if(t.parent){var n=this._clear(r);if(e==="shape")this.drawShape(n,t),lU(r,t.x,t.y);else if(e==="connection")this.drawConnection(n,t);else throw new Error("unknown type: "+e);t.hidden?tn(r,"display","none"):tn(r,"display","block")}};Yi.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);Mm(t.parentNode)};function MU(e,t,r){var n=r||t.firstChild;e!==n&&t.insertBefore(e,n)}const are={__depends__:[Hte],__init__:["canvas"],canvas:["type",$t],elementRegistry:["type",Ji],elementFactory:["type",Xh],eventBus:["type",Fi],graphicsFactory:["type",Yi]};function ore(e){var t=new EU(e);return t.init(),t}function lre(e){e=e||{};var t={config:["value",e]},r=[t,are].concat(e.modules||[]);return ore(r)}function gA(e,t){this._injector=t||lre(e),this.get("eventBus").fire("diagram.init")}gA.prototype.get=function(e,t){return this._injector.get(e,t)};gA.prototype.invoke=function(e,t,r){return this._injector.invoke(e,t,r)};gA.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")};gA.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};function tN(){}tN.prototype.get=function(e){return this.$model.properties.get(this,e)};tN.prototype.set=function(e,t){this.$model.properties.set(this,e,t)};function QU(e,t){this.model=e,this.properties=t}QU.prototype.createType=function(e){var t=this.model,r=this.properties,n=Object.create(tN.prototype);kt(e.properties,function(o){!o.isMany&&o.default!==void 0&&(n[o.name]=o.default)}),r.defineModel(n,t),r.defineDescriptor(n,e);var s=e.ns.name;function a(o){r.define(this,"$type",{value:s,enumerable:!0}),r.define(this,"$attrs",{value:{}}),r.define(this,"$parent",{writable:!0}),kt(o,kl(function(l,c){this.set(c,l)},this))}return a.prototype=n,a.hasType=n.$instanceOf=this.model.hasType,r.defineModel(a,t),r.defineDescriptor(a,e),a};var cre={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},OU={String:function(e){return e},Boolean:function(e){return e==="true"},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function rN(e,t){var r=OU[e];return r?r(t):t}function l5(e){return!!cre[e]}function HU(e){return!!OU[e]}function Ss(e,t){var r=e.split(/:/),n,s;if(r.length===1)n=e,s=t;else if(r.length===2)n=r[1],s=r[0];else throw new Error("expected <prefix:localName> or <localName>, got "+e);return e=(s?s+":":"")+n,{name:e,prefix:s,localName:n}}function Zi(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}Zi.prototype.build=function(){return BZ(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])};Zi.prototype.addProperty=function(e,t,r){typeof t=="boolean"&&(r=t,t=void 0),this.addNamedProperty(e,r!==!1);var n=this.properties;t!==void 0?n.splice(t,0,e):n.push(e)};Zi.prototype.replaceProperty=function(e,t,r){var n=e.ns,s=this.properties,a=this.propertiesByName,o=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var l=s.indexOf(e);if(l===-1)throw new Error("property <"+n.name+"> not found in property list");s.splice(l,1),this.addProperty(t,r?void 0:l,o),a[n.name]=a[n.localName]=t};Zi.prototype.redefineProperty=function(e,t,r){var n=e.ns.prefix,s=t.split("#"),a=Ss(s[0],n),o=Ss(s[1],a.prefix).name,l=this.propertiesByName[o];if(l)this.replaceProperty(l,e,r);else throw new Error("refined property <"+o+"> not found");delete e.redefines};Zi.prototype.addNamedProperty=function(e,t){var r=e.ns,n=this.propertiesByName;t&&(this.assertNotDefined(e,r.name),this.assertNotDefined(e,r.localName)),n[r.name]=n[r.localName]=e};Zi.prototype.removeNamedProperty=function(e){var t=e.ns,r=this.propertiesByName;delete r[t.name],delete r[t.localName]};Zi.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e};Zi.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e};Zi.prototype.assertNotTrait=function(e){if((e.extends||[]).length)throw new Error(`cannot create <${e.name}> extending <${e.extends}>`)};Zi.prototype.assertNotDefined=function(e,t){var r=e.name,n=this.propertiesByName[r];if(n)throw new Error("property <"+r+"> already defined; override of <"+n.definedBy.ns.name+"#"+n.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")};Zi.prototype.hasProperty=function(e){return this.propertiesByName[e]};Zi.prototype.addTrait=function(e,t){t&&this.assertNotTrait(e);var r=this.allTypesByName,n=this.allTypes,s=e.name;s in r||(kt(e.properties,kl(function(a){a=Lt({},a,{name:a.ns.localName,inherited:t}),Object.defineProperty(a,"definedBy",{value:e});var o=a.replaces,l=a.redefines;o||l?this.redefineProperty(a,o||l,o):(a.isBody&&this.setBodyProperty(a),a.isId&&this.setIdProperty(a),this.addProperty(a))},this)),n.push(e),r[s]=e)};function vA(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,kt(e,kl(this.registerPackage,this))}vA.prototype.getPackage=function(e){return this.packageMap[e]};vA.prototype.getPackages=function(){return this.packages};vA.prototype.registerPackage=function(e){e=Lt({},e);var t=this.packageMap;kj(t,e,"prefix"),kj(t,e,"uri"),kt(e.types,kl(function(r){this.registerType(r,e)},this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)};vA.prototype.registerType=function(e,t){e=Lt({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:Lt(e.meta||{})});var r=Ss(e.name,t.prefix),n=r.name,s={};kt(e.properties,kl(function(a){var o=Ss(a.name,r.prefix),l=o.name;l5(a.type)||(a.type=Ss(a.type,o.prefix).name),Lt(a,{ns:o,name:l}),s[l]=a},this)),Lt(e,{ns:r,name:n,propertiesByName:s}),kt(e.extends,kl(function(a){var o=Ss(a,r.prefix),l=this.typeMap[o.name];l.traits=l.traits||[],l.traits.push(n)},this)),this.definePackage(e,t),this.typeMap[n]=e};vA.prototype.mapTypes=function(e,t,r){var n=l5(e.name)?{name:e.name}:this.typeMap[e.name],s=this;function a(c,A){var d=Ss(c,l5(c)?"":e.prefix);s.mapTypes(d,t,A)}function o(c){return a(c,!0)}function l(c){return a(c,!1)}if(!n)throw new Error("unknown type <"+e.name+">");kt(n.superClass,r?o:l),t(n,!r),kt(n.traits,o)};vA.prototype.getEffectiveDescriptor=function(e){var t=Ss(e),r=new Zi(t);this.mapTypes(t,function(s,a){r.addTrait(s,a)});var n=r.build();return this.definePackage(n,n.allTypes[n.allTypes.length-1].$pkg),n};vA.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})};function kj(e,t,r){var n=t[r];if(n in e)throw new Error("package with "+r+" <"+n+"> already defined")}function Id(e){this.model=e}Id.prototype.set=function(e,t,r){if(!Lo(t)||!t.length)throw new TypeError("property name must be a non-empty string");var n=this.getProperty(e,t),s=n&&n.name;Are(r)?n?delete e[s]:delete e.$attrs[c5(t)]:n?s in e?e[s]=r:$U(e,n,r):e.$attrs[c5(t)]=r};Id.prototype.get=function(e,t){var r=this.getProperty(e,t);if(!r)return e.$attrs[c5(t)];var n=r.name;return!e[n]&&r.isMany&&$U(e,r,[]),e[n]};Id.prototype.define=function(e,t,r){if(!r.writable){var n=r.value;r=Lt({},r,{get:function(){return n}}),delete r.value}Object.defineProperty(e,t,r)};Id.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})};Id.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})};Id.prototype.getProperty=function(e,t){var r=this.model,n=r.getPropertyDescriptor(e,t);if(n)return n;if(t.includes(":"))return null;const s=r.config.strict;if(typeof s<"u"){const a=new TypeError(`unknown property <${t}> on <${e.$type}>`);if(s)throw a;typeof console<"u"&&console.warn(a)}return null};function Are(e){return typeof e>"u"}function $U(e,t,r){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:r,configurable:!0})}function c5(e){return e.replace(/^:/,"")}function ja(e,t={}){this.properties=new Id(this),this.factory=new QU(this,this.properties),this.registry=new vA(e,this.properties),this.typeCache={},this.config=t}ja.prototype.create=function(e,t){var r=this.getType(e);if(!r)throw new Error("unknown type <"+e+">");return new r(t)};ja.prototype.getType=function(e){var t=this.typeCache,r=Lo(e)?e:e.ns.name,n=t[r];return n||(e=this.registry.getEffectiveDescriptor(r),n=t[r]=this.factory.createType(e)),n};ja.prototype.createAny=function(e,t,r){var n=Ss(e),s={$type:e,$instanceOf:function(o){return o===this.$type},get:function(o){return this[o]},set:function(o,l){CZ(this,[o],l)}},a={name:e,isGeneric:!0,ns:{prefix:n.prefix,localName:n.localName,uri:t}};return this.properties.defineDescriptor(s,a),this.properties.defineModel(s,this),this.properties.define(s,"get",{enumerable:!1,writable:!0}),this.properties.define(s,"set",{enumerable:!1,writable:!0}),this.properties.define(s,"$parent",{enumerable:!1,writable:!0}),this.properties.define(s,"$instanceOf",{enumerable:!1,writable:!0}),kt(r,function(o,l){bd(o)&&o.value!==void 0?s[o.name]=o.value:s[l]=o}),s};ja.prototype.getPackage=function(e){return this.registry.getPackage(e)};ja.prototype.getPackages=function(){return this.registry.getPackages()};ja.prototype.getElementDescriptor=function(e){return e.$descriptor};ja.prototype.hasType=function(e,t){t===void 0&&(t=e,e=this);var r=e.$model.getElementDescriptor(e);return t in r.allTypesByName};ja.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]};ja.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var Ij=String.fromCharCode,dre=Object.prototype.hasOwnProperty,ure=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,Bp={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(Bp).forEach(function(e){Bp[e.toUpperCase()]=Bp[e]});function hre(e,t,r,n){return n?dre.call(Bp,n)?Bp[n]:"&"+n+";":Ij(t||parseInt(r,16))}function TA(e){return e.length>3&&e.indexOf("&")!==-1?e.replace(ure,hre):e}var Pj="non-whitespace outside of root node";function uu(e){return new Error(e)}function _j(e){return"missing namespace for prefix <"+e+">"}function m0(e){return{get:e,enumerable:!0}}function fre(e){var t={},r;for(r in e)t[r]=e[r];return t}function A5(e){return e+"$uri"}function pre(e){var t={},r,n;for(r in e)n=e[r],t[n]=n,t[A5(n)]=r;return t}function Tj(){return{line:0,column:0}}function mre(e){throw e}function zU(e){if(!this)return new zU(e);var t=e&&e.proxy,r,n,s,a,o=mre,l,c,A,d,u=Tj,p=!1,f=!1,x=null,m=!1,N;function g(E){E instanceof Error||(E=uu(E)),x=E,o(E,u)}function y(E){l&&(E instanceof Error||(E=uu(E)),l(E,u))}this.on=function(E,_){if(typeof _!="function")throw uu("required args <name, cb>");switch(E){case"openTag":n=_;break;case"text":r=_;break;case"closeTag":s=_;break;case"error":o=_;break;case"warn":l=_;break;case"cdata":a=_;break;case"attention":d=_;break;case"question":A=_;break;case"comment":c=_;break;default:throw uu("unsupported event: "+E)}return this},this.ns=function(E){if(typeof E>"u"&&(E={}),typeof E!="object")throw uu("required args <nsMap={}>");var _={},D;for(D in E)_[D]=E[D];return f=!0,N=_,this},this.parse=function(E){if(typeof E!="string")throw uu("required args <xml=string>");return x=null,w(E),u=Tj,m=!1,x},this.stop=function(){m=!0};function w(E){var _=f?[]:null,D=f?pre(N):null,R,I=[],Q=0,U=!1,S=!1,P=0,O=0,k,Z,H,q,K,W,te,ue,T,$="",V=0,se;function Y(){if(se!==null)return se;var C,j,G,z=f&&D.xmlns,ae=f&&p?[]:null,de=V,he=$,ce=he.length,oe,Re,Ce,xe,Fe,ze={},Qe={},We,Oe,Ke;e:for(;de<ce;de++)if(We=!1,Oe=he.charCodeAt(de),!(Oe===32||Oe<14&&Oe>8)){for((Oe<65||Oe>122||Oe>90&&Oe<97)&&Oe!==95&&Oe!==58&&(y("illegal first char attribute name"),We=!0),Ke=de+1;Ke<ce;Ke++)if(Oe=he.charCodeAt(Ke),!(Oe>96&&Oe<123||Oe>64&&Oe<91||Oe>47&&Oe<59||Oe===46||Oe===45||Oe===95)){if(Oe===32||Oe<14&&Oe>8){y("missing attribute value"),de=Ke;continue e}if(Oe===61)break;y("illegal attribute name char"),We=!0}if(Fe=he.substring(de,Ke),Fe==="xmlns:xmlns"&&(y("illegal declaration of xmlns"),We=!0),Oe=he.charCodeAt(Ke+1),Oe===34)Ke=he.indexOf('"',de=Ke+2),Ke===-1&&(Ke=he.indexOf("'",de),Ke!==-1&&(y("attribute value quote missmatch"),We=!0));else if(Oe===39)Ke=he.indexOf("'",de=Ke+2),Ke===-1&&(Ke=he.indexOf('"',de),Ke!==-1&&(y("attribute value quote missmatch"),We=!0));else for(y("missing attribute value quotes"),We=!0,Ke=Ke+1;Ke<ce&&(Oe=he.charCodeAt(Ke+1),!(Oe===32||Oe<14&&Oe>8));Ke++);for(Ke===-1&&(y("missing closing quotes"),Ke=ce,We=!0),We||(Ce=he.substring(de,Ke)),de=Ke;Ke+1<ce&&(Oe=he.charCodeAt(Ke+1),!(Oe===32||Oe<14&&Oe>8));Ke++)de===Ke&&(y("illegal character after attribute end"),We=!0);if(de=Ke+1,We)continue e;if(Fe in Qe){y("attribute <"+Fe+"> already defined");continue}if(Qe[Fe]=!0,!f){ze[Fe]=Ce;continue}if(p){if(Re=Fe==="xmlns"?"xmlns":Fe.charCodeAt(0)===120&&Fe.substr(0,6)==="xmlns:"?Fe.substr(6):null,Re!==null){if(C=TA(Ce),j=A5(Re),xe=N[C],!xe){if(Re==="xmlns"||j in D&&D[j]!==C)do xe="ns"+Q++;while(typeof D[xe]<"u");else xe=Re;N[C]=xe}D[Re]!==xe&&(oe||(D=fre(D),oe=!0),D[Re]=xe,Re==="xmlns"&&(D[A5(xe)]=C,z=xe),D[j]=C),ze[Fe]=Ce;continue}ae.push(Fe,Ce);continue}if(Oe=Fe.indexOf(":"),Oe===-1){ze[Fe]=Ce;continue}if(!(G=D[Fe.substring(0,Oe)])){y(_j(Fe.substring(0,Oe)));continue}Fe=z===G?Fe.substr(Oe+1):G+Fe.substr(Oe),ze[Fe]=Ce}if(p)for(de=0,ce=ae.length;de<ce;de++){if(Fe=ae[de++],Ce=ae[de],Oe=Fe.indexOf(":"),Oe!==-1){if(!(G=D[Fe.substring(0,Oe)])){y(_j(Fe.substring(0,Oe)));continue}Fe=z===G?Fe.substr(Oe+1):G+Fe.substr(Oe)}ze[Fe]=Ce}return se=ze}function L(){for(var C=/(\r\n|\r|\n)/g,j=0,G=0,z=0,ae=O,de,he;P>=z&&(de=C.exec(E),!(!de||(ae=de[0].length+de.index,ae>P)));)j+=1,z=ae;return P==-1?(G=ae,he=E.substring(O)):O===0?he=E.substring(O,P):(G=P-z,he=O==-1?E.substring(P):E.substring(P,O+1)),{data:he,line:j,column:G}}for(u=L,t&&(T=Object.create({},{name:m0(function(){return te}),originalName:m0(function(){return ue}),attrs:m0(Y),ns:m0(function(){return D})}));O!==-1;){if(E.charCodeAt(O)===60?P=O:P=E.indexOf("<",O),P===-1){if(I.length)return g("unexpected end of file");if(O===0)return g("missing start tag");O<E.length&&E.substring(O).trim()&&y(Pj);return}if(O!==P){if(I.length){if(r&&(r(E.substring(O,P),TA,u),m))return}else if(E.substring(O,P).trim()&&(y(Pj),m))return}if(q=E.charCodeAt(P+1),q===33){if(H=E.charCodeAt(P+2),H===91&&E.substr(P+3,6)==="CDATA["){if(O=E.indexOf("]]>",P),O===-1)return g("unclosed cdata");if(a&&(a(E.substring(P+9,O),u),m))return;O+=3;continue}if(H===45&&E.charCodeAt(P+3)===45){if(O=E.indexOf("-->",P),O===-1)return g("unclosed comment");if(c&&(c(E.substring(P+4,O),TA,u),m))return;O+=3;continue}}if(q===63){if(O=E.indexOf("?>",P),O===-1)return g("unclosed question");if(A&&(A(E.substring(P,O+2),u),m))return;O+=2;continue}for(k=P+1;;k++){if(K=E.charCodeAt(k),isNaN(K))return O=-1,g("unclosed tag");if(K===34)H=E.indexOf('"',k+1),k=H!==-1?H:k;else if(K===39)H=E.indexOf("'",k+1),k=H!==-1?H:k;else if(K===62){O=k;break}}if(q===33){if(d&&(d(E.substring(P,O+1),TA,u),m))return;O+=1;continue}if(se={},q===47){if(U=!1,S=!0,!I.length)return g("missing open tag");if(k=te=I.pop(),H=P+2+k.length,E.substring(P+2,H)!==k)return g("closing tag mismatch");for(;H<O;H++)if(q=E.charCodeAt(H),!(q===32||q>8&&q<14))return g("close tag")}else{if(E.charCodeAt(O-1)===47?(k=te=E.substring(P+1,O-1),U=!0,S=!0):(k=te=E.substring(P+1,O),U=!0,S=!1),!(q>96&&q<123||q>64&&q<91||q===95||q===58))return g("illegal first char nodeName");for(H=1,Z=k.length;H<Z;H++)if(q=k.charCodeAt(H),!(q>96&&q<123||q>64&&q<91||q>47&&q<59||q===45||q===95||q==46)){if(q===32||q<14&&q>8){te=k.substring(0,H),se=null;break}return g("invalid nodeName")}S||I.push(te)}if(f){if(R=D,U&&(S||_.push(R),se===null&&(p=k.indexOf("xmlns",H)!==-1)&&(V=H,$=k,Y(),p=!1)),ue=te,q=te.indexOf(":"),q!==-1){if(W=D[te.substring(0,q)],!W)return g("missing namespace on <"+ue+">");te=te.substr(q+1)}else W=D.xmlns;W&&(te=W+":"+te)}if(U&&(V=H,$=k,n&&(t?n(T,TA,S,u):n(te,Y,TA,S,u),m)))return;if(S){if(s&&(s(t?T:te,TA,U,u),m))return;f&&(U?D=R:D=_.pop())}O+=1}}}function KU(e){return e.xml&&e.xml.tagAlias==="lowerCase"}var d5={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},GU="property";function VU(e){return e.xml&&e.xml.serialize}function gre(e){const t=VU(e);return t!==GU&&(t||null)}function vre(e){return e.charAt(0).toUpperCase()+e.slice(1)}function WU(e,t){return KU(t)?e.prefix+":"+vre(e.localName):e.name}function yre(e,t){var r=e.name,n=e.localName,s=t&&t.xml&&t.xml.typePrefix;return s&&n.indexOf(s)===0?e.prefix+":"+n.slice(s.length):r}function xre(e,t,r){const n=Ss(e,t.xmlns),s=`${t[n.prefix]||n.prefix}:${n.localName}`,a=Ss(s);var o=r.getPackage(a.prefix);return yre(a,o)}function iA(e){return new Error(e)}function xl(e){return e.$descriptor}function wre(e){Lt(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(t){this.references.push(t)},this.addElement=function(t){if(!t)throw iA("expected element");var r=this.elementsById,n=xl(t),s=n.idProperty,a;if(s&&(a=t.get(s.name),a)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(a))throw new Error("illegal ID <"+a+">");if(r[a])throw iA("duplicate ID <"+a+">");r[a]=t}},this.addWarning=function(t){this.warnings.push(t)}}function zm(){}zm.prototype.handleEnd=function(){};zm.prototype.handleText=function(){};zm.prototype.handleNode=function(){};function nN(){}nN.prototype=Object.create(zm.prototype);nN.prototype.handleNode=function(){return this};function Jh(){}Jh.prototype=Object.create(zm.prototype);Jh.prototype.handleText=function(e){this.body=(this.body||"")+e};function Km(e,t){this.property=e,this.context=t}Km.prototype=Object.create(Jh.prototype);Km.prototype.handleNode=function(e){if(this.element)throw iA("expected no sub nodes");return this.element=this.createReference(e),this};Km.prototype.handleEnd=function(){this.element.id=this.body};Km.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}};function sN(e,t){this.element=t,this.propertyDesc=e}sN.prototype=Object.create(Jh.prototype);sN.prototype.handleEnd=function(){var e=this.body||"",t=this.element,r=this.propertyDesc;e=rN(r.type,e),r.isMany?t.get(r.name).push(e):t.set(r.name,e)};function _x(){}_x.prototype=Object.create(Jh.prototype);_x.prototype.handleNode=function(e){var t=this,r=this.element;return r?t=this.handleChild(e):(r=this.element=this.createElement(e),this.context.addElement(r)),t};function Ws(e,t,r){this.model=e,this.type=e.getType(t),this.context=r}Ws.prototype=Object.create(_x.prototype);Ws.prototype.addReference=function(e){this.context.addReference(e)};Ws.prototype.handleText=function(e){var t=this.element,r=xl(t),n=r.bodyProperty;if(!n)throw iA("unexpected body text <"+e+">");Jh.prototype.handleText.call(this,e)};Ws.prototype.handleEnd=function(){var e=this.body,t=this.element,r=xl(t),n=r.bodyProperty;n&&e!==void 0&&(e=rN(n.type,e),t.set(n.name,e))};Ws.prototype.createElement=function(e){var t=e.attributes,r=this.type,n=xl(r),s=this.context,a=new r({}),o=this.model,l;return kt(t,function(c,A){var d=n.propertiesByName[A],u;d&&d.isReference?d.isMany?(u=c.split(" "),kt(u,function(p){s.addReference({element:a,property:d.ns.name,id:p})})):s.addReference({element:a,property:d.ns.name,id:c}):(d?c=rN(d.type,c):A==="xmlns"?A=":"+A:(l=Ss(A,n.ns.prefix),o.getPackage(l.prefix)&&s.addWarning({message:"unknown attribute <"+A+">",element:a,property:A,value:c})),a.set(A,c))}),a};Ws.prototype.getPropertyForNode=function(e){var t=e.name,r=Ss(t),n=this.type,s=this.model,a=xl(n),o=r.name,l=a.propertiesByName[o];if(l&&!l.isAttr){const A=gre(l);if(A){const d=e.attributes[A];if(d){const u=xre(d,e.ns,s),p=s.getType(u);return Lt({},l,{effectiveType:xl(p).name})}}return l}var c=s.getPackage(r.prefix);if(c){const A=WU(r,c),d=s.getType(A);if(l=Za(a.properties,function(u){return!u.isVirtual&&!u.isReference&&!u.isAttribute&&d.hasType(u.type)}),l)return Lt({},l,{effectiveType:xl(d).name})}else if(l=Za(a.properties,function(A){return!A.isReference&&!A.isAttribute&&A.type==="Element"}),l)return l;throw iA("unrecognized element <"+r.name+">")};Ws.prototype.toString=function(){return"ElementDescriptor["+xl(this.type).name+"]"};Ws.prototype.valueHandler=function(e,t){return new sN(e,t)};Ws.prototype.referenceHandler=function(e){return new Km(e,this.context)};Ws.prototype.handler=function(e){return e==="Element"?new Dh(this.model,e,this.context):new Ws(this.model,e,this.context)};Ws.prototype.handleChild=function(e){var t,r,n,s;if(t=this.getPropertyForNode(e),n=this.element,r=t.effectiveType||t.type,HU(r))return this.valueHandler(t,n);t.isReference?s=this.referenceHandler(t).handleNode(e):s=this.handler(r).handleNode(e);var a=s.element;return a!==void 0&&(t.isMany?n.get(t.name).push(a):n.set(t.name,a),t.isReference?(Lt(a,{element:n}),this.context.addReference(a)):a.$parent=n),s};function iN(e,t,r){Ws.call(this,e,t,r)}iN.prototype=Object.create(Ws.prototype);iN.prototype.createElement=function(e){var t=e.name,r=Ss(t),n=this.model,s=this.type,a=n.getPackage(r.prefix),o=a&&WU(r,a)||t;if(!s.hasType(o))throw iA("unexpected element <"+e.originalName+">");return Ws.prototype.createElement.call(this,e)};function Dh(e,t,r){this.model=e,this.context=r}Dh.prototype=Object.create(_x.prototype);Dh.prototype.createElement=function(e){var t=e.name,r=Ss(t),n=r.prefix,s=e.ns[n+"$uri"],a=e.attributes;return this.model.createAny(t,s,a)};Dh.prototype.handleChild=function(e){var t=new Dh(this.model,"Element",this.context).handleNode(e),r=this.element,n=t.element,s;return n!==void 0&&(s=r.$children=r.$children||[],s.push(n),n.$parent=r),t};Dh.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function aN(e){e instanceof ja&&(e={model:e}),Lt(this,{lax:!1},e)}aN.prototype.fromXML=function(e,t,r){var n=t.rootHandler;t instanceof Ws?(n=t,t={}):typeof t=="string"?(n=this.handler(t),t={}):typeof n=="string"&&(n=this.handler(n));var s=this.model,a=this.lax,o=new wre(Lt({},t,{rootHandler:n})),l=new zU({proxy:!0}),c=bre();n.context=o,c.push(n);function A(_,D,R){var I=D(),Q=I.line,U=I.column,S=I.data;S.charAt(0)==="<"&&S.indexOf(" ")!==-1&&(S=S.slice(0,S.indexOf(" "))+">");var P="unparsable content "+(S?S+" ":"")+`detected
	line: `+Q+`
	column: `+U+`
	nested error: `+_.message;if(R)return o.addWarning({message:P,error:_}),!0;throw iA(P)}function d(_,D){return A(_,D,!0)}function u(){var _=o.elementsById,D=o.references,R,I;for(R=0;I=D[R];R++){var Q=I.element,U=_[I.id],S=xl(Q).propertiesByName[I.property];if(U||o.addWarning({message:"unresolved reference <"+I.id+">",element:I.element,property:I.property,value:I.id}),S.isMany){var P=Q.get(S.name),O=P.indexOf(I);O===-1&&(O=P.length),U?P[O]=U:P.splice(O,1)}else Q.set(S.name,U)}}function p(){c.pop().handleEnd()}var f=/^<\?xml /i,x=/ encoding="([^"]+)"/i,m=/^utf-8$/i;function N(_){if(f.test(_)){var D=x.exec(_),R=D&&D[1];!R||m.test(R)||o.addWarning({message:"unsupported document encoding <"+R+">, falling back to UTF-8"})}}function g(_,D){var R=c.peek();try{c.push(R.handleNode(_))}catch(I){A(I,D,a)&&c.push(new nN)}}function y(_,D){try{c.peek().handleText(_)}catch(R){d(R,D)}}function w(_,D){_.trim()&&y(_,D)}var E=s.getPackages().reduce(function(_,D){return _[D.uri]=D.prefix,_},Object.entries(d5).reduce(function(_,[D,R]){return _[R]=D,_},s.config&&s.config.nsMap||{}));return l.ns(E).on("openTag",function(_,D,R,I){var Q=_.attrs||{},U=Object.keys(Q).reduce(function(P,O){var k=D(Q[O]);return P[O]=k,P},{}),S={name:_.name,originalName:_.originalName,attributes:U,ns:_.ns};g(S,I)}).on("question",N).on("closeTag",p).on("cdata",y).on("text",function(_,D,R){w(D(_),R)}).on("error",A).on("warn",d),new Promise(function(_,D){var R;try{l.parse(e),u()}catch(P){R=P}var I=n.element;!R&&!I&&(R=iA("failed to parse document as <"+n.type.$descriptor.name+">"));var Q=o.warnings,U=o.references,S=o.elementsById;return R?(R.warnings=Q,D(R)):_({rootElement:I,elementsById:S,references:U,warnings:Q})})};aN.prototype.handler=function(e){return new iN(this.model,e)};function bre(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}var Cre=`<?xml version="1.0" encoding="UTF-8"?>
`,Bre=/<|>|'|"|&|\n\r|\n/g,qU=/<|>|&/g;function Mo(e){this.prefixMap={},this.uriMap={},this.used={},this.wellknown=[],this.custom=[],this.parent=e,this.defaultPrefixMap=e&&e.defaultPrefixMap||{}}Mo.prototype.mapDefaultPrefixes=function(e){this.defaultPrefixMap=e};Mo.prototype.defaultUriByPrefix=function(e){return this.defaultPrefixMap[e]};Mo.prototype.byUri=function(e){return this.uriMap[e]||this.parent&&this.parent.byUri(e)};Mo.prototype.add=function(e,t){this.uriMap[e.uri]=e,t?this.wellknown.push(e):this.custom.push(e),this.mapPrefix(e.prefix,e.uri)};Mo.prototype.uriByPrefix=function(e){return this.prefixMap[e||"xmlns"]||this.parent&&this.parent.uriByPrefix(e)};Mo.prototype.mapPrefix=function(e,t){this.prefixMap[e||"xmlns"]=t};Mo.prototype.getNSKey=function(e){return e.prefix!==void 0?e.uri+"|"+e.prefix:e.uri};Mo.prototype.logUsed=function(e){var t=e.uri,r=this.getNSKey(e);this.used[r]=this.byUri(t),this.parent&&this.parent.logUsed(e)};Mo.prototype.getUsed=function(e){var t=[].concat(this.wellknown,this.custom);return t.filter(r=>{var n=this.getNSKey(r);return this.used[n]})};function Nre(e){return e.charAt(0).toLowerCase()+e.slice(1)}function Sre(e,t){return KU(t)?Nre(e):e}function XU(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function JU(e){return Lo(e)?e:(e.prefix?e.prefix+":":"")+e.localName}function Ere(e){return e.getUsed().filter(function(t){return t.prefix!=="xml"}).map(function(t){var r="xmlns"+(t.prefix?":"+t.prefix:"");return{name:r,value:t.uri}})}function jre(e,t){return t.isGeneric?Lt({localName:t.ns.localName},e):Lt({localName:Sre(t.ns.localName,t.$pkg)},e)}function Fre(e,t){return Lt({localName:t.ns.localName},e)}function kre(e){var t=e.$descriptor;return Lh(t.properties,function(r){var n=r.name;if(r.isVirtual||!Wh(e,n))return!1;var s=e[n];return s===r.default||s===null?!1:r.isMany?s.length:!0})}var Ire={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},Pre={"<":"lt",">":"gt","&":"amp"};function YU(e,t,r){return e=Lo(e)?e:""+e,e.replace(t,function(n){return"&"+r[n]+";"})}function _re(e){return YU(e,Bre,Ire)}function Tre(e){return YU(e,qU,Pre)}function Lre(e){return Lh(e,function(t){return t.isAttr})}function Ure(e){return Lh(e,function(t){return!t.isAttr})}function oN(e){this.tagName=e}oN.prototype.build=function(e){return this.element=e,this};oN.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function Bd(){}Bd.prototype.serializeValue=Bd.prototype.serializeTo=function(e){e.append(this.escape?Tre(this.value):this.value)};Bd.prototype.build=function(e,t){return this.value=t,e.type==="String"&&t.search(qU)!==-1&&(this.escape=!0),this};function lN(e){this.tagName=e}XU(lN,Bd);lN.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()};function on(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}on.prototype.build=function(e){this.element=e;var t=e.$descriptor,r=this.propertyDescriptor,n,s,a=t.isGeneric;return a?n=this.parseGenericNsAttributes(e):n=this.parseNsAttributes(e),r?this.ns=this.nsPropertyTagName(r):this.ns=this.nsTagName(t),this.tagName=this.addTagName(this.ns),a?this.parseGenericContainments(e):(s=kre(e),this.parseAttributes(Lre(s)),this.parseContainments(Ure(s))),this.parseGenericAttributes(e,n),this};on.prototype.nsTagName=function(e){var t=this.logNamespaceUsed(e.ns);return jre(t,e)};on.prototype.nsPropertyTagName=function(e){var t=this.logNamespaceUsed(e.ns);return Fre(t,e)};on.prototype.isLocalNs=function(e){return e.uri===this.ns.uri};on.prototype.nsAttributeName=function(e){var t;if(Lo(e)?t=Ss(e):t=e.ns,e.inherited)return{localName:t.localName};var r=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(r),this.isLocalNs(r)?{localName:t.localName}:Lt({localName:t.localName},r)};on.prototype.parseGenericNsAttributes=function(e){return Object.entries(e).filter(([t,r])=>!t.startsWith("$")&&this.parseNsAttribute(e,t,r)).map(([t,r])=>({name:t,value:r}))};on.prototype.parseGenericContainments=function(e){var t=e.$body;t&&this.body.push(new Bd().build({type:"String"},t));var r=e.$children;r&&kt(r,n=>{this.body.push(new on(this).build(n))})};on.prototype.parseNsAttribute=function(e,t,r){var n=e.$model,s=Ss(t),a;if(s.prefix==="xmlns"&&(a={prefix:s.localName,uri:r}),!s.prefix&&s.localName==="xmlns"&&(a={uri:r}),!a)return{name:t,value:r};if(n&&n.getPackage(r))this.logNamespace(a,!0,!0);else{var o=this.logNamespaceUsed(a,!0);this.getNamespaces().logUsed(o)}};on.prototype.parseNsAttributes=function(e){var t=this,r=e.$attrs,n=[];return kt(r,function(s,a){var o=t.parseNsAttribute(e,a,s);o&&n.push(o)}),n};on.prototype.parseGenericAttributes=function(e,t){var r=this;kt(t,function(n){try{r.addAttribute(r.nsAttributeName(n.name),n.value)}catch(s){typeof console<"u"&&console.warn(`missing namespace information for <${n.name}=${n.value}> on`,e,s)}})};on.prototype.parseContainments=function(e){var t=this,r=this.body,n=this.element;kt(e,function(s){var a=n.get(s.name),o=s.isReference,l=s.isMany;if(l||(a=[a]),s.isBody)r.push(new Bd().build(s,a[0]));else if(HU(s.type))kt(a,function(A){r.push(new lN(t.addTagName(t.nsPropertyTagName(s))).build(s,A))});else if(o)kt(a,function(A){r.push(new oN(t.addTagName(t.nsPropertyTagName(s))).build(A))});else{var c=VU(s);kt(a,function(A){var d;c?c===GU?d=new on(t,s):d=new Tx(t,s,c):d=new on(t),r.push(d.build(A))})}})};on.prototype.getNamespaces=function(e){var t=this.namespaces,r=this.parent,n;return t||(n=r&&r.getNamespaces(),e||!n?this.namespaces=t=new Mo(n):t=n),t};on.prototype.logNamespace=function(e,t,r){var n=this.getNamespaces(r),s=e.uri,a=e.prefix,o=n.byUri(s);return(!o||r)&&n.add(e,t),n.mapPrefix(a,s),e};on.prototype.logNamespaceUsed=function(e,t){var r=this.getNamespaces(t),n=e.prefix,s=e.uri,a,o,l;if(!n&&!s)return{localName:e.localName};if(l=r.defaultUriByPrefix(n),s=s||l||r.uriByPrefix(n),!s)throw new Error("no namespace uri given for prefix <"+n+">");if(e=r.byUri(s),!e&&!n&&(e=this.logNamespace({uri:s},l===s,!0)),!e){for(a=n,o=1;r.uriByPrefix(a);)a=n+"_"+o++;e=this.logNamespace({prefix:a,uri:s},l===s)}return n&&r.mapPrefix(n,s),e};on.prototype.parseAttributes=function(e){var t=this,r=this.element;kt(e,function(n){var s=r.get(n.name);if(n.isReference)if(!n.isMany)s=s.id;else{var a=[];kt(s,function(o){a.push(o.id)}),s=a.join(" ")}t.addAttribute(t.nsAttributeName(n),s)})};on.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),JU(e)};on.prototype.addAttribute=function(e,t){var r=this.attrs;Lo(t)&&(t=_re(t));var n=vZ(r,function(a){return a.name.localName===e.localName&&a.name.uri===e.uri&&a.name.prefix===e.prefix}),s={name:e,value:t};n!==-1?r.splice(n,1,s):r.push(s)};on.prototype.serializeAttributes=function(e){var t=this.attrs,r=this.namespaces;r&&(t=Ere(r).concat(t)),kt(t,function(n){e.append(" ").append(JU(n.name)).append('="').append(n.value).append('"')})};on.prototype.serializeTo=function(e){var t=this.body[0],r=t&&t.constructor!==Bd;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(r&&e.appendNewLine().indent(),kt(this.body,function(n){n.serializeTo(e)}),r&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()};function Tx(e,t,r){on.call(this,e,t),this.serialization=r}XU(Tx,on);Tx.prototype.parseNsAttributes=function(e){var t=on.prototype.parseNsAttributes.call(this,e).filter(o=>o.name!==this.serialization),r=e.$descriptor;if(r.name===this.propertyDescriptor.type)return t;var n=this.typeNs=this.nsTagName(r);this.getNamespaces().logUsed(this.typeNs);var s=e.$model.getPackage(n.uri),a=s.xml&&s.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(this.serialization),(n.prefix?n.prefix+":":"")+a+r.ns.localName),t};Tx.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri};function Rre(){this.value="",this.write=function(e){this.value+=e}}function Dre(e,t){var r=[""];this.append=function(n){return e.write(n),this},this.appendNewLine=function(){return t&&e.write(`
`),this},this.appendIndent=function(){return t&&e.write(r.join("  ")),this},this.indent=function(){return r.push(""),this},this.unindent=function(){return r.pop(),this}}function Mre(e){e=Lt({format:!1,preamble:!0},e||{});function t(r,n){var s=n||new Rre,a=new Dre(s,e.format);e.preamble&&a.append(Cre);var o=new on,l=r.$model;if(o.getNamespaces().mapDefaultPrefixes(Qre(l)),o.build(r).serializeTo(a),!n)return s.value}return{toXML:t}}function Qre(e){const t=e.config&&e.config.nsMap||{},r={};for(const n in d5)r[n]=d5[n];for(const n in t){const s=t[n];r[s]=n}for(const n of e.getPackages())r[n.prefix]=n.uri;return r}function Lx(e,t){ja.call(this,e,t)}Lx.prototype=Object.create(ja.prototype);Lx.prototype.fromXML=function(e,t,r){Lo(t)||(r=t,t="bpmn:Definitions");var n=new aN(Lt({model:this,lax:!0},r)),s=n.handler(t);return n.fromXML(e,s)};Lx.prototype.toXML=function(e,t){var r=new Mre(t);return new Promise(function(n,s){try{var a=r.toXML(e);return n({xml:a})}catch(o){return s(o)}})};var Ore="BPMN20",Hre="http://www.omg.org/spec/BPMN/20100524/MODEL",$re="bpmn",zre=[],Kre=[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],Gre=[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],Vre={tagAlias:"lowerCase",typePrefix:"t"},Wre={name:Ore,uri:Hre,prefix:$re,associations:zre,types:Kre,enumerations:Gre,xml:Vre},qre="BPMNDI",Xre="http://www.omg.org/spec/BPMN/20100524/DI",Jre="bpmndi",Yre=[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],Zre=[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],ene=[],tne={name:qre,uri:Xre,prefix:Jre,types:Yre,enumerations:Zre,associations:ene},rne="DC",nne="http://www.omg.org/spec/DD/20100524/DC",sne="dc",ine=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],ane=[],one={name:rne,uri:nne,prefix:sne,types:ine,associations:ane},lne="DI",cne="http://www.omg.org/spec/DD/20100524/DI",Ane="di",dne=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],une=[],hne={tagAlias:"lowerCase"},fne={name:lne,uri:cne,prefix:Ane,types:dne,associations:une,xml:hne},pne="bpmn.io colors for BPMN",mne="http://bpmn.io/schema/bpmn/biocolor/1.0",gne="bioc",vne=[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],yne=[],xne=[],wne={name:pne,uri:mne,prefix:gne,types:vne,enumerations:yne,associations:xne},bne="BPMN in Color",Cne="http://www.omg.org/spec/BPMN/non-normative/color/1.0",Bne="color",Nne=[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],Sne=[],Ene=[],jne={name:bne,uri:Cne,prefix:Bne,types:Nne,enumerations:Sne,associations:Ene};const Fne={bpmn:Wre,bpmndi:tne,dc:one,di:fne,bioc:wne,color:jne};function kne(e,t){const r=Lt({},Fne,e);return new Lx(r,t)}var Ine="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function Pne(e){Wh(e,"di")||Object.defineProperty(e,"di",{enumerable:!1,get:function(){throw new Error(Ine)}})}function Zs(e,t){return e.$instanceOf(t)}function _ne(e){return Za(e.rootElements,function(t){return Zs(t,"bpmn:Process")||Zs(t,"bpmn:Collaboration")})}function Tne(e){var t={},r=[],n={};function s(T,$){return function(V){T(V,$)}}function a(T){t[T.id]=T}function o(T){return t[T.id]}function l(T,$){var V=T.gfx;if(V)throw new Error(`already rendered ${bs(T)}`);return e.element(T,n[T.id],$)}function c(T,$){return e.root(T,n[T.id],$)}function A(T,$){try{var V=n[T.id]&&l(T,$);return a(T),V}catch(se){d(se.message,{element:T,error:se}),console.error(`failed to import ${bs(T)}`,se)}}function d(T,$){e.error(T,$)}var u=this.registerDi=function($){var V=$.bpmnElement;V?n[V.id]?d(`multiple DI elements defined for ${bs(V)}`,{element:V}):(n[V.id]=$,Pne(V)):d(`no bpmnElement referenced in ${bs($)}`,{element:$})};function p(T){f(T.plane)}function f(T){u(T),kt(T.planeElement,x)}function x(T){u(T)}this.handleDefinitions=function($,V){var se=$.diagrams;if(V&&se.indexOf(V)===-1)throw new Error("diagram not part of <bpmn:Definitions />");if(!V&&se&&se.length&&(V=se[0]),!V)throw new Error("no diagram to display");n={},p(V);var Y=V.plane;if(!Y)throw new Error(`no plane for ${bs(V)}`);var L=Y.bpmnElement;if(!L)if(L=_ne($),L)d(`correcting missing bpmnElement on ${bs(Y)} to ${bs(L)}`),Y.bpmnElement=L,u(Y);else throw new Error("no process or collaboration to display");var C=c(L,Y);if(Zs(L,"bpmn:Process")||Zs(L,"bpmn:SubProcess"))N(L,C);else if(Zs(L,"bpmn:Collaboration"))te(L,C),g($.rootElements,C);else throw new Error(`unsupported bpmnElement for ${bs(Y)}: ${bs(L)}`);m(r)};var m=this.handleDeferred=function(){for(var $;r.length;)$=r.shift(),$()};function N(T,$){q(T,$),Q(T.ioSpecification,$),I(T.artifacts,$),a(T)}function g(T,$){var V=Lh(T,function(se){return!o(se)&&Zs(se,"bpmn:Process")&&se.laneSets});V.forEach(s(N,$))}function y(T,$){A(T,$)}function w(T,$){kt(T,s(y,$))}function E(T,$){A(T,$)}function _(T,$){A(T,$)}function D(T,$){A(T,$)}function R(T,$){A(T,$)}function I(T,$){kt(T,function(V){Zs(V,"bpmn:Association")?r.push(function(){R(V,$)}):R(V,$)})}function Q(T,$){T&&(kt(T.dataInputs,s(_,$)),kt(T.dataOutputs,s(D,$)))}var U=this.handleSubProcess=function($,V){q($,V),I($.artifacts,V)};function S(T,$){var V=A(T,$);Zs(T,"bpmn:SubProcess")&&U(T,V||$),Zs(T,"bpmn:Activity")&&Q(T.ioSpecification,$),r.push(function(){kt(T.dataInputAssociations,s(E,$)),kt(T.dataOutputAssociations,s(E,$))})}function P(T,$){A(T,$)}function O(T,$){A(T,$)}function k(T,$){r.push(function(){var V=A(T,$);T.childLaneSet&&Z(T.childLaneSet,V||$),ue(T)})}function Z(T,$){kt(T.lanes,s(k,$))}function H(T,$){kt(T,s(Z,$))}function q(T,$){K(T.flowElements,$),T.laneSets&&H(T.laneSets,$)}function K(T,$){kt(T,function(V){Zs(V,"bpmn:SequenceFlow")?r.push(function(){P(V,$)}):Zs(V,"bpmn:BoundaryEvent")?r.unshift(function(){S(V,$)}):Zs(V,"bpmn:FlowNode")?S(V,$):Zs(V,"bpmn:DataObject")||(Zs(V,"bpmn:DataStoreReference")||Zs(V,"bpmn:DataObjectReference")?O(V,$):d(`unrecognized flowElement ${bs(V)} in context ${bs($&&$.businessObject)}`,{element:V,context:$}))})}function W(T,$){var V=A(T,$),se=T.processRef;se&&N(se,V||$)}function te(T,$){kt(T.participants,s(W,$)),r.push(function(){w(T.messageFlows,$)}),I(T.artifacts,$)}function ue(T){kt(T.flowNodeRef,function($){var V=$.get("lanes");V&&V.push(T)})}}function Lne(e,t,r){var n,s,a,o,l=[];function c(A,d){var u={root:function(m,N){return n.add(m,N)},element:function(m,N,g){return n.add(m,N,g)},error:function(m,N){l.push({message:m,context:N})}},p=new Tne(u);d=d||A.diagrams&&A.diagrams[0];var f=Une(A,d);if(!f)throw new Error("no diagram to display");kt(f,function(m){p.handleDefinitions(A,m)});var x=d.plane.bpmnElement.id;a.setRootElement(a.findRoot(x+"_plane")||a.findRoot(x))}return new Promise(function(A,d){try{return n=e.get("bpmnImporter"),s=e.get("eventBus"),a=e.get("canvas"),s.fire("import.render.start",{definitions:t}),c(t,r),s.fire("import.render.complete",{error:o,warnings:l}),A({warnings:l})}catch(u){return u.warnings=l,d(u)}})}function Une(e,t){if(!(!t||!t.plane)){var r=t.plane.bpmnElement,n=r;!Tt(r,"bpmn:Process")&&!Tt(r,"bpmn:Collaboration")&&(n=Rne(r));var s;Tt(n,"bpmn:Collaboration")?s=n:s=Za(e.rootElements,function(A){if(Tt(A,"bpmn:Collaboration"))return Za(A.participants,function(d){return d.processRef===n})});var a=[n];s&&(a=yZ(s.participants,function(A){return A.processRef}),a.push(s));var o=ZU(a),l=[t],c=[r];return kt(e.diagrams,function(A){if(A.plane){var d=A.plane.bpmnElement;o.indexOf(d)!==-1&&c.indexOf(d)===-1&&(l.push(A),c.push(d))}}),l}}function ZU(e){var t=[];return kt(e,function(r){r&&(t.push(r),t=t.concat(ZU(r.flowElements)))}),t}function Rne(e){for(var t=e;t;){if(Tt(t,"bpmn:Process"))return t;t=t.$parent}}var Dne='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',eR=Dne,tR={verticalAlign:"middle"},rR={color:"#404040"},Mne={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},Qne={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},One={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},Hne='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+eR+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',xo;function $ne(){xo=Uo(Hne),bi(xo,Mne),bi(hl("svg",xo),tR),bi(hl(".backdrop",xo),Qne),bi(hl(".notice",xo),One),bi(hl(".link",xo),rR,{margin:"15px 20px 15px 10px",alignSelf:"center"})}function zne(){xo||($ne(),i5.bind(xo,".backdrop","click",function(e){document.body.removeChild(xo)})),document.body.appendChild(xo)}function Dn(e){e=Lt({},Gne,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),this._init(this._container,this._moddle,e),Wne(this._container)}ro(Dn,gA);Dn.prototype.importXML=async function(t,r){const n=this;function s(o){return n.get("eventBus").createEvent(o)}let a=[];try{t=this._emit("import.parse.start",{xml:t})||t;let o;try{o=await this._moddle.fromXML(t,"bpmn:Definitions")}catch(p){throw this._emit("import.parse.complete",{error:p}),p}let l=o.rootElement;const c=o.references,A=o.warnings,d=o.elementsById;a=a.concat(A),l=this._emit("import.parse.complete",s({error:null,definitions:l,elementsById:d,references:c,warnings:a}))||l;const u=await this.importDefinitions(l,r);return a=a.concat(u.warnings),this._emit("import.done",{error:null,warnings:a}),{warnings:a}}catch(o){let l=o;throw a=a.concat(l.warnings||[]),vv(l,a),l=Kne(l),this._emit("import.done",{error:l,warnings:l.warnings}),l}};Dn.prototype.importDefinitions=async function(t,r){return this._setDefinitions(t),{warnings:(await this.open(r)).warnings}};Dn.prototype.open=async function(t){const r=this._definitions;let n=t;if(!r){const a=new Error("no XML imported");throw vv(a,[]),a}if(typeof t=="string"&&(n=Vne(r,t),!n)){const a=new Error("BPMNDiagram <"+t+"> not found");throw vv(a,[]),a}try{this.clear()}catch(a){throw vv(a,[]),a}const{warnings:s}=await Lne(this,r,n);return{warnings:s}};Dn.prototype.saveXML=async function(t){t=t||{};let r=this._definitions,n,s;try{if(!r)throw new Error("no definitions loaded");r=this._emit("saveXML.start",{definitions:r})||r,s=(await this._moddle.toXML(r,t)).xml,s=this._emit("saveXML.serialized",{xml:s})||s}catch(o){n=o}const a=n?{error:n}:{xml:s};if(this._emit("saveXML.done",a),n)throw n;return a};Dn.prototype.saveSVG=async function(){this._emit("saveSVG.start");let t,r;try{const n=this.get("canvas"),s=n.getActiveLayer(),a=hl(":scope > defs",n._svg),o=xj(s),l=a?"<defs>"+xj(a)+"</defs>":"",c=s.getBBox();t=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with bpmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+c.width+'" height="'+c.height+'" viewBox="'+c.x+" "+c.y+" "+c.width+" "+c.height+'" version="1.1">'+l+o+"</svg>"}catch(n){r=n}if(this._emit("saveSVG.done",{error:r,svg:t}),r)throw r;return{svg:t}};Dn.prototype._setDefinitions=function(e){this._definitions=e};Dn.prototype.getModules=function(){return this._modules};Dn.prototype.clear=function(){this.getDefinitions()&&gA.prototype.clear.call(this)};Dn.prototype.destroy=function(){gA.prototype.destroy.call(this),Cy(this._container)};Dn.prototype.on=function(e,t,r,n){return this.get("eventBus").on(e,t,r,n)};Dn.prototype.off=function(e,t){this.get("eventBus").off(e,t)};Dn.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),typeof e=="string"&&(e=hl(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()};Dn.prototype.getDefinitions=function(){return this._definitions};Dn.prototype.detach=function(){const e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))};Dn.prototype._init=function(e,t,r){const n=r.modules||this.getModules(r),s=r.additionalModules||[],a=[{bpmnjs:["value",this],moddle:["value",t]}],o=[].concat(a,n,s),l=Lt(NZ(r,["additionalModules"]),{canvas:Lt({},r.canvas,{container:e}),modules:o});gA.call(this,l),r&&r.container&&this.attachTo(r.container)};Dn.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)};Dn.prototype._createContainer=function(e){const t=Uo('<div class="bjs-container"></div>');return bi(t,{width:Lj(e.width),height:Lj(e.height),position:e.position}),t};Dn.prototype._createModdle=function(e){const t=Lt({},this._moddleExtensions,e.moddleExtensions);return new kne(t)};Dn.prototype._modules=[];function vv(e,t){return e.warnings=t,e}function Kne(e){const r=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return r&&(e.message="unparsable content <"+r[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+r[2]),e}const Gne={width:"100%",height:"100%",position:"relative"};function Lj(e){return e+(rA(e)?"px":"")}function Vne(e,t){return t&&Za(e.diagrams,function(r){return r.id===t})||null}function Wne(e){const r='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+eR+"</a>",n=Uo(r);bi(hl("svg",n),tR),bi(n,rR,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),e.appendChild(n),xa.bind(n,"click",function(s){zne(),s.preventDefault()})}function Yh(e){Dn.call(this,e)}ro(Yh,Dn);Yh.prototype._modules=[ate,Nte,gU,Pte,AU];Yh.prototype._moddleExtensions={};var qne=["c","C"],Xne=["v","V"],Jne=["y","Y"],nR=["z","Z"];function Yne(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Gc(e){return e.altKey?!1:e.ctrlKey||e.metaKey}function No(e,t){return e=Sa(e)?e:[e],e.indexOf(t.key)!==-1||e.indexOf(t.code)!==-1}function cN(e){return e.shiftKey}function Zne(e){return Gc(e)&&No(qne,e)}function ese(e){return Gc(e)&&No(Xne,e)}function tse(e){return Gc(e)&&!cN(e)&&No(nR,e)}function rse(e){return Gc(e)&&(No(Jne,e)||No(nR,e)&&cN(e))}var Ux="keyboard.keydown",nse="keyboard.keyup",sse=1e3,sR="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661";function qs(e,t){var r=this;this._config=e=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",function(){r._fire("destroy"),r.unbind()}),e.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(sR));var n=e&&e.bind!==!1;t.on("canvas.init",function(s){r._target=s.svg,n&&r.bind(),r._fire("init")})}qs.$inject=["config.keyboard","eventBus"];qs.prototype._keydownHandler=function(e){this._keyHandler(e,Ux)};qs.prototype._keyupHandler=function(e){this._keyHandler(e,nse)};qs.prototype._keyHandler=function(e,t){var r;if(!this._isEventIgnored(e)){var n={keyEvent:e};r=this._eventBus.fire(t||Ux,n),r&&e.preventDefault()}};qs.prototype._isEventIgnored=function(e){return!1};qs.prototype.bind=function(e){e&&console.error("unsupported argument <node>",new Error(sR)),this.unbind(),e=this._node=this._target,xa.bind(e,"keydown",this._keydownHandler),xa.bind(e,"keyup",this._keyupHandler),this._fire("bind")};qs.prototype.getBinding=function(){return this._node};qs.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),xa.unbind(e,"keydown",this._keydownHandler),xa.unbind(e,"keyup",this._keyupHandler)),this._node=null};qs.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})};qs.prototype.addListener=function(e,t,r){Kc(e)&&(r=t,t=e,e=sse),this._eventBus.on(r||Ux,e,t)};qs.prototype.removeListener=function(e,t){this._eventBus.off(t||Ux,e)};qs.prototype.hasModifier=Yne;qs.prototype.isCmd=Gc;qs.prototype.isShift=cN;qs.prototype.isKey=No;var ise=500;function AN(e,t){var r=this;e.on("editorActions.init",ise,function(n){var s=n.editorActions;r.registerBindings(t,s)})}AN.$inject=["eventBus","keyboard"];AN.prototype.registerBindings=function(e,t){function r(n,s){t.isRegistered(n)&&e.addListener(s)}r("undo",function(n){var s=n.keyEvent;if(tse(s))return t.trigger("undo"),!0}),r("redo",function(n){var s=n.keyEvent;if(rse(s))return t.trigger("redo"),!0}),r("copy",function(n){var s=n.keyEvent;if(Zne(s))return t.trigger("copy"),!0}),r("paste",function(n){var s=n.keyEvent;if(ese(s))return t.trigger("paste"),!0}),r("stepZoom",function(n){var s=n.keyEvent;if(No(["+","Add","="],s)&&Gc(s))return t.trigger("stepZoom",{value:1}),!0}),r("stepZoom",function(n){var s=n.keyEvent;if(No(["-","Subtract"],s)&&Gc(s))return t.trigger("stepZoom",{value:-1}),!0}),r("zoom",function(n){var s=n.keyEvent;if(No("0",s)&&Gc(s))return t.trigger("zoom",{value:1}),!0}),r("removeSelection",function(n){var s=n.keyEvent;if(No(["Backspace","Delete","Del"],s))return t.trigger("removeSelection"),!0})};const ase={__init__:["keyboard","keyboardBindings"],keyboard:["type",qs],keyboardBindings:["type",AN]};var ose={moveSpeed:50,moveSpeedAccelerated:200};function iR(e,t,r){var n=this;this._config=Lt({},ose,e||{}),t.addListener(s);function s(a){var o=a.keyEvent,l=n._config;if(t.isCmd(o)&&t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],o)){var c=t.isShift(o)?l.moveSpeedAccelerated:l.moveSpeed,A;switch(o.key){case"ArrowLeft":case"Left":A="left";break;case"ArrowUp":case"Up":A="up";break;case"ArrowRight":case"Right":A="right";break;case"ArrowDown":case"Down":A="down";break}return n.moveCanvas({speed:c,direction:A}),!0}}this.moveCanvas=function(a){var o=0,l=0,c=a.speed,A=c/Math.min(Math.sqrt(r.viewbox().scale),1);switch(a.direction){case"left":o=A;break;case"up":l=A;break;case"right":o=-A;break;case"down":l=-A;break}r.scroll({dx:o,dy:l})}}iR.$inject=["config.keyboardMove","keyboard","canvas"];const lse={__depends__:[ase],__init__:["keyboardMove"],keyboardMove:["type",iR]};var cse=/^djs-cursor-.*$/;function aR(e){var t=Qm(document.body);t.removeMatching(cse),e&&t.add("djs-cursor-"+e)}function Ase(){aR(null)}var dse=5e3;function use(e,t){t=t||"element.click";function r(){return!1}return e.once(t,dse,r),function(){e.off(t,r)}}function Uj(e,t){return{x:e.x-t.x,y:e.y-t.y}}var hse=15;function oR(e,t){var r;function n(l){return o(l.originalEvent)}e.on("canvas.focus.changed",function(l){l.focused?e.on("element.mousedown",500,n):e.off("element.mousedown",n)});function s(l){var c=r.start,A=r.button,d=Bj(l),u=Uj(d,c);if(!r.dragging&&fse(u)>hse&&(r.dragging=!0,A===0&&use(e),aR("grab")),r.dragging){var p=r.last||r.start;u=Uj(d,p),t.scroll({dx:u.x,dy:u.y}),r.last=d}l.preventDefault()}function a(l){xa.unbind(document,"mousemove",s),xa.unbind(document,"mouseup",a),r=null,Ase()}function o(l){if(!sU(l.target,".djs-draggable")){var c=l.button;if(!(c>=2||l.ctrlKey||l.shiftKey||l.altKey))return r={button:c,start:Bj(l)},xa.bind(document,"mousemove",s),xa.bind(document,"mouseup",a),!0}}this.isActive=function(){return!!r}}oR.$inject=["eventBus","canvas"];function fse(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}const pse={__init__:["moveCanvas"],moveCanvas:["type",oR]};function u5(e){return Math.log(e)/Math.log(10)}function lR(e,t){var r=u5(e.min),n=u5(e.max),s=Math.abs(r)+Math.abs(n);return s/t}function mse(e,t){return Math.max(e.min,Math.min(e.max,t))}var gse=Math.sign||function(e){return e>=0?1:-1},dN={min:.2,max:4},cR=10,vse=.1,yse=.75;function Qo(e,t,r){e=e||{},this._enabled=!1,this._canvas=r,this._container=r._container,this._handleWheel=kl(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||yse;var n=this;t.on("canvas.focus.changed",function(s){n._init(s.focused&&e.enabled!==!1)})}Qo.$inject=["config.zoomScroll","eventBus","canvas"];Qo.prototype.scroll=function(t){this._canvas.scroll(t)};Qo.prototype.reset=function(){this._canvas.zoom("fit-viewport")};Qo.prototype.zoom=function(t,r){var n=lR(dN,cR*2);this._totalDelta+=t,Math.abs(this._totalDelta)>vse&&(this._zoom(t,r,n),this._totalDelta=0)};Qo.prototype._handleWheel=function(t){if(this._canvas.isFocused()){var r=this._container;t.preventDefault();var n=t.ctrlKey||Ste()&&t.metaKey,s=t.shiftKey,a=-1*this._scale,o;if(n?a*=t.deltaMode===0?.02:.32:a*=t.deltaMode===0?1:16,n){var l=r.getBoundingClientRect(),c={x:t.clientX-l.left,y:t.clientY-l.top};o=Math.sqrt(Math.pow(t.deltaY,2)+Math.pow(t.deltaX,2))*gse(t.deltaY)*a,this.zoom(o,c)}else s?o={dx:a*t.deltaY,dy:0}:o={dx:a*t.deltaX,dy:a*t.deltaY},this.scroll(o)}};Qo.prototype.stepZoom=function(t,r){var n=lR(dN,cR);this._zoom(t,r,n)};Qo.prototype._zoom=function(e,t,r){var n=this._canvas,s=e>0?1:-1,a=u5(n.zoom()),o=Math.round(a/r)*r;o+=r*s;var l=Math.pow(10,o);n.zoom(mse(dN,l),t)};Qo.prototype.toggle=function(t){var r=this._container,n=this._handleWheel,s=this._enabled;return typeof t>"u"&&(t=!s),s!==t&&xa[t?"bind":"unbind"](r,"wheel",n,!1),this._enabled=t,t};Qo.prototype._init=function(e){this.toggle(e)};const xse={__init__:["zoomScroll"],zoomScroll:["type",Qo]};function hm(e){Yh.call(this,e)}ro(hm,Yh);hm.prototype._navigationModules=[lse,pse,xse];hm.prototype._modules=[].concat(Yh.prototype._modules,hm.prototype._navigationModules);function wse({bpmnXml:e,height:t="300px",title:r}){const n=b.useRef(null),s=b.useRef(null),[a,o]=b.useState(null),[l,c]=b.useState(!0);return console.log("=====================>",e),b.useEffect(()=>!n.current||!e?void 0:((async()=>{try{c(!0),o(null),s.current&&s.current.destroy();const d=new hm({container:n.current,width:"100%",height:t});s.current=d,await d.importXML(e),d.get("canvas").zoom("fit-viewport"),c(!1)}catch(d){console.error("BPMN rendering error:",d),o(d instanceof Error?d.message:"Failed to render BPMN diagram"),c(!1)}})(),()=>{s.current&&(s.current.destroy(),s.current=null)}),[e,t]),e?a?i.jsxs("div",{className:"border rounded-lg p-4 bg-red-50 border-red-200",children:[i.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:r}),i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(Fh,{className:"h-4 w-4"}),i.jsx("span",{children:a})]})]}):i.jsxs("div",{className:"border rounded-lg bg-white overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border-b",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:r}),l&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),i.jsx("span",{className:"text-sm",children:"Loading..."})]})]}),i.jsxs("div",{className:"relative",style:{height:t},children:[l&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50 z-10",children:i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Rendering BPMN diagram..."})]})}),i.jsx("div",{ref:n,style:{height:"100%"},className:"w-full"})]})]}):i.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 border-gray-200",children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:r}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[i.jsx(bH,{className:"h-4 w-4"}),i.jsx("span",{children:"No BPMN diagram available"})]})]})}function P1(){var mn,Cn;const[e,t]=b.useState(null),[r,n]=b.useState(""),[s,a]=b.useState(""),[o,l]=b.useState([]),[c,A]=b.useState({}),[d,u]=b.useState([]),[p,f]=b.useState({}),[x,m]=b.useState(!1),[N,g]=b.useState("");b.useState(!1);const[y,w]=b.useState(""),[E,_]=b.useState(!0),[D,R]=b.useState(""),[I,Q]=b.useState(null),[U,S]=b.useState(""),[P,O]=b.useState({}),[k,Z]=b.useState(null),[H,q]=b.useState(""),[K,W]=b.useState(!1),[te,ue]=b.useState({}),[T,$]=b.useState({current:0,total:0,currentFlow:"",completedFlows:[],status:""}),[V,se]=b.useState(null),[Y,L]=b.useState(null),[C,j]=b.useState({}),[G,z]=b.useState({});b.useEffect(()=>{(async()=>{const je=localStorage.getItem("project-flow-diagram"),De=localStorage.getItem(bt.PROJECT_DESCRIPTION),Ie=localStorage.getItem(bt.PROJECT_PLAN);if(De&&a(De),Ie&&n(Ie),je)try{const it=JSON.parse(je);t(it),await he(it)}catch(it){console.error("Error parsing User Journey Flow data:",it),g("Failed to load User Journey Flow data. Please regenerate it from the Project Plan page.")}else g("No User Journey Flow data found. Please generate it first from the Project Plan page.");const Te=localStorage.getItem(bt.STAKEHOLDER_FLOWS);if(Te)try{u(JSON.parse(Te))}catch(it){console.error("Error parsing saved stakeholder flows:",it)}const nt=localStorage.getItem("flowDetails");if(nt)try{ue(JSON.parse(nt))}catch(it){console.error("Error parsing saved flow details:",it)}const Xe=localStorage.getItem("flowDiagrams");if(Xe)try{j(JSON.parse(Xe))}catch(it){console.error("Error parsing saved flow diagrams:",it)}const Et=localStorage.getItem("stakeholder_names");if(Et&&o.length===0)try{const it=JSON.parse(Et);if(it.length>0){console.log(` Auto-loading ${it.length} stakeholders from project planner:`,it),l(it);const It={};it.forEach(dt=>{It[dt]=["Onboarding Process","Main Workflow","Task Completion","System Interaction"]}),A(It),localStorage.setItem(bt.EXTRACTED_STAKEHOLDERS,JSON.stringify(it)),localStorage.setItem(bt.PERSONA_FLOW_TYPES,JSON.stringify(It))}}catch(it){console.error("Error auto-loading stakeholders:",it)}_(!1)})()},[]);const ae=pe=>{try{localStorage.setItem(bt.STAKEHOLDER_FLOWS,JSON.stringify(pe))}catch(je){console.error("Error saving stakeholder flows to localStorage:",je)}},de=pe=>{u(pe),ae(pe)},he=async pe=>{m(!0),g(""),w("Extracting stakeholders from User Journey Flow data...");try{const je=new Set,De={};pe.flowData&&pe.flowData.nodes&&pe.flowData.nodes.forEach(nt=>{var Et;const Xe=((Et=nt.data)==null?void 0:Et.label)||"";if(Xe.includes("User")||Xe.includes("Admin")||Xe.includes("Customer")||Xe.includes("Manager")||Xe.includes("Support")||Xe.includes("Guest")){const it=ce(Xe);it&&je.add(it)}}),je.size===0&&["End User","Admin User","Guest User","Premium User","Mobile User"].forEach(Xe=>je.add(Xe));const Ie=Array.from(je);Ie.forEach(nt=>{const Xe=oe(nt);De[nt]=Xe}),l(Ie),A(De);const Te=[];Ie.forEach(nt=>{var Xe;(Xe=De[nt])==null||Xe.forEach(Et=>{Te.push({stakeholder:nt,flowType:Et,bpmnXml:"",customPrompt:""})})}),de(Te),localStorage.setItem(bt.EXTRACTED_STAKEHOLDERS,JSON.stringify(Ie)),localStorage.setItem(bt.PERSONA_FLOW_TYPES,JSON.stringify(De))}catch(je){console.error("Error extracting stakeholders from flow data:",je),g("Failed to extract stakeholders from User Journey Flow data. Please try again.")}finally{m(!1),w("")}},ce=pe=>{const je=pe.toLowerCase();return je.includes("admin")?"Admin User":je.includes("premium")?"Premium User":je.includes("mobile")?"Mobile User":je.includes("guest")?"Guest User":je.includes("customer")?"Customer":je.includes("support")?"Customer Support":je.includes("manager")?"Content Manager":je.includes("user")?"End User":null},oe=pe=>{const je=["Registration Flow","Login Flow","Main Task Flow","Profile Management"];switch(pe){case"Admin User":return[...je,"User Management","System Configuration","Analytics Review"];case"Premium User":return[...je,"Premium Features Access","Subscription Management","Priority Support"];case"Mobile User":return[...je,"Mobile App Onboarding","Offline Mode","Push Notifications"];case"Guest User":return["Browse Content","Demo Access","Registration Prompt","Limited Features"];case"Customer":return[...je,"Purchase Flow","Order Management","Customer Support"];case"Customer Support":return["Support Dashboard","Ticket Management","User Assistance","Knowledge Base"];case"Content Manager":return["Content Creation","Content Publishing","Content Review","Analytics"];default:return je}},Re=async()=>{m(!0),g("");try{const pe=localStorage.getItem("stakeholder_names");if(pe){const nt=JSON.parse(pe);if(nt.length>0){l(nt);const Xe={};nt.forEach(it=>{Xe[it]=["Onboarding Process","Main Workflow","Task Completion","System Interaction"]}),A(Xe);const Et=[];nt.forEach(it=>{var It;(It=Xe[it])==null||It.forEach(dt=>{Et.push({stakeholder:it,flowType:dt,bpmnXml:"",customPrompt:""})})}),de(Et),localStorage.setItem(bt.EXTRACTED_STAKEHOLDERS,JSON.stringify(nt)),localStorage.setItem(bt.PERSONA_FLOW_TYPES,JSON.stringify(Xe)),console.log(` Loaded ${nt.length} stakeholders from project planner:`,nt);return}}const je=s;if(!je.trim()){g("No stakeholders found in localStorage and no project plan available. Please add stakeholders in the Project Planner first.");return}const{stakeholders:De,flowTypes:Ie}=await GP(je);l(De),A(Ie);const Te=[];De.forEach(nt=>{var Xe;(Xe=Ie[nt])==null||Xe.forEach(Et=>{Te.push({stakeholder:nt,flowType:Et,bpmnXml:"",customPrompt:""})})}),de(Te),localStorage.setItem(bt.EXTRACTED_STAKEHOLDERS,JSON.stringify(De)),localStorage.setItem(bt.PERSONA_FLOW_TYPES,JSON.stringify(Ie))}catch(pe){console.error("Error loading stakeholders:",pe),g("Failed to load stakeholders. Please add stakeholders in the Project Planner first.")}finally{m(!1)}},Ce=pe=>{const je=`Custom Flow ${Date.now()}`,De=[...d,{stakeholder:pe,flowType:je,bpmnXml:"",customPrompt:""}];de(De)},xe=()=>{const pe={extractedStakeholders:o,personaFlowTypes:c,stakeholderFlows:d,userJourneyFlowData:e,projectDescription:s,projectPlan:r,timestamp:new Date().toISOString(),version:"1.0"},je=new Blob([JSON.stringify(pe,null,2)],{type:"application/json"}),De=URL.createObjectURL(je),Ie=document.createElement("a"),Te=new Date().toISOString().split("T")[0];Ie.href=De,Ie.download=`stakeholder-bpmn-data-${Te}.json`,document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie),URL.revokeObjectURL(De)},Fe=pe=>{navigator.clipboard.writeText(pe).then(()=>{}).catch(je=>{console.error("Failed to copy XML:",je)})},ze=(pe,je)=>{let De="";if(je){const Ie=d.find(Te=>Te.stakeholder===pe&&Te.flowType===je);De=(Ie==null?void 0:Ie.bpmnXml)||""}else De=pe;De?(localStorage.setItem(bt.CURRENT_DIAGRAM,De),localStorage.setItem(bt.DIAGRAM,De),localStorage.setItem(bt.TIMESTAMP,Date.now().toString()),window.location.href="/bpmn-editor"):g("No BPMN diagram found to edit. Please generate a diagram first.")},Qe=()=>{const pe=D.trim();if(!pe){g("Stakeholder name cannot be empty");return}if(o.includes(pe)){g("Stakeholder already exists");return}const je=[...o,pe];l(je),localStorage.setItem(bt.EXTRACTED_STAKEHOLDERS,JSON.stringify(je));const De={...c,[pe]:["Registration Process","Main Workflow","Support Process"]};A(De),localStorage.setItem(bt.PERSONA_FLOW_TYPES,JSON.stringify(De)),R(""),g("")},We=pe=>{Q(pe),S(pe)},Oe=()=>{const pe=U.trim();if(!pe){g("Stakeholder name cannot be empty");return}if(pe!==I&&o.includes(pe)){g("Stakeholder name already exists");return}if(I){const je=o.map(Te=>Te===I?pe:Te);l(je),localStorage.setItem(bt.EXTRACTED_STAKEHOLDERS,JSON.stringify(je));const De={...c};De[I]&&(De[pe]=De[I],pe!==I&&delete De[I]),A(De),localStorage.setItem(bt.PERSONA_FLOW_TYPES,JSON.stringify(De));const Ie=d.map(Te=>Te.stakeholder===I?{...Te,stakeholder:pe}:Te);de(Ie)}Q(null),S(""),g("")},Ke=()=>{Q(null),S("")},ht=pe=>{const je=o.filter(Te=>Te!==pe);l(je),localStorage.setItem(bt.EXTRACTED_STAKEHOLDERS,JSON.stringify(je));const De={...c};delete De[pe],A(De),localStorage.setItem(bt.PERSONA_FLOW_TYPES,JSON.stringify(De));const Ie=d.filter(Te=>Te.stakeholder!==pe);de(Ie)},Pt=pe=>{var Te;const je=(Te=P[pe])==null?void 0:Te.trim();if(!je){g("Flow type name cannot be empty");return}const De=c[pe]||[];if(De.includes(je)){g("Flow type already exists for this stakeholder");return}const Ie={...c,[pe]:[...De,je]};A(Ie),localStorage.setItem(bt.PERSONA_FLOW_TYPES,JSON.stringify(Ie)),O(nt=>({...nt,[pe]:""})),g("")},wt=(pe,je)=>{const De=`${pe}-${je}`;Z(De),q(je)},ft=(pe,je)=>{const De=H.trim();if(!De){g("Flow type name cannot be empty");return}const Ie=c[pe]||[];if(De!==je&&Ie.includes(De)){g("Flow type already exists for this stakeholder");return}const Te={...c,[pe]:Ie.map(Xe=>Xe===je?De:Xe)};A(Te),localStorage.setItem(bt.PERSONA_FLOW_TYPES,JSON.stringify(Te));const nt=d.map(Xe=>Xe.stakeholder===pe&&Xe.flowType===je?{...Xe,flowType:De}:Xe);de(nt),Z(null),q(""),g("")},Qt=()=>{Z(null),q("")},et=(pe,je)=>{const De={...c,[pe]:(c[pe]||[]).filter(Te=>Te!==je)};A(De),localStorage.setItem(bt.PERSONA_FLOW_TYPES,JSON.stringify(De));const Ie=d.filter(Te=>!(Te.stakeholder===pe&&Te.flowType===je));de(Ie)},ur=async()=>{if(!r&&!s){g("Please provide a project description or plan first");return}W(!0),g("");try{const pe=[];Object.entries(c).forEach(([De,Ie])=>{Ie.forEach(Te=>{pe.push({stakeholder:De,flowType:Te})})}),$({current:0,total:pe.length,currentFlow:"",completedFlows:[],status:"Preparing flow analysis..."});const je={};for(let De=0;De<pe.length;De++){const Ie=pe[De],Te=`${Ie.stakeholder}-${Ie.flowType}`;$(nt=>({...nt,current:De+1,currentFlow:`${Ie.stakeholder} - ${Ie.flowType}`,status:`Analyzing ${Ie.stakeholder} ${Ie.flowType} process...`}));try{console.log(`Generating flow details for ${Ie.stakeholder} - ${Ie.flowType} (${De+1}/${pe.length})`);const nt=`Generate comprehensive BPMN 2.0 flow analysis for ${Ie.stakeholder} - ${Ie.flowType} with fine granular details for perfect BPMN diagram generation:

PROJECT CONTEXT:
${r||s}

Create detailed BPMN-focused analysis with specific, actionable elements:

 1. Process Name and Description
- Clear process name: "${Ie.stakeholder} ${Ie.flowType} Process"
- Business purpose and value proposition
- Process scope and boundaries
- Key objectives and success criteria
- Integration points with other processes

 2. Participants (Swimlanes / Pools and Lanes)
Create detailed swimlane structure with specific roles:
- Primary Actor: ${Ie.stakeholder} (main responsible party)
- Supporting Roles: specific job titles, departments, teams
- IT Systems: databases, APIs, applications, services (name each system)
- External Entities: customers, vendors, partners, regulatory bodies
- Service Providers: payment processors, notification services, cloud providers
Minimum 4-6 distinct participants for comprehensive swimlanes.

 3. Trigger (Start Event)
Define SHORT, precise trigger (1-2 sentences max):
- Specific triggering action or event
- Event source (UI, API, scheduled, message)
- Keep descriptions concise and BPMN-focused

 4. Sequence of Activities (Tasks / Actions)
Provide 6-8 sequential activities using SHORT, BPMN-compliant names:
- Use concise action verbs: Submit, Validate, Process, Generate, Send, Update
- Activity names should be 2-4 words maximum
- Follow BPMN naming conventions: "Verb + Object" format
- Examples: "Submit Request", "Validate Data", "Process Payment", "Send Notification"
- Avoid long descriptive sentences
- Use standard BPMN task naming patterns

 5. Decision Points (Gateways)
Include 2-3 SHORT decision points with CONCISE rules:
- Gateway type (Exclusive OR, Inclusive OR, Parallel AND)
- Brief decision criteria (1 sentence each)
- Simple branching logic
- Keep gateway descriptions short and BPMN-focused

 6. End Event
Define SHORT completion scenario (1-2 sentences max):
- Primary success end event with brief completion criteria
- Keep end event descriptions concise and BPMN-focused

 7. Additional Elements
Include SHORT, specific BPMN elements (1-2 words each):

**Messages:**
- "Notification sent", "Confirmation email", "Status update"

**Timers:**
- "Wait 24 hours", "Escalation timer", "Daily check"

**Data Objects:**
- "Request form", "User profile", "Transaction record"

**Error Events:**
- "Validation error", "Network timeout", "Access denied"
**Sub-processes:**
- "Authentication flow", "Payment process", "Approval workflow"

Respond with ONLY valid JSON in this exact format (no markdown, no extra text):
{"description": " 1. Process Name and Description\\n[short process name and brief description]\\n\\n 2. Participants (Swimlanes)\\n[participant list]\\n\\n 3. Trigger (Start Event)\\n[brief trigger description]\\n\\n 4. Sequence of Activities\\n[short activity names]\\n\\n 5. Decision Points (Gateways)\\n[brief decision points]\\n\\n 6. End Event\\n[short end event description]\\n\\n 7. Additional Elements\\n[short element descriptions]", "participants": ["${Ie.stakeholder}", "System Administrator", "Database System", "External API", "Notification Service", "Additional Role"], "activities": ["Submit Request", "Validate Data", "Process Transaction", "Update Records", "Send Notification", "Generate Report"], "trigger": "Brief trigger with event source", "decisionPoints": ["If valid, approve; else reject", "If urgent, escalate; else normal flow"], "endEvent": "Process completed successfully", "additionalElements": ["Messages: Notification sent", "Timers: Wait 24 hours", "Data: Request form", "Errors: Validation error"]}`;console.log(`Starting flow analysis for ${Te}...`);const{generateFlowAnalysis:Xe}=await dl(async()=>{const{generateFlowAnalysis:pt}=await Promise.resolve().then(()=>c4);return{generateFlowAnalysis:pt}},void 0);console.log(`Calling Gemini API with prompt length: ${nt.length}`);const Et=await Xe(nt);if(console.log(`Raw Gemini response for ${Te}:`,Et),!Et||Et.trim().length===0)throw console.error(`Empty response from Gemini API for ${Te}`),new Error(`Empty response from Gemini API for ${Te}`);let it=Et.trim();it=it.replace(/```json\n?/gi,"").replace(/```\n?/g,""),it=it.replace(/^json\s*\n?/gi,"");const It=it.indexOf("{"),dt=it.lastIndexOf("}");It!==-1&&dt!==-1&&dt>It&&(it=it.substring(It,dt+1)),it=it.trim();try{console.log(`Attempting to parse JSON for ${Te}:`,it);const pt=JSON.parse(it);console.log(`Successfully parsed JSON for ${Te}:`,pt);const _t={description:pt.description||`Comprehensive ${Ie.flowType} process analysis for ${Ie.stakeholder}`,processDescription:pt.processDescription||`${Ie.stakeholder} ${Ie.flowType} Process`,participants:Array.isArray(pt.participants)?pt.participants:[Ie.stakeholder,"System Administrator","Database System","External API","Notification Service"],trigger:pt.trigger||`${Ie.stakeholder} initiates ${Ie.flowType} process`,activities:Array.isArray(pt.activities)?pt.activities:[`${Ie.stakeholder} submits ${Ie.flowType} request`,"System validates input data and permissions","Backend processes request with business logic","Database updates records and maintains data integrity","System generates response and confirmation","Notification service sends status update"],decisionPoints:Array.isArray(pt.decisionPoints)?pt.decisionPoints:["Exclusive Gateway: If validation passes, continue to processing; otherwise return error","Parallel Gateway: Execute data update and audit logging simultaneously","Inclusive Gateway: Based on request type, trigger additional notifications or workflows"],endEvent:pt.endEvent||`${Ie.flowType} process completes successfully with all data updated`,additionalElements:Array.isArray(pt.additionalElements)?pt.additionalElements:["Messages: Email confirmation sent to stakeholder with process results","Timers: Business timer set for 24-hour response window","Data: ProcessRecord data object created with transaction details","Errors: Handle ValidationError and SystemTimeout exceptions"]};if(pt.description&&typeof pt.description=="string"){const ne=pt.description,ve=ne.match(/ 1\. Process Name and Description[^]*\n([^]*)/),Be=ne.match(/ 2\. Participants[^]*\n([^]*)/),Ee=ne.match(/ 3\. Trigger[^]*\n([^]*)/),Le=ne.match(/ 4\. Sequence of Activities[^]*\n([^]*)/),$e=ne.match(/ 5\. Decision Points[^]*\n([^]*)/),xt=ne.match(/ 6\. End Event[^]*\n([^]*)/),Ot=ne.match(/ 7\. Additional Elements[^$]*/);if(ve&&(_t.processDescription=ve[1].trim()),Ee&&(_t.trigger=Ee[1].trim()),xt&&(_t.endEvent=xt[1].trim()),Be){const Br=Be[1].trim().split(`
`).filter(Gt=>Gt.trim()&&(Gt.includes("-")||Gt.includes("*")||Gt.includes(":"))).map(Gt=>Gt.replace(/^[-*:]\s*/,"").replace(/^Primary Actor:\s*/i,"").replace(/^Supporting Roles:\s*/i,"").replace(/^IT Systems:\s*/i,"").replace(/^External Entities:\s*/i,"").trim()).filter(Gt=>Gt.length>0);Br.length>0&&(_t.participants=Br)}if(Le){const Br=Le[1].trim().split(`
`).filter(Gt=>Gt.trim()).map(Gt=>Gt.replace(/^[-*\d.]\s*/,"").replace(/^Activity \d+:\s*/i,"").trim()).filter(Gt=>Gt.length>0);Br.length>0&&(_t.activities=Br)}if($e){const Br=$e[1].trim().split(`
`).filter(Gt=>Gt.trim()&&(Gt.includes("Gateway")||Gt.includes("If")||Gt.includes("condition"))).map(Gt=>Gt.replace(/^[-*]\s*/,"").trim()).filter(Gt=>Gt.length>0);Br.length>0&&(_t.decisionPoints=Br)}if(Ot){const Br=Ot[0].replace(/ 7\. Additional Elements[^:]*:\s*/i,"").trim().split(`
`).filter(Gt=>Gt.trim()&&(Gt.includes("Messages:")||Gt.includes("Timers:")||Gt.includes("Data:")||Gt.includes("Errors:"))).map(Gt=>Gt.replace(/^[-*]\s*/,"").trim()).filter(Gt=>Gt.length>0);Br.length>0&&(_t.additionalElements=Br)}}je[Te]=_t,$(ne=>({...ne,completedFlows:[...ne.completedFlows,Te],status:`Completed ${Ie.stakeholder} ${Ie.flowType} - ${ne.completedFlows.length+1}/${pe.length} flows done`}))}catch(pt){console.error(`Failed to parse response for ${Te}:`,pt,"Raw response:",Et),console.error("Cleaned result that failed:",it);const ne=Ie.flowType.toLowerCase().split(" ")[0]||"process",ve=[`${Ie.stakeholder}`,"System Backend","Database Service","Authentication Module","Notification Service","External Services"],Be=[`${Ie.stakeholder} authenticates and accesses system`,`System validates ${ne} request and permissions`,`Backend processes ${ne} with business logic`,"Database updates records and maintains integrity","System generates confirmation and audit trail",`Notification service sends confirmation to ${Ie.stakeholder}`];je[Te]={description:` 1. Process Name and Description
${Ie.flowType} Process

${Ie.stakeholder} ${ne} workflow with validation and confirmation.

 2. Participants (Swimlanes / Pools and Lanes)
${Ie.stakeholder}, System Backend, Database Service, Notification Service

 3. Trigger (Start Event)
${Ie.stakeholder} initiates ${Ie.flowType} via UI.

 4. Sequence of Activities (Tasks / Actions)
1. Authenticate User
2. Validate Request
3. Process ${ne}
4. Update Records
5. Generate Confirmation
6. Send Notification

 5. Decision Points (Gateways)
If valid, approve; else reject.
If urgent, escalate; else normal flow.

 6. End Event
Process completed successfully.

 7. Additional Elements
Messages: Notification sent
Timers: Wait 24 hours
Data Objects: Request form, User profile`,processDescription:`${Ie.flowType} Process for ${Ie.stakeholder}. This process starts when ${Ie.stakeholder} initiates ${Ie.flowType.toLowerCase()} and ends when all ${ne} activities are completed successfully.`,participants:[Ie.stakeholder,"System Backend","Database Service","Authentication Module","Notification Service","External Services"],trigger:`${Ie.stakeholder} initiates ${Ie.flowType} via UI.`,activities:["Authenticate User","Validate Request",`Process ${ne}`,"Update Records","Generate Confirmation","Send Notification"],decisionPoints:["If valid, approve; else reject","If urgent, escalate; else normal flow"],endEvent:"Process completed successfully",additionalElements:["Messages: Notification sent","Timers: Wait 24 hours","Data Objects: Request form, User profile"]},$(Ee=>({...Ee,completedFlows:[...Ee.completedFlows,Te],status:`Completed ${Ie.stakeholder} ${Ie.flowType} (fallback) - ${Ee.completedFlows.length+1}/${pe.length} flows done`}))}}catch(nt){console.error(`Failed to generate details for ${Te}:`,nt),$(Xe=>({...Xe,completedFlows:[...Xe.completedFlows,Te],status:`Error in ${Ie.stakeholder} ${Ie.flowType} - ${Xe.completedFlows.length+1}/${pe.length} flows processed`}))}}$(De=>({...De,status:`All flow details generated successfully! ${pe.length} flows completed.`})),ue(je),localStorage.setItem("flowDetails",JSON.stringify(je))}catch(pe){console.error("Error generating flow details:",pe),g("Failed to generate flow details. Please try again."),$(je=>({...je,status:"Error occurred during flow generation"}))}finally{W(!1),setTimeout(()=>{$({current:0,total:0,currentFlow:"",completedFlows:[],status:""})},3e3)}},Ut=pe=>{const je=te[pe];if(je){console.log(" Starting edit for flow:",pe),console.log(" Flow details:",je),se(pe);let De=je.processDescription||"",Ie=je.trigger||"";if(console.log(" Initial processDescription:",De),console.log(" Initial trigger:",Ie),!De&&je.description){console.log(" Trying to extract processDescription from description...");const nt=[/ 1\. Process Name and Description[\s\S]*?\n([\s\S]+?)(?=\n\n|$)/,/ 1\. Process Name and Description\s*\n([\s\S]+?)(?=\n|$)/,/Process Name and Description[^:]*:?\s*\n([\s\S]+?)(?=\n|$)/];for(const Xe of nt){const Et=je.description.match(Xe);if(Et){De=Et[1].trim(),console.log(" Found processDescription:",De);break}}if(!De){const Xe=je.description.split(/\n\n? 2\./);Xe.length>1&&(De=Xe[0].replace(/ 1\. Process Name and Description\s*\n?/i,"").trim(),console.log(" Fallback processDescription:",De))}}if(!Ie&&je.description){console.log(" Trying to extract trigger from description...");const nt=[/ 3\. Trigger \(Start Event\)\s*\n([\s\S]+?)(?=\n\n?|$)/,/ 3\. Trigger[\s\S]*?\n([\s\S]+?)(?=\n\n?|$)/,/Trigger[^:]*:?\s*\n([\s\S]+?)(?=\n|$)/];for(const Xe of nt){const Et=je.description.match(Xe);if(Et){Ie=Et[1].trim(),console.log(" Found trigger:",Ie);break}}}const Te={description:je.description,processDescription:De,participants:[...je.participants||[]],trigger:Ie,activities:[...je.activities||[]],decisionPoints:[...je.decisionPoints||[]],endEvent:je.endEvent||"",additionalElements:[...je.additionalElements||[]]};console.log(" Final edit data:",Te),L(Te)}},Xr=()=>{if(V&&Y){const pe={...te,[V]:Y};ue(pe),localStorage.setItem("flowDetails",JSON.stringify(pe)),se(null),L(null)}},rr=()=>{se(null),L(null)},Yt=(pe,je)=>{Y&&L(De=>({...De,[pe]:je}))},Tr=(pe,je)=>{Y&&L(De=>({...De,[pe]:[...De[pe]||[],je]}))},Jt=(pe,je,De)=>{Y&&L(Ie=>{const Te=[...Ie[pe]||[]];return Te[je]=De,{...Ie,[pe]:Te}})},kn=(pe,je)=>{Y&&L(De=>({...De,[pe]:(De[pe]||[]).filter((Ie,Te)=>Te!==je)}))},yr=async(pe,je)=>{const De=`${pe}-${je}`,Ie=te[De];if(!Ie){g("Flow details not found. Please generate flow details first.");return}f(Te=>({...Te,[De]:!0})),g("");try{const{generateSwimlaneXml:Te}=await dl(async()=>{const{generateSwimlaneXml:it}=await Promise.resolve().then(()=>c4);return{generateSwimlaneXml:it}},void 0),nt=await Te(pe,je,Ie),Xe=[...d],Et=Xe.findIndex(it=>it.stakeholder===pe&&it.flowType===je);Et>=0?Xe[Et]={...Xe[Et],bpmnXml:nt}:Xe.push({stakeholder:pe,flowType:je,bpmnXml:nt,customPrompt:""}),de(Xe)}catch(Te){console.error("Error generating swimlane BPMN:",Te),console.log("Generating fallback BPMN for:",De);const nt=Rt(pe,je,Ie),Xe=[...d],Et=Xe.findIndex(it=>it.stakeholder===pe&&it.flowType===je);Et>=0?Xe[Et]={...Xe[Et],bpmnXml:nt}:Xe.push({stakeholder:pe,flowType:je,bpmnXml:nt,customPrompt:""}),de(Xe)}finally{f(Te=>({...Te,[De]:!1}))}},bn=async(pe,je)=>{const De=`${pe}-${je}`,Ie=te[De];if(!Ie){g("Flow details not found. Please generate flow details first.");return}f(Te=>({...Te,[De]:!0})),g("");try{const Te={processName:`${pe} - ${je}`,processDescription:Ie.processDescription||Ie.description,participants:Ie.participants||[],trigger:Ie.trigger||"Process starts",activities:Ie.activities||[],decisionPoints:Ie.decisionPoints||[],endEvent:Ie.endEvent||"Process completes",additionalElements:Ie.additionalElements||[]};console.log("AI Agent processing 7-element workflow structure:",{"1. Process & Description":Te.processName,"2. Participants":Te.participants,"3. Trigger":Te.trigger,"4. Activities":Te.activities,"5. Decision Points":Te.decisionPoints,"6. End Event":Te.endEvent,"7. Additional Elements":Te.additionalElements});const nt=ts(Te),Xe={complexity:nt,includeSubProcesses:Te.activities.length>8,includeMessageFlows:Te.participants.length>2,includeTimerEvents:Te.additionalElements.some(_t=>_t.toLowerCase().includes("timer")||_t.toLowerCase().includes("timeout")),includeErrorHandling:Te.decisionPoints.length>1,swimlaneLayout:"horizontal"};console.log(`AI Agent configuration: ${nt} complexity with advanced features`);const{createAIBpmnAgent:Et}=await dl(async()=>{const{createAIBpmnAgent:_t}=await import("./ai-bpmn-agent-CnUaAO_b.js");return{createAIBpmnAgent:_t}},[]),It=await Et().generateLargeBpmn(Te,Xe),dt=[...d],pt=dt.findIndex(_t=>_t.stakeholder===pe&&_t.flowType===je);pt>=0?dt[pt]={...dt[pt],bpmnXml:It}:dt.push({stakeholder:pe,flowType:je,bpmnXml:It,customPrompt:""}),de(dt),localStorage.setItem(bt.CURRENT_DIAGRAM,It),localStorage.setItem(bt.DIAGRAM,It),localStorage.setItem(bt.TIMESTAMP,Date.now().toString())}catch(Te){console.error(`Error generating AI BPMN for ${pe} ${je}:`,Te),g("Failed to generate AI BPMN diagram. Please try again.")}finally{f(Te=>({...Te,[De]:!1}))}},ts=pe=>{const je=pe.activities.length,De=pe.participants.length,Ie=pe.decisionPoints.length,Te=pe.additionalElements.length,nt=je+De*2+Ie*3+Te;return nt>=25?"enterprise":nt>=15?"complex":nt>=8?"standard":"simple"},mr=async(pe,je)=>{const De=`${pe}-${je}`,Ie=te[De];if(!Ie){g("Flow details not found. Please generate flow details first.");return}f(Te=>({...Te,[De]:!0})),g("");try{const Te={processName:`${pe} - ${je}`,processDescription:Ie.processDescription||Ie.description,participants:Ie.participants||[],trigger:Ie.trigger||"Process starts",activities:Ie.activities||[],decisionPoints:Ie.decisionPoints||[],endEvent:Ie.endEvent||"Process completes",additionalElements:Ie.additionalElements||[]};console.log("Generating BPMN using structured data converter...");const{generateStructuredBpmn:nt}=await dl(async()=>{const{generateStructuredBpmn:It}=await import("./structured-bpmn-generator-9YfLH9mH.js");return{generateStructuredBpmn:It}},[]),Xe=nt(Te);console.log(Xe);const Et=[...d],it=Et.findIndex(It=>It.stakeholder===pe&&It.flowType===je);it>=0?Et[it]={...Et[it],bpmnXml:Xe}:Et.push({stakeholder:pe,flowType:je,bpmnXml:Xe,customPrompt:""}),de(Et),localStorage.setItem(bt.CURRENT_DIAGRAM,Xe),localStorage.setItem(bt.DIAGRAM,Xe),localStorage.setItem(bt.TIMESTAMP,Date.now().toString())}catch(Te){console.error(`Error generating structured BPMN for ${pe} ${je}:`,Te),g("Failed to generate structured BPMN diagram. Please try again.")}finally{f(Te=>({...Te,[De]:!1}))}},Rt=(pe,je,De)=>{const Ie=pe.replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_"),Te=je.replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_"),nt=`Process_${Ie}_${Te}`,Xe=`Pool_${Ie}`,Et=De.activities.map((It,dt)=>`
    <bpmn:serviceTask id="${`Activity_${dt+1}`}" name="${It}" />`).join(""),it=De.activities.map((It,dt)=>dt===0?`
    <bpmn:sequenceFlow id="Flow_start_${dt+1}" sourceRef="StartEvent_1" targetRef="Activity_${dt+1}" />`:dt===De.activities.length-1?`
    <bpmn:sequenceFlow id="Flow_${dt}_end" sourceRef="Activity_${dt+1}" targetRef="EndEvent_1" />`:`
    <bpmn:sequenceFlow id="Flow_${dt}_${dt+1}" sourceRef="Activity_${dt+1}" targetRef="Activity_${dt+2}" />`).join("");return`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:collaboration id="Collaboration_1">
    <bpmn:participant id="${Xe}" name="${pe}" processRef="${nt}" />
  </bpmn:collaboration>
  <bpmn:process id="${nt}" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1" name="Start ${je}" />
    ${Et}
    <bpmn:endEvent id="EndEvent_1" name="End ${je}" />
    ${it}
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1">
      <bpmndi:BPMNShape id="${Xe}_di" bpmnElement="${Xe}" isHorizontal="true">
        <dc:Bounds x="160" y="80" width="800" height="250" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_1_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="212" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="208" y="205" width="44" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      ${De.activities.map((It,dt)=>`
      <bpmndi:BPMNShape id="Activity_${dt+1}_di" bpmnElement="Activity_${dt+1}">
        <dc:Bounds x="${300+dt*150}" y="140" width="100" height="80" />
      </bpmndi:BPMNShape>`).join("")}
      <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="${320+De.activities.length*150}" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="324" y="205" width="28" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      ${De.activities.map((It,dt)=>dt===0?`
      <bpmndi:BPMNEdge id="Flow_start_${dt+1}_di" bpmnElement="Flow_start_${dt+1}">
        <di:waypoint x="248" y="180" />
        <di:waypoint x="${300+dt*150}" y="180" />
      </bpmndi:BPMNEdge>`:dt===De.activities.length-1?`
      <bpmndi:BPMNEdge id="Flow_${dt}_end_di" bpmnElement="Flow_${dt}_end">
        <di:waypoint x="${400+dt*150}" y="180" />
        <di:waypoint x="${320+De.activities.length*150}" y="180" />
      </bpmndi:BPMNEdge>`:`
      <bpmndi:BPMNEdge id="Flow_${dt}_${dt+1}_di" bpmnElement="Flow_${dt}_${dt+1}">
        <di:waypoint x="${400+dt*150}" y="180" />
        <di:waypoint x="${300+(dt+1)*150}" y="180" />
      </bpmndi:BPMNEdge>`).join("")}
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`},hr=async()=>{const pe=[];if(Object.entries(c).forEach(([je,De])=>{De.forEach(Ie=>{const Te=`${je}-${Ie}`;te[Te]&&pe.push({stakeholder:je,flowType:Ie})})}),pe.length===0){g("No flow details available. Please generate flow details first.");return}for(const je of pe)await yr(je.stakeholder,je.flowType),await new Promise(De=>setTimeout(De,100))},pn=async()=>{const pe=[];if(Object.entries(c).forEach(([je,De])=>{De.forEach(Ie=>{const Te=`${je}-${Ie}`;te[Te]&&pe.push({stakeholder:je,flowType:Ie})})}),pe.length===0){g("No flow details available. Please generate flow details first.");return}g("");for(const je of pe){const De=`${je.stakeholder}-${je.flowType}`;if(!(G[De]||C[De]))try{await Ur(je.stakeholder,je.flowType),await new Promise(Ie=>setTimeout(Ie,500))}catch(Ie){console.error(`Error generating flow diagram for ${je.stakeholder} ${je.flowType}:`,Ie)}}},Ur=async(pe,je)=>{const De=`${pe}-${je}`,Ie=te[De];if(!Ie){g("Flow details not found. Please generate flow details first.");return}z(Te=>({...Te,[De]:!0})),g("");try{const nt=await GL().generateFlowDiagram(Ie,pe,je),Xe={...C,[De]:nt};j(Xe),localStorage.setItem("flowDiagrams",JSON.stringify(Xe))}catch(Te){console.error(`Error generating flow diagram for ${pe} ${je}:`,Te),g("Failed to generate flow diagram. Please try again.")}finally{z(Te=>({...Te,[De]:!1}))}};return E?i.jsx("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Vt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),i.jsx("p",{className:"text-gray-600",children:"Loading user journey data..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Ll,{title:"Stakeholder Journey Builder"}),i.jsxs("div",{className:"max-w-[1400px] mx-auto p-6",children:[i.jsx(fA,{}),y&&i.jsx(lt,{className:"mb-6 border-blue-200 bg-blue-50",children:i.jsx(ct,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Vt,{className:"h-5 w-5 animate-spin text-blue-600"}),i.jsx("span",{className:"text-blue-800 font-medium",children:y})]})})}),e?i.jsxs(lt,{className:"mb-6",children:[i.jsx(Bt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:i.jsx(Hc,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx(Nt,{className:"text-xl text-gray-900",children:e.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})]}),i.jsx(yt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Loaded from Project Plan"})]})}),i.jsx(ct,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center",children:[i.jsx(rd,{className:"h-4 w-4 mr-2"}),"Flow Overview"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-blue-800",children:"Nodes:"}),i.jsx("span",{className:"ml-2 text-blue-700",children:((mn=e.flowData.nodes)==null?void 0:mn.length)||0})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-blue-800",children:"Connections:"}),i.jsx("span",{className:"ml-2 text-blue-700",children:((Cn=e.flowData.edges)==null?void 0:Cn.length)||0})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-blue-800",children:"Stakeholders:"}),i.jsx("span",{className:"ml-2 text-blue-700",children:o.length})]})]})]}),i.jsx("div",{className:"border rounded-lg p-4 bg-white",children:i.jsx(ad,{flowData:e.flowData,title:e.title,className:"h-96"})})]})})]}):i.jsx(lt,{className:"mb-6 border-orange-200 bg-orange-50",children:i.jsx(ct,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(_o,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-2",children:"No User Journey Flow Data Found"}),i.jsx("p",{className:"text-orange-700 mb-4",children:"Please generate the User Journey Flow diagram from the Project Plan page first."}),i.jsx(yn,{href:"/plan",children:i.jsxs(me,{className:"bg-orange-600 hover:bg-orange-700 text-white",children:[i.jsx(Im,{className:"h-4 w-4 mr-2"}),"Go to Project Plan"]})})]})})}),N&&i.jsx(lt,{className:"mb-6 border-red-200 bg-red-50",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(_o,{className:"h-5 w-5 text-red-600"}),i.jsx("span",{className:"text-red-800",children:N})]})}),i.jsxs(lt,{className:"mb-6",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Yn,{className:"h-5 w-5 mr-2"}),"Stakeholder Analysis"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(me,{onClick:xe,disabled:d.length===0,variant:"outline",size:"sm",children:[i.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Export Data"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(me,{onClick:Re,disabled:x,size:"sm",children:[x?i.jsx(Vt,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Load Stakeholders from Project Planner"]}),o.length>0&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 bg-green-50 px-2 py-1 rounded-md",children:[i.jsx(wr,{className:"h-3 w-3"}),i.jsx("span",{children:"Loaded from localStorage"})]})]})]})]})}),i.jsx(ct,{className:"pt-4",children:o.length>0?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("h4",{className:"font-semibold text-gray-800 text-sm flex items-center gap-2",children:[i.jsx(Yn,{className:"h-4 w-4 text-blue-600"}),"Stakeholders (",o.length,")"]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(pr,{value:D,onChange:pe=>R(pe.target.value),placeholder:"Add stakeholder...",className:"text-xs h-7 flex-1 bg-gray-50 border-gray-200",onKeyDown:pe=>{pe.key==="Enter"&&Qe()}}),i.jsxs(me,{onClick:Qe,size:"sm",className:"h-7 px-3 bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(ME,{className:"h-3 w-3 mr-1"}),"Add"]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((pe,je)=>{const De=[_A,wp,ey,rd,ha,Jc],Ie=De[je%De.length];return i.jsx("div",{className:"group",children:I===pe?i.jsxs("div",{className:"flex items-center gap-2 bg-white border-2 border-blue-300 rounded-lg px-3 py-2 shadow-sm",children:[i.jsx(_A,{className:"h-3 w-3 text-blue-500"}),i.jsx(pr,{value:U,onChange:Te=>S(Te.target.value),className:"text-sm h-5 w-28 border-0 p-0 focus:ring-0",onKeyDown:Te=>{Te.key==="Enter"?Oe():Te.key==="Escape"&&Ke()},autoFocus:!0}),i.jsx(me,{onClick:Oe,size:"sm",className:"h-5 w-5 p-0 bg-green-500 hover:bg-green-600",children:i.jsx(Oi,{className:"h-3 w-3"})}),i.jsx(me,{onClick:Ke,size:"sm",variant:"outline",className:"h-5 w-5 p-0",children:i.jsx(un,{className:"h-3 w-3"})})]}):i.jsxs(yt,{variant:"secondary",className:"bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 cursor-pointer transition-all group pr-1 px-3 py-1.5 text-sm",children:[i.jsx(Ie,{className:"h-3 w-3 mr-1.5"}),i.jsx("span",{className:"mr-2",children:pe}),i.jsxs("div",{className:"inline-flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx(me,{onClick:()=>We(pe),size:"sm",variant:"ghost",className:"h-4 w-4 p-0 hover:bg-blue-200 rounded",children:i.jsx(gi,{className:"h-2.5 w-2.5"})}),i.jsx(me,{onClick:()=>ht(pe),size:"sm",variant:"ghost",className:"h-4 w-4 p-0 hover:bg-red-200 text-red-500 rounded",children:i.jsx(un,{className:"h-2.5 w-2.5"})})]})]})},je)})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("h4",{className:"font-semibold text-gray-800 text-sm flex items-center gap-2",children:[i.jsx(nd,{className:"h-4 w-4 text-indigo-600"}),"Flow Types Management"]}),i.jsxs(yt,{variant:"outline",className:"text-xs bg-indigo-50 text-indigo-700",children:[Object.keys(c).length," stakeholders"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(c).map(([pe,je],De)=>{const Ie=[{bg:"bg-blue-50",border:"border-blue-200",accent:"bg-blue-500",text:"text-blue-700",icon:"User"},{bg:"bg-emerald-50",border:"border-emerald-200",accent:"bg-emerald-500",text:"text-emerald-700",icon:"Shield"},{bg:"bg-purple-50",border:"border-purple-200",accent:"bg-purple-500",text:"text-purple-700",icon:"Star"},{bg:"bg-orange-50",border:"border-orange-200",accent:"bg-orange-500",text:"text-orange-700",icon:"Crown"},{bg:"bg-cyan-50",border:"border-cyan-200",accent:"bg-cyan-500",text:"text-cyan-700",icon:"Target"},{bg:"bg-green-50",border:"border-green-200",accent:"bg-green-500",text:"text-green-700",icon:"Briefcase"}],Te=Ie[De%Ie.length],nt={User:_A,Shield:wp,Star:ey,Crown:_A,Target:rd,Briefcase:_A}[Te.icon]||_A;return i.jsxs("div",{className:`${Te.bg} ${Te.border} border rounded-xl p-5 transition-all hover:shadow-md hover:scale-[1.01]`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 ${Te.accent} rounded-lg flex items-center justify-center shadow-sm`,children:i.jsx(nt,{className:"h-4 w-4 text-white"})}),i.jsxs("div",{children:[i.jsx("span",{className:`font-semibold text-base ${Te.text}`,children:pe}),i.jsx("div",{className:"flex items-center gap-2 mt-1",children:i.jsxs(yt,{variant:"outline",className:"text-xs h-5 px-2 bg-white/80 border-white/60",children:[i.jsx(ha,{className:"h-2.5 w-2.5 mr-1"}),je.length," flows"]})})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(me,{onClick:()=>ht(pe),variant:"outline",size:"sm",className:"h-7 px-2 text-xs bg-white/60 hover:bg-red-50 border-red-200 text-red-600 hover:text-red-700",children:i.jsx(ns,{className:"h-3 w-3"})})})]}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Fs,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"}),i.jsx(pr,{value:P[pe]||"",onChange:Xe=>O(Et=>({...Et,[pe]:Xe.target.value})),placeholder:"Add new flow type...",className:"text-sm h-8 pl-7 bg-white/90 border-white/60 placeholder:text-gray-400",onKeyDown:Xe=>{Xe.key==="Enter"&&Pt(pe)}})]}),i.jsxs(me,{onClick:()=>Pt(pe),size:"sm",className:"h-8 px-3 bg-green-500 hover:bg-green-600 text-white",children:[i.jsx(Ln,{className:"h-3 w-3 mr-1"}),"Add"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[je.map((Xe,Et)=>{const it=`${pe}-${Xe}`,It=k===it;return i.jsx("div",{className:"group",children:It?i.jsxs("div",{className:"flex items-center gap-2 bg-white border-2 border-blue-300 rounded-lg px-3 py-2",children:[i.jsx(pr,{value:H,onChange:dt=>q(dt.target.value),className:"text-sm h-5 w-28 border-0 p-0 focus:ring-0",onKeyDown:dt=>{dt.key==="Enter"?ft(pe,Xe):dt.key==="Escape"&&Qt()},autoFocus:!0}),i.jsx(me,{onClick:()=>ft(pe,Xe),size:"sm",className:"h-5 w-5 p-0 bg-green-500",children:i.jsx(Oi,{className:"h-3 w-3"})}),i.jsx(me,{onClick:Qt,size:"sm",variant:"outline",className:"h-5 w-5 p-0",children:i.jsx(un,{className:"h-3 w-3"})})]}):i.jsxs(yt,{variant:"outline",className:"text-sm px-3 py-1.5 bg-white/90 hover:bg-white cursor-pointer transition-all group border border-white/60 hover:border-white",children:[i.jsx(ml,{className:"h-3 w-3 mr-1.5 text-gray-500"}),i.jsx("span",{className:"mr-2",children:Xe}),i.jsxs("div",{className:"inline-flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx(me,{onClick:()=>wt(pe,Xe),size:"sm",variant:"ghost",className:"h-4 w-4 p-0 hover:bg-blue-100 rounded",children:i.jsx(gi,{className:"h-2.5 w-2.5"})}),i.jsx(me,{onClick:()=>et(pe,Xe),size:"sm",variant:"ghost",className:"h-4 w-4 p-0 hover:bg-red-100 text-red-500 rounded",children:i.jsx(un,{className:"h-2.5 w-2.5"})})]})]})},Et)}),je.length===0&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[i.jsx(bo,{className:"h-3 w-3"}),i.jsx("span",{children:"Add your first flow type above"})]})]})]},pe)})})]})]}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx(Yn,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-500 text-xs mb-3",children:"Extract stakeholders from your project plan or add manually"}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(pr,{value:D,onChange:pe=>R(pe.target.value),placeholder:"Enter stakeholder name...",className:"text-xs h-7 w-40 bg-gray-50",onKeyDown:pe=>{pe.key==="Enter"&&Qe()}}),i.jsxs(me,{onClick:Qe,size:"sm",className:"h-7 px-3 bg-green-600 hover:bg-green-700 text-white text-xs",children:[i.jsx(ME,{className:"h-3 w-3 mr-1"}),"Add"]})]})]})})]}),Object.keys(c).length>0&&Object.values(te).length===0&&i.jsx(lt,{className:"mb-6",children:i.jsx(ct,{className:"pt-6 text-center",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ha,{className:"h-12 w-12 text-blue-500 mx-auto mb-3"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Generate Flow Analysis"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Generate detailed analysis for all stakeholder flows including descriptions, key components, and processes"})]}),i.jsxs(me,{onClick:ur,disabled:K,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-2",children:[K?i.jsx(Vt,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(ha,{className:"h-4 w-4 mr-2"}),"Generate Flow Details"]})]})})}),K&&T.total>0&&i.jsx(lt,{className:"border-0 shadow-sm bg-gradient-to-r from-blue-50 to-purple-50 mb-6",children:i.jsx(ct,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:i.jsx(Vt,{className:"h-3 w-3 text-white animate-spin"})}),i.jsx("h3",{className:"font-semibold text-gray-800",children:"Generating Flow Details"})]}),i.jsxs("div",{className:"text-sm font-medium text-gray-600",children:[T.current," /"," ",T.total]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${T.current/T.total*100}%`}})}),i.jsxs("div",{className:"space-y-1",children:[T.currentFlow&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),i.jsx("span",{className:"font-medium text-blue-700",children:"Current:"}),i.jsx("span",{className:"text-gray-700",children:T.currentFlow})]}),i.jsx("div",{className:"text-sm text-gray-600",children:T.status})]}),T.completedFlows.length>0&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:["Completed Flows (",T.completedFlows.length,")"]}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.completedFlows.slice(-6).map((pe,je)=>i.jsxs(yt,{variant:"outline",className:"text-xs px-2 py-0.5 bg-green-50 text-green-700 border-green-200",children:[i.jsx(wr,{className:"h-2.5 w-2.5 mr-1"}),pe.replace("-"," - ")]},je)),T.completedFlows.length>6&&i.jsxs(yt,{variant:"outline",className:"text-xs px-2 py-0.5 bg-gray-50 text-gray-600",children:["+",T.completedFlows.length-6," ","more"]})]})]})]})})}),Object.values(te).length>0&&i.jsxs(lt,{className:"border-0 shadow-sm bg-white mb-6",children:[i.jsx(Bt,{className:"pb-4",children:i.jsxs(Nt,{className:"flex items-center justify-between text-lg font-semibold text-gray-800",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center",children:i.jsx(wp,{className:"h-4 w-4 text-white"})}),"Stakeholder Flow Analysis"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(me,{onClick:ur,disabled:K,size:"sm",variant:"outline",className:"border-orange-300 text-orange-700 hover:bg-orange-50",children:[K?i.jsx(Vt,{className:"h-3 w-3 animate-spin mr-1"}):i.jsx(ha,{className:"h-3 w-3 mr-1"}),"Re-generate Details"]}),i.jsxs(me,{onClick:hr,disabled:Object.values(p).some(Boolean),size:"sm",className:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white",children:[Object.values(p).some(Boolean)?i.jsx(Vt,{className:"h-3 w-3 animate-spin mr-1"}):i.jsx(ha,{className:"h-3 w-3 mr-1"}),"Generate All Swimlanes"]}),i.jsxs(me,{onClick:()=>pn(),disabled:Object.values(G).some(Boolean),size:"sm",className:"bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white",children:[Object.values(G).some(Boolean)?i.jsx(Vt,{className:"h-3 w-3 animate-spin mr-1"}):i.jsx(qg,{className:"h-3 w-3 mr-1"}),"Generate All Flow Diagrams"]})]})]})}),i.jsx(ct,{className:"px-4 pb-4",children:i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.entries(c).map(([pe,je],De)=>{const Ie=["from-blue-500 to-cyan-600","from-emerald-500 to-teal-600","from-orange-500 to-red-600","from-purple-500 to-pink-600","from-indigo-500 to-blue-600","from-green-500 to-emerald-600"],Te=["from-blue-50 to-cyan-50","from-emerald-50 to-teal-50","from-orange-50 to-red-50","from-purple-50 to-pink-50","from-indigo-50 to-blue-50","from-green-50 to-emerald-50"],nt=["border-blue-200","border-emerald-200","border-orange-200","border-purple-200","border-indigo-200","border-green-200"],Xe=Ie[De%Ie.length],Et=Te[De%Te.length],it=nt[De%nt.length];return i.jsxs("div",{className:`border ${it} rounded-lg p-3 bg-gradient-to-br ${Et}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-6 h-6 bg-gradient-to-r ${Xe} rounded-md flex items-center justify-center`,children:i.jsx(_A,{className:"h-3 w-3 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:pe}),i.jsxs("p",{className:"text-xs text-gray-500",children:[je.length," flows"]})]})]}),i.jsxs(me,{onClick:()=>Ce(pe),variant:"outline",size:"sm",className:"text-xs px-2 py-1 h-6 border-gray-300 hover:bg-white",children:[i.jsx(Ln,{className:"h-2.5 w-2.5 mr-1"}),"Add"]})]}),i.jsx("div",{className:"space-y-2",children:je.map((It,dt)=>{var ve,Be;const pt=`${pe}-${It}`,_t=te[pt],ne=d.find(Ee=>Ee.stakeholder===pe&&Ee.flowType===It);return i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm border border-white/60 rounded-md p-2 shadow-sm mt-[20px] mb-[20px]",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"text-gray-800 flex-1 mr-2 text-[16px] font-bold",children:It}),i.jsxs("div",{className:"flex items-center gap-1",children:[_t&&V!==pt&&i.jsx(me,{onClick:()=>Ut(pt),variant:"outline",size:"sm",className:"text-xs px-1 py-0.5 h-5 border-gray-300 hover:bg-blue-50",children:i.jsx(gi,{className:"h-2.5 w-2.5"})}),i.jsxs(me,{onClick:()=>bn(pe,It),disabled:p[pt]||!_t,size:"sm",className:`text-xs px-2 py-0.5 h-5 bg-gradient-to-r ${Xe} hover:opacity-90 text-white`,children:[p[pt]?i.jsx(Vt,{className:"h-2.5 w-2.5 animate-spin mr-1"}):i.jsx(wn,{className:"h-2.5 w-2.5 mr-1"}),"AI"]}),i.jsxs(me,{onClick:()=>mr(pe,It),disabled:p[pt]||!_t,size:"sm",className:"text-xs px-2 py-0.5 h-5 bg-gradient-to-r from-gray-600 to-gray-700 hover:opacity-90 text-white",children:[p[pt]?i.jsx(Vt,{className:"h-2.5 w-2.5 animate-spin mr-1"}):i.jsx(ml,{className:"h-2.5 w-2.5 mr-1"}),"Template"]}),i.jsxs(me,{onClick:()=>Ur(pe,It),disabled:G[pt]||!_t,size:"sm",className:"text-xs px-2 py-0.5 h-5 bg-gradient-to-r from-emerald-500 to-teal-600 hover:opacity-90 text-white",children:[G[pt]?i.jsx(Vt,{className:"h-2.5 w-2.5 animate-spin mr-1"}):i.jsx(qg,{className:"h-2.5 w-2.5 mr-1"}),"Flow"]}),(ne==null?void 0:ne.bpmnXml)&&i.jsx(i.Fragment,{children:i.jsxs(me,{onClick:()=>ze(pe,It),variant:"outline",size:"sm",className:"text-xs px-2 py-0.5 h-5 border-purple-300 hover:bg-purple-50 text-purple-600",children:[i.jsx(gi,{className:"h-2.5 w-2.5 mr-1"}),"Editor"]})})]})]}),_t&&i.jsx("div",{className:"space-y-2 mb-2",children:V===pt&&Y?i.jsxs("div",{className:"space-y-2 p-2 bg-blue-50/50 rounded border border-blue-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h5",{className:"text-xs font-medium text-blue-800",children:"Edit Details"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs(me,{onClick:Xr,size:"sm",className:"h-5 px-1.5 bg-green-500 hover:bg-green-600 text-white text-xs",children:[i.jsx(Oi,{className:"h-2.5 w-2.5 mr-0.5"}),"Save"]}),i.jsx(me,{onClick:rr,variant:"outline",size:"sm",className:"h-5 px-1.5 border-gray-300 text-xs",children:i.jsx(un,{className:"h-2.5 w-2.5"})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-600 mb-0.5 block",children:"Description"}),i.jsx(En,{value:Y.processDescription,onChange:Ee=>Yt("processDescription",Ee.target.value),className:"text-xs h-16 resize-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-gray-600 mb-0.5 block",children:"Trigger"}),i.jsx(En,{value:Y.trigger,onChange:Ee=>Yt("trigger",Ee.target.value),className:"text-xs h-16 resize-none"})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[i.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Participants"}),i.jsx(me,{onClick:()=>Tr("participants","New Participant"),size:"sm",variant:"outline",className:"h-4 px-1 text-xs",children:i.jsx(Ln,{className:"h-2 w-2"})})]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:Y.participants.map((Ee,Le)=>i.jsxs("div",{className:"flex items-center gap-0.5 bg-gray-100 rounded px-1 py-0.5",children:[i.jsx(pr,{value:Ee,onChange:$e=>Jt("participants",Le,$e.target.value),className:"text-xs h-4 w-20 border-0 bg-transparent p-0"}),i.jsx(me,{onClick:()=>kn("participants",Le),size:"sm",variant:"ghost",className:"h-3 w-3 p-0 text-red-500 hover:bg-red-100",children:i.jsx(un,{className:"h-2 w-2"})})]},Le))})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[i.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Activities"}),i.jsx(me,{onClick:()=>Tr("activities","New Activity"),size:"sm",variant:"outline",className:"h-4 px-1 text-xs",children:i.jsx(Ln,{className:"h-2 w-2"})})]}),i.jsx("div",{className:"space-y-0.5",children:Y.activities.map((Ee,Le)=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(pr,{value:Ee,onChange:$e=>Jt("activities",Le,$e.target.value),className:"text-xs h-5 flex-1"}),i.jsx(me,{onClick:()=>kn("activities",Le),size:"sm",variant:"outline",className:"h-5 w-5 p-0 border-red-300 hover:bg-red-50 text-red-600",children:i.jsx(un,{className:"h-2 w-2"})})]},Le))})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Additional Elements"}),i.jsx(me,{onClick:()=>Tr("additionalElements","Messages: New notification"),size:"sm",variant:"outline",className:"h-5 px-1.5 text-xs",children:i.jsx(Ln,{className:"h-2.5 w-2.5"})})]}),i.jsx("div",{className:"space-y-1",children:Y.additionalElements.map((Ee,Le)=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(pr,{value:Ee,onChange:$e=>Jt("additionalElements",Le,$e.target.value),className:"text-xs h-6 flex-1"}),i.jsx(me,{onClick:()=>kn("additionalElements",Le),size:"sm",variant:"outline",className:"h-6 w-6 p-0 border-red-300 hover:bg-red-50 text-red-600",children:i.jsx(un,{className:"h-2.5 w-2.5"})})]},Le))})]})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs(yt,{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 border-0 flex items-center gap-1",children:[i.jsx(Fs,{className:"h-3 w-3"}),"1. Process & Description"]}),i.jsx(me,{onClick:()=>Ut(pt),variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(gi,{className:"h-3 w-3"})})]}),i.jsx("p",{className:"text-xs text-gray-700 leading-relaxed pl-2 border-l-2 border-purple-200",children:_t.processDescription||_t.description.split(`

 2.`)[0].replace(` 1. Process Name and Description
`,"")})]}),i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs(yt,{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 border-0 flex items-center gap-1",children:[i.jsx(Yn,{className:"h-3 w-3"}),"2. Participants (Swimlanes)"]}),i.jsx(me,{onClick:()=>Ut(pt),variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(gi,{className:"h-3 w-3"})})]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:(ve=_t.participants)==null?void 0:ve.map((Ee,Le)=>i.jsx(yt,{variant:"outline",className:"text-xs px-2 py-0.5 bg-blue-50 text-blue-700 border-blue-200",children:Ee},Le))})]}),i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs(yt,{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 border-0 flex items-center gap-1",children:[i.jsx(_H,{className:"h-3 w-3"}),"3. Trigger (Start Event)"]}),i.jsx(me,{onClick:()=>Ut(pt),variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(gi,{className:"h-3 w-3"})})]}),i.jsx("p",{className:"text-xs text-gray-600 pl-2 border-l-2 border-green-200",children:_t.trigger||(()=>{const Ee=_t.description.match(/ 3\. Trigger \(Start Event\)\n([^]*)/);return Ee?Ee[1].trim():"Process initiates when conditions are met"})()})]}),i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs(yt,{className:"text-xs px-2 py-0.5 bg-orange-100 text-orange-700 border-0 flex items-center gap-1",children:[i.jsx(ha,{className:"h-3 w-3"}),"4. Activities (Tasks)"]}),i.jsx(me,{onClick:()=>Ut(pt),variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(gi,{className:"h-3 w-3"})})]}),i.jsx("div",{className:"space-y-1",children:(Be=_t.activities)==null?void 0:Be.map((Ee,Le)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full"}),i.jsx("span",{className:"text-xs text-gray-600",children:Ee})]},Le))})]}),i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs(yt,{className:"text-xs px-2 py-0.5 bg-yellow-100 text-yellow-700 border-0 flex items-center gap-1",children:[i.jsx(Hc,{className:"h-3 w-3"}),"5. Decision Points (Gateways)"]}),i.jsx(me,{onClick:()=>Ut(pt),variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(gi,{className:"h-3 w-3"})})]}),i.jsx("div",{className:"text-xs text-gray-600 pl-2 border-l-2 border-yellow-200 space-y-1",children:_t.decisionPoints&&_t.decisionPoints.length>0?_t.decisionPoints.map((Ee,Le)=>i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1 h-1 bg-yellow-500 rounded-full mt-1.5 flex-shrink-0"}),i.jsx("span",{children:Ee.trim()})]},Le)):(()=>{const Ee=_t.description.match(/ 5\. Decision Points \(Gateways\)\n([^]*)/);return Ee?Ee[1].trim().split(`
`).map((Le,$e)=>i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1 h-1 bg-yellow-500 rounded-full mt-1.5 flex-shrink-0"}),i.jsx("span",{children:Le.trim()})]},$e)):i.jsx("span",{children:"Standard validation and approval gates"})})()})]}),i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs(yt,{className:"text-xs px-2 py-0.5 bg-red-100 text-red-700 border-0 flex items-center gap-1",children:[i.jsx(C6,{className:"h-3 w-3"}),"6. End Event"]}),i.jsx(me,{onClick:()=>Ut(pt),variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(gi,{className:"h-3 w-3"})})]}),i.jsx("p",{className:"text-xs text-gray-600 pl-2 border-l-2 border-red-200",children:_t.endEvent||(()=>{const Ee=_t.description.match(/ 6\. End Event\n([^]*)/);return Ee?Ee[1].trim():"Process completes when all objectives are met"})()})]}),i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs(yt,{className:"text-xs px-2 py-0.5 bg-gray-100 text-gray-700 border-0 flex items-center gap-1",children:[i.jsx(wH,{className:"h-3 w-3"}),"7. Additional Elements"]}),i.jsx(me,{onClick:()=>Ut(pt),variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(gi,{className:"h-3 w-3"})})]}),i.jsx("div",{className:"text-xs text-gray-600 pl-2 border-l-2 border-gray-200",children:i.jsx("div",{className:"grid grid-cols-1 gap-1",children:_t.additionalElements&&_t.additionalElements.length>0?_t.additionalElements.map((Ee,Le)=>Ee.includes("Messages:")?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yt,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-blue-50 text-blue-600 border-blue-200",children:" Messages"}),i.jsx("span",{children:Ee.replace("Messages:","").trim()})]},Le):Ee.includes("Timers:")?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yt,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-orange-50 text-orange-600 border-orange-200",children:" Timers"}),i.jsx("span",{children:Ee.replace("Timers:","").trim()})]},Le):Ee.includes("Data")?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yt,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-green-50 text-green-600 border-green-200",children:" Data"}),i.jsx("span",{children:Ee.replace("Data Objects:","").trim()})]},Le):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yt,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-gray-50 text-gray-600 border-gray-200",children:" Element"}),i.jsx("span",{children:Ee})]},Le)):(()=>{const Ee=_t.description.match(/ 7\. Additional Elements\n([^$]*)/);return Ee?Ee[1].trim().split(`
`).map(($e,xt)=>$e.includes("Messages:")?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yt,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-blue-50 text-blue-600 border-blue-200",children:" Messages"}),i.jsx("span",{children:$e.replace("Messages:","").trim()})]},xt):$e.includes("Timers:")?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yt,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-orange-50 text-orange-600 border-orange-200",children:" Timers"}),i.jsx("span",{children:$e.replace("Timers:","").trim()})]},xt):$e.includes("Data")?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yt,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-green-50 text-green-600 border-green-200",children:" Data"}),i.jsx("span",{children:$e.replace("Data Objects:","").trim()})]},xt):null):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yt,{variant:"outline",className:"text-xs px-1.5 py-0.5 bg-gray-50 text-gray-600 border-gray-200",children:" Standard"}),i.jsx("span",{children:"Forms, notifications, and system logs"})]})})()})})]})]})})}),C[pt]&&i.jsxs("div",{className:"space-y-3 mt-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(yt,{variant:"secondary",className:"text-xs bg-emerald-100 text-emerald-700",children:[i.jsx(wr,{className:"h-3 w-3 mr-1"}),"ReactFlow Diagram Generated"]}),i.jsx("div",{className:"flex items-center gap-1",children:i.jsxs(me,{onClick:()=>{const Ee=JSON.stringify(C[pt],null,2);navigator.clipboard.writeText(Ee)},variant:"outline",size:"sm",className:"text-xs px-2 py-1 h-6 border-gray-300",children:[i.jsx(zn,{className:"h-3 w-3 mr-1"}),"Copy JSON"]})})]}),i.jsx("div",{className:"bg-white rounded-lg border w-full",children:i.jsx(ad,{flowData:C[pt],title:`${pe} - ${It} Flow`,className:"p-4",flowKey:pt,onFlowUpdate:Ee=>{j(Le=>({...Le,[pt]:Ee}))}})})]}),(ne==null?void 0:ne.bpmnXml)&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(yt,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-700",children:[i.jsx(wr,{className:"h-3 w-3 mr-1"}),"BPMN Script Generated"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs(me,{onClick:()=>Fe(ne.bpmnXml),variant:"outline",size:"sm",className:"text-xs px-2 py-1 h-6 border-gray-300",children:[i.jsx(zn,{className:"h-3 w-3 mr-1"}),"Copy Script"]}),i.jsx(yn,{href:"/bpmn-editor",children:i.jsxs(me,{onClick:()=>ze(ne.bpmnXml),size:"sm",className:"text-xs px-2 py-1 h-6 bg-gray-600 hover:bg-gray-700 text-white",children:[i.jsx(qg,{className:"h-3 w-3 mr-1"}),"Editor"]})})]})]}),i.jsxs(md,{defaultValue:"diagram",className:"w-full",children:[i.jsxs(tA,{className:"grid w-full grid-cols-3 bg-gray-100 mb-3",children:[i.jsx(Vr,{value:"diagram",className:"text-xs",children:" BPMN Diagram"}),i.jsx(Vr,{value:"flow",className:"text-xs",children:" Flow Diagram"}),i.jsx(Vr,{value:"script",className:"text-xs",children:" XML Script"})]}),i.jsx(Wr,{value:"diagram",className:"mt-0",children:i.jsx("div",{className:"bg-white rounded-lg border w-full",children:i.jsx(wse,{bpmnXml:ne.bpmnXml,title:`${pe} - ${It}`,height:"450px"})})}),i.jsx(Wr,{value:"flow",className:"mt-0",children:i.jsx("div",{className:"bg-white rounded-lg border w-full",children:C[pt]?i.jsx(ad,{flowData:C[pt],title:`${pe} - ${It}`,className:"p-4",flowKey:pt,onFlowUpdate:Ee=>{j(Le=>({...Le,[pt]:Ee}))}}):i.jsxs("div",{className:"p-8 text-center text-gray-500",children:[i.jsx(qg,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-sm mb-2",children:"No flow diagram generated yet"}),i.jsx("p",{className:"text-xs text-gray-400",children:'Click "Flow" button to generate an interactive flow diagram'})]})})}),i.jsx(Wr,{value:"script",className:"mt-0",children:i.jsxs("div",{className:"bg-gray-50 rounded-lg border",children:[i.jsx("div",{className:"px-3 py-2 border-b bg-gray-100 rounded-t-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs font-medium text-gray-700",children:["BPMN 2.0 XML Script -"," ",pe," ",It]}),i.jsxs("p",{className:"text-xs text-gray-500",children:[ne.bpmnXml.length," ","characters"]})]}),i.jsxs(me,{onClick:()=>Fe(ne.bpmnXml),variant:"outline",size:"sm",className:"text-xs px-2 py-1 h-6 border-gray-300",children:[i.jsx(zn,{className:"h-3 w-3 mr-1"}),"Copy"]})]})}),i.jsx("div",{className:"p-3",children:i.jsx("pre",{className:"text-xs text-gray-800 overflow-auto whitespace-pre-wrap bg-white rounded border p-3 max-h-96 font-mono leading-relaxed",children:ne.bpmnXml})})]})})]})]})]},dt)})})]},pe)})})})]}),Object.values(te).length>0&&i.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-center gap-4",children:[i.jsx(yn,{href:"/wireframes",children:i.jsxs(me,{className:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white px-8 py-3 text-lg",children:[i.jsx(nd,{className:"h-5 w-5 mr-3"}),"Design Wireframes"]})}),i.jsx(yn,{href:"/user-stories",children:i.jsxs(me,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-8 py-3 text-lg",children:[i.jsx(jh,{className:"h-5 w-5 mr-3"}),"Continue to User Stories"]})})]})]})]})}const bse=km("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),h5=b.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:Zt(bse({variant:t}),e),...r}));h5.displayName="Alert";const Cse=b.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:Zt("mb-1 font-medium leading-none tracking-tight",e),...t}));Cse.displayName="AlertTitle";const f5=b.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Zt("text-sm [&_p]:leading-relaxed",e),...t}));f5.displayName="AlertDescription";function _1(){const[e,t]=b.useState([]),[r,n]=b.useState({}),[s,a]=b.useState([]),[o,l]=b.useState(""),[c,A]=b.useState(!1),[d,u]=b.useState(!1),[p,f]=b.useState(""),[x,m]=b.useState(""),[N,g]=b.useState(""),[y,w]=b.useState({current:0,total:0}),[E,_]=b.useState(null),[D,R]=b.useState(null),[I,Q]=b.useState({projectKey:"",issueType:"Story",epicKey:""});b.useEffect(()=>{const Y=localStorage.getItem(bt.STAKEHOLDER_FLOWS);if(Y)try{t(JSON.parse(Y))}catch(G){console.error("Error loading stakeholder flows:",G)}const L=localStorage.getItem("flow_details");if(L)try{n(JSON.parse(L))}catch(G){console.error("Error loading flow details:",G)}const C=localStorage.getItem("user_stories");if(C)try{a(JSON.parse(C))}catch(G){console.error("Error loading user stories:",G)}const j=localStorage.getItem(bt.PROJECT_DESCRIPTION);j&&g(j.substring(0,100))},[]),b.useEffect(()=>{s.length>0&&localStorage.setItem("user_stories",JSON.stringify(s))},[s]);const U=async()=>{if(e.length===0){f("No stakeholder flows found. Please complete the Stakeholder Flow Analysis first.");return}u(!0),f(""),w({current:0,total:e.length});const Y=[];for(let L=0;L<e.length;L++){const C=e[L],j=`${C.stakeholder}-${C.flowType}`,G=r[j];m(`Generating user stories for ${C.stakeholder} - ${C.flowType}...`),w({current:L+1,total:e.length});try{const z=(G==null?void 0:G.description)||"Flow analysis not available",ae=(G==null?void 0:G.processDescription)||"",de=(G==null?void 0:G.activities)||[],he=(G==null?void 0:G.trigger)||"",ce=(G==null?void 0:G.participants)||[],oe=(G==null?void 0:G.decisionPoints)||[],Re=(G==null?void 0:G.endEvent)||"",Ce=(G==null?void 0:G.additionalElements)||[],xe=`Based on the following comprehensive stakeholder flow analysis, generate 2-3 detailed JIRA-compliant user stories that include complete process flows and user journey mapping.

STAKEHOLDER: ${C.stakeholder}
FLOW TYPE: ${C.flowType}
PROJECT CONTEXT: ${N}

COMPLETE FLOW ANALYSIS:
${z}

DETAILED PROCESS DESCRIPTION:
${ae}

PROCESS TRIGGER/START EVENT:
${he}

PROCESS PARTICIPANTS (Swimlanes):
${ce.join(", ")}

KEY ACTIVITIES/TASKS IN SEQUENCE:
${de.map((We,Oe)=>`${Oe+1}. ${We}`).join(`
`)}

DECISION POINTS/GATEWAYS:
${oe.join(", ")}

END EVENT/COMPLETION:
${Re}

ADDITIONAL PROCESS ELEMENTS:
${Ce.join(", ")}

CUSTOM BUSINESS REQUIREMENTS:
${C.customPrompt}

TECHNICAL BPMN REFERENCE:
${C.bpmnXml.substring(0,800)}...

Generate comprehensive user stories that include:
1. Complete user journey from start to finish
2. Detailed process flow steps in acceptance criteria
3. All stakeholder interactions and touchpoints
4. System behavior at each decision point
5. Error handling and alternative paths
6. Integration points with other systems/participants
7. Data flow and validation requirements
8. User experience considerations throughout the journey
9. Performance and scalability requirements
10. Security and compliance checkpoints

Each user story must be JIRA-compliant with:
- Realistic story points (1-13 Fibonacci scale) based on complexity
- Comprehensive acceptance criteria covering the entire process flow
- Multiple Gherkin scenarios including happy path, edge cases, and error conditions
- Proper priority assignment based on business value
- Relevant labels including process stages and stakeholder roles
- Epic assignment that groups related workflow components

IMPORTANT: Respond ONLY with a valid JSON array. No explanations, no markdown formatting.

Example format:
[
  {
    "title": "Complete End-to-End Project Progress Report Generation and Review Process",
    "asA": "project manager",
    "iWant": "to execute the complete project progress reporting workflow from initiation to stakeholder review",
    "soThat": "I can ensure comprehensive project visibility and enable data-driven decision making across all stakeholders",
    "acceptanceCriteria": [
      "Process initiates when project manager accesses the reporting dashboard",
      "System validates user permissions and project access rights",
      "Report request is authenticated and logged for audit purposes",
      "Data retrieval process aggregates information from all connected systems",
      "Progress indicators show real-time status during report generation",
      "Generated report includes all required sections: status, milestones, risks, resources",
      "Report validation ensures data accuracy and completeness before presentation",
      "Stakeholder notification system alerts relevant parties of report availability",
      "Export functionality supports multiple formats (PDF, Excel, PowerPoint)",
      "Version control maintains report history and change tracking",
      "Access controls ensure only authorized stakeholders can view sensitive data",
      "System handles concurrent access and large data volumes efficiently"
    ],
    "priority": "High",
    "storyPoints": 13,
    "epic": "Project Management Reporting Workflow",
    "labels": ["project-management", "reporting", "workflow", "dashboard", "stakeholder-communication", "data-aggregation"],
    "gherkinScenarios": [
      {
        "title": "Successful end-to-end report generation with stakeholder review",
        "given": ["I am authenticated as a project manager", "I have access to the project dashboard", "All data sources are available and synchronized", "Project has active milestones and team members"],
        "when": ["I navigate to the reporting section", "I select the comprehensive progress report option", "I configure report parameters including date range and stakeholder groups", "I initiate the report generation process"],
        "then": ["The system validates my permissions and project access", "Progress indicators show data collection from all integrated systems", "Report is generated with all required sections and accurate data", "Stakeholders receive automated notifications", "I can export the report in multiple formats", "The report is saved with proper version control"]
      },
      {
        "title": "Handle report generation timeout and recovery",
        "given": ["I am generating a large project report", "Data sources are experiencing high latency", "Report generation exceeds normal processing time"],
        "when": ["The system encounters a timeout during data aggregation", "I choose to retry the report generation"],
        "then": ["The system gracefully handles the timeout without data loss", "I receive clear error messaging with recommended actions", "Retry mechanism attempts generation with optimized parameters", "Partial report data is preserved for subsequent attempts", "System logs the incident for performance analysis"]
      }
    ]
  }
]`,Fe=await iy(xe),ze=Array.isArray(Fe)?Fe.join(" "):String(Fe);let Qe=ze.match(/\[[\s\S]*?\]/);if(!Qe){const We=ze.match(/\{[\s\S]*?\}/g);We&&(Qe=[`[${We.join(",")}]`])}if(Qe){const Oe=JSON.parse(Qe[0]).map((Ke,ht)=>{var Pt;return{id:`story-${Date.now()}-${L}-${ht}`,title:Ke.title||`${C.stakeholder} ${C.flowType}`,asA:Ke.asA||C.stakeholder.toLowerCase(),iWant:Ke.iWant||`to complete ${C.flowType.toLowerCase()}`,soThat:Ke.soThat||"I can achieve my objectives efficiently",acceptanceCriteria:Ke.acceptanceCriteria||["The workflow can be initiated successfully","All required steps are completed","The outcome meets business requirements"],priority:Ke.priority||"Medium",storyPoints:Ke.storyPoints||5,epic:Ke.epic||`${C.stakeholder} Experience`,labels:Ke.labels||[C.stakeholder.toLowerCase(),C.flowType.toLowerCase()],gherkinScenarios:((Pt=Ke.gherkinScenarios)==null?void 0:Pt.map((wt,ft)=>({id:`scenario-${Date.now()}-${L}-${ht}-${ft}`,title:wt.title||`Complete ${C.flowType} workflow`,given:wt.given||[`I am a ${C.stakeholder.toLowerCase()}`,"I have system access"],when:wt.when||[`I initiate the ${C.flowType.toLowerCase()} process`],then:wt.then||["The process should complete successfully","I should achieve the desired outcome"]})))||[]}});Y.push(...Oe)}else{const We=[`Process initiates when ${C.stakeholder.toLowerCase()} triggers: ${he||"workflow start event"}`,"System validates user authentication and authorization for the process","All required data inputs are collected and validated according to business rules"];de.length>0&&de.forEach((Ke,ht)=>{We.push(`Step ${ht+1}: ${Ke} is completed successfully`)}),ce.length>0&&We.push(`System coordinates interactions between: ${ce.join(", ")}`),oe.length>0&&We.push(`Decision gateways are processed: ${oe.join(", ")}`),We.push(Re?`Process concludes with: ${Re}`:"Workflow reaches successful completion state","All stakeholders receive appropriate notifications of process completion","Audit trail captures all process steps and decisions for compliance","System maintains data integrity throughout the entire workflow");const Oe={id:`story-${Date.now()}-${L}-fallback`,title:`Complete ${C.stakeholder} ${C.flowType} End-to-End Process`,asA:C.stakeholder.toLowerCase(),iWant:`to execute the complete ${C.flowType.toLowerCase()} workflow from initiation to completion`,soThat:"I can achieve my business objectives through a well-defined, efficient process that meets all requirements and compliance standards",acceptanceCriteria:We,priority:"Medium",storyPoints:de.length>5?13:de.length>2?8:5,epic:`${C.stakeholder} ${C.flowType} Workflow`,labels:[C.stakeholder.toLowerCase().replace(/\s+/g,"-"),C.flowType.toLowerCase().replace(/\s+/g,"-"),"end-to-end-process","workflow","business-process",...ce.length>0?["multi-stakeholder"]:[],...oe.length>0?["decision-gateway"]:[]],gherkinScenarios:[{id:`scenario-${Date.now()}-${L}-fallback-happy`,title:`Successfully complete end-to-end ${C.flowType} process`,given:[`I am authenticated as a ${C.stakeholder.toLowerCase()}`,"I have all necessary permissions and access rights","All required systems and data sources are available",...ce.length>0?[`All participants are available: ${ce.slice(0,3).join(", ")}`]:[]],when:[he?`The process is triggered by: ${he}`:`I initiate the ${C.flowType.toLowerCase()} process`,"I proceed through each required process step",...de.slice(0,3).map(Ke=>`I complete: ${Ke}`),...oe.length>0?["I navigate through decision points successfully"]:[]],then:["Each process step is completed according to business rules","All stakeholder interactions are properly coordinated","Data validation and business rule checks pass successfully",Re?`The process concludes with: ${Re}`:"The workflow reaches successful completion","I receive confirmation of successful process completion","All relevant parties are notified of the outcome"]},...oe.length>0?[{id:`scenario-${Date.now()}-${L}-fallback-decision`,title:"Handle decision points and alternative paths",given:[`I am in the middle of the ${C.flowType.toLowerCase()} process`,"I encounter a decision gateway requiring evaluation","Multiple process paths are available based on conditions"],when:["I reach a decision point in the workflow","The system evaluates the decision criteria","I am presented with appropriate next steps"],then:["The system correctly evaluates all decision conditions","I am guided to the appropriate process path","The workflow continues seamlessly based on the decision outcome","All decision rationale is logged for audit purposes"]}]:[]]};Y.push(Oe)}await new Promise(We=>setTimeout(We,1e3))}catch(z){console.error(`Error generating stories for ${j}:`,z)}}a(L=>[...L,...Y]),m(`Successfully generated ${Y.length} user stories from ${e.length} stakeholder flows!`),setTimeout(()=>m(""),5e3),u(!1),w({current:0,total:0})},S=async()=>{if(!o){f("Please select a stakeholder flow first");return}const Y=e.find(L=>`${L.stakeholder}-${L.flowType}`===o);if(!Y){f("Selected flow not found");return}A(!0),f(""),m("Analyzing workflow and generating user stories...");try{const L=`${Y.stakeholder}-${Y.flowType}`,C=r[L],j=(C==null?void 0:C.description)||"Flow analysis not available",G=(C==null?void 0:C.processDescription)||"",z=(C==null?void 0:C.activities)||[],ae=(C==null?void 0:C.trigger)||"",de=(C==null?void 0:C.participants)||[],he=(C==null?void 0:C.decisionPoints)||[],ce=(C==null?void 0:C.endEvent)||"",oe=(C==null?void 0:C.additionalElements)||[],Re=`Based on the following comprehensive stakeholder flow analysis, generate 2-3 detailed JIRA-compliant user stories that include complete process flows and user journey mapping.

STAKEHOLDER: ${Y.stakeholder}
FLOW TYPE: ${Y.flowType}

COMPLETE FLOW ANALYSIS:
${j}

DETAILED PROCESS DESCRIPTION:
${G}

PROCESS TRIGGER/START EVENT:
${ae}

PROCESS PARTICIPANTS (Swimlanes):
${de.join(", ")}

KEY ACTIVITIES/TASKS IN SEQUENCE:
${z.map((xe,Fe)=>`${Fe+1}. ${xe}`).join(`
`)}

DECISION POINTS/GATEWAYS:
${he.join(", ")}

END EVENT/COMPLETION:
${ce}

ADDITIONAL PROCESS ELEMENTS:
${oe.join(", ")}

CUSTOM BUSINESS REQUIREMENTS:
${Y.customPrompt}

TECHNICAL BPMN REFERENCE:
${Y.bpmnXml.substring(0,800)}...

Generate comprehensive user stories that include:
1. Complete user journey from start to finish
2. Detailed process flow steps in acceptance criteria
3. All stakeholder interactions and touchpoints
4. System behavior at each decision point
5. Error handling and alternative paths
6. Integration points with other systems/participants
7. Data flow and validation requirements
8. User experience considerations throughout the journey

Each user story must be JIRA-compliant with comprehensive acceptance criteria covering the entire process flow.

IMPORTANT: Respond ONLY with a valid JSON array. No explanations, no markdown formatting, just the JSON array.

Example format:
[
  {
    "title": "User Login Authentication",
    "asA": "registered user",
    "iWant": "to securely log into my account",
    "soThat": "I can access my personal dashboard",
    "acceptanceCriteria": ["Valid credentials allow access", "Invalid credentials show error message"],
    "priority": "High",
    "storyPoints": 5,
    "epic": "User Management",
    "labels": ["authentication", "security"],
    "gherkinScenarios": [
      {
        "title": "Successful login with valid credentials",
        "given": ["I am on the login page", "I have valid credentials"],
        "when": ["I enter my username and password", "I click the login button"],
        "then": ["I should be redirected to my dashboard", "I should see a welcome message"]
      }
    ]
  }
]

Generate the JSON array now:`,Ce=await iy(Re);try{const xe=Array.isArray(Ce)?Ce.join(" "):String(Ce);console.log("Raw response:",xe);let Fe=xe.match(/\[[\s\S]*?\]/);if(!Fe){const We=xe.match(/\{[\s\S]*?\}/g);We&&(Fe=[`[${We.join(",")}]`])}if(!Fe)throw new Error("No valid JSON found in response");console.log("Extracted JSON:",Fe[0]);const Qe=JSON.parse(Fe[0]).map((We,Oe)=>{var Ke;return{id:`story-${Date.now()}-${Oe}`,...We,gherkinScenarios:((Ke=We.gherkinScenarios)==null?void 0:Ke.map((ht,Pt)=>({id:`scenario-${Date.now()}-${Oe}-${Pt}`,...ht})))||[]}});a(We=>[...We,...Qe]),m(`Generated ${Qe.length} user stories successfully!`),setTimeout(()=>m(""),3e3)}catch(xe){console.error("Error parsing generated stories:",xe);const Fe=[{id:`story-${Date.now()}-fallback`,title:`${Y.stakeholder} ${Y.flowType} Workflow`,asA:Y.stakeholder.toLowerCase(),iWant:`to complete the ${Y.flowType.toLowerCase()} process`,soThat:"I can achieve my goals efficiently",acceptanceCriteria:["The workflow can be initiated successfully","All required steps are completed","The outcome meets expectations"],priority:"Medium",storyPoints:5,epic:`${Y.stakeholder} Experience`,labels:[Y.stakeholder.toLowerCase(),Y.flowType.toLowerCase()],gherkinScenarios:[{id:`scenario-${Date.now()}-fallback`,title:`Complete ${Y.flowType} workflow`,given:[`I am a ${Y.stakeholder.toLowerCase()}`,"I have access to the system"],when:[`I start the ${Y.flowType.toLowerCase()} process`],then:["The workflow should proceed smoothly","I should reach the desired outcome"]}]}];a(ze=>[...ze,...Fe]),m("Generated fallback user story. AI response parsing failed but basic story created."),setTimeout(()=>m(""),4e3)}}catch(L){console.error("Error generating user stories:",L),f("Failed to generate user stories. Please check your API configuration.")}finally{A(!1)}},P=()=>{if(s.length===0){f("No user stories to export");return}const Y=s.map(G=>({summary:G.title,description:`*User Story:*
As a ${G.asA}, I want ${G.iWant} so that ${G.soThat}.

*Acceptance Criteria:*
${G.acceptanceCriteria.map(z=>` ${z}`).join(`
`)}

*Gherkin Scenarios:*
${G.gherkinScenarios.map(z=>`
*Scenario:* ${z.title}
Given ${z.given.join(`
And `)}
When ${z.when.join(`
And `)}
Then ${z.then.join(`
And `)}
`).join(`
`)}`,issueType:I.issueType,project:I.projectKey,priority:G.priority,storyPoints:G.storyPoints,epic:I.epicKey||G.epic,labels:G.labels})),L=new Blob([JSON.stringify(Y,null,2)],{type:"application/json"}),C=URL.createObjectURL(L),j=document.createElement("a");j.href=C,j.download=`jira-user-stories-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(C)},O=()=>{if(s.length===0){f("No user stories to export");return}const Y=s.map(G=>`Feature: ${G.title}

  As a ${G.asA}
  I want ${G.iWant}
  So that ${G.soThat}

  Background:
    Given the system is properly configured
    And the user has appropriate permissions

${G.gherkinScenarios.map(z=>`  Scenario: ${z.title}
    Given ${z.given.join(`
    And `)}
    When ${z.when.join(`
    And `)}
    Then ${z.then.join(`
    And `)}`).join(`

`)}
`).join(`

`),L=new Blob([Y],{type:"text/plain"}),C=URL.createObjectURL(L),j=document.createElement("a");j.href=C,j.download=`gherkin-features-${new Date().toISOString().split("T")[0]}.feature`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(C)},k=Y=>{a(L=>L.filter(C=>C.id!==Y))},Z=()=>{a([]),localStorage.removeItem("user_stories"),m("All user stories cleared"),setTimeout(()=>m(""),2e3)},H=Y=>{_(Y.id),R({...Y})},q=()=>{_(null),R(null)},K=()=>{D&&(a(Y=>Y.map(L=>L.id===D.id?D:L)),m("User story updated successfully"),setTimeout(()=>m(""),2e3),q())},W=(Y,L)=>{D&&R(C=>C?{...C,[Y]:L}:null)},te=()=>{D&&R(Y=>Y?{...Y,acceptanceCriteria:[...Y.acceptanceCriteria,""]}:null)},ue=Y=>{D&&R(L=>L?{...L,acceptanceCriteria:L.acceptanceCriteria.filter((C,j)=>j!==Y)}:null)},T=(Y,L)=>{D&&R(C=>C?{...C,acceptanceCriteria:C.acceptanceCriteria.map((j,G)=>G===Y?L:j)}:null)},$=()=>{D&&R(Y=>Y?{...Y,labels:[...Y.labels,""]}:null)},V=Y=>{D&&R(L=>L?{...L,labels:L.labels.filter((C,j)=>j!==Y)}:null)},se=(Y,L)=>{D&&R(C=>C?{...C,labels:C.labels.map((j,G)=>G===Y?L:j)}:null)};return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[i.jsx(Ll,{title:"User Story Generator"}),i.jsxs("div",{className:"max-w-[1400px] mx-auto p-6",children:[i.jsx(fA,{}),i.jsx("div",{className:"mb-8 bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Generate user stories in Gherkin format from your BPMN workflows and export to JIRA"})}),p&&i.jsxs(h5,{className:"mb-6 border-red-200 bg-red-50 dark:bg-red-900/20",children:[i.jsx(Fh,{className:"h-4 w-4 text-red-600"}),i.jsx(f5,{className:"text-red-700 dark:text-red-300",children:p})]}),x&&i.jsxs(h5,{className:"mb-6 border-green-200 bg-green-50 dark:bg-green-900/20",children:[i.jsx(wr,{className:"h-4 w-4 text-green-600"}),i.jsx(f5,{className:"text-green-700 dark:text-green-300",children:x})]}),i.jsxs(md,{defaultValue:"generate",className:"space-y-6",children:[i.jsxs(tA,{className:"grid w-full grid-cols-3",children:[i.jsx(Vr,{value:"generate",children:"Generate Stories"}),i.jsxs(Vr,{value:"stories",children:["User Stories (",s.length,")"]}),i.jsx(Vr,{value:"export",children:"Export & JIRA"})]}),i.jsxs(Wr,{value:"generate",className:"space-y-6",children:[e.length>0&&i.jsxs(lt,{className:"bg-gradient-to-r from-blue-50 via-white to-purple-50 dark:from-blue-900/10 dark:via-gray-900 dark:to-purple-900/10",children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs(Nt,{className:"flex items-center justify-between text-base",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mr-3",children:i.jsx(jh,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:"Stakeholder Analysis"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-normal",children:"Available flow data for story generation"})]})]}),i.jsxs(yt,{variant:"outline",className:"text-xs bg-white/50 dark:bg-gray-800/50",children:[e.length," flows"]})]})}),i.jsxs(ct,{className:"pt-0",children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:e.map((Y,L)=>{const C=`${Y.stakeholder}-${Y.flowType}`,j=r[C];return i.jsx("div",{className:"group bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border border-gray-200/60 dark:border-gray-700/60 rounded-lg p-3 hover:shadow-md transition-all duration-200 hover:bg-white dark:hover:bg-gray-800",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[i.jsx("div",{className:"h-6 w-6 rounded bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:i.jsx(Yn,{className:"h-3 w-3 text-white"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h4",{className:"font-medium text-xs truncate",title:Y.stakeholder,children:Y.stakeholder}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",title:Y.flowType,children:Y.flowType})]})]})}),j&&i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-400",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),i.jsx("span",{children:j.activities.length})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i.jsx("span",{children:j.participants.length})]})]}),i.jsx("div",{className:"flex items-center",children:i.jsx(wr,{className:"h-3 w-3 text-green-500"})})]})]})},C)})}),i.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200/60 dark:border-gray-700/60",children:i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsxs("div",{className:"flex items-center space-x-4 text-gray-600 dark:text-gray-400",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),i.jsx("span",{children:"Activities"})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-blue-500"}),i.jsx("span",{children:"Participants"})]})]}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Ready for story generation"})]})})]})]}),i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center",children:[i.jsx(Fs,{className:"h-5 w-5 mr-2"}),"Generate JIRA-Compliant User Stories"]})}),i.jsx(ct,{className:"space-y-4",children:e.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(jh,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No stakeholder flows found. Please complete the Stakeholder Flow Analysis first in the Enhanced User Journey page."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-4 rounded-lg border",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Generate All User Stories"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Generate comprehensive JIRA-compliant user stories for all ",e.length," stakeholder flows with detailed acceptance criteria, Gherkin scenarios, and proper story points."]})]}),d&&y.total>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[y.current," / ",y.total]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${y.current/y.total*100}%`}})})]}),i.jsxs(me,{onClick:U,disabled:d||c,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[d?i.jsx(Vt,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Generate All User Stories (",e.length," flows)"]})]})}),i.jsx(gl,{className:"my-4"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(br,{htmlFor:"flow-select",children:"Or Generate from Individual Flow"}),i.jsxs(xi,{value:o,onValueChange:l,children:[i.jsx(si,{children:i.jsx(wi,{placeholder:"Choose a specific stakeholder flow"})}),i.jsx(ii,{children:e.map(Y=>{const L=`${Y.stakeholder}-${Y.flowType}`,C=r[L];return i.jsx(ar,{value:L,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{children:[Y.stakeholder," - ",Y.flowType]}),(C==null?void 0:C.processDescription)&&i.jsxs("span",{className:"text-xs text-gray-500",children:[C.processDescription.substring(0,50),"..."]})]})},L)})})]}),i.jsxs(me,{onClick:S,disabled:c||d||!o,variant:"outline",className:"w-full",children:[c?i.jsx(Vt,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Generate from Selected Flow"]})]})]})})]})]}),i.jsxs(Wr,{value:"stories",className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Generated User Stories"}),s.length>0&&i.jsxs(me,{onClick:Z,variant:"outline",size:"sm",children:[i.jsx(ns,{className:"h-4 w-4 mr-2"}),"Clear All"]})]}),s.length===0?i.jsx(lt,{children:i.jsxs(ct,{className:"text-center py-12",children:[i.jsx(Fs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-gray-500",children:"No user stories generated yet. Go to the Generate tab to create some."})]})}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map(Y=>i.jsxs(lt,{className:"relative flex flex-col",children:[i.jsx(Bt,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[E===Y.id?i.jsxs("div",{className:"space-y-3 flex-1 mr-4",children:[i.jsx(pr,{value:(D==null?void 0:D.title)||"",onChange:L=>W("title",L.target.value),className:"font-semibold text-lg",placeholder:"Story title"}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs(xi,{value:(D==null?void 0:D.priority)||"Medium",onValueChange:L=>W("priority",L),children:[i.jsx(si,{children:i.jsx(wi,{})}),i.jsxs(ii,{children:[i.jsx(ar,{value:"Low",children:"Low"}),i.jsx(ar,{value:"Medium",children:"Medium"}),i.jsx(ar,{value:"High",children:"High"}),i.jsx(ar,{value:"Critical",children:"Critical"})]})]}),i.jsx(pr,{type:"number",value:(D==null?void 0:D.storyPoints)||0,onChange:L=>W("storyPoints",parseInt(L.target.value)||0),placeholder:"Points",min:"1",max:"13"}),i.jsx(pr,{value:(D==null?void 0:D.epic)||"",onChange:L=>W("epic",L.target.value),placeholder:"Epic"})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(Nt,{className:"text-lg",children:Y.title}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(yt,{variant:Y.priority==="Critical"?"destructive":Y.priority==="High"?"default":"secondary",children:Y.priority}),i.jsxs(yt,{variant:"outline",children:[Y.storyPoints," pts"]}),i.jsx(yt,{className:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:Y.epic})]})]}),i.jsx("div",{className:"flex gap-1",children:E===Y.id?i.jsxs(i.Fragment,{children:[i.jsx(me,{onClick:K,variant:"ghost",size:"sm",className:"text-green-600 hover:text-green-800",children:i.jsx(Oi,{className:"h-4 w-4"})}),i.jsx(me,{onClick:q,variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700",children:i.jsx(un,{className:"h-4 w-4"})})]}):i.jsxs(i.Fragment,{children:[i.jsx(me,{onClick:()=>H(Y),variant:"ghost",size:"sm",className:"text-blue-500 hover:text-blue-700",children:i.jsx(gi,{className:"h-4 w-4"})}),i.jsx(me,{onClick:()=>k(Y.id),variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",children:i.jsx(ns,{className:"h-4 w-4"})})]})})]})}),i.jsxs(ct,{className:"space-y-4 flex-1",children:[E===Y.id?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg space-y-2",children:i.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[i.jsxs("div",{children:[i.jsx(br,{className:"text-xs font-medium",children:"As a"}),i.jsx(pr,{value:(D==null?void 0:D.asA)||"",onChange:L=>W("asA",L.target.value),className:"text-sm",placeholder:"user role"})]}),i.jsxs("div",{children:[i.jsx(br,{className:"text-xs font-medium",children:"I want"}),i.jsx(En,{value:(D==null?void 0:D.iWant)||"",onChange:L=>W("iWant",L.target.value),className:"text-sm min-h-[60px]",placeholder:"user need"})]}),i.jsxs("div",{children:[i.jsx(br,{className:"text-xs font-medium",children:"So that"}),i.jsx(En,{value:(D==null?void 0:D.soThat)||"",onChange:L=>W("soThat",L.target.value),className:"text-sm min-h-[60px]",placeholder:"business value"})]})]})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold text-sm",children:"Acceptance Criteria:"}),i.jsx(me,{onClick:te,variant:"outline",size:"sm",className:"h-6 px-2",children:i.jsx(_E,{className:"h-3 w-3"})})]}),i.jsx("div",{className:"space-y-2",children:D==null?void 0:D.acceptanceCriteria.map((L,C)=>i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(En,{value:L,onChange:j=>T(C,j.target.value),className:"text-xs min-h-[40px] flex-1",placeholder:"Acceptance criteria"}),i.jsx(me,{onClick:()=>ue(C),variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",children:i.jsx(un,{className:"h-3 w-3"})})]},C))})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:i.jsxs("p",{className:"font-medium text-blue-800 dark:text-blue-200 text-sm",children:["As a ",i.jsx("span",{className:"font-bold",children:Y.asA}),", I want ",i.jsx("span",{className:"font-bold",children:Y.iWant})," so that ",i.jsx("span",{className:"font-bold",children:Y.soThat}),"."]})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2 text-sm",children:"Acceptance Criteria:"}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:Y.acceptanceCriteria.map((L,C)=>i.jsx("li",{children:L},C))})]})]}),i.jsx(gl,{}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-3 text-sm flex items-center",children:[i.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Process Flow Visualization"]}),i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-3 rounded-lg border",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(yH,{className:"h-3 w-3 text-green-600"}),i.jsx("span",{className:"font-medium",children:"Start"})]}),i.jsx(bo,{className:"h-3 w-3 text-gray-400"}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Yn,{className:"h-3 w-3 text-blue-600"}),i.jsx("span",{className:"font-medium",children:"Process"})]}),i.jsx(bo,{className:"h-3 w-3 text-gray-400"}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Hc,{className:"h-3 w-3 text-orange-600"}),i.jsx("span",{className:"font-medium",children:"Decision"})]}),i.jsx(bo,{className:"h-3 w-3 text-gray-400"}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(C6,{className:"h-3 w-3 text-red-600"}),i.jsx("span",{className:"font-medium",children:"End"})]})]}),i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[i.jsx("span",{className:"font-medium",children:"User Journey:"})," ",Y.asA,"  ",Y.iWant,"  ",Y.soThat]}),Y.acceptanceCriteria.length>0&&i.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[i.jsx("span",{className:"font-medium",children:"Key Steps:"}),i.jsxs("div",{className:"ml-2 mt-1 flex flex-wrap gap-1",children:[Y.acceptanceCriteria.slice(0,4).map((L,C)=>{const j=L.split(" ").slice(0,4).join(" ").replace(/[^\w\s]/gi,"");return i.jsxs("span",{className:"bg-white/60 dark:bg-gray-700/60 px-2 py-1 rounded text-xs border",children:[C+1,". ",j,"..."]},C)}),Y.acceptanceCriteria.length>4&&i.jsxs("span",{className:"text-gray-500 italic",children:["+",Y.acceptanceCriteria.length-4," more"]})]})]}),Y.labels.some(L=>L.includes("stakeholder")||L.includes("multi"))&&i.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[i.jsx("span",{className:"font-medium",children:"Stakeholder Interactions:"})," Multi-party workflow with coordination points"]})]})]})})]}),i.jsx(gl,{}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold mb-2 text-sm",children:"Gherkin Scenarios:"}),i.jsx("div",{className:"space-y-3",children:Y.gherkinScenarios.map(L=>i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg font-mono text-xs",children:[i.jsxs("div",{className:"font-bold text-green-600 dark:text-green-400 mb-1",children:["Scenario: ",L.title]}),i.jsxs("div",{className:"space-y-0.5",children:[L.given.map((C,j)=>i.jsxs("div",{className:"text-blue-600 dark:text-blue-400",children:[j===0?"Given":"  And"," ",C]},j)),L.when.map((C,j)=>i.jsxs("div",{className:"text-orange-600 dark:text-orange-400",children:[j===0?"When":" And"," ",C]},j)),L.then.map((C,j)=>i.jsxs("div",{className:"text-purple-600 dark:text-purple-400",children:[j===0?"Then":" And"," ",C]},j))]})]},L.id))})]}),E===Y.id?i.jsxs("div",{className:"mt-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-xs font-medium",children:"Labels:"}),i.jsx(me,{onClick:$,variant:"outline",size:"sm",className:"h-6 px-2",children:i.jsx(_E,{className:"h-3 w-3"})})]}),i.jsx("div",{className:"space-y-2",children:D==null?void 0:D.labels.map((L,C)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pr,{value:L,onChange:j=>se(C,j.target.value),className:"text-xs h-6 flex-1",placeholder:"Label"}),i.jsx(me,{onClick:()=>V(C),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:i.jsx(un,{className:"h-3 w-3"})})]},C))})]}):Y.labels.length>0&&i.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-auto",children:[i.jsx("span",{className:"text-xs font-medium",children:"Labels:"}),Y.labels.map(L=>i.jsx(yt,{variant:"outline",className:"text-xs",children:L},L))]})]})]},Y.id))})]}),i.jsxs(Wr,{value:"export",className:"space-y-6",children:[i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center",children:[i.jsx(Zv,{className:"h-5 w-5 mr-2"}),"JIRA Configuration"]})}),i.jsx(ct,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(br,{htmlFor:"project-key",children:"Project Key"}),i.jsx(pr,{id:"project-key",placeholder:"e.g., PROJ",value:I.projectKey,onChange:Y=>Q(L=>({...L,projectKey:Y.target.value}))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(br,{htmlFor:"issue-type",children:"Issue Type"}),i.jsxs(xi,{value:I.issueType,onValueChange:Y=>Q(L=>({...L,issueType:Y})),children:[i.jsx(si,{children:i.jsx(wi,{})}),i.jsxs(ii,{children:[i.jsx(ar,{value:"Story",children:"Story"}),i.jsx(ar,{value:"Task",children:"Task"}),i.jsx(ar,{value:"Bug",children:"Bug"}),i.jsx(ar,{value:"Epic",children:"Epic"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(br,{htmlFor:"epic-key",children:"Epic Key (Optional)"}),i.jsx(pr,{id:"epic-key",placeholder:"e.g., PROJ-123",value:I.epicKey,onChange:Y=>Q(L=>({...L,epicKey:Y.target.value}))})]})]})})]}),i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsx(Nt,{children:"Export Options"})}),i.jsxs(ct,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(me,{onClick:P,disabled:s.length===0,className:"w-full",children:[i.jsx(Zv,{className:"h-4 w-4 mr-2"}),"Export to JIRA Format"]}),i.jsxs(me,{onClick:O,disabled:s.length===0,variant:"outline",className:"w-full",children:[i.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Export Gherkin Features"]})]}),i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"JIRA Export:"})," Creates a JSON file that can be imported into JIRA using CSV/JSON import tools."]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Gherkin Features:"})," Exports as .feature files for use with Cucumber, SpecFlow, or other BDD frameworks."]})]})]})]})]})]})]})]})}class Bse{constructor(){this.maxRetries=3,this.retryDelay=2e3;try{const t=new ls("AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg");this.gemini=t.getGenerativeModel({model:"gemini-2.0-flash-lite"}),console.log("AI Code Generator initialized with Gemini successfully"),this.testApiConnection()}catch(t){throw console.error("Failed to initialize Gemini:",t),new Error("Failed to initialize Gemini AI model. Please check your API key.")}}async testApiConnection(){try{console.log("Testing Gemini API connection...");const n=(await(await this.gemini.generateContent("Say hello")).response).text();console.log("Gemini API test successful:",n)}catch(t){console.error("Gemini API test failed:",{message:t==null?void 0:t.message,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText,name:t==null?void 0:t.name})}}async generateCompleteProject(t,r,n,s){const a=["Analyzing Requirements","Generating Folder Structure","Creating Frontend Files","Building Backend Files","Designing Database Schema","Setting up Configuration","Finalizing Documentation"];try{s==null||s({current:1,total:a.length,status:"Analyzing project requirements and stakeholder flows...",currentTask:a[0]});const o=await this.analyzeRequirements(t,r,n);s==null||s({current:2,total:a.length,status:"Creating optimal folder structure...",currentTask:a[1]});const l=await this.generateFolderStructure(o,n);s==null||s({current:3,total:a.length,status:"Building frontend components and pages...",currentTask:a[2]});const c=await this.generateFrontendFiles(o,n);s==null||s({current:4,total:a.length,status:"Creating backend API and services...",currentTask:a[3]});const A=await this.generateBackendFiles(o,n);s==null||s({current:5,total:a.length,status:"Designing database schema and relationships...",currentTask:a[4]});const d=await this.generateDatabaseSchema(o,n);s==null||s({current:6,total:a.length,status:"Setting up package.json and configuration...",currentTask:a[5]});const u=await this.generatePackageJson(o,n);s==null||s({current:7,total:a.length,status:"Creating project documentation...",currentTask:a[6]});const p=await this.generateReadme(o,n);return{folderStructure:l,frontendFiles:c,backendFiles:A,databaseSchema:d,packageJson:u,readme:p,techStack:this.getTechStack(n)}}catch(o){throw console.error("Error generating project:",o),new Error("Failed to generate project code. Please check your API key and try again.")}}async analyzeRequirements(t,r,n){const s=`
Analyze this project plan and stakeholder flows to extract key requirements:

PROJECT PLAN:
${t}

STAKEHOLDER FLOWS:
${r}

TECH CONFIGURATION:
- Framework: ${n.framework}
- Backend: ${n.backend}
- Database: ${n.database}
- Styling: ${n.styling}

Extract and return JSON with:
1. Core features needed
2. User roles and permissions
3. Database entities and relationships
4. API endpoints required
5. UI components needed
6. Business logic requirements

Respond with valid JSON only.
    `,l=(await(await this.retryableRequest(()=>this.gemini.generateContent(s))).response).text();try{const c=this.extractJsonFromResponse(l);return JSON.parse(c)}catch{return console.error("Failed to parse JSON response:",l),{coreFeatures:["Authentication","Dashboard","Data Management"],userRoles:["admin","user"],entities:["User","Project"],apiEndpoints:["/api/auth","/api/users","/api/projects"],uiComponents:["Header","Sidebar","Dashboard"],businessLogic:["User management","Data processing"]}}}async generateFolderStructure(t,r){const n=`
Create a comprehensive folder structure for a ${r.framework} project with ${r.backend} backend.

Requirements: ${JSON.stringify(t)}

Include:
- Source code organization
- Component structure
- Asset management
- Configuration files
- Documentation
- Testing structure
- Deployment files

Return only the folder structure in tree format.
    `;return(await(await this.retryableRequest(()=>this.gemini.generateContent(n))).response).text()}async generateFrontendFiles(t,r){const n={},s=[{name:"App.tsx",prompt:`Create the main App component for a ${r.framework} application with routing and layout based on these requirements: ${JSON.stringify(t)}. Return only the complete file content.`},{name:"components/Dashboard.tsx",prompt:`Create a Dashboard component that displays key metrics and data based on stakeholder needs: ${JSON.stringify(t)}. Return only the complete file content.`},{name:"hooks/useAuth.tsx",prompt:`Create an authentication hook with login, logout, and user state management for: ${JSON.stringify(t)}. Return only the complete file content.`},{name:"lib/api.ts",prompt:`Create an API utility library with HTTP methods and error handling for: ${JSON.stringify(t)}. Return only the complete file content.`}];for(const a of s)try{const l=await(await this.gemini.generateContent(a.prompt)).response;n[a.name]=l.text()}catch(o){console.error(`Error generating ${a.name}:`,o),n[a.name]=`// Error generating ${a.name}
// Please implement manually`}return n}async generateBackendFiles(t,r){const n={},s=[{name:"server.js",prompt:`Create the main server file for a ${r.backend} application with middleware, routing, and error handling based on: ${JSON.stringify(t)}. Return only the complete file content.`},{name:"routes/api.js",prompt:`Create API routes with CRUD operations for the entities identified in: ${JSON.stringify(t)}. Return only the complete file content.`},{name:"middleware/auth.js",prompt:`Create authentication middleware for ${r.backend} based on: ${JSON.stringify(t)}. Return only the complete file content.`}];for(const a of s)try{const l=await(await this.gemini.generateContent(a.prompt)).response;n[a.name]=l.text()}catch(o){console.error(`Error generating ${a.name}:`,o),n[a.name]=`// Error generating ${a.name}
// Please implement manually`}return n}async generateDatabaseSchema(t,r){const n=`
Create a comprehensive ${r.database} database schema based on these requirements:

${JSON.stringify(t)}

Include:
- Table definitions with proper data types
- Primary and foreign key relationships
- Indexes for performance
- Constraints for data integrity
- Sample data or seed queries

Return only the SQL schema code.
    `;return(await(await this.gemini.generateContent(n)).response).text()}async generatePackageJson(t,r){const n=`
Create a package.json file for a ${r.framework} project with ${r.backend} backend.

Requirements: ${JSON.stringify(t)}
Project Name: ${r.projectName}

Include:
- All necessary dependencies
- Development dependencies
- Scripts for development, build, test, and deployment
- Proper metadata

Return only the JSON content.
    `;return(await(await this.gemini.generateContent(n)).response).text()}async generateReadme(t,r){const n=`
Create a comprehensive README.md file for the ${r.projectName} project.

Tech Stack: ${r.framework}, ${r.backend}, ${r.database}
Requirements: ${JSON.stringify(t)}

Include:
- Project description
- Installation instructions
- Usage examples
- API documentation
- Deployment guide
- Contributing guidelines

Return only the markdown content.
    `;return(await(await this.gemini.generateContent(n)).response).text()}async retryableRequest(t){for(let r=1;r<=this.maxRetries;r++)try{console.log(`API attempt ${r}/${this.maxRetries}`);const n=await t();return console.log(`API request successful on attempt ${r}`),n}catch(n){if(console.error(`Attempt ${r} failed:`,{message:n==null?void 0:n.message,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText,name:n==null?void 0:n.name,cause:n==null?void 0:n.cause}),r===this.maxRetries)throw new Error(`Gemini API failed after ${this.maxRetries} attempts: ${(n==null?void 0:n.message)||"Unknown error"}`);await new Promise(s=>setTimeout(s,this.retryDelay))}}extractJsonFromResponse(t){let r=t.trim();r.startsWith("```json")&&(r=r.replace(/^```json\s*/,"")),r.startsWith("```")&&(r=r.replace(/^```\s*/,"")),r.endsWith("```")&&(r=r.replace(/\s*```$/,""));const n=r.indexOf("{"),s=r.lastIndexOf("}");return n!==-1&&s!==-1&&s>n&&(r=r.substring(n,s+1)),r.trim()}getTechStack(t){const r=[t.framework,t.backend,t.database,t.styling];return t.framework.toLowerCase().includes("react")&&r.push("React Router","Axios"),t.framework.toLowerCase().includes("next")&&r.push("Next.js","Vercel"),t.backend.toLowerCase().includes("node")&&r.push("Express.js","JWT"),t.backend.toLowerCase().includes("python")&&r.push("Flask/FastAPI","SQLAlchemy"),Array.from(new Set(r))}}function Nse(){return new Bse}function Rj(){var k,Z;const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,a]=b.useState({projectName:"",framework:"react",backend:"node",database:"postgresql",styling:"tailwind",features:[],deployment:"vercel"}),[o,l]=b.useState(null),[c,A]=b.useState(!1),[d,u]=b.useState({current:0,total:0,status:"",currentTask:""});b.useState(null),b.useState(null);const[p,f]=b.useState(!1),[x,m]=b.useState([]),[N,g]=b.useState(null),[y,w]=b.useState(!1);b.useEffect(()=>{const q=[localStorage.getItem(bt.PROJECT_PLAN),localStorage.getItem(bt.PROJECT_DESCRIPTION),localStorage.getItem("project-plan")].find(V=>V&&V.trim()),W=[localStorage.getItem(bt.STAKEHOLDER_FLOWS),localStorage.getItem(bt.STAKEHOLDER_FLOW_DATA),localStorage.getItem("stakeholder-flow-data"),localStorage.getItem("stakeholder_analysis"),localStorage.getItem("flow_details")].find(V=>V&&V.trim()),te=[],T=Object.keys(localStorage).filter(V=>V.includes("flow")||V.includes("Flow")||V.includes("diagram")||V.includes("Diagram")||V.includes("workflow")||V.includes("Workflow")||V.includes("process")||V.includes("Process"));console.log("Found workflow keys in localStorage:",T),T.forEach(V=>{try{const se=localStorage.getItem(V);if(!se||se.trim()==="")return;const Y=JSON.parse(se);console.log(`Processing ${V}:`,Y),typeof Y=="object"&&Y!==null&&(Y.nodes&&Y.edges?te.push(E(V,Y)):typeof Y=="object"&&Object.keys(Y).forEach(L=>{const C=Y[L];C&&typeof C=="object"&&(C.nodes||C.flowData||C.title)&&te.push(E(`${V}-${L}`,C))}))}catch(se){console.error(`Error parsing ${V}:`,se)}}),console.log("Total flows loaded:",te.length),m(te);const $=localStorage.getItem("consolidatedMasterFlow");if($)try{const V=JSON.parse($);g(V),console.log(" Loaded consolidated master flow from localStorage")}catch(V){console.error("Error parsing consolidated master flow:",V)}q&&t(q),W&&n(W),f(!0)},[]);const E=(H,q)=>({id:`project-${H}`,title:q.title||H.replace(/[-_]/g," ").replace(/\b\w/g,K=>K.toUpperCase()),description:q.description||`Process workflow for ${H}`,flowData:q.flowData||q,category:_(H),priority:D(H),createdAt:new Date().toISOString()}),_=H=>H.includes("onboard")||H.includes("register")||H.includes("setup")?"onboarding":H.includes("manage")||H.includes("admin")||H.includes("settings")?"management":"core",D=H=>H.includes("critical")||H.includes("main")||H.includes("primary")?"high":H.includes("secondary")||H.includes("optional")?"low":"medium",R=async()=>{if(x.length!==0){w(!0);try{const H=await I(x),q={id:"ai-consolidated-master-flow",title:H.title,description:H.description,flowData:H.flowData,category:"core",priority:"high",createdAt:new Date().toISOString()};g(q),localStorage.setItem("consolidatedMasterFlow",JSON.stringify(q)),console.log(" Saved AI-generated master flow to localStorage")}catch(H){console.error("Error generating AI consolidated flow:",H);const q=Q(),K={id:"fallback-master-flow",title:q.title,description:q.description,flowData:q.flowData,category:"core",priority:"high",createdAt:new Date().toISOString()};g(K),localStorage.setItem("consolidatedMasterFlow",JSON.stringify(K)),console.log(" Saved fallback master flow to localStorage")}finally{w(!1)}}},I=async H=>{var L,C,j,G,z;const q="AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg",K=H.map(ae=>{var de,he,ce,oe,Re,Ce,xe,Fe;return{id:ae.id,title:ae.title,description:ae.description,category:ae.category,priority:ae.priority,nodeCount:((he=(de=ae.flowData)==null?void 0:de.nodes)==null?void 0:he.length)||0,edgeCount:((oe=(ce=ae.flowData)==null?void 0:ce.edges)==null?void 0:oe.length)||0,nodes:((Ce=(Re=ae.flowData)==null?void 0:Re.nodes)==null?void 0:Ce.map(ze=>{var Qe;return{id:ze.id,label:(Qe=ze.data)==null?void 0:Qe.label,type:ze.type,position:ze.position}}))||[],edges:((Fe=(xe=ae.flowData)==null?void 0:xe.edges)==null?void 0:Fe.map(ze=>({source:ze.source,target:ze.target,id:ze.id})))||[]}}),W=`Analyze these ${H.length} application workflows and create a single comprehensive master flow diagram that consolidates ALL processes into one unified, detailed workflow.

INPUT WORKFLOWS:
${JSON.stringify(K,null,2)}

CRITICAL REQUIREMENTS - CREATE 30-40 DETAILED GRANULAR NODES:

PHASE 1 - INITIAL REGISTRATION & ONBOARDING (8-10 nodes):
- Patient/User arrival and initial registration
- Personal information collection (name, DOB, address)
- Contact details validation (email, phone)
- Insurance information capture
- Identity verification process
- Document upload and validation
- Emergency contact setup
- Initial profile creation

PHASE 2 - AUTHENTICATION & VERIFICATION (6-8 nodes):
- Login credential setup
- Multi-factor authentication
- Identity document verification
- Insurance eligibility verification
- Medical history intake
- Consent forms completion
- Privacy policy acceptance
- Account activation

PHASE 3 - PLATFORM SELECTION & ACCESS (4-6 nodes):
- Platform choice (mobile vs web)
- Mobile app download and setup
- Web portal dashboard access
- Feature navigation tutorial
- Preference settings configuration
- Notification setup

PHASE 4 - CORE HEALTHCARE SERVICES (8-12 nodes):
- Provider search and selection
- Appointment scheduling interface
- Calendar integration
- Appointment confirmation
- Pre-visit questionnaire
- Telemedicine setup and testing
- Video call initiation
- Virtual consultation session
- Post-visit follow-up
- Prescription management
- Lab results viewing

PHASE 5 - ADMINISTRATIVE & BILLING (6-8 nodes):
- Insurance claim preparation
- Claim submission to provider
- Payment processing
- Bill generation
- Payment confirmation
- Receipt delivery
- Billing reconciliation
- Financial reporting

PHASE 6 - COMMUNICATION & SUPPORT (4-6 nodes):
- Secure messaging system
- Provider communication
- Support ticket creation
- Incident management
- Feedback collection
- Rating and review system

COLOR CODING AND POSITIONING:
- Position nodes in logical rows: y=50 (registration), y=150 (verification), y=250 (platform), y=350 (services), y=450 (billing), y=550 (communication)
- X positions: start at 50, increment by 180-200 for horizontal flow
- Use specific colors:
  * Registration: #10B981 (green)
  * Verification: #1E88E5 (blue)
  * Platform Setup: #9C27B0 (purple)
  * Decision Points: #FFC107 (yellow with black text)
  * Healthcare Services: #FF6B35 (orange)
  * Mobile Features: #E91E63 (pink)
  * Web Features: #2196F3 (blue)
  * Billing/Admin: #795548 (brown)
  * Communication: #607D8B (blue-grey)
  * Completion: #4CAF50 (green)

MANDATORY ELEMENTS TO INCLUDE:
- Every stakeholder type: Patient, Provider, Administrator, Billing Staff, Insurance Provider
- All major flow types: Account Creation, Appointment Scheduling, Telemedicine, Claims, Billing
- Decision gates for validation, authentication, platform choice
- Parallel processing paths for mobile vs web
- Error handling and retry mechanisms
- Notification and communication touchpoints

RESPONSE FORMAT - Return ONLY valid JSON:
{
  "title": "Comprehensive Master Application Flow",
  "description": "Unified workflow consolidating all application processes and user journeys",
  "flowData": {
    "nodes": [
      {
        "id": "unique-node-id",
        "position": {"x": number, "y": number},
        "data": {"label": "Specific Action Description"},
        "type": "input|default|output",
        "style": {"backgroundColor": "#colorcode", "color": "white|black"}
      }
    ],
    "edges": [
      {
        "id": "unique-edge-id",
        "source": "source-node-id",
        "target": "target-node-id"
      }
    ]
  }
}`,te=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-lite:generateContent?key=${q}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:W}]}],generationConfig:{temperature:.1,topK:1,topP:1,maxOutputTokens:4e3}})});if(!te.ok)throw new Error(`Gemini API error: ${te.status}`);const T=(z=(G=(j=(C=(L=(await te.json()).candidates)==null?void 0:L[0])==null?void 0:C.content)==null?void 0:j.parts)==null?void 0:G[0])==null?void 0:z.text;if(!T)throw new Error("No response from Gemini AI");const $=T.replace(/```json\n?|\n?```/g,"").trim();let V;try{V=JSON.parse($)}catch{throw console.error("Failed to parse AI response:",$),new Error("Invalid JSON response from AI")}if(!V.flowData||!V.flowData.nodes||!V.flowData.edges)throw new Error("Invalid flow structure from AI");const se=new Set(V.flowData.nodes.map(ae=>ae.id)),Y=V.flowData.edges.filter(ae=>se.has(ae.source)&&se.has(ae.target));return{title:V.title,description:V.description,flowData:{nodes:V.flowData.nodes,edges:Y}}},Q=H=>({title:"Comprehensive Master Healthcare Application Flow",description:"Detailed workflow covering all 35+ process steps from patient registration through completion, including all stakeholder flows",flowData:{nodes:[{id:"start",position:{x:50,y:50},data:{label:"Patient Arrival"},type:"input",style:{backgroundColor:"#10B981",color:"white"}},{id:"personal-info",position:{x:250,y:50},data:{label:"Personal Information Collection"},type:"default",style:{backgroundColor:"#10B981",color:"white"}},{id:"contact-validation",position:{x:450,y:50},data:{label:"Contact Details Validation"},type:"default",style:{backgroundColor:"#10B981",color:"white"}},{id:"insurance-capture",position:{x:650,y:50},data:{label:"Insurance Information Capture"},type:"default",style:{backgroundColor:"#10B981",color:"white"}},{id:"document-upload",position:{x:850,y:50},data:{label:"Document Upload & Validation"},type:"default",style:{backgroundColor:"#10B981",color:"white"}},{id:"emergency-contact",position:{x:1050,y:50},data:{label:"Emergency Contact Setup"},type:"default",style:{backgroundColor:"#10B981",color:"white"}},{id:"initial-profile",position:{x:1250,y:50},data:{label:"Initial Profile Creation"},type:"default",style:{backgroundColor:"#10B981",color:"white"}},{id:"credential-setup",position:{x:50,y:150},data:{label:"Login Credential Setup"},type:"default",style:{backgroundColor:"#1E88E5",color:"white"}},{id:"mfa-setup",position:{x:250,y:150},data:{label:"Multi-Factor Authentication"},type:"default",style:{backgroundColor:"#1E88E5",color:"white"}},{id:"identity-verification",position:{x:450,y:150},data:{label:"Identity Document Verification"},type:"default",style:{backgroundColor:"#1E88E5",color:"white"}},{id:"insurance-eligibility",position:{x:650,y:150},data:{label:"Insurance Eligibility Check"},type:"default",style:{backgroundColor:"#1E88E5",color:"white"}},{id:"medical-history",position:{x:850,y:150},data:{label:"Medical History Intake"},type:"default",style:{backgroundColor:"#1E88E5",color:"white"}},{id:"consent-forms",position:{x:1050,y:150},data:{label:"Consent Forms Completion"},type:"default",style:{backgroundColor:"#1E88E5",color:"white"}},{id:"account-activation",position:{x:1250,y:150},data:{label:"Account Activation"},type:"default",style:{backgroundColor:"#1E88E5",color:"white"}},{id:"platform-choice",position:{x:200,y:250},data:{label:"Platform Choice Decision"},type:"default",style:{backgroundColor:"#FFC107",color:"black"}},{id:"mobile-download",position:{x:50,y:350},data:{label:"Mobile App Download"},type:"default",style:{backgroundColor:"#E91E63",color:"white"}},{id:"mobile-setup",position:{x:250,y:350},data:{label:"Mobile Setup & Configuration"},type:"default",style:{backgroundColor:"#E91E63",color:"white"}},{id:"web-dashboard",position:{x:450,y:350},data:{label:"Web Portal Dashboard Access"},type:"default",style:{backgroundColor:"#2196F3",color:"white"}},{id:"feature-tutorial",position:{x:650,y:350},data:{label:"Feature Navigation Tutorial"},type:"default",style:{backgroundColor:"#9C27B0",color:"white"}},{id:"notification-setup",position:{x:850,y:350},data:{label:"Notification Setup"},type:"default",style:{backgroundColor:"#9C27B0",color:"white"}},{id:"provider-search",position:{x:50,y:450},data:{label:"Provider Search & Selection"},type:"default",style:{backgroundColor:"#FF6B35",color:"white"}},{id:"appointment-scheduling",position:{x:250,y:450},data:{label:"Appointment Scheduling Interface"},type:"default",style:{backgroundColor:"#FF6B35",color:"white"}},{id:"calendar-integration",position:{x:450,y:450},data:{label:"Calendar Integration"},type:"default",style:{backgroundColor:"#FF6B35",color:"white"}},{id:"appointment-confirmation",position:{x:650,y:450},data:{label:"Appointment Confirmation"},type:"default",style:{backgroundColor:"#FF6B35",color:"white"}},{id:"pre-visit-questionnaire",position:{x:850,y:450},data:{label:"Pre-Visit Questionnaire"},type:"default",style:{backgroundColor:"#FF6B35",color:"white"}},{id:"telemedicine-setup",position:{x:1050,y:450},data:{label:"Telemedicine Setup & Testing"},type:"default",style:{backgroundColor:"#FF6B35",color:"white"}},{id:"video-consultation",position:{x:1250,y:450},data:{label:"Virtual Consultation Session"},type:"default",style:{backgroundColor:"#FF6B35",color:"white"}},{id:"prescription-management",position:{x:1450,y:450},data:{label:"Prescription Management"},type:"default",style:{backgroundColor:"#FF6B35",color:"white"}},{id:"claim-preparation",position:{x:50,y:550},data:{label:"Insurance Claim Preparation"},type:"default",style:{backgroundColor:"#795548",color:"white"}},{id:"claim-submission",position:{x:250,y:550},data:{label:"Claim Submission to Provider"},type:"default",style:{backgroundColor:"#795548",color:"white"}},{id:"payment-processing",position:{x:450,y:550},data:{label:"Payment Processing"},type:"default",style:{backgroundColor:"#795548",color:"white"}},{id:"bill-generation",position:{x:650,y:550},data:{label:"Bill Generation"},type:"default",style:{backgroundColor:"#795548",color:"white"}},{id:"payment-confirmation",position:{x:850,y:550},data:{label:"Payment Confirmation"},type:"default",style:{backgroundColor:"#795548",color:"white"}},{id:"billing-reconciliation",position:{x:1050,y:550},data:{label:"Billing Reconciliation"},type:"default",style:{backgroundColor:"#795548",color:"white"}},{id:"secure-messaging",position:{x:200,y:650},data:{label:"Secure Messaging System"},type:"default",style:{backgroundColor:"#607D8B",color:"white"}},{id:"provider-communication",position:{x:400,y:650},data:{label:"Provider Communication"},type:"default",style:{backgroundColor:"#607D8B",color:"white"}},{id:"support-ticket",position:{x:600,y:650},data:{label:"Support Ticket Creation"},type:"default",style:{backgroundColor:"#607D8B",color:"white"}},{id:"feedback-collection",position:{x:800,y:650},data:{label:"Feedback Collection"},type:"default",style:{backgroundColor:"#607D8B",color:"white"}},{id:"completion",position:{x:1e3,y:650},data:{label:"Process Complete"},type:"output",style:{backgroundColor:"#4CAF50",color:"white"}}],edges:[{id:"e1",source:"start",target:"personal-info"},{id:"e2",source:"personal-info",target:"contact-validation"},{id:"e3",source:"contact-validation",target:"insurance-capture"},{id:"e4",source:"insurance-capture",target:"document-upload"},{id:"e5",source:"document-upload",target:"emergency-contact"},{id:"e6",source:"emergency-contact",target:"initial-profile"},{id:"e7",source:"initial-profile",target:"credential-setup"},{id:"e8",source:"credential-setup",target:"mfa-setup"},{id:"e9",source:"mfa-setup",target:"identity-verification"},{id:"e10",source:"identity-verification",target:"insurance-eligibility"},{id:"e11",source:"insurance-eligibility",target:"medical-history"},{id:"e12",source:"medical-history",target:"consent-forms"},{id:"e13",source:"consent-forms",target:"account-activation"},{id:"e14",source:"account-activation",target:"platform-choice"},{id:"e15",source:"platform-choice",target:"mobile-download"},{id:"e16",source:"platform-choice",target:"web-dashboard"},{id:"e17",source:"mobile-download",target:"mobile-setup"},{id:"e18",source:"mobile-setup",target:"feature-tutorial"},{id:"e19",source:"web-dashboard",target:"feature-tutorial"},{id:"e20",source:"feature-tutorial",target:"notification-setup"},{id:"e21",source:"notification-setup",target:"provider-search"},{id:"e22",source:"provider-search",target:"appointment-scheduling"},{id:"e23",source:"appointment-scheduling",target:"calendar-integration"},{id:"e24",source:"calendar-integration",target:"appointment-confirmation"},{id:"e25",source:"appointment-confirmation",target:"pre-visit-questionnaire"},{id:"e26",source:"pre-visit-questionnaire",target:"telemedicine-setup"},{id:"e27",source:"telemedicine-setup",target:"video-consultation"},{id:"e28",source:"video-consultation",target:"prescription-management"},{id:"e29",source:"prescription-management",target:"claim-preparation"},{id:"e30",source:"claim-preparation",target:"claim-submission"},{id:"e31",source:"claim-submission",target:"payment-processing"},{id:"e32",source:"payment-processing",target:"bill-generation"},{id:"e33",source:"bill-generation",target:"payment-confirmation"},{id:"e34",source:"payment-confirmation",target:"billing-reconciliation"},{id:"e35",source:"billing-reconciliation",target:"secure-messaging"},{id:"e36",source:"secure-messaging",target:"provider-communication"},{id:"e37",source:"provider-communication",target:"support-ticket"},{id:"e38",source:"support-ticket",target:"feedback-collection"},{id:"e39",source:"feedback-collection",target:"completion"},{id:"e40",source:"video-consultation",target:"secure-messaging"},{id:"e41",source:"appointment-confirmation",target:"support-ticket"},{id:"e42",source:"mobile-setup",target:"provider-search"},{id:"e43",source:"web-dashboard",target:"provider-search"}]}}),U=async()=>{var H,q,K,W;try{const te=N?{title:N.title,description:N.description,flowData:N.flowData,metadata:{totalNodes:((H=N.flowData.nodes)==null?void 0:H.length)||0,totalEdges:((q=N.flowData.edges)==null?void 0:q.length)||0,sourceFlows:x.length,generatedAt:new Date().toISOString()}}:null,ue=localStorage.getItem("brand_guidelines"),T=`
# Comprehensive Project Plan

## Project Overview
${e}

## Stakeholder Flows
${r}

## Master Flow Summary
- Total Process Nodes: ${((K=N==null?void 0:N.flowData.nodes)==null?void 0:K.length)||0}
- Total Connections: ${((W=N==null?void 0:N.flowData.edges)==null?void 0:W.length)||0}
- Source Flows Consolidated: ${x.length}

## Generated Data Quality
- Master Flow: ${te?"Available":"Not Generated"}
- Brand Guidelines: ${ue?"Available":"Not Available"}
- Project Plan: ${e?"Available":"Not Available"}

## Export Information
Generated on: ${new Date().toLocaleDateString()}
Time: ${new Date().toLocaleTimeString()}
      `.trim(),$=[];if(te){const se=new Blob([JSON.stringify(te,null,2)],{type:"application/json"});$.push({name:"master-flow.json",blob:se})}if(ue){const se=new Blob([ue],{type:"application/json"});$.push({name:"brand-guidelines.json",blob:se})}const V=new Blob([T],{type:"text/plain"});if($.push({name:"project-plan.txt",blob:V}),$.length>0){for(let se=0;se<$.length;se++){const Y=$[se],L=URL.createObjectURL(Y.blob),C=document.createElement("a");C.href=L,C.download=Y.name,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(L),se<$.length-1&&await new Promise(j=>setTimeout(j,500))}alert(`Successfully downloaded ${$.length} files:
${$.map(se=>se.name).join(`
`)}`)}else alert("No data available to download. Please generate master flow and ensure project data is available.")}catch(te){console.error("Error downloading project bundle:",te),alert("Error creating download bundle. Please try again.")}},S=async()=>{if(!e.trim()){alert("Please ensure you have a project plan. Visit the Project Planner page first.");return}if(!s.projectName.trim()){alert("Please enter a project name.");return}A(!0),u({current:0,total:7,status:"Initializing AI code generation...",currentTask:"Preparing"});try{const q=await Nse().generateCompleteProject(e,r,s,K=>{u(K)});l(q)}catch(H){console.error("Error generating project:",H);const q=H instanceof Error?H.message:"Failed to generate project code";q.includes("API key")?alert("Gemini API key is required for code generation. Please check your environment variables."):alert(`Code generation failed: ${q}`)}finally{A(!1)}},P=()=>{if(!o)return;const H={...o,config:s},q=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),K=URL.createObjectURL(q),W=document.createElement("a");W.href=K,W.download=`${s.projectName||"generated-project"}.json`,W.click(),URL.revokeObjectURL(K)},O=H=>{navigator.clipboard.writeText(H)};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Ll,{title:"Code Generator",showBackButton:!0}),i.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[i.jsx(fA,{currentStep:"code",completedSteps:["input","plan","diagram","stories"]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"AI Code Generator"}),i.jsx("p",{className:"text-gray-600",children:"Generate complete React project code based on your project plan and stakeholder analysis"}),p&&i.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsx("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:e?i.jsxs(i.Fragment,{children:[i.jsx(wr,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-sm text-green-700",children:"Project Plan Loaded"})]}):i.jsxs(i.Fragment,{children:[i.jsx(_o,{className:"h-4 w-4 text-amber-600"}),i.jsx("span",{className:"text-sm text-amber-700",children:"No Project Plan Found"})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r?i.jsxs(i.Fragment,{children:[i.jsx(wr,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-sm text-blue-700",children:"Stakeholder Data Loaded"})]}):i.jsxs(i.Fragment,{children:[i.jsx(_o,{className:"h-4 w-4 text-amber-600"}),i.jsx("span",{className:"text-sm text-amber-700",children:"No Stakeholder Data Found"})]})})]})]}),i.jsxs(lt,{className:"mb-6 bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200",children:[i.jsx(Bt,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-t-lg",children:i.jsxs(Nt,{className:"flex items-center gap-2",children:[i.jsx(Jc,{className:"h-5 w-5"}),"Project Configuration"]})}),i.jsx(ct,{className:"space-y-4 p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs(br,{htmlFor:"projectName",className:"flex items-center gap-2 text-gray-700 font-medium mb-2",children:[i.jsx(Fs,{className:"h-4 w-4 text-blue-600"}),"Project Name"]}),i.jsx(pr,{id:"projectName",value:s.projectName,onChange:H=>a({...s,projectName:H.target.value}),placeholder:"my-awesome-app",className:"border-gray-300 focus:border-blue-500"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs(br,{htmlFor:"framework",className:"flex items-center gap-2 text-gray-700 font-medium mb-2",children:[i.jsx(Fc,{className:"h-4 w-4 text-green-600"}),"Frontend Framework"]}),i.jsxs(xi,{value:s.framework,onValueChange:H=>a({...s,framework:H}),children:[i.jsx(si,{className:"border-gray-300 focus:border-green-500",children:i.jsx(wi,{})}),i.jsxs(ii,{children:[i.jsx(ar,{value:"react",children:" React"}),i.jsx(ar,{value:"nextjs",children:" Next.js"}),i.jsx(ar,{value:"vue",children:" Vue.js"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs(br,{htmlFor:"backend",className:"flex items-center gap-2 text-gray-700 font-medium mb-2",children:[i.jsx(Xg,{className:"h-4 w-4 text-orange-600"}),"Backend"]}),i.jsxs(xi,{value:s.backend,onValueChange:H=>a({...s,backend:H}),children:[i.jsx(si,{className:"border-gray-300 focus:border-orange-500",children:i.jsx(wi,{})}),i.jsxs(ii,{children:[i.jsx(ar,{value:"node",children:" Node.js/Express"}),i.jsx(ar,{value:"python",children:" Python/FastAPI"}),i.jsx(ar,{value:"go",children:" Go/Gin"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs(br,{htmlFor:"database",className:"flex items-center gap-2 text-gray-700 font-medium mb-2",children:[i.jsx(A2,{className:"h-4 w-4 text-purple-600"}),"Database"]}),i.jsxs(xi,{value:s.database,onValueChange:H=>a({...s,database:H}),children:[i.jsx(si,{className:"border-gray-300 focus:border-purple-500",children:i.jsx(wi,{})}),i.jsxs(ii,{children:[i.jsx(ar,{value:"postgresql",children:" PostgreSQL"}),i.jsx(ar,{value:"mysql",children:" MySQL"}),i.jsx(ar,{value:"mongodb",children:" MongoDB"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs(br,{htmlFor:"styling",className:"flex items-center gap-2 text-gray-700 font-medium mb-2",children:[i.jsx(NH,{className:"h-4 w-4 text-pink-600"}),"Styling"]}),i.jsxs(xi,{value:s.styling,onValueChange:H=>a({...s,styling:H}),children:[i.jsx(si,{className:"border-gray-300 focus:border-pink-500",children:i.jsx(wi,{})}),i.jsxs(ii,{children:[i.jsx(ar,{value:"tailwind",children:" Tailwind CSS"}),i.jsx(ar,{value:"styled",children:" Styled Components"}),i.jsx(ar,{value:"css",children:" CSS Modules"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs(br,{htmlFor:"deployment",className:"flex items-center gap-2 text-gray-700 font-medium mb-2",children:[i.jsx(ml,{className:"h-4 w-4 text-indigo-600"}),"Deployment"]}),i.jsxs(xi,{value:s.deployment,onValueChange:H=>a({...s,deployment:H}),children:[i.jsx(si,{className:"border-gray-300 focus:border-indigo-500",children:i.jsx(wi,{})}),i.jsxs(ii,{children:[i.jsx(ar,{value:"vercel",children:" Vercel"}),i.jsx(ar,{value:"netlify",children:" Netlify"}),i.jsx(ar,{value:"aws",children:" AWS"})]})]})]})]})})]}),i.jsxs(lt,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-violet-50 shadow-lg mb-6",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ha,{className:"h-6 w-6 text-purple-600"}),"AI-Generated Master Flow Diagram"]}),i.jsx(me,{onClick:R,disabled:y||x.length===0,className:"bg-purple-600 hover:bg-purple-700 text-white",children:y?i.jsxs(i.Fragment,{children:[i.jsx(Xp,{className:"mr-2 h-4 w-4 animate-spin"}),"Consolidating Flows..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Jc,{className:"mr-2 h-4 w-4"}),"Generate Master Flow"]})})]})}),i.jsxs(ct,{children:[!N&&!y&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"text-gray-500 mb-4",children:"Consolidate all individual flows into a single comprehensive master workflow diagram using AI analysis."}),i.jsx("div",{className:"text-sm text-gray-400",children:x.length===0?"No flows available to consolidate. Please generate some flows first.":`Ready to consolidate ${x.length} flows into a master diagram using Gemini AI.`})]}),y&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"text-purple-600 mb-4",children:"AI is analyzing and consolidating all flows into a master workflow..."}),i.jsxs("div",{className:"text-sm text-gray-500",children:["This may take a moment as we merge ",x.length," individual flows."]})]}),N&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 mb-4",children:i.jsx(ad,{flowData:N.flowData,title:"Master Application Flow",className:"h-96"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mb-4",children:[i.jsxs("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:[i.jsx("div",{className:"font-medium text-green-800",children:"Process Nodes"}),i.jsxs("div",{className:"text-green-600",children:[((k=N.flowData.nodes)==null?void 0:k.length)||0," steps"]})]}),i.jsxs("div",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:[i.jsx("div",{className:"font-medium text-blue-800",children:"Connections"}),i.jsxs("div",{className:"text-blue-600",children:[((Z=N.flowData.edges)==null?void 0:Z.length)||0," ","transitions"]})]}),i.jsxs("div",{className:"bg-purple-50 p-3 rounded border border-purple-200",children:[i.jsx("div",{className:"font-medium text-purple-800",children:"Source Flows"}),i.jsxs("div",{className:"text-purple-600",children:[x.length," consolidated"]})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsxs(me,{onClick:()=>U(),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[i.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Download Project Bundle (ZIP)"]})})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center gap-2",children:[i.jsx(jh,{className:"h-5 w-5"}),"Project Plan"]})}),i.jsx(ct,{children:i.jsx(En,{value:e,onChange:H=>t(H.target.value),placeholder:"Paste your project plan here...",rows:8,className:"resize-none"})})]}),i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center gap-2",children:[i.jsx(Hc,{className:"h-5 w-5"}),"Stakeholder Flows"]})}),i.jsx(ct,{children:i.jsx(En,{value:r,onChange:H=>n(H.target.value),placeholder:"Stakeholder flow analysis data...",rows:8,className:"resize-none"})})]})]}),i.jsx("div",{className:"text-center mb-6",children:i.jsxs(me,{onClick:S,disabled:c||!e.trim(),size:"lg",className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-8 py-3",children:[c?i.jsx(Vt,{className:"h-5 w-5 animate-spin mr-2"}):i.jsx(wn,{className:"h-5 w-5 mr-2"}),"Generate Project Code"]})}),c&&i.jsx(lt,{className:"mb-6",children:i.jsx(ct,{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold",children:"Generating Project Code"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[d.current," / ",d.total]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${d.current/d.total*100}%`}})}),i.jsx("p",{className:"text-sm text-gray-600",children:d.status})]})})}),!o&&!c&&i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center gap-2",children:[i.jsx(pl,{className:"h-5 w-5 text-blue-600"}),"Start Development"]})}),i.jsx(ct,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[i.jsx("p",{className:"text-gray-700 mb-4",children:"Jump straight into development with the integrated Replit environment below. Create a new project and start coding immediately."}),i.jsxs("div",{className:"flex gap-3 mb-4",children:[i.jsxs(yt,{variant:"secondary",className:"bg-green-100 text-green-700",children:[i.jsx(Xg,{className:"h-3 w-3 mr-1"}),"Live Environment"]}),i.jsxs(yt,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[i.jsx(Hc,{className:"h-3 w-3 mr-1"}),"Version Control"]}),i.jsxs(yt,{variant:"secondary",className:"bg-purple-100 text-purple-700",children:[i.jsx(ml,{className:"h-3 w-3 mr-1"}),"Instant Deploy"]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-lg",children:[i.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Replit Development Environment"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("a",{href:"https://replit.com/new/nodejs",target:"_blank",rel:"noopener noreferrer",className:"text-sm bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors",children:"Generate Code "}),i.jsx("a",{href:"https://replit.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Open Replit "})]})]})}),i.jsxs("div",{className:"relative bg-black",children:[i.jsx("iframe",{src:"https://replit.com/@cvbiswanath/vivek?embed=true&output=1",width:"100%",height:"500",frameBorder:"0",scrolling:"no",allowFullScreen:!0,title:"Project Planner - Replit Development Environment",className:"w-full",sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation"}),i.jsx("div",{className:"absolute inset-0 pointer-events-none",children:i.jsx("div",{className:"absolute bottom-4 right-4 bg-black/70 text-white text-xs px-2 py-1 rounded",children:`Start coding immediately - if embed doesn't load, click "Generate Code" above`})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(lt,{children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs(Nt,{className:"text-base flex items-center gap-2",children:[i.jsx(n1,{className:"h-4 w-4"}),"Getting Started"]})}),i.jsxs(ct,{className:"text-sm space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"1"}),i.jsx("span",{children:"Choose your preferred framework and stack"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"2"}),i.jsx("span",{children:"Create a new Repl from templates"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"3"}),i.jsx("span",{children:"Start coding with live preview"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"4"}),i.jsx("span",{children:"Deploy with one click"})]})]})]}),i.jsxs(lt,{children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs(Nt,{className:"text-base flex items-center gap-2",children:[i.jsx(wn,{className:"h-4 w-4"}),"Pro Tips"]})}),i.jsxs(ct,{className:"text-sm space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(wr,{className:"h-4 w-4 text-green-500 mt-0.5"}),i.jsx("span",{children:"Use project plans from the planning phase"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(wr,{className:"h-4 w-4 text-green-500 mt-0.5"}),i.jsx("span",{children:"Implement user stories and wireframes"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(wr,{className:"h-4 w-4 text-green-500 mt-0.5"}),i.jsx("span",{children:"Test features as you build them"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(wr,{className:"h-4 w-4 text-green-500 mt-0.5"}),i.jsx("span",{children:"Share and collaborate in real-time"})]})]})]})]})]})})]}),o&&i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wr,{className:"h-5 w-5 text-green-600"}),"Generated Project Code"]}),i.jsxs(me,{onClick:P,variant:"outline",children:[i.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Download Project"]})]})}),i.jsx(ct,{children:i.jsxs(md,{defaultValue:"structure",className:"w-full",children:[i.jsxs(tA,{className:"grid w-full grid-cols-7",children:[i.jsxs(Vr,{value:"structure",children:[i.jsx(n1,{className:"h-4 w-4 mr-1"}),"Structure"]}),i.jsxs(Vr,{value:"frontend",children:[i.jsx(Fc,{className:"h-4 w-4 mr-1"}),"Frontend"]}),i.jsxs(Vr,{value:"backend",children:[i.jsx(Xg,{className:"h-4 w-4 mr-1"}),"Backend"]}),i.jsxs(Vr,{value:"database",children:[i.jsx(A2,{className:"h-4 w-4 mr-1"}),"Database"]}),i.jsxs(Vr,{value:"config",children:[i.jsx(IH,{className:"h-4 w-4 mr-1"}),"Config"]}),i.jsxs(Vr,{value:"docs",children:[i.jsx(Fs,{className:"h-4 w-4 mr-1"}),"Docs"]}),i.jsxs(Vr,{value:"development",children:[i.jsx(pl,{className:"h-4 w-4 mr-1"}),"Development"]})]}),i.jsx(Wr,{value:"structure",className:"mt-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(me,{onClick:()=>O(o.folderStructure),className:"absolute top-2 right-2 z-10",size:"sm",variant:"outline",children:i.jsx(zn,{className:"h-3 w-3"})}),i.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-auto text-sm",children:o.folderStructure})]})}),i.jsx(Wr,{value:"frontend",className:"mt-4",children:i.jsx("div",{className:"space-y-4",children:Object.entries(o.frontendFiles).map(([H,q])=>i.jsxs("div",{className:"border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-4 py-2 border-b",children:[i.jsx("span",{className:"font-mono text-sm",children:H}),i.jsx(me,{onClick:()=>O(q),size:"sm",variant:"outline",children:i.jsx(zn,{className:"h-3 w-3"})})]}),i.jsx("pre",{className:"p-4 overflow-auto text-sm bg-gray-900 text-gray-100",children:q})]},H))})}),i.jsx(Wr,{value:"backend",className:"mt-4",children:i.jsx("div",{className:"space-y-4",children:Object.entries(o.backendFiles).map(([H,q])=>i.jsxs("div",{className:"border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-4 py-2 border-b",children:[i.jsx("span",{className:"font-mono text-sm",children:H}),i.jsx(me,{onClick:()=>O(q),size:"sm",variant:"outline",children:i.jsx(zn,{className:"h-3 w-3"})})]}),i.jsx("pre",{className:"p-4 overflow-auto text-sm bg-gray-900 text-gray-100",children:q})]},H))})}),i.jsx(Wr,{value:"database",className:"mt-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(me,{onClick:()=>O(o.databaseSchema),className:"absolute top-2 right-2 z-10",size:"sm",variant:"outline",children:i.jsx(zn,{className:"h-3 w-3"})}),i.jsx("pre",{className:"bg-gray-900 text-blue-400 p-4 rounded-lg overflow-auto text-sm",children:o.databaseSchema})]})}),i.jsx(Wr,{value:"config",className:"mt-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(me,{onClick:()=>O(o.packageJson),className:"absolute top-2 right-2 z-10",size:"sm",variant:"outline",children:i.jsx(zn,{className:"h-3 w-3"})}),i.jsx("pre",{className:"bg-gray-900 text-yellow-400 p-4 rounded-lg overflow-auto text-sm",children:o.packageJson})]})}),i.jsx(Wr,{value:"docs",className:"mt-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(me,{onClick:()=>O(o.readme),className:"absolute top-2 right-2 z-10",size:"sm",variant:"outline",children:i.jsx(zn,{className:"h-3 w-3"})}),i.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-auto text-sm",children:o.readme})]})}),i.jsx(Wr,{value:"development",className:"mt-4",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-indigo-600",children:i.jsx(pl,{className:"h-5 w-5 text-white"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Start Development"})]}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Use the integrated Replit environment below to start developing your project. You can create a new Repl and copy the generated code structure."}),i.jsxs("div",{className:"flex gap-3 mb-4",children:[i.jsxs(yt,{variant:"secondary",className:"bg-green-100 text-green-700",children:[i.jsx(Xg,{className:"h-3 w-3 mr-1"}),"Live Environment"]}),i.jsxs(yt,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[i.jsx(Hc,{className:"h-3 w-3 mr-1"}),"Version Control"]}),i.jsxs(yt,{variant:"secondary",className:"bg-purple-100 text-purple-700",children:[i.jsx(ml,{className:"h-3 w-3 mr-1"}),"Instant Deploy"]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-lg",children:[i.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Replit Development Environment"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(me,{onClick:()=>{const H=["=== FOLDER STRUCTURE ===",(o==null?void 0:o.folderStructure)||"",`
=== FRONTEND FILES ===`,Object.entries((o==null?void 0:o.frontendFiles)||{}).map(([q,K])=>`--- ${q} ---
${K}`).join(`

`),`
=== BACKEND FILES ===`,Object.entries((o==null?void 0:o.backendFiles)||{}).map(([q,K])=>`--- ${q} ---
${K}`).join(`

`),`
=== DATABASE SCHEMA ===`,(o==null?void 0:o.databaseSchema)||"",`
=== PACKAGE.JSON ===`,(o==null?void 0:o.packageJson)||""].join(`

`);navigator.clipboard.writeText(H)},size:"sm",variant:"outline",className:"text-xs",children:[i.jsx(zn,{className:"h-3 w-3 mr-1"}),"Copy All Code"]}),i.jsx("a",{href:"https://replit.com/new/nodejs",target:"_blank",rel:"noopener noreferrer",className:"text-sm bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors",children:"Generate Code "})]})]})}),i.jsxs("div",{className:"relative bg-black",children:[i.jsx("iframe",{src:"https://replit.com/@daspapun21/projectPlanner?embed=true&output=1",width:"100%",height:"500",frameBorder:"0",scrolling:"no",allowFullScreen:!0,title:"Project Planner - Replit Development Environment",className:"w-full",sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation"}),i.jsx("div",{className:"absolute inset-0 pointer-events-none",children:i.jsx("div",{className:"absolute bottom-4 right-4 bg-black/70 text-white text-xs px-2 py-1 rounded",children:"Copy your code above, then create files in the embedded editor"})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(lt,{children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs(Nt,{className:"text-base flex items-center gap-2",children:[i.jsx(n1,{className:"h-4 w-4"}),"Quick Start Guide"]})}),i.jsxs(ct,{className:"text-sm space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"1"}),i.jsx("span",{children:"Create a new Repl with your chosen framework"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"2"}),i.jsx("span",{children:"Copy the generated project structure"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"3"}),i.jsx("span",{children:"Install dependencies from package.json"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 text-white text-xs flex items-center justify-center mt-0.5",children:"4"}),i.jsx("span",{children:"Start coding and deploy instantly"})]})]})]}),i.jsxs(lt,{children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs(Nt,{className:"text-base flex items-center gap-2",children:[i.jsx(jh,{className:"h-4 w-4"}),"Development Tips"]})}),i.jsxs(ct,{className:"text-sm space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(wr,{className:"h-4 w-4 text-green-500 mt-0.5"}),i.jsx("span",{children:"Use the generated database schema for setup"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(wr,{className:"h-4 w-4 text-green-500 mt-0.5"}),i.jsx("span",{children:"Follow the folder structure recommendations"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(wr,{className:"h-4 w-4 text-green-500 mt-0.5"}),i.jsx("span",{children:"Implement features from your project plan"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(wr,{className:"h-4 w-4 text-green-500 mt-0.5"}),i.jsx("span",{children:"Test deployment early and iterate"})]})]})]})]})]})})]})})]})]})]})}class Sse{constructor(){this.maxRetries=3,this.retryDelay=2e3}async performMarketResearch(t){if(!t.trim())throw new Error("Project description is required for market research");try{return await this.searchAndAnalyzeMarket(t)}catch(r){throw console.error("Market research failed:",r),new Error("Failed to perform market research. Please check your internet connection and try again.")}}async searchAndAnalyzeMarket(t){try{const r=await this.performWebSearch(t);return{...await this.analyzeSearchResults(r,t),projectIdea:t,timestamp:new Date().toISOString()}}catch(r){throw console.error("Web search and analysis failed:",r),new Error("Failed to search web and analyze market data")}}async performWebSearch(t){return await this.generateMarketInsightsFromDescription(t)}async generateMarketInsightsFromDescription(t){const{GoogleGenerativeAI:r}=await dl(async()=>{const{GoogleGenerativeAI:o}=await Promise.resolve().then(()=>o4);return{GoogleGenerativeAI:o}},void 0),s=new r("AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg").getGenerativeModel({model:"gemini-2.0-flash-lite"}),a=`
Act as a senior market research analyst and provide comprehensive competitive intelligence for this project:

PROJECT DESCRIPTION: ${t}

Generate detailed market research with the following structure:

=== MARKET OVERVIEW ===
Provide a comprehensive overview of the market space, including total addressable market, current market conditions, and growth trajectory.

=== COMPETITOR ANALYSIS ===
Research and identify 8-12 actual companies in the relevant industry. Only include companies that truly exist with verifiable business operations. For each real competitor, provide:

- Primary product name (e.g., "Slack", "Teams", "Zoom", "ChatGPT", "Alexa", "Notion")
- Company name (e.g., "Slack Technologies", "Microsoft", "Zoom Video Communications")
- Official website URL
- Founded year and headquarters city/country
- Current market capitalization or latest valuation
- Annual revenue from recent financial reports
- Current employee count
- Core product offerings and business model
- Pricing structure and target customers
- Market position and competitive strengths
- Areas where they face challenges

MANDATORY: Every company name must be a real, operating business. Research companies like:
- Enterprise software: Salesforce, ServiceNow, Workday, Oracle
- Communication tools: Zoom, Slack, Microsoft Teams, Discord
- Productivity software: Atlassian, Notion, Asana, Monday.com
- E-commerce platforms: Shopify, WooCommerce, BigCommerce
- Developer tools: GitHub, GitLab, Stripe, Twilio

Base all financial figures on actual public data or credible industry estimates for these real companies.

=== MARKET SIZE AND TRENDS ===
- Total addressable market (TAM) size and projections
- Annual growth rate and market drivers
- Key industry trends affecting this space
- Emerging technologies or shifts
- Regional market variations

=== COMPETITIVE LANDSCAPE ===
- Market concentration (fragmented vs consolidated)
- Competitive intensity level
- Entry barriers and requirements
- Typical customer acquisition strategies
- Common business models in this space

=== OPPORTUNITIES AND GAPS ===
- Underserved market segments
- Feature gaps in existing solutions
- Pricing model innovations
- Technology or approach opportunities
- Geographic expansion opportunities

=== CHALLENGES AND RISKS ===
- Main barriers to market entry
- Regulatory or compliance requirements
- Technology or resource challenges
- Customer acquisition difficulties
- Competitive response risks

Focus on providing specific, actionable intelligence based on real market knowledge. Include actual company names, realistic pricing data, and credible market size estimates.

CRITICAL: For each competitor, provide exact financial figures:
- Market Cap: Use specific amounts like "$45.2B", "$3.1B", "$890M" (never "N/A" or "Private")
- Revenue: Use specific amounts like "$12.8B", "$450M", "$89M" (never "Undisclosed")  
- Employees: Use specific numbers like "45,200", "8,500", "1,200" (never "Unknown")
- For private companies, provide valuation estimates like "$5.2B", "$1.8B"

Use real financial data from public sources and industry knowledge. Every competitor must have numerical values for these metrics.

EXAMPLES OF REALISTIC FINANCIAL DATA:
- Microsoft: Market Cap $2.8T, Revenue $211B, Employees 221,000, HQ Redmond, USA
- Salesforce: Market Cap $189B, Revenue $31.4B, Employees 73,000, HQ San Francisco, USA
- ServiceNow: Market Cap $130B, Revenue $7.9B, Employees 19,000, HQ Santa Clara, USA
- Atlassian: Market Cap $45B, Revenue $3.5B, Employees 12,000, HQ Sydney, Australia
- Slack (Private): Valuation $27B, Revenue $902M, Employees 2,500, HQ San Francisco, USA

CRITICAL: Only include REAL company names that actually exist in the industry. Do NOT use placeholder names like "Company A", "Company 5 Name", "[Company Name]", "TechCorp", or similar generic names. Research and identify actual competitors with verified business information. If you cannot identify real companies, limit the list to only the companies you know exist with authentic data.
`;try{return(await s.generateContent(a)).response.text()}catch(o){throw console.error("AI market insights generation failed:",o),new Error("Failed to generate market insights")}}async analyzeSearchResults(t,r){const{GoogleGenerativeAI:n}=await dl(async()=>{const{GoogleGenerativeAI:l}=await Promise.resolve().then(()=>o4);return{GoogleGenerativeAI:l}},void 0),a=new n("AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg").getGenerativeModel({model:"gemini-2.0-flash-lite"}),o=`
Based on the web search results below, analyze the market for the following project idea and provide a comprehensive market research report:

PROJECT IDEA: ${r}

WEB SEARCH RESULTS:
${t}

Please analyze the search results and provide a detailed JSON response with the following structure:
{
  "marketOverview": "Comprehensive overview of the market based on search results",
  "competitors": [
    {
      "name": "Actual company name (e.g., Salesforce, Microsoft, Zoom)",
      "productName": "Primary product name (e.g., Slack, Teams, ChatGPT, Alexa, Notion)",
      "description": "Real company description",
      "website": "Actual website URL",
      "marketPosition": "Market Leader/Rising Challenger/Niche Player/Enterprise Specialist",
      "keyFeatures": ["Actual product features"],
      "pricing": "Real pricing information",
      "targetAudience": "Actual target market",
      "strengths": ["Real competitive advantages"],
      "weaknesses": ["Actual market challenges"],
      "marketShare": "Real market share data",
      "founded": "Actual founding year",
      "funding": "Real funding information",
      "marketCap": "Real market cap like $189B, $45B, $28B",
      "valuation": "Real private valuation like $27B, $12B",
      "employees": "Real employee count like 73,000, 19,000, 8,400",
      "revenue": "Real annual revenue like $31.4B, $7.9B, $4.1B",
      "headquarters": "Real headquarters location",
      "businessModel": "Actual business model"
    }
  ],
  "marketInsights": {
    "marketSize": "Market size from search results",
    "growthRate": "Growth rate information",
    "keyTrends": ["Trend 1", "Trend 2", "Trend 3"],
    "opportunities": ["Opportunity 1", "Opportunity 2", "Opportunity 3"],
    "challenges": ["Challenge 1", "Challenge 2", "Challenge 3"],
    "targetSegments": ["Segment 1", "Segment 2", "Segment 3"],
    "competitiveLevel": "Competition level description",
    "entryBarriers": ["Barrier 1", "Barrier 2", "Barrier 3"]
  },
  "recommendations": ["Recommendation 1", "Recommendation 2", "Recommendation 3"],
  "differentiationOpportunities": ["Opportunity 1", "Opportunity 2", "Opportunity 3"]
}

CRITICAL REQUIREMENTS:
- For each competitor, you MUST provide specific financial data:
  - marketCap: Use exact amounts like "$145.2B", "$28.5B", "$3.1B" (never "N/A")
  - revenue: Use exact amounts like "$50.3B", "$12.8B", "$890M" (never "Unknown") 
  - employees: Use exact numbers like "156,000", "45,200", "8,500" (never "Varies")
  - valuation: For private companies, use amounts like "$12.4B", "$2.8B"
  - headquarters: Use "City, Country" format like "San Francisco, USA"
- Base these on real company data and industry knowledge
- If exact data unavailable, provide realistic industry-standard estimates
- Generate 15-20 competitors minimum

CRITICAL REQUIREMENTS:
- Only include real companies that actually exist - NO placeholder names whatsoever
- Every company name must be a real, verifiable business entity
- Do NOT include names like "Company A", "TechCorp", "[Company Name]", "Startup X", etc.
- If you cannot identify enough real competitors, include fewer companies rather than fake ones
- All financial data must be authentic or industry-standard estimates for real companies
- Focus on well-known companies in the relevant industry
- Respond only with valid JSON, no additional text
`;try{const A=(await a.generateContent(o)).response.text().match(/\{[\s\S]*\}/);if(!A)throw new Error("No valid JSON found in analysis response");const d=JSON.parse(A[0]);if(!d.marketOverview||!d.competitors||!d.marketInsights)throw new Error("Invalid analysis data structure");return d.competitors&&(d.competitors=d.competitors.filter(u=>{const p=u.name.toLowerCase();return!(p.includes("company")&&(p.includes("name")||p.includes("a")||p.includes("b")||p.includes("c")||/\d/.test(p))||p.includes("[")||p.includes("]")||p.includes("techcorp")||p.includes("startup")||p.includes("placeholder")||p.includes("example")||p==="n/a"||p==="unknown"||p==="")&&u.name.length>2})),d}catch(l){throw console.error("Analysis failed:",l),new Error("Failed to analyze search results")}}async retryableRequest(t){let r;for(let n=1;n<=this.maxRetries;n++)try{return await t()}catch(s){r=s,n<this.maxRetries&&(console.warn(`Attempt ${n} failed, retrying in ${this.retryDelay}ms...`),await new Promise(a=>setTimeout(a,this.retryDelay)))}throw r}}function Ese(){return new Sse}const jse=["United States","United Kingdom","Canada","Australia","Germany","France","Netherlands","Sweden","Norway","Denmark","Switzerland","Austria","Belgium","Ireland","Finland","Italy","Spain","Portugal","Japan","South Korea","Singapore","Hong Kong","New Zealand","Israel","United Arab Emirates","Saudi Arabia","Brazil","Mexico","Argentina","Chile","Colombia","Peru","India","China","Thailand","Malaysia","Indonesia","Philippines","Vietnam","Taiwan","Poland","Czech Republic","Hungary","Romania","Bulgaria","Croatia","Slovenia","Estonia","Latvia","Lithuania","South Africa","Nigeria","Kenya","Egypt","Morocco","Ghana","Turkey","Russia","Ukraine","Belarus"];function T1(){const[e,t]=b.useState(""),[r,n]=b.useState("United States"),[s,a]=b.useState(!1),[o,l]=b.useState(null),[c,A]=b.useState(""),[d,u]=b.useState("input"),[p,f]=b.useState(1),x=6,m=U=>{if(!U)return 0;const S=U.toLowerCase().replace(/[^0-9.]/g,""),P=parseFloat(S);return U.toLowerCase().includes("trillion")?P*1e6:U.toLowerCase().includes("billion")?P*1e3:(U.toLowerCase().includes("million"),P)},N=o!=null&&o.competitors?[...o.competitors].sort((U,S)=>m(S.marketCap)-m(U.marketCap)):[],g=Math.ceil(N.length/x),y=(p-1)*x,w=y+x,E=N.slice(y,w);b.useEffect(()=>{const U=localStorage.getItem("bpmn-project-description")||fZ(),S=dZ();t(U||`Create a comprehensive personal finance management platform that helps users track expenses, manage budgets, monitor investments, and receive AI-powered financial advice.

Key Features:
- Real-time expense tracking with automatic bank account integration
- Smart budget planning with predictive analytics
- Investment portfolio management and performance tracking
- AI-driven financial recommendations and insights
- Bill reminder system with automated payment options
- Credit score monitoring and improvement suggestions
- Financial goal setting and progress tracking
- Multi-currency support for international users

Target Audience:
- Young professionals (25-40 years old) looking to improve their financial health
- Small business owners managing personal and business finances
- Families planning for major expenses and long-term financial goals
- Investment beginners seeking guidance and portfolio management

The platform will use machine learning to analyze spending patterns, provide personalized recommendations, and help users make informed financial decisions. It will integrate with major banks and financial institutions to provide real-time data synchronization.`),S?(l(S),u("results")):u("input")},[]);const _=U=>{t(U),localStorage.setItem("bpmn-project-description",U),pZ(U)},D=async()=>{if(e.trim()){a(!0),A(""),u("research");try{const U=Ese(),S=`${e}

Focus research specifically on the ${r} market. Include country-specific competitors, market conditions, regulations, and opportunities.`,P=await U.performMarketResearch(S),O={...P,targetCountry:r,marketAnalysis:`${P.marketOverview}

Target Market: ${r}`};l(O),u("results"),uZ(O)}catch(U){const S=U instanceof Error?U.message:"Failed to perform market research";A(S),u("input")}finally{a(!1)}}},R=()=>{u("input"),l(null),A(""),hZ()},I=()=>{if(!o)return;const U=JSON.stringify(o,null,2),S=new Blob([U],{type:"application/json"}),P=URL.createObjectURL(S),O=document.createElement("a");O.href=P,O.download=`market-research-${Date.now()}.json`,O.click(),URL.revokeObjectURL(P)},Q=()=>{if(!o)return;const U=`
# Market Research Report
**Project:** ${o.projectIdea}
**Generated:** ${new Date(o.timestamp).toLocaleString()}

## Market Overview
${o.marketOverview}

## Market Insights
- **Market Size:** ${o.marketInsights.marketSize}
- **Growth Rate:** ${o.marketInsights.growthRate}
- **Competitive Level:** ${o.marketInsights.competitiveLevel}

## Key Competitors
${o.competitors.map(S=>`
**${S.name}** (${S.marketPosition})
- ${S.description}
- Market Share: ${S.marketShare}
- Pricing: ${S.pricing}
- Key Features: ${S.keyFeatures.join(", ")}
`).join(`
`)}

## Recommendations
${o.recommendations.map(S=>`- ${S}`).join(`
`)}

## Differentiation Opportunities
${o.differentiationOpportunities.map(S=>`- ${S}`).join(`
`)}
    `.trim();navigator.clipboard.writeText(U)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[i.jsx(Ll,{title:"Market Research Agent",showBackButton:!0}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[i.jsx(fA,{currentStep:"research"}),o&&i.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[i.jsx(wr,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-green-800 font-medium",children:"Market Research Available"}),i.jsxs("p",{className:"text-green-700 text-sm",children:["Research completed on"," ",new Date(o.timestamp).toLocaleDateString()," at"," ",new Date(o.timestamp).toLocaleTimeString()]})]}),i.jsx("div",{className:"flex gap-2",children:i.jsx(me,{onClick:R,variant:"outline",size:"sm",className:"border-green-300 text-green-700 hover:bg-green-100",children:"New Research"})})]}),c&&i.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[i.jsx(_o,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),i.jsx("p",{className:"text-red-700",children:c})]}),d==="input"&&i.jsxs(lt,{className:"mb-6 border-0 shadow-sm bg-white",children:[i.jsx(Bt,{className:"pb-4",children:i.jsxs(Nt,{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(iv,{className:"h-4 w-4 text-white"})}),"Market Research Agent"]})}),i.jsxs(ct,{className:"px-6 pb-6 space-y-4",children:[i.jsx("p",{className:"text-gray-600",children:"Enter your project idea and I'll search the web for similar solutions, analyze competitors, and provide market insights to help you understand the competitive landscape."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(br,{htmlFor:"country-select",className:"text-sm font-medium text-gray-700",children:"Target Market Country"}),i.jsxs(xi,{value:r,onValueChange:n,disabled:s,children:[i.jsx(si,{id:"country-select",className:"w-full",children:i.jsx(wi,{placeholder:"Select a country"})}),i.jsx(ii,{children:jse.map(U=>i.jsx(ar,{value:U,children:U},U))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(br,{htmlFor:"project-description",className:"text-sm font-medium text-gray-700",children:"Project Description"}),i.jsx(En,{id:"project-description",placeholder:"Describe your project idea... (e.g., Create a project management tool for remote teams with time tracking and collaboration features)",value:e,onChange:U=>_(U.target.value),className:"min-h-32 text-sm",disabled:s})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2",children:[i.jsxs("div",{className:"text-xs text-gray-400",children:[e.length,"/2000 characters"]}),i.jsx(me,{onClick:D,disabled:!e.trim()||s,size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-sm",children:s?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-3 w-3 mr-2 animate-spin"}),"Researching..."]}):i.jsxs(i.Fragment,{children:[i.jsx(iv,{className:"h-3 w-3 mr-2"}),"Start Market Research"]})})]})]})]}),d==="research"&&i.jsx(lt,{className:"mb-6",children:i.jsx(ct,{className:"py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(iv,{className:"h-8 w-8 text-blue-600 animate-pulse"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Researching Market Landscape"}),i.jsx("p",{className:"text-gray-600 mb-2",children:"Analyzing competitors, market trends, and opportunities for your project idea..."}),i.jsxs("p",{className:"text-sm text-blue-600 font-medium mb-6",children:["Focusing on ",r," market"]}),i.jsxs("div",{className:"flex flex-col gap-3 max-w-md mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[i.jsx(Vt,{className:"h-4 w-4 animate-spin text-blue-600"}),"Searching for similar solutions"]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[i.jsx(Fc,{className:"h-4 w-4 text-gray-400"}),"Analyzing competitor landscape"]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[i.jsx(Xu,{className:"h-4 w-4 text-gray-400"}),"Gathering market insights"]})]})]})})}),d==="results"&&o&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(lt,{className:"border-0 shadow-lg",children:[i.jsx(Bt,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-b",children:i.jsxs(Nt,{className:"flex items-center justify-between text-xl",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(Yv,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("div",{children:"Market Research Results"}),o.targetCountry&&i.jsxs("div",{className:"text-sm font-normal text-blue-600 flex items-center gap-1",children:[i.jsx(Fc,{className:"h-3 w-3"}),o.targetCountry," Market"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(me,{onClick:Q,variant:"outline",size:"sm",className:"border-blue-300 text-blue-600 hover:bg-blue-50",children:[i.jsx(zn,{className:"h-4 w-4 mr-2"}),"Copy Report"]}),i.jsxs(me,{onClick:I,variant:"outline",size:"sm",className:"border-green-300 text-green-600 hover:bg-green-50",children:[i.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Export JSON"]})]})]})}),i.jsx(ct,{className:"p-6",children:i.jsxs("div",{className:"prose prose-gray max-w-none",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Market Overview"}),i.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:o.marketOverview}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(LE,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{className:"font-semibold text-green-800",children:"Market Size"})]}),i.jsx("p",{className:"text-green-700",children:o.marketInsights.marketSize})]}),i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Xu,{className:"h-5 w-5 text-blue-600"}),i.jsx("span",{className:"font-semibold text-blue-800",children:"Growth Rate"})]}),i.jsx("p",{className:"text-blue-700",children:o.marketInsights.growthRate})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border border-purple-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(rd,{className:"h-5 w-5 text-purple-600"}),i.jsx("span",{className:"font-semibold text-purple-800",children:"Competition"})]}),i.jsx("p",{className:"text-purple-700",children:o.marketInsights.competitiveLevel})]})]})]})})]}),i.jsxs(lt,{className:"border-0 shadow-lg",children:[i.jsx(Bt,{className:"bg-gradient-to-r from-orange-50 to-red-50 border-b",children:i.jsxs(Nt,{className:"flex items-center gap-3 text-xl",children:[i.jsx(Yn,{className:"h-6 w-6 text-orange-600"}),"Competitor Analysis"]})}),i.jsxs(ct,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[N.length," Competitors Found"]}),i.jsx(yt,{variant:"outline",className:"text-xs",children:"Sorted by Market Cap"})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",p," of ",g]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:E.map((U,S)=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-lg transition-all duration-200 bg-white",children:[i.jsx("div",{className:"flex items-start justify-between mb-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:U.name}),U.website&&i.jsx("a",{href:U.website.startsWith("http")?U.website:`https://${U.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors",title:`Visit ${U.name} website`,children:i.jsx(Zv,{className:"h-4 w-4"})})]}),i.jsx(yt,{variant:"outline",className:"mt-1",children:U.marketPosition}),U.website&&i.jsx("div",{className:"mt-2",children:i.jsx("a",{href:U.website.startsWith("http")?U.website:`https://${U.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 hover:underline break-all",children:U.website.replace(/^https?:\/\//,"")})})]})}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:U.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Market Cap"}),i.jsx("div",{className:"font-semibold text-green-600 text-sm",children:U.marketCap||"Generating..."})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Revenue"}),i.jsx("div",{className:"font-semibold text-blue-600 text-sm",children:U.revenue||"Generating..."})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Founded"}),i.jsx("div",{className:"font-semibold text-gray-700 text-sm",children:U.founded||"Generating..."})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Employees"}),i.jsx("div",{className:"font-semibold text-purple-600 text-sm",children:U.employees||"Generating..."})]})]}),(U.headquarters||U.valuation)&&i.jsxs("div",{className:"mb-4 space-y-2",children:[U.headquarters&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(FH,{className:"h-3 w-3 text-gray-400"}),i.jsx("span",{className:"text-gray-600",children:U.headquarters})]}),U.valuation&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(LE,{className:"h-3 w-3 text-gray-400"}),i.jsxs("span",{className:"text-gray-600",children:["Valuation: ",U.valuation]})]})]}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Market Share:"}),i.jsx("span",{className:"font-medium",children:U.marketShare})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Pricing:"}),i.jsx("span",{className:"font-medium",children:U.pricing})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Founded:"}),i.jsx("span",{className:"font-medium",children:U.founded})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"text-xs font-medium text-green-700",children:"Strengths:"}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:U.strengths&&Array.isArray(U.strengths)&&U.strengths.length>0?U.strengths.slice(0,2).map((P,O)=>i.jsx(yt,{variant:"outline",className:"text-xs bg-green-50 border-green-200 text-green-700",children:typeof P=="string"?P:"Strong market position"},O)):i.jsx(yt,{variant:"outline",className:"text-xs bg-green-50 border-green-200 text-green-700",children:"Strong market position"})})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-red-700",children:"Weaknesses:"}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:U.weaknesses&&Array.isArray(U.weaknesses)&&U.weaknesses.length>0?U.weaknesses.slice(0,2).map((P,O)=>i.jsx(yt,{variant:"outline",className:"text-xs bg-red-50 border-red-200 text-red-700",children:typeof P=="string"?P:"Market challenges"},O)):i.jsx(yt,{variant:"outline",className:"text-xs bg-red-50 border-red-200 text-red-700",children:"Market challenges"})})]})]})]},y+S))}),g>1&&i.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",y+1,"-",Math.min(w,N.length)," of ",N.length," competitors"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(me,{variant:"outline",size:"sm",onClick:()=>f(U=>Math.max(1,U-1)),disabled:p===1,className:"gap-1",children:[i.jsx(gH,{className:"h-4 w-4"}),"Previous"]}),i.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:g},(U,S)=>S+1).map(U=>i.jsx(me,{variant:U===p?"default":"outline",size:"sm",onClick:()=>f(U),className:"w-8 h-8 p-0",children:U},U))}),i.jsxs(me,{variant:"outline",size:"sm",onClick:()=>f(U=>Math.min(g,U+1)),disabled:p===g,className:"gap-1",children:["Next",i.jsx(vH,{className:"h-4 w-4"})]})]})]})]})]}),i.jsxs(lt,{className:"border-0 shadow-lg",children:[i.jsx(Bt,{className:"bg-gradient-to-r from-cyan-50 to-blue-50 border-b",children:i.jsxs(Nt,{className:"flex items-center gap-3 text-xl",children:[i.jsx(Fc,{className:"h-6 w-6 text-cyan-600"}),"Similar Products & Solutions"]})}),i.jsxs(ct,{className:"p-6",children:[i.jsx("div",{className:"mb-4",children:i.jsx("p",{className:"text-gray-600 text-sm",children:"Products and platforms that offer similar functionality to your project idea"})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.competitors.map((U,S)=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200 bg-white",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-gray-900 text-base",children:U.productName||U.name}),U.productName&&U.name!==U.productName&&i.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["by ",U.name]})]}),U.website&&i.jsx("a",{href:U.website.startsWith("http")?U.website:`https://${U.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors flex-shrink-0",title:`Visit ${U.productName||U.name} website`,children:i.jsx(Zv,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-3",children:U.description}),i.jsxs("div",{className:"space-y-2",children:[U.website&&i.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Website:"}),i.jsx("a",{href:U.website.startsWith("http")?U.website:`https://${U.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 hover:underline break-all",children:U.website.replace(/^https?:\/\//,"")})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-500",children:"Market Position:"}),i.jsx(yt,{variant:"outline",className:"text-xs",children:U.marketPosition})]}),U.pricing&&i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-500",children:"Pricing:"}),i.jsx("span",{className:"font-medium text-green-600",children:U.pricing})]})]})]},S))}),o.competitors.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Fc,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"No similar products found in the current research."}),i.jsx("p",{className:"text-sm",children:"Try generating enhanced data for more results."})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(lt,{className:"border-0 shadow-lg",children:[i.jsx(Bt,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b",children:i.jsxs(Nt,{className:"flex items-center gap-3 text-lg",children:[i.jsx(SH,{className:"h-5 w-5 text-green-600"}),"Market Opportunities"]})}),i.jsx(ct,{className:"p-6",children:i.jsx("div",{className:"space-y-3",children:o.marketInsights.opportunities.map((U,S)=>i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(wr,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-gray-700",children:U})]},S))})})]}),i.jsxs(lt,{className:"border-0 shadow-lg",children:[i.jsx(Bt,{className:"bg-gradient-to-r from-blue-50 to-cyan-50 border-b",children:i.jsxs(Nt,{className:"flex items-center gap-3 text-lg",children:[i.jsx(Xu,{className:"h-5 w-5 text-blue-600"}),"Key Market Trends"]})}),i.jsx(ct,{className:"p-6",children:i.jsx("div",{className:"space-y-3",children:o.marketInsights.keyTrends.map((U,S)=>i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ml,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-gray-700",children:U})]},S))})})]})]}),i.jsxs(lt,{className:"border-0 shadow-lg",children:[i.jsx(Bt,{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-b",children:i.jsxs(Nt,{className:"flex items-center gap-3 text-xl",children:[i.jsx(ey,{className:"h-6 w-6 text-purple-600"}),"Strategic Recommendations"]})}),i.jsx(ct,{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Key Recommendations"}),i.jsx("div",{className:"space-y-3",children:o.recommendations.map((U,S)=>i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-xs font-bold text-purple-600",children:S+1})}),i.jsx("span",{className:"text-sm text-gray-700",children:U})]},S))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Differentiation Opportunities"}),i.jsx("div",{className:"space-y-2",children:o.differentiationOpportunities.map((U,S)=>i.jsx(yt,{variant:"outline",className:"mr-2 mb-2 bg-indigo-50 border-indigo-200 text-indigo-700",children:U},S))})]})]})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[i.jsxs(me,{variant:"outline",onClick:R,className:"border-gray-300 hover:bg-gray-50",children:[i.jsx(Im,{className:"h-4 w-4 mr-2"}),"New Research"]}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:i.jsx(yn,{href:"/plan",children:i.jsxs(me,{variant:"outline",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white border-0 shadow-lg",children:[i.jsx(Wa,{className:"h-4 w-4 mr-2"}),"View Project Plan"]})})})]})]})]})]})}var uN="Collapsible",[Fse,AR]=Xi(uN),[kse,hN]=Fse(uN),dR=b.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c=!1,A]=Xa({prop:n,defaultProp:s,onChange:o});return i.jsx(kse,{scope:r,disabled:a,contentId:Fo(),open:c,onOpenToggle:b.useCallback(()=>A(d=>!d),[A]),children:i.jsx(Kt.div,{"data-state":pN(c),"data-disabled":a?"":void 0,...l,ref:t})})});dR.displayName=uN;var uR="CollapsibleTrigger",hR=b.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=hN(uR,r);return i.jsx(Kt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":pN(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Mt(e.onClick,s.onOpenToggle)})});hR.displayName=uR;var fN="CollapsibleContent",fR=b.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=hN(fN,e.__scopeCollapsible);return i.jsx(Tl,{present:r||s.open,children:({present:a})=>i.jsx(Ise,{...n,ref:t,present:a})})});fR.displayName=fN;var Ise=b.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,o=hN(fN,r),[l,c]=b.useState(n),A=b.useRef(null),d=Mr(t,A),u=b.useRef(0),p=u.current,f=b.useRef(0),x=f.current,m=o.open||l,N=b.useRef(m),g=b.useRef(void 0);return b.useEffect(()=>{const y=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(y)},[]),Is(()=>{const y=A.current;if(y){g.current=g.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();u.current=w.height,f.current=w.width,N.current||(y.style.transitionDuration=g.current.transitionDuration,y.style.animationName=g.current.animationName),c(n)}},[o.open,n]),i.jsx(Kt.div,{"data-state":pN(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:m&&s})});function pN(e){return e?"open":"closed"}var Pse=dR,_se=hR,Tse=fR,Ml="Accordion",Lse=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[mN,Use,Rse]=nx(Ml),[Rx,Yde]=Xi(Ml,[Rse,AR]),gN=AR(),pR=Ue.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return i.jsx(mN.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?i.jsx(Ose,{...a,ref:t}):i.jsx(Qse,{...s,ref:t})})});pR.displayName=Ml;var[mR,Dse]=Rx(Ml),[gR,Mse]=Rx(Ml,{collapsible:!1}),Qse=Ue.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...o}=e,[l,c]=Xa({prop:r,defaultProp:n,onChange:s});return i.jsx(mR,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:Ue.useCallback(()=>a&&c(""),[a,c]),children:i.jsx(gR,{scope:e.__scopeAccordion,collapsible:a,children:i.jsx(vR,{...o,ref:t})})})}),Ose=Ue.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[o=[],l]=Xa({prop:r,defaultProp:n,onChange:s}),c=Ue.useCallback(d=>l((u=[])=>[...u,d]),[l]),A=Ue.useCallback(d=>l((u=[])=>u.filter(p=>p!==d)),[l]);return i.jsx(mR,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:A,children:i.jsx(gR,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(vR,{...a,ref:t})})})}),[Hse,Dx]=Rx(Ml),vR=Ue.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...o}=e,l=Ue.useRef(null),c=Mr(l,t),A=Use(r),u=fx(s)==="ltr",p=Mt(e.onKeyDown,f=>{var I;if(!Lse.includes(f.key))return;const x=f.target,m=A().filter(Q=>{var U;return!((U=Q.ref.current)!=null&&U.disabled)}),N=m.findIndex(Q=>Q.ref.current===x),g=m.length;if(N===-1)return;f.preventDefault();let y=N;const w=0,E=g-1,_=()=>{y=N+1,y>E&&(y=w)},D=()=>{y=N-1,y<w&&(y=E)};switch(f.key){case"Home":y=w;break;case"End":y=E;break;case"ArrowRight":a==="horizontal"&&(u?_():D());break;case"ArrowDown":a==="vertical"&&_();break;case"ArrowLeft":a==="horizontal"&&(u?D():_());break;case"ArrowUp":a==="vertical"&&D();break}const R=y%g;(I=m[R].ref.current)==null||I.focus()});return i.jsx(Hse,{scope:r,disabled:n,direction:s,orientation:a,children:i.jsx(mN.Slot,{scope:r,children:i.jsx(Kt.div,{...o,"data-orientation":a,ref:c,onKeyDown:n?void 0:p})})})}),Ny="AccordionItem",[$se,vN]=Rx(Ny),yR=Ue.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=Dx(Ny,r),o=Dse(Ny,r),l=gN(r),c=Fo(),A=n&&o.value.includes(n)||!1,d=a.disabled||e.disabled;return i.jsx($se,{scope:r,open:A,disabled:d,triggerId:c,children:i.jsx(Pse,{"data-orientation":a.orientation,"data-state":NR(A),...l,...s,ref:t,disabled:d,open:A,onOpenChange:u=>{u?o.onItemOpen(n):o.onItemClose(n)}})})});yR.displayName=Ny;var xR="AccordionHeader",wR=Ue.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Dx(Ml,r),a=vN(xR,r);return i.jsx(Kt.h3,{"data-orientation":s.orientation,"data-state":NR(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});wR.displayName=xR;var p5="AccordionTrigger",bR=Ue.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Dx(Ml,r),a=vN(p5,r),o=Mse(p5,r),l=gN(r);return i.jsx(mN.ItemSlot,{scope:r,children:i.jsx(_se,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});bR.displayName=p5;var CR="AccordionContent",BR=Ue.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Dx(Ml,r),a=vN(CR,r),o=gN(r);return i.jsx(Tse,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});BR.displayName=CR;function NR(e){return e?"open":"closed"}var zse=pR,Kse=yR,Gse=wR,SR=bR,ER=BR;const Vse=zse,jR=b.forwardRef(({className:e,...t},r)=>i.jsx(Kse,{ref:r,className:Zt("border-b",e),...t}));jR.displayName="AccordionItem";const FR=b.forwardRef(({className:e,children:t,...r},n)=>i.jsx(Gse,{className:"flex",children:i.jsxs(SR,{ref:n,className:Zt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(ox,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));FR.displayName=SR.displayName;const kR=b.forwardRef(({className:e,children:t,...r},n)=>i.jsx(ER,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:Zt("pb-4 pt-0",e),children:t})}));kR.displayName=ER.displayName;class Wse{constructor(){const t=new ls("AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg");this.model=t.getGenerativeModel({model:"gemini-2.0-flash-lite"})}async analyzeStakeholderFlows(){try{console.log("Starting stakeholder flow analysis...");const t=localStorage.getItem("project-flow-data-intrim");if(!t)throw new Error("No stakeholder flow data found. Please complete the Stakeholder Flow Analysis first by going to the User Journey page and generating flow details.");let r={};try{t&&(r=t)}catch(l){console.error("Error parsing stored data:",l),r={}}const n=this.buildAnalysisPrompt();console.log("Generated analysis prompt, calling Gemini API...");const o=(await(await this.model.generateContent(n)).response).text();return console.log("Received Gemini response, parsing results..."),this.parseAnalysisResult(o)}catch(t){if(console.error("Error analyzing stakeholder flows:",t),t instanceof Error){if(t.message.includes("API key"))throw new Error("API key issue. Please check your Gemini API configuration.");if(t.message.includes("quota")||t.message.includes("limit"))throw new Error("API quota exceeded. Please try again later.");if(t.message.includes("network")||t.message.includes("fetch"))throw new Error("Network error. Please check your internet connection.");if(t.message.includes("stakeholder flow data"))throw t}throw new Error(`Analysis failed: ${t instanceof Error?t.message:"Unknown error"}`)}}generateBasicAnalysisFromStakeholders(t,r){console.log("Generating basic analysis from stakeholders:",t);const n=[];return t.forEach((s,a)=>{n.push({pageName:`${s} Dashboard`,pageType:"dashboard",purpose:`Main interface for ${s} to manage their tasks and view relevant information`,stakeholders:[s],contentElements:[{type:"header",label:`${s} Dashboard`,content:`Welcome ${s}`,position:"top",required:!0,interactions:["navigate"]},{type:"navigation",label:"Main Navigation",content:"Navigation menu",position:"top",required:!0,interactions:["navigate"]},{type:"list",label:"Tasks & Activities",content:`${s} specific tasks and activities`,position:"center",required:!0,interactions:["view","edit","complete"]},{type:"button",label:"Action Buttons",content:"Primary actions",position:"bottom",required:!0,interactions:["click","submit"]}],userInteractions:["View tasks","Complete actions","Navigate"],dataRequirements:["User data","Task data","Status information"],priority:"high"})}),n.push({pageName:"Login Page",pageType:"form",purpose:"User authentication and system access",stakeholders:t,contentElements:[{type:"form",label:"Login Form",content:"Username and password fields",position:"center",required:!0,interactions:["input","submit"]},{type:"button",label:"Login Button",content:"Submit credentials",position:"center",required:!0,interactions:["click"]}],userInteractions:["Enter credentials","Submit form"],dataRequirements:["User credentials"],priority:"critical"}),{projectContext:r||"Business process management system",totalPages:n.length,pageRequirements:n,stakeholders:t,commonElements:[{type:"navigation",label:"Main Navigation",content:"Site navigation",position:"top",required:!0,interactions:["navigate"]}],userFlowConnections:[{from:"Login Page",to:`${t[0]} Dashboard`,trigger:"successful login"}],dataFlowMap:[{source:"Login Page",destination:"User Dashboard",dataType:"authentication data"}]}}buildAnalysisPrompt(){return`
You are an expert UX/UI analyst and wireframe designer. Analyze the following stakeholder flow data and determine what pages/screens are needed for a comprehensive digital solution.
 
**Stakeholder flows:**
${localStorage.getItem("project-flow-data-intrim")}


**Analysis Requirements:**
1. Identify all unique pages/screens needed based on the above stakeholder flows
2. For each page, determine:
   - Primary purpose and function
   - Target stakeholders who will use it

4. Map the flow connections between pages
5. Identify common elements that appear across multiple pages

**Output Format (JSON):**
{
  "projectContext": "brief summary of the project",
  "totalPages": number,
  "pageRequirements": [
    {
      "pageName": "descriptive page name",
      "pageType": "dashboard|form|list|detail|approval|management|reporting",
      "purpose": "what this page accomplishes",
      "userInteractions": ["list of main user actions on this page"],
    }
  ],
  "commonElements": [list of elements that appear on multiple pages],
  "userFlowConnections": [
    {"from": "page1", "to": "page2", "trigger": "what action causes navigation"}
  ],
  "dataFlowMap": [
    {"source": "where data comes from", "destination": "where it goes", "dataType": "type of data"}
  ]
}

Provide a comprehensive analysis that covers all stakeholder needs and business processes identified in the flow data.
`}parseAnalysisResult(t){var r;try{const n=t.match(/\{[\s\S]*\}/);if(!n)throw new Error("No valid JSON found in analysis result");const s=JSON.parse(n[0]);return{projectContext:s.projectContext||"Project analysis based on stakeholder flows",totalPages:s.totalPages||((r=s.pageRequirements)==null?void 0:r.length)||0,pageRequirements:this.validatePageRequirements(s.pageRequirements||[]),stakeholders:s.stakeholders||[],commonElements:s.commonElements||[],userFlowConnections:s.userFlowConnections||[],dataFlowMap:s.dataFlowMap||[]}}catch(n){console.error("Error parsing analysis result:",n)}return{projectContext:"Unknown project context",totalPages:0,pageRequirements:[],stakeholders:[],commonElements:[],userFlowConnections:[],dataFlowMap:[]}}validatePageRequirements(t){return t.map(r=>({pageName:r.pageName||"Unnamed Page",pageType:r.pageType||"form",purpose:r.purpose||"General purpose page",stakeholders:Array.isArray(r.stakeholders)?r.stakeholders:[],contentElements:this.validateContentElements(r.contentElements||[]),userInteractions:Array.isArray(r.userInteractions)?r.userInteractions:[],dataRequirements:Array.isArray(r.dataRequirements)?r.dataRequirements:[],priority:["critical","high","medium","low"].includes(r.priority)?r.priority:"medium"}))}validateContentElements(t){const r=["header","form","button","text","image","list","table","chart","input","dropdown","modal","navigation","api-display","upload","search"],n=["top","center","bottom","left","right","sidebar"];return t.map(s=>({type:r.includes(s.type)?s.type:"text",label:s.label||"Content Element",content:s.content||"Content placeholder",position:n.includes(s.position)?s.position:"center",required:!!s.required,interactions:Array.isArray(s.interactions)?s.interactions:[]}))}inferPageType(t){const r=t.toLowerCase();return r.includes("dashboard")||r.includes("overview")?"dashboard":r.includes("approval")||r.includes("review")?"approval":r.includes("management")||r.includes("admin")?"management":r.includes("report")||r.includes("analytics")?"reporting":r.includes("form")||r.includes("submit")?"form":r.includes("list")||r.includes("browse")?"list":"detail"}generateBasicContentElements(t){return[{type:"header",label:`${t} Header`,content:`${t} Management`,position:"top",required:!0,interactions:[]},{type:"form",label:"Main Form",content:`${t} input form`,position:"center",required:!0,interactions:["Submit","Reset"]},{type:"button",label:"Submit Button",content:"Submit",position:"bottom",required:!0,interactions:["Click"]}]}}function qse(){return new Wse}class Xse{async generateDetailedWireframes(t,r,n){const s=[],a=Object.keys(r);for(const o of a){const l=r[o]||[];s.push(this.generateStakeholderDashboard(o,l,n));for(const c of l)s.push(this.generateFlowPage(o,c,n))}return s.push(this.generateLoginPage(a)),s.push(this.generateProfilePage()),s.push(this.generateSettingsPage()),s}generateStakeholderDashboard(t,r,n){const s={headers:[`${t} Dashboard`,"Overview","Recent Activities"],texts:[`Welcome back, ${t}`,`Manage your ${r.join(", ").toLowerCase()} activities`,n.substring(0,100)+"..."],buttons:[{label:"New Task",action:"create_task"},{label:"View Reports",action:"view_reports"},{label:"Settings",action:"open_settings"}],forms:[],lists:[{title:"Active Tasks",items:r.map(l=>`${l} - In Progress`)},{title:"Recent Updates",items:["Project milestone completed","New team member added","System update available"]}],images:[{alt:`${t} Avatar`,placeholder:"profile-image"},{alt:"Dashboard Chart",placeholder:"analytics-chart"}]},a=this.generateDashboardHTML(t,s),o=this.generateModernCSS();return{pageName:`${t} Dashboard`,pageType:"dashboard",purpose:`Main interface for ${t} to manage tasks and view key metrics`,stakeholders:[t],htmlContent:a,cssStyles:o,contentDetails:s}}generateFlowPage(t,r,n){const s={headers:[`${r} Management`,`${t} Workflow`],texts:[`Manage ${r.toLowerCase()} processes`,`Complete your ${r.toLowerCase()} tasks efficiently`],buttons:[{label:`Start ${r}`,action:`start_${r.toLowerCase().replace(" ","_")}`},{label:"Save Progress",action:"save_progress"},{label:"Submit",action:"submit_form"}],forms:[{label:`${r} Details`,fields:["Title","Description","Priority","Deadline","Assigned To"]}],lists:[{title:`${r} Steps`,items:["Initialize process","Review requirements","Execute workflow","Validate results","Complete and report"]}],images:[{alt:`${r} Process Diagram`,placeholder:"process-diagram"}]},a=this.generateWorkflowHTML(r,t,s),o=this.generateModernCSS();return{pageName:`${r} Page`,pageType:"workflow",purpose:`Handle ${r.toLowerCase()} process for ${t}`,stakeholders:[t],htmlContent:a,cssStyles:o,contentDetails:s}}generateLoginPage(t){const r={headers:["Welcome Back","Sign In to Continue"],texts:["Access your account to manage your tasks","Secure login for all stakeholders"],buttons:[{label:"Sign In",action:"submit_login"},{label:"Forgot Password?",action:"reset_password"},{label:"Sign Up",action:"create_account"}],forms:[{label:"Login Form",fields:["Email","Password"]}],lists:[],images:[{alt:"Company Logo",placeholder:"company-logo"},{alt:"Login Illustration",placeholder:"login-graphic"}]},n=this.generateLoginHTML(r),s=this.generateModernCSS();return{pageName:"Login Page",pageType:"authentication",purpose:"User authentication and system access",stakeholders:t,htmlContent:n,cssStyles:s,contentDetails:r}}generateProfilePage(){const t={headers:["Profile Settings","Personal Information"],texts:["Manage your account information","Update your preferences and settings"],buttons:[{label:"Save Changes",action:"save_profile"},{label:"Change Password",action:"change_password"},{label:"Upload Photo",action:"upload_avatar"}],forms:[{label:"Profile Information",fields:["Full Name","Email","Phone","Department","Role"]}],lists:[{title:"Recent Activities",items:["Profile updated","Password changed","Settings modified"]}],images:[{alt:"Profile Avatar",placeholder:"user-avatar"}]},r=this.generateProfileHTML(t),n=this.generateModernCSS();return{pageName:"Profile Page",pageType:"profile",purpose:"User profile management and settings",stakeholders:[],htmlContent:r,cssStyles:n,contentDetails:t}}generateSettingsPage(){const t={headers:["System Settings","Preferences"],texts:["Configure your application preferences","Manage notifications and display options"],buttons:[{label:"Save Settings",action:"save_settings"},{label:"Reset to Default",action:"reset_settings"},{label:"Export Data",action:"export_data"}],forms:[{label:"Notification Settings",fields:["Email Notifications","Push Notifications","SMS Alerts"]},{label:"Display Preferences",fields:["Theme","Language","Timezone","Date Format"]}],lists:[{title:"Privacy Options",items:["Profile visibility","Data sharing preferences","Activity tracking"]}],images:[]},r=this.generateSettingsHTML(t),n=this.generateModernCSS();return{pageName:"Settings Page",pageType:"settings",purpose:"Application configuration and user preferences",stakeholders:[],htmlContent:r,cssStyles:n,contentDetails:t}}generateDashboardHTML(t,r){var n,s,a;return`
    <div class="dashboard-container">
      <header class="dashboard-header">
        <div class="header-content">
          <div class="user-info">
            <img src="/api/placeholder/40/40" alt="${(n=r.images[0])==null?void 0:n.alt}" class="avatar">
            <div>
              <h1>${r.headers[0]}</h1>
              <span class="user-role">${t}</span>
            </div>
          </div>
          <div class="header-actions">
            <button class="btn-icon" data-action="notifications">
              <span class="notification-badge">3</span>
              
            </button>
            <button class="btn-icon" data-action="settings"></button>
          </div>
        </div>
      </header>

      <main class="dashboard-main">
        <section class="stats-grid">
          <div class="stat-card">
            <h3>Active Tasks</h3>
            <span class="stat-number">12</span>
          </div>
          <div class="stat-card">
            <h3>Completed</h3>
            <span class="stat-number">84</span>
          </div>
          <div class="stat-card">
            <h3>Pending</h3>
            <span class="stat-number">7</span>
          </div>
        </section>

        <section class="content-grid">
          <div class="card">
            <h3>${(s=r.lists[0])==null?void 0:s.title}</h3>
            <ul class="task-list">
              ${(a=r.lists[0])==null?void 0:a.items.map(o=>`<li class="task-item">${o}</li>`).join("")}
            </ul>
          </div>
          
          <div class="card">
            <h3>Quick Actions</h3>
            <div class="action-buttons">
              ${r.buttons.map(o=>`<button class="btn-primary" data-action="${o.action}">${o.label}</button>`).join("")}
            </div>
          </div>
        </section>
      </main>
    </div>`}generateWorkflowHTML(t,r,n){var s,a,o,l;return`
    <div class="workflow-container">
      <header class="page-header">
        <button class="btn-back"> Back</button>
        <h1>${n.headers[0]}</h1>
        <button class="btn-help">?</button>
      </header>

      <main class="workflow-main">
        <div class="workflow-form">
          <form class="form-card">
            <h2>${(s=n.forms[0])==null?void 0:s.label}</h2>
            ${(a=n.forms[0])==null?void 0:a.fields.map(c=>`
              <div class="form-group">
                <label for="${c.toLowerCase().replace(" ","_")}">${c}</label>
                <input type="text" id="${c.toLowerCase().replace(" ","_")}" name="${c.toLowerCase().replace(" ","_")}" placeholder="Enter ${c.toLowerCase()}">
              </div>
            `).join("")}
            
            <div class="form-actions">
              ${n.buttons.map(c=>`<button type="button" class="btn-${c.action.includes("submit")?"primary":"secondary"}" data-action="${c.action}">${c.label}</button>`).join("")}
            </div>
          </form>
        </div>

        <div class="workflow-steps">
          <h3>${(o=n.lists[0])==null?void 0:o.title}</h3>
          <ol class="steps-list">
            ${(l=n.lists[0])==null?void 0:l.items.map((c,A)=>`
              <li class="step-item ${A===0?"active":""}">${c}</li>
            `).join("")}
          </ol>
        </div>
      </main>
    </div>`}generateLoginHTML(t){var r,n,s;return`
    <div class="login-container">
      <div class="login-card">
        <div class="login-header">
          <img src="/api/placeholder/80/80" alt="${(r=t.images[0])==null?void 0:r.alt}" class="login-logo">
          <h1>${t.headers[0]}</h1>
          <p>${t.texts[0]}</p>
        </div>
        
        <form class="login-form">
          ${(n=t.forms[0])==null?void 0:n.fields.map(a=>`
            <div class="form-group">
              <label for="${a.toLowerCase()}">${a}</label>
              <input type="${a.toLowerCase()==="password"?"password":"email"}" id="${a.toLowerCase()}" name="${a.toLowerCase()}" placeholder="Enter your ${a.toLowerCase()}">
            </div>
          `).join("")}
          
          <button type="submit" class="btn-login">${(s=t.buttons[0])==null?void 0:s.label}</button>
        </form>
        
        <div class="login-footer">
          ${t.buttons.slice(1).map(a=>`<a href="#" class="link" data-action="${a.action}">${a.label}</a>`).join(" | ")}
        </div>
      </div>
    </div>`}generateProfileHTML(t){var r,n,s,a,o,l,c;return`
    <div class="profile-container">
      <header class="profile-header">
        <div class="profile-avatar">
          <img src="/api/placeholder/120/120" alt="${(r=t.images[0])==null?void 0:r.alt}" class="avatar-large">
          <button class="btn-upload" data-action="${(n=t.buttons[2])==null?void 0:n.action}">${(s=t.buttons[2])==null?void 0:s.label}</button>
        </div>
        <div class="profile-info">
          <h1>John Doe</h1>
          <p>Senior Project Manager</p>
          <span class="status online">Online</span>
        </div>
      </header>
      
      <main class="profile-main">
        <div class="profile-form">
          <h2>${(a=t.forms[0])==null?void 0:a.label}</h2>
          <form class="form-grid">
            ${(o=t.forms[0])==null?void 0:o.fields.map(A=>`
              <div class="form-group">
                <label for="${A.toLowerCase().replace(" ","_")}">${A}</label>
                <input type="text" id="${A.toLowerCase().replace(" ","_")}" name="${A.toLowerCase().replace(" ","_")}" value="Sample ${A}">
              </div>
            `).join("")}
          </form>
          
          <div class="form-actions">
            ${t.buttons.slice(0,2).map(A=>`<button class="btn-${A.action.includes("save")?"primary":"secondary"}" data-action="${A.action}">${A.label}</button>`).join("")}
          </div>
        </div>
        
        <aside class="profile-sidebar">
          <h3>${(l=t.lists[0])==null?void 0:l.title}</h3>
          <ul class="activity-list">
            ${(c=t.lists[0])==null?void 0:c.items.map(A=>`<li class="activity-item">${A}</li>`).join("")}
          </ul>
        </aside>
      </main>
    </div>`}generateSettingsHTML(t){var r,n,s,a;return`
    <div class="settings-container">
      <header class="settings-header">
        <h1>${t.headers[0]}</h1>
        <p>${t.texts[0]}</p>
      </header>
      
      <main class="settings-main">
        <div class="settings-tabs">
          <button class="tab-button active" data-tab="notifications">Notifications</button>
          <button class="tab-button" data-tab="display">Display</button>
          <button class="tab-button" data-tab="privacy">Privacy</button>
        </div>
        
        <div class="settings-content">
          <div class="settings-section" data-section="notifications">
            <h2>${(r=t.forms[0])==null?void 0:r.label}</h2>
            ${(n=t.forms[0])==null?void 0:n.fields.map(o=>`
              <div class="setting-item">
                <label class="setting-label">${o}</label>
                <input type="checkbox" class="toggle" checked>
              </div>
            `).join("")}
          </div>
          
          <div class="settings-section" data-section="display">
            <h2>${(s=t.forms[1])==null?void 0:s.label}</h2>
            ${(a=t.forms[1])==null?void 0:a.fields.map(o=>`
              <div class="setting-item">
                <label class="setting-label">${o}</label>
                <select class="setting-select">
                  <option>Default</option>
                  <option>Option 1</option>
                  <option>Option 2</option>
                </select>
              </div>
            `).join("")}
          </div>
        </div>
        
        <div class="settings-actions">
          ${t.buttons.map(o=>`<button class="btn-${o.action.includes("save")?"primary":"secondary"}" data-action="${o.action}">${o.label}</button>`).join("")}
        </div>
      </main>
    </div>`}generateModernCSS(){return`
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      line-height: 1.6;
      color: #333;
      background: #f8fafc;
    }
    
    .dashboard-container, .workflow-container, .login-container, .profile-container, .settings-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .dashboard-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      color: white;
    }
    
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .user-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 2px solid rgba(255,255,255,0.3);
    }
    
    .avatar-large {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 4px solid #e2e8f0;
    }
    
    .user-role {
      opacity: 0.8;
      font-size: 14px;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }
    
    .stat-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      text-align: center;
    }
    
    .stat-number {
      font-size: 32px;
      font-weight: bold;
      color: #667eea;
      display: block;
    }
    
    .content-grid {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 24px;
    }
    
    .card {
      background: white;
      padding: 24px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      font-weight: 500;
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    .btn-primary:hover {
      transform: translateY(-1px);
    }
    
    .btn-secondary {
      background: #e2e8f0;
      color: #475569;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      font-weight: 500;
      cursor: pointer;
    }
    
    .form-group {
      margin-bottom: 16px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 4px;
      font-weight: 500;
      color: #374151;
    }
    
    .form-group input, .form-group select {
      width: 100%;
      padding: 12px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 14px;
    }
    
    .form-group input:focus, .form-group select:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }
    
    .task-list, .activity-list, .steps-list {
      list-style: none;
    }
    
    .task-item, .activity-item {
      padding: 12px;
      border-bottom: 1px solid #e2e8f0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .step-item {
      padding: 12px;
      border-left: 3px solid #e2e8f0;
      margin-bottom: 8px;
      padding-left: 16px;
    }
    
    .step-item.active {
      border-left-color: #667eea;
      background: #f0f4ff;
    }
    
    .login-card {
      max-width: 400px;
      margin: 0 auto;
      background: white;
      padding: 32px;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.1);
      text-align: center;
    }
    
    .login-logo {
      width: 80px;
      height: 80px;
      margin-bottom: 16px;
    }
    
    .btn-login {
      width: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 16px;
      border-radius: 6px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      margin-bottom: 16px;
    }
    
    .settings-tabs {
      display: flex;
      border-bottom: 1px solid #e2e8f0;
      margin-bottom: 24px;
    }
    
    .tab-button {
      padding: 12px 24px;
      border: none;
      background: none;
      cursor: pointer;
      font-weight: 500;
      color: #6b7280;
    }
    
    .tab-button.active {
      color: #667eea;
      border-bottom: 2px solid #667eea;
    }
    
    .setting-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 0;
      border-bottom: 1px solid #e2e8f0;
    }
    
    .toggle {
      width: 44px;
      height: 24px;
      background: #e2e8f0;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      position: relative;
    }
    
    .toggle:checked {
      background: #667eea;
    }
    
    @media (max-width: 768px) {
      .content-grid {
        grid-template-columns: 1fr;
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
      }
      
      .dashboard-container, .workflow-container, .profile-container, .settings-container {
        padding: 12px;
      }
    }`}}function Jse(){return new Xse}class Yse{constructor(){const t="AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg";this.genAI=new ls(t),this.model=this.genAI.getGenerativeModel({model:"gemini-2.0-flash-lite"})}async enhanceCode(t){var n,s,a;const r=this.buildEnhancementPrompt(t);try{console.log("Sending enhancement request to Gemini...");const c=(await(await this.model.generateContent(r)).response).text();return console.log("Received response from Gemini, parsing..."),this.parseEnhancedResponse(c)}catch(o){throw console.error("Error enhancing code:",o),(n=o==null?void 0:o.message)!=null&&n.includes("API_KEY_INVALID")?new Error("Invalid API key. Please check your Gemini API configuration."):(s=o==null?void 0:o.message)!=null&&s.includes("SAFETY")?new Error("Content filtered by safety settings. Please try a different enhancement request."):(a=o==null?void 0:o.message)!=null&&a.includes("QUOTA_EXCEEDED")?new Error("API quota exceeded. Please try again later."):(o==null?void 0:o.status)===404?new Error("API endpoint not found. Please check your API configuration."):new Error(`Enhancement failed: ${(o==null?void 0:o.message)||"Unknown error occurred"}`)}}buildEnhancementPrompt(t){return`You are a professional web developer and UX expert. Your task is to enhance the provided HTML and CSS code to make it more functional, visually appealing, and user-friendly.

**Current Code:**
HTML:
\`\`\`html
${t.htmlCode}
\`\`\`

CSS:
\`\`\`css
${t.cssCode}
\`\`\`

**Enhancement Request:** ${t.prompt}

**Instructions:**
1. Enhance the HTML structure with semantic elements, accessibility features, and modern best practices
2. Improve the CSS with modern styling, responsive design, animations, and professional aesthetics
3. Add functional JavaScript for interactivity, form validation, smooth scrolling, and enhanced UX
4. Maintain all existing content exactly as is - DO NOT change text content, headings, or core information
5. Focus on visual improvements, functionality, and user experience enhancements
6. Ensure cross-browser compatibility and mobile responsiveness
7. Add subtle animations and transitions for a polished feel
8. Implement modern CSS techniques like flexbox, grid, custom properties
9. Add interactive elements like hover effects, button animations, form enhancements
10. Include proper error handling and loading states where applicable

**Requirements:**
- Keep all original content intact
- Make it production-ready
- Ensure accessibility (ARIA labels, semantic HTML, keyboard navigation)
- Responsive design for all screen sizes
- Modern, professional appearance
- Smooth animations and micro-interactions
- Clean, maintainable code structure

**Response Format:**
Provide your response in this exact JSON format:
\`\`\`json
{
  "html": "enhanced HTML code here",
  "css": "enhanced CSS code here", 
  "js": "functional JavaScript code here",
  "explanation": "Brief explanation of enhancements made",
  "improvements": ["improvement 1", "improvement 2", "improvement 3"]
}
\`\`\`

Make this webpage shine with professional quality and excellent user experience while preserving all original content.`}parseEnhancedResponse(t){try{const r=t.match(/```json\s*([\s\S]*?)\s*```/);if(!r)throw new Error("No JSON response found");const n=r[1],s=JSON.parse(n);if(!s.html||!s.css||!s.js)throw new Error("Missing required code fields in response");return{html:s.html,css:s.css,js:s.js,explanation:s.explanation||"Code enhanced successfully",improvements:s.improvements||[]}}catch(r){return console.error("Error parsing enhanced response:",r),this.fallbackParse(t)}}fallbackParse(t){const r=t.match(/```html\s*([\s\S]*?)\s*```/),n=t.match(/```css\s*([\s\S]*?)\s*```/),s=t.match(/```(?:javascript|js)\s*([\s\S]*?)\s*```/);return{html:r?r[1]:"",css:n?n[1]:"",js:s?s[1]:"// No JavaScript enhancements added",explanation:"Code enhanced with improved structure and styling",improvements:["Enhanced visual design","Improved responsiveness","Added interactivity"]}}}function IR(){return new Yse}class Zse{constructor(){const t="AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg";this.genAI=new ls(t),this.model=this.genAI.getGenerativeModel({model:"gemini-2.0-flash-lite"})}async enhanceElement(t){const r=this.buildPrecisePrompt(t);try{console.log("Sending precise element enhancement request...");const a=(await(await this.model.generateContent(r)).response).text();return console.log("Received precise enhancement response, parsing..."),this.parsePreciseResponse(a,t)}catch(n){throw console.error("Error in precise element enhancement:",n),new Error("Failed to enhance specific element. Please try again.")}}buildPrecisePrompt(t){const r=this.generateElementSelector(t.elementData);return`
You are a comprehensive web element enhancer. Your job is to enhance a selected element AND all its child elements for a cohesive design.

TARGET ELEMENT AND CHILDREN:
- Main Element: ${t.elementData.tagName}
- Classes: ${t.elementData.className||"none"}
- ID: ${t.elementData.id||"none"}
- Content Preview: "${t.elementData.textContent.substring(0,50)}..."
- CSS Selector: ${r}

ENHANCEMENT REQUEST: ${t.enhancementPrompt}

CURRENT HTML:
${t.htmlCode}

CURRENT CSS:
${t.cssCode}

COMPREHENSIVE ENHANCEMENT TASK:
1. Target the main element: ${r}
2. Apply enhancements to the main element AND its child elements
3. Create CSS rules for:
   - The main element: ${r}
   - Child elements: ${r} > *, ${r} input, ${r} button, ${r} div, ${r} p, ${r} h1, ${r} h2, ${r} h3
4. Ensure all child elements inherit or complement the parent styling
5. Create a cohesive visual design throughout the entire selected section
6. Maintain accessibility and functionality of all interactive elements

STYLING APPROACH:
- Apply consistent color schemes, spacing, and typography throughout
- Enhance buttons, inputs, headings, and text within the selected area
- Use modern CSS properties like flexbox, grid, transitions, and gradients
- Ensure hover states and interactions work for all child elements

Return ONLY this JSON format:
{
  "html": "COMPLETE_HTML_CODE",
  "css": "COMPLETE_CSS_CODE_WITH_COMPREHENSIVE_RULES",
  "js": "",
  "explanation": "Brief description of comprehensive enhancement",
  "changedElement": "${t.elementData.displayName} and children"
}
`}generateElementSelector(t){return t.id?`#${t.id}`:t.className?`.${t.className.split(" ")[0]}`:t.tagName}parsePreciseResponse(t,r){try{let n="";const s=t.match(/```(?:json)?\s*(\{[\s\S]*?\})\s*```/);if(s)n=s[1];else{const l=t.match(/\{[\s\S]*\}/);if(l)n=l[0];else throw new Error("No JSON found in response")}n=n.trim();const a=n.lastIndexOf("}");a!==-1&&(n=n.substring(0,a+1));const o=JSON.parse(n);if(!o.html||!o.css)throw console.warn("Missing required fields in response:",{hasHtml:!!o.html,hasCss:!!o.css}),new Error("Invalid response format");return{html:o.html,css:o.css,js:o.js||"",explanation:o.explanation||"Element enhanced successfully",changedElement:o.changedElement||r.elementData.displayName}}catch(n){return console.error("Error parsing precise response:",n),console.log("Response content:",t.substring(0,500)+"..."),this.createFallbackEnhancement(r)}}createFallbackEnhancement(t){const r=this.generateElementSelector(t.elementData),n=this.generateBasicEnhancement(t.enhancementPrompt,r);return{html:t.htmlCode,css:t.cssCode+`

/* Element Enhancement */
`+n,js:"",explanation:`Applied enhancement to ${t.elementData.displayName}`,changedElement:t.elementData.displayName}}generateBasicEnhancement(t,r){const n=t.toLowerCase();let s=`/* Comprehensive Enhancement for ${r} and children */
`;return s+=`${r} {
`,n.includes("modern")&&(s+=`  border-radius: 12px;
`,s+=`  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
`,s+=`  transition: all 0.3s ease;
`,s+=`  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
`,s+=`  border: 1px solid #e2e8f0;
`,s+=`  padding: 1.5rem;
`),(n.includes("color")||n.includes("colours"))&&(s+=`  background: linear-gradient(135deg, #3B82F6 0%, #1E40AF 100%);
`,s+=`  color: white;
`,s+=`  border: none;
`),n.includes("typography")&&(s+=`  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
`,s+=`  font-weight: 500;
`,s+=`  letter-spacing: 0.025em;
`,s+=`  line-height: 1.6;
`),n.includes("shadow")&&(s+=`  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
`),s+=`}

`,s+=`/* Child elements styling */
`,s+=`${r} button, ${r} .form-button {
`,s+=`  border-radius: 8px;
`,s+=`  padding: 0.75rem 1.5rem;
`,s+=`  font-weight: 600;
`,s+=`  transition: all 0.3s ease;
`,s+=`  border: none;
`,s+=`  cursor: pointer;
`,n.includes("color")?(s+=`  background: rgba(255, 255, 255, 0.2);
`,s+=`  color: white;
`):(s+=`  background: #3B82F6;
`,s+=`  color: white;
`),s+=`}

`,s+=`${r} button:hover, ${r} .form-button:hover {
`,s+=`  transform: translateY(-2px);
`,s+=`  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
`,n.includes("color")?s+=`  background: rgba(255, 255, 255, 0.3);
`:s+=`  background: #2563EB;
`,s+=`}

`,s+=`${r} input, ${r} textarea, ${r} .field-input {
`,s+=`  border-radius: 6px;
`,s+=`  border: 2px solid #e2e8f0;
`,s+=`  padding: 0.75rem 1rem;
`,s+=`  transition: all 0.3s ease;
`,s+=`  background: white;
`,s+=`}

`,s+=`${r} input:focus, ${r} textarea:focus, ${r} .field-input:focus {
`,s+=`  outline: none;
`,s+=`  border-color: #3B82F6;
`,s+=`  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
`,s+=`}

`,s+=`${r} h1, ${r} h2, ${r} h3, ${r} .section-header {
`,s+=`  font-weight: 700;
`,s+=`  margin-bottom: 1rem;
`,n.includes("color")?s+=`  color: rgba(255, 255, 255, 0.95);
`:s+=`  color: #1e293b;
`,s+=`}

`,s+=`${r} p, ${r} .content-text {
`,s+=`  line-height: 1.6;
`,s+=`  margin-bottom: 0.75rem;
`,n.includes("color")?s+=`  color: rgba(255, 255, 255, 0.8);
`:s+=`  color: #64748b;
`,s+=`}

`,n.includes("animation")&&(s+=`${r} > * {
`,s+=`  animation: fadeInUp 0.6s ease-out;
`,s+=`}

`,s+=`@keyframes fadeInUp {
`,s+=`  from {
`,s+=`    opacity: 0;
`,s+=`    transform: translateY(20px);
`,s+=`  }
`,s+=`  to {
`,s+=`    opacity: 1;
`,s+=`    transform: translateY(0);
`,s+=`  }
`,s+=`}

`),s}}function PR(){return new Zse}class eie{constructor(){const t=new ls("AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg");this.model=t.getGenerativeModel({model:"gemini-2.0-flash-lite"})}async generatePageContent(t){try{console.log("Starting page content generation...");const{analysisResult:r,stakeholderFlows:n,flowTypes:s,projectDescription:a}=t,o=[];for(let l=0;l<r.pageRequirements.length;l++){const c=r.pageRequirements[l];console.log(`Generating content for page: ${c.pageName}`);const A=await this.generateSinglePageContent(c,{stakeholderFlows:n,flowTypes:s,projectDescription:a});o.push({id:`page-${l}`,...A,isEdited:!1})}return console.log(`Generated content for ${o.length} pages`),o}catch(r){throw console.error("Error generating page content:",r),new Error("Failed to generate page content: "+r.message)}}async generateSinglePageContent(t,r){const n=this.buildContentPrompt(t,r.flowTypes,r.projectDescription),o=(await(await this.model.generateContent(n)).response).text();return this.parseContentResponse(o,t)}buildContentPrompt(t,r,n){var s;return`
You are an expert UX content strategist. Generate detailed page content for a web application page.

**Project Context:**
${n}

**Page Details:**
- Page Name: ${t.pageName}
- Page Type: ${t.pageType}
- Purpose: ${t.purpose}
- Target Stakeholders: ${((s=t.stakeholders)==null?void 0:s.join(", "))||"General users"}

**Available Flow Types:**
${JSON.stringify(r,null,2)}

**Instructions:**
Generate comprehensive page content including:

1. **Headers**: Main page title and section headers (3-5 items)
2. **Text Content**: Descriptive text, labels, help text (5-8 items)
3. **Buttons**: Action buttons with labels, actions, and styles (3-6 items)
4. **Forms**: Form sections with fields and submit actions (1-3 forms)
5. **Input Fields**: Individual input elements with details (3-8 inputs)
6. **Lists**: Data lists, menus, or item collections (2-4 lists)
7. **Images**: Image placeholders with descriptions (2-4 images)
8. **Navigation**: Menu items and navigation elements (3-6 items)
9. **Additional Content**: Any other relevant content elements

**Output Format (JSON):**
{
  "pageName": "${t.pageName}",
  "pageType": "${t.pageType}",
  "purpose": "${t.purpose}",
  "stakeholders": ${JSON.stringify(t.stakeholders||[])},
  "headers": ["Main Header", "Section Header 1", "Section Header 2"],
  "textContent": ["Welcome message", "Description text", "Help text"],
  "buttons": [
    {"label": "Save", "action": "save", "style": "primary"},
    {"label": "Cancel", "action": "cancel", "style": "secondary"}
  ],
  "forms": [
    {"title": "User Information", "fields": ["Name", "Email", "Phone"], "submitAction": "submit_user_info"}
  ],
  "inputs": [
    {"label": "Full Name", "type": "text", "placeholder": "Enter your full name", "required": true},
    {"label": "Email", "type": "email", "placeholder": "Enter email address", "required": true}
  ],
  "lists": [
    {"title": "Recent Items", "items": ["Item 1", "Item 2", "Item 3"], "type": "unordered"}
  ],
  "images": [
    {"alt": "Profile picture", "description": "User profile image", "position": "top-right"},
    {"alt": "Dashboard chart", "description": "Analytics chart display", "position": "center"}
  ],
  "navigation": ["Home", "Dashboard", "Settings", "Profile", "Logout"],
  "additionalContent": ["Footer text", "Copyright notice", "Terms link"]
}

Generate realistic, relevant content that matches the page purpose and stakeholder needs. Make the content specific to the ${t.pageType} page type and ${t.purpose} purpose.
`}parseContentResponse(t,r){try{const n=t.match(/\{[\s\S]*\}/);if(!n)throw new Error("No valid JSON found in response");const s=JSON.parse(n[0]);return{pageName:s.pageName||r.pageName,pageType:s.pageType||r.pageType,purpose:s.purpose||r.purpose,stakeholders:s.stakeholders||r.stakeholders||[],headers:Array.isArray(s.headers)?this.sanitizeStringArray(s.headers):this.generateFallbackHeaders(r),textContent:Array.isArray(s.textContent)?this.sanitizeStringArray(s.textContent):this.generateFallbackTextContent(r),buttons:Array.isArray(s.buttons)?this.validateButtons(s.buttons):this.generateFallbackButtons(r),forms:Array.isArray(s.forms)?this.validateForms(s.forms):this.generateFallbackForms(r),inputs:Array.isArray(s.inputs)?this.validateInputs(s.inputs):this.generateFallbackInputs(r),lists:Array.isArray(s.lists)?this.validateLists(s.lists):this.generateFallbackLists(r),images:Array.isArray(s.images)?this.validateImages(s.images):this.generateFallbackImages(r),navigation:Array.isArray(s.navigation)?this.sanitizeStringArray(s.navigation):this.generateFallbackNavigation(r),additionalContent:Array.isArray(s.additionalContent)?this.sanitizeStringArray(s.additionalContent):this.generateFallbackAdditionalContent(r)}}catch(n){return console.error("Error parsing content response:",n),this.generateFallbackContent(r)}}generateFallbackContent(t){return{pageName:t.pageName,pageType:t.pageType,purpose:t.purpose,stakeholders:t.stakeholders||[],headers:this.generateFallbackHeaders(t),textContent:this.generateFallbackTextContent(t),buttons:this.generateFallbackButtons(t),forms:this.generateFallbackForms(t),inputs:this.generateFallbackInputs(t),lists:this.generateFallbackLists(t),images:this.generateFallbackImages(t),navigation:this.generateFallbackNavigation(t),additionalContent:this.generateFallbackAdditionalContent(t)}}generateFallbackHeaders(t){return[t.pageName,"Overview","Details","Actions"]}generateFallbackTextContent(t){var r;return[`Welcome to ${t.pageName}`,`This page helps you ${((r=t.purpose)==null?void 0:r.toLowerCase())||"manage your tasks"}`,"Please review the information below","Use the available actions to proceed","Contact support if you need assistance"]}generateFallbackButtons(t){var n;const r=((n=t.pageType)==null?void 0:n.toLowerCase())||"form";return r.includes("dashboard")?[{label:"Refresh",action:"refresh",style:"secondary"},{label:"Export",action:"export",style:"outline"},{label:"Settings",action:"settings",style:"ghost"}]:r.includes("form")?[{label:"Save",action:"save",style:"primary"},{label:"Cancel",action:"cancel",style:"secondary"},{label:"Reset",action:"reset",style:"outline"}]:[{label:"Continue",action:"continue",style:"primary"},{label:"Back",action:"back",style:"secondary"}]}generateFallbackForms(t){var n;const r=((n=t.pageType)==null?void 0:n.toLowerCase())||"form";return r.includes("form")||r.includes("input")?[{title:`${t.pageName} Form`,fields:["Name","Email","Description","Category"],submitAction:"submit_form"}]:[{title:"Search",fields:["Query","Filters"],submitAction:"search"}]}generateFallbackInputs(t){return[{label:"Name",type:"text",placeholder:"Enter name",required:!0},{label:"Email",type:"email",placeholder:"Enter email address",required:!0},{label:"Description",type:"textarea",placeholder:"Enter description",required:!1},{label:"Category",type:"select",placeholder:"Select category",required:!0}]}generateFallbackLists(t){return[{title:"Recent Items",items:["Item 1","Item 2","Item 3","Item 4"],type:"unordered"},{title:"Actions",items:["View Details","Edit","Delete","Share"],type:"action"}]}generateFallbackImages(t){return[{alt:"Header image",description:"Page header banner",position:"top"},{alt:"Content image",description:"Main content illustration",position:"center"},{alt:"Icon",description:"Feature icon",position:"sidebar"}]}generateFallbackNavigation(t){return["Home","Dashboard","Profile","Settings","Help","Logout"]}generateFallbackAdditionalContent(t){return["Last updated: Today","Need help? Contact support","Terms and conditions apply"," 2024 Application Name"]}validateButtons(t){return t.map(r=>({label:String(r.label||r.text||r.name||"Button"),action:String(r.action||r.onClick||r.handler||"click"),style:String(r.style||r.variant||r.type||"primary")}))}validateForms(t){return t.map(r=>({title:String(r.title||r.name||"Form"),fields:Array.isArray(r.fields)?r.fields.map(n=>typeof n=="string"?n:String(n.label||n.name||n.placeholder||"Field")):["Field 1","Field 2"],submitAction:String(r.submitAction||r.action||r.onSubmit||"submit")}))}validateInputs(t){return t.map(r=>({label:String(r.label||r.name||"Input"),type:String(r.type||"text"),placeholder:String(r.placeholder||r.hint||"Enter value"),required:!!(r.required||r.mandatory)}))}validateLists(t){return t.map(r=>({title:String(r.title||r.name||"List"),items:Array.isArray(r.items)?r.items.map(n=>typeof n=="string"?n:String(n.text||n.label||n.name||"Item")):["Item 1","Item 2"],type:String(r.type||"unordered")}))}validateImages(t){return t.map(r=>({alt:String(r.alt||r.title||"Image"),description:String(r.description||r.caption||"Image description"),position:String(r.position||r.location||"center")}))}sanitizeStringArray(t){return t.map(r=>typeof r=="string"?r:typeof r=="object"&&r!==null?r.label&&r.url?`${r.label} (${r.url})`:r.text?String(r.text):r.label?String(r.label):r.name?String(r.name):r.title?String(r.title):JSON.stringify(r):String(r))}}function tie(){return new eie}const hu="brand-guidelines-external";class Ui{static save(t,r,n){const s={id:`brand_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:r||t.brand||"Unknown Brand",extractedAt:new Date().toISOString(),pdfFileName:n,brandData:t},a=this.getAll();return a.push(s),localStorage.setItem(hu,JSON.stringify(a)),console.log(` Saved brand guidelines for ${s.name} to local storage`),s}static getAll(){try{const t=localStorage.getItem(hu);return t?JSON.parse(t):[]}catch(t){return console.error("Error reading brand guidelines from storage:",t),[]}}static getById(t){return this.getAll().find(n=>n.id===t)||null}static getLatest(){const t=this.getAll();return t.length===0?null:t.reduce((r,n)=>new Date(n.extractedAt)>new Date(r.extractedAt)?n:r)}static delete(t){const r=this.getAll(),n=r.filter(s=>s.id!==t);return n.length!==r.length?(localStorage.setItem(hu,JSON.stringify(n)),console.log(` Deleted brand guideline: ${t}`),!0):!1}static deleteAll(){localStorage.removeItem(hu),console.log(" Cleared all brand guidelines from storage")}static update(t,r){const n=this.getAll(),s=n.findIndex(a=>a.id===t);return s!==-1?(n[s]={...n[s],...r},localStorage.setItem(hu,JSON.stringify(n)),console.log(` Updated brand guideline: ${t}`),n[s]):null}static getBrandColors(t){const r=[],n=Array.isArray(t.brandData.sections)?t.brandData.sections:t.brandData.sections?Object.values(t.brandData.sections):[];for(const s of n){if(s.content)for(const a of s.content)a.colors&&Object.entries(a.colors).forEach(([o,l])=>{r.push({name:o,hex:l.HEX})});if(s.items)for(const a of s.items)a.colors&&Object.entries(a.colors).forEach(([o,l])=>{r.push({name:o,hex:l.HEX})})}return r}static getBrandFonts(t){const r=[],n=Array.isArray(t.brandData.sections)?t.brandData.sections:t.brandData.sections?Object.values(t.brandData.sections):[];for(const s of n){if(s.content)for(const a of s.content)a.fonts&&r.push(...a.fonts);if(s.items)for(const a of s.items)a.fonts&&r.push(...a.fonts)}return r}static searchByBrand(t){return this.getAll().filter(n=>n.brandData.brand.toLowerCase().includes(t.toLowerCase())||n.name.toLowerCase().includes(t.toLowerCase()))}static getStorageInfo(){const t=this.getAll(),r=localStorage.getItem(hu)||"",s=(new Blob([r]).size/1024).toFixed(2),a=t.length>0?t.reduce((o,l)=>new Date(l.extractedAt)>new Date(o.extractedAt)?l:o).extractedAt:null;return{count:t.length,size:`${s} KB`,lastUpdated:a}}}class rie{constructor(){this.geminiApiKey="AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg",this.genAI=new ls(this.geminiApiKey),this.model=this.genAI.getGenerativeModel({model:"gemini-2.0-flash-lite"})}async extractFromExternalAPI(t){console.log(" Starting external API PDF extraction for:",t.name);const r=new FormData;r.append("file",t,t.name);const n={method:"POST",body:r,redirect:"follow"};try{const s=await fetch("http://127.0.0.1:5001/extract-guidelines",n);if(!s.ok){const l=await s.text();throw console.error("External API error response:",l),new Error(`External API failed with status: ${s.status} - ${l}`)}const a=await s.text();console.log("External API response:",a);let o;try{o=JSON.parse(a)}catch(l){throw console.error("Failed to parse API response:",l),new Error("Invalid response format from extraction service")}return o}catch(s){return console.error("External API extraction failed:",s),console.log(" Falling back to Gemini-based PDF extraction"),await this.extractWithGemini(t)}}async extractWithGemini(t){try{const r=await this.fileToBase64(t),a=(await this.model.generateContent([`
Extract all brand design guideline information from this PDF and return it in a single JSON object.

INSTRUCTIONS:
- Analyze the PDF for brand guidelines, color palettes, typography, logo usage, spacing rules
- Extract specific color codes (HEX, RGB, CMYK values)
- Identify font names, weights, and typography hierarchy
- Find logo usage guidelines and restrictions
- Note spacing, layout, and design principles
- Include any compliance or brand standards mentioned

Return the result as a single JSON object with this structure:
{
  "brand_name": "Brand Name",
  "color_palette": {
    "primary": {"HEX": "#000000", "RGB": "0,0,0", "CMYK": "0,0,0,100"},
    "secondary": {"HEX": "#FFFFFF", "RGB": "255,255,255", "CMYK": "0,0,0,0"}
  },
  "typography": [
    {"name": "Arial", "type": "primary", "weight": "regular"},
    {"name": "Helvetica", "type": "secondary", "weight": "bold"}
  ],
  "logo_guidelines": ["Usage rules", "Size requirements", "Clear space"],
  "spacing_guidelines": ["Margin rules", "Padding specifications"],
  "other_guidelines": ["Additional brand rules and requirements"]
}

Fill in as much detail as possible for each field, using only the precise values from the document.
`,{inlineData:{data:r,mimeType:t.type}}])).response.text();console.log("Gemini extraction response:",a);let o;try{const l=a.match(/\{[\s\S]*\}/);if(l)o=JSON.parse(l[0]);else throw new Error("No JSON found in response")}catch(l){console.error("Failed to parse Gemini response:",l),o={brand_name:t.name.replace(".pdf","").replace(/[-_]/g," "),color_palette:{primary:{HEX:"#000000",RGB:"0,0,0"},secondary:{HEX:"#FFFFFF",RGB:"255,255,255"}},typography:[{name:"Arial",type:"primary",weight:"regular"}],logo_guidelines:["Standard logo usage guidelines"],spacing_guidelines:["Standard spacing requirements"],other_guidelines:["General brand compliance rules"]}}return o}catch(r){return console.error("Gemini extraction failed:",r),{brand_name:t.name.replace(".pdf","").replace(/[-_]/g," "),color_palette:{primary:{HEX:"#000000",RGB:"0,0,0"},secondary:{HEX:"#FFFFFF",RGB:"255,255,255"}},typography:[{name:"Arial",type:"primary",weight:"regular"}],logo_guidelines:["Logo usage guidelines extracted from PDF"],spacing_guidelines:["Spacing requirements from brand document"],other_guidelines:["Brand compliance rules and standards"]}}}async fileToBase64(t){return new Promise((r,n)=>{const s=new FileReader;s.onload=()=>{const o=s.result.split(",")[1];r(o)},s.onerror=n,s.readAsDataURL(t)})}async extractBrandGuidelines(t,r){r==null||r("Initializing PDF extraction...",10);try{r==null||r("Connecting to extraction service...",30);const n=await this.extractFromExternalAPI(t);return r==null||r("Processing extracted data...",90),!n.brand_name&&!n.color_palette&&(console.warn("Extraction result seems incomplete, enhancing..."),n.brand_name=n.brand_name||t.name.replace(".pdf","").replace(/[-_]/g," "),n.color_palette=n.color_palette||{primary:{HEX:"#000000",RGB:"0,0,0"}}),r==null||r("Extraction complete!",100),n}catch(n){throw console.error("PDF extraction failed:",n),r==null||r("Extraction failed",0),n}}}function nie(){return new rie}class sie{constructor(){this.geminiApiKey="AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg",this.genAI=new ls(this.geminiApiKey),this.model=this.genAI.getGenerativeModel({model:"gemini-2.0-flash-lite"})}async searchBrandAssets(t,r){r==null||r({step:"Initializing search",progress:10,details:`Starting search for ${t} brand assets`});try{const n=await this.extractBrandColors(t,r);return r==null||r({step:"Finalizing results",progress:95,details:"Compiling comprehensive brand asset collection"}),r==null||r({step:"Search complete",progress:100,details:"Found brand assets"}),console.log("+++++++++++++++++++++++",n),n}catch(n){return console.error("Brand search failed:",n),""}}async getBrandInformation(t,r){r==null||r({step:"Analyzing brand",progress:20,details:"Gathering brand information and context"});try{const n=`
Analyze the brand "${t}" and provide comprehensive information.

Return a JSON object with:
{
  "website": "official website URL if known",
  "description": "brief brand description and industry",
  "industry": "primary industry/sector",
  "founded": "founding year if known",
  "headquarters": "location if known"
}

Focus on factual, well-known information about major brands.
`,a=(await this.model.generateContent(n)).response.text();try{const o=a.match(/\{[\s\S]*\}/);if(o){const l=JSON.parse(o[0]);return{website:l.website,description:l.description}}}catch(o){console.warn("Failed to parse brand info:",o)}}catch(n){console.warn("Failed to get brand information:",n)}return{}}async searchMultipleSources(t,r){return r==null||r({step:"Multi-source search",progress:40,details:"Searching across multiple asset repositories"}),await this.simulateAssetSearch(t)}async simulateAssetSearch(t){const r=t.toLowerCase().replace(/\s+/g,""),n=[{type:"logo",title:`${t} Official Logo`,format:"SVG",quality:"high",source:"Clearbit Logo API",url:`https://logo.clearbit.com/${r}.com`},{type:"icon",title:`${t} Favicon`,format:"ICO",quality:"high",source:"Icon Horse",url:`https://icon.horse/icon/${r}.com`},{type:"logo",title:`${t} Alternative Logo`,format:"PNG",quality:"high",source:"Logo Dev API",url:`https://img.logo.dev/${r}.com?token=pk_X-1ZO13GSgeOdV1bXdTLJQ`}],s={apple:{logos:["https://www.apple.com/ac/structured-data/images/knowledge_graph_logo.png"],colors:["#000000","#FFFFFF","#007AFF"]},microsoft:{logos:["https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE1Mu3b"],colors:["#00BCF2","#80BC00","#FFB900","#F25022"]},google:{logos:["https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png"],colors:["#4285F4","#34A853","#FBBC05","#EA4335"]}},a=r.toLowerCase();if(s[a]){const o=s[a];n.push({type:"logo",title:`${t} High-Quality Logo`,format:"PNG",quality:"high",source:"Official Brand Assets",url:o.logos[0]})}return n}async categorizeAssets(t,r,n){n==null||n({step:"Categorizing assets",progress:60,details:"Organizing and filtering brand assets"});const s=[],a=[],o=[];return t.forEach((l,c)=>{const A={type:l.type,url:this.generateAssetUrl(r,l.type,c),title:l.title,description:`${l.title} - High-quality ${l.format} format`,format:l.format,quality:l.quality,source:l.source,dimensions:this.getAssetDimensions(l.type),fileSize:this.getAssetFileSize(l.format)};switch(l.type){case"logo":case"wordmark":case"brandmark":case"symbol":s.push(A);break;case"icon":a.push(A);break;case"image":o.push(A);break}}),{logos:s,icons:a,brandImages:o}}generateAssetUrl(t,r,n){const s=t.toLowerCase().replace(/\s+/g,""),o={logo:[`https://logo.clearbit.com/${s}.com`,`https://img.logo.dev/${s}.com?token=pk_X-1ZO13GSgeOdV1bXdTLJQ`,`https://companieslogo.com/img/orig/${s}.png`],icon:[`https://icon.horse/icon/${s}.com`,`https://www.google.com/s2/favicons?domain=${s}.com&sz=128`,`https://logo.clearbit.com/${s}.com?size=64`],image:[`https://source.unsplash.com/400x300/?${encodeURIComponent(t)},brand`,`https://source.unsplash.com/600x400/?${encodeURIComponent(t)},company`,`https://source.unsplash.com/800x600/?${encodeURIComponent(t)},business`]}[r];return o&&o[n]?o[n]:`https://via.placeholder.com/400x400/${Math.floor(Math.random()*16777215).toString(16)}/FFFFFF?text=${encodeURIComponent(t)}`}getAssetDimensions(t){return{logo:"512x512",icon:"256x256",wordmark:"800x200",brandmark:"400x400",symbol:"300x300",image:"1200x800"}[t]||"400x400"}getAssetFileSize(t){return{SVG:"15KB",PNG:"45KB",JPG:"120KB",WEBP:"35KB"}[t]||"50KB"}async extractBrandColors(t,r){r==null||r({step:"Extracting colors",progress:80,details:"Analyzing brand color palette from assets"});try{const n=`I am building a user interface that must align visually and structurally with the brand "${t}". Based on known design principles, brand guidelines, and inferred visual identity, generate a comprehensive JSON object.

Do **not** hallucinate. Only use realistic or well-informed estimates based on the brand's actual identity or industry best practices.

### Output Format:
json
{
  "brand": "${t}",
  "brand_url: "brand base url"
  "brand_logo_url": "should be https://logo.clearbit.com/${t} domain",
  "brand_supported_images": [
    "VALID_IMAGE_URL_1",
    "VALID_IMAGE_URL_2"
  ],
  "brand_compliant_layout":""|| object,
  "color_palette": {
    "primary": ["#HEX_CODE_PRIMARY_1", "#HEX_CODE_PRIMARY_2"],
    "secondary": ["#HEX_CODE_SECONDARY_1", "#HEX_CODE_SECONDARY_2"],
    "accent": ["#HEX_CODE_ACCENT_1", "#HEX_CODE_ACCENT_2"],
    "neutral": ["#HEX_NEUTRAL_LIGHT", "#HEX_NEUTRAL_MEDIUM", "#HEX_NEUTRAL_DARK"],
    "status": {
      "success": "#HEX_SUCCESS_COLOR",
      "warning": "#HEX_WARNING_COLOR",
      "error": "#HEX_ERROR_COLOR",
      "info": "#HEX_INFO_COLOR"
    }
  },
  "typography": {
    "font_family": "BRAND_FONT_FAMILY_NAME",
    "heading_scale": {
      "h1": "H1_FONT_SIZE (e.g., '36px')",
      "h2": "H2_FONT_SIZE",
      "h3": "H3_FONT_SIZE",
      "h4": "H4_FONT_SIZE",
      "h5": "H5_FONT_SIZE",
      "h6": "H6_FONT_SIZE"
    },
    "body": "BODY_TEXT_SIZE (e.g., '16px')",
    "line_height": "LINE_HEIGHT_VALUE (e.g., '1.5')"
  },
  "spacing": {
    "padding": {
      "small": "PADDING_SMALL (e.g., '8px')",
      "medium": "PADDING_MEDIUM",
      "large": "PADDING_LARGE"
    },
    "margin": {
      "small": "MARGIN_SMALL",
      "medium": "MARGIN_MEDIUM",
      "large": "MARGIN_LARGE"
    },
    "gap": {
      "between_elements": "ELEMENT_GAP_SIZE",
      "section_spacing": "SECTION_SPACING_SIZE"
    }
  },
  "layout": {
    "grid_columns": GRID_COLUMN_COUNT (e.g., 12),
    "container_width": "CONTAINER_WIDTH (e.g., '1200px')",
    "breakpoints": {
      "mobile": "MOBILE_BREAKPOINT (e.g., '576px')",
      "tablet": "TABLET_BREAKPOINT",
      "desktop": "DESKTOP_BREAKPOINT",
      "large_desktop": "LARGE_DESKTOP_BREAKPOINT"
    }
  },
  "border": {
    "radius": {
      "small": "BORDER_RADIUS_SMALL (e.g., '4px')",
      "medium": "BORDER_RADIUS_MEDIUM",
      "large": "BORDER_RADIUS_LARGE"
    },
    "width": "BORDER_WIDTH (e.g., '1px')",
    "style": "BORDER_STYLE (e.g., 'solid')",
    "color": "#HEX_BORDER_COLOR"
  },
  "shadow": {
    "level1": "SHADOW_LEVEL_1 (e.g., '0 1px 3px rgba(...)')",
    "level2": "SHADOW_LEVEL_2",
    "level3": "SHADOW_LEVEL_3"
  },
  "buttons": {
    "primary": {
      "background": "#PRIMARY_BUTTON_COLOR",
      "text_color": "#PRIMARY_BUTTON_TEXT_COLOR",
      "hover": "#PRIMARY_BUTTON_HOVER_COLOR",
      "border_radius": "BUTTON_BORDER_RADIUS",
      "padding": "BUTTON_PADDING"
    },
    "secondary": {
      "background": "#SECONDARY_BUTTON_BG",
      "text_color": "#SECONDARY_BUTTON_TEXT",
      "border": "SECONDARY_BUTTON_BORDER_STYLE",
      "hover": "#SECONDARY_BUTTON_HOVER_BG"
    }
  },
  
  "rationale": {
    "colors": "EXPLAIN_HOW_COLORS_MATCH_BRAND_IDENTITY",
    "typography": "WHY_SELECTED_FONT_AND_SCALE_REFLECT_THE_BRAND",
    "layout": "LOGIC_BEHIND_LAYOUT_WIDTH_AND_GRID_FOR_THIS_BRAND",
    "images": "WHY_SELECTED_IMAGES_MATCH_BRAND_TONE_AND_CONTEXT"
  }
}
`,a=(await this.model.generateContent(n)).response.text();try{return a}catch(o){console.warn("Failed to parse color data:",o)}}catch(n){console.warn("Failed to extract colors:",n)}return{primary:["#000000","#333333"],secondary:["#666666","#999999"],accent:["#0066CC","#FF6600"]}}createFallbackResults(t){const r={type:"logo",url:`https://via.placeholder.com/512x512/000000/FFFFFF?text=${encodeURIComponent(t)}`,title:`${t} Logo`,description:`Generated placeholder logo for ${t}`,format:"PNG",quality:"medium",source:"Generated Placeholder",dimensions:"512x512",fileSize:"25KB"},n={type:"icon",url:`https://via.placeholder.com/256x256/333333/FFFFFF?text=${encodeURIComponent(t.charAt(0))}`,title:`${t} Icon`,description:`Generated icon for ${t}`,format:"PNG",quality:"medium",source:"Generated Placeholder",dimensions:"256x256",fileSize:"15KB"};return{brandName:t,searchedAt:new Date().toISOString(),logos:[r],icons:[n],brandImages:[],colors:{primary:["#000000","#333333"],secondary:["#666666","#999999"],accent:["#0066CC","#FF6600"]},searchSources:["Fallback generation"],totalAssetsFound:2}}}function iie(){return new sie}function aie({visible:e,pageContentCards:t,onBrandGuidelinesExtracted:r,onWireframesGenerated:n,onUnifiedHTMLGenerated:s}){const[a,o]=b.useState(!1),[l,c]=b.useState(""),[A,d]=b.useState(null),[u,p]=b.useState(null),[f,x]=b.useState(!1),[m,N]=b.useState({current:0,total:0}),[g,y]=b.useState(!1),[w,E]=b.useState(!1),[_,D]=b.useState({current:0,total:0,currentPage:""}),[R,I]=b.useState(!1),[Q,U]=b.useState(!1),[S,P]=b.useState(Ui.getAll()),[O,k]=b.useState(""),[Z,H]=b.useState(!1),[q,K]=b.useState(""),[W,te]=b.useState(null),[ue,T]=b.useState(null),{toast:$}=Em();if(!e)return null;const V=async()=>{if(O.trim()){H(!0),K(""),T(null),te(null);try{console.log(" Starting comprehensive brand asset search for:",O);let z=await iie().searchBrandAssets(O,de=>{T(de)});console.log("=============searchResults======>>>>>>>>>>>",z),te(z),z.startsWith("```json")&&(z=z.replace(/^```json\s*/,"").replace(/```\s*$/,"")),d(z),r==null||r(z);const ae=Ui.save(z,O,`web-search-${Date.now()}`);P(Ui.getAll()),console.log(" Saved comprehensive brand guidelines for",O,"to local storage"),$({title:"Brand Assets Found",description:`Successfully found  brand assets for ${O}`}),I(!0)}catch(G){console.error("Brand search failed:",G),K("Failed to search for brand assets. Please try again."),$({title:"Search Failed",description:"Could not find brand assets. Please try a different brand name.",variant:"destructive"})}finally{H(!1),T(null)}}},se=async G=>{var ae;const z=(ae=G.target.files)==null?void 0:ae[0];if(z){if(z.type!=="application/pdf"){c("Please upload a PDF file.");return}o(!0),c(""),x(!0),N({current:0,total:100,currentStep:"Initializing PDF extraction..."});try{console.log(" Starting PDF extraction for:",z.name);const he=await nie().extractBrandGuidelines(z,(oe,Re)=>{N({current:Re,total:100,currentStep:oe})});console.log(" PDF extraction completed:",he),d(he),p(null);const ce=Ui.save(he,he.brand_name||"Brand Guidelines",z.name);P(Ui.getAll()),r==null||r(he),$({title:"Brand Guidelines Extracted",description:`Successfully extracted guidelines from ${z.name}`})}catch(de){console.error("Brand guideline extraction failed:",de);const he=de instanceof Error?de.message:"Unknown error occurred";c(`Failed to extract brand guidelines: ${he}`),$({title:"Extraction Failed",description:"Could not extract brand guidelines from the PDF file.",variant:"destructive"})}finally{o(!1),x(!1),N({current:0,total:0,currentStep:""})}}},Y=async()=>{if(!(!A||!t||t.length===0)){y(!0),D({current:0,total:t.length,currentPage:""});try{console.log(" Starting Gemini-based wireframe generation");const G="AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg",ae=new ls(G).getGenerativeModel({model:"gemini-2.0-flash-lite"}),de=[];for(let he=0;he<t.length;he++){const ce=t[he];D({current:he,total:t.length,currentPage:ce.pageName}),console.log(`Generating wireframe for: ${ce.pageName}`);const oe=`You are a senior web HTML 5 developer creating a brand-consistent and fully brand complaint  wireframe. Generate a complete HTML page with embedded CSS and JavaScript.

PAGE CONTENT:
${JSON.stringify({pageName:ce.pageName,pageType:ce.pageType,purpose:ce.purpose,stakeholders:ce.stakeholders,headers:ce.headers||[],buttons:ce.buttons||[],forms:ce.forms||[],lists:ce.lists||[],navigation:ce.navigation||[],additionalContent:ce.additionalContent||[]},null,2)}

BRAND GUIDELINES:
${JSON.stringify(A,null,2)}

Brand Logo: 
https://logo.clearbit.com/${A==null?void 0:A.brand_url}

REQUIREMENTS:
1. Create a complete HTML document with embedded CSS and JavaScript
2. Use the brand colors, fonts, styling and layouts from the guidelines
3. Implement all page elements (headers, footers, buttons, forms, lists, cards, navigation)
4. Make it responsive and modern with various HTML 5 components like cards, slides, icons
5. Follow the brand's visual identity strictly
6. Use semantic HTML5 elements
7. CRITICAL ACCESSIBILITY: Ensure proper color contrast ratios (minimum 4.5:1 for normal text, 3:1 for large text)
8. NEVER use the same color for text and background - always use contrasting brand colors
9. For dark backgrounds, use light text colors; for light backgrounds, use dark text colors
10. Include hover effects and transitions with maintained contrast
11. Make forms functional with validation
12. Use interactive UI elements with proper contrast
13. Ensure proper spacing between elements
14. Test all color combinations for readability before applying
15. If available, use Image of brand Logo, add some images in the body to make it more brand view   


RESPONSE FORMAT:
Return only the complete HTML code with embedded CSS in <style> tags and JavaScript in <script> tags. Do not include any explanations or markdown formatting.`,Ce=(await ae.generateContent(oe)).response.text();console.log(`Generated wireframe for ${ce.pageName}, length: ${Ce.length}`);const xe=Ce.match(/<!DOCTYPE html>[\s\S]*<\/html>/i),Fe=Ce.match(/<style[^>]*>([\s\S]*?)<\/style>/i),ze=Ce.match(/<script[^>]*>([\s\S]*?)<\/script>/i),Qe=xe?xe[0]:Ce,We=Fe?Fe[1]:"",Oe=ze?ze[1]:"";de.push({id:`wireframe-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,pageName:ce.pageName,htmlCode:Qe,cssCode:We,jsCode:Oe}),D({current:he+1,total:t.length,currentPage:ce.pageName})}n==null||n(de),$({title:"Brand Wireframes Generated",description:`Generated ${de.length} brand-aware wireframes using AI`})}catch(G){console.error("Error generating brand wireframes:",G),$({title:"Generation Failed",description:"Failed to generate brand-aware wireframes with Gemini",variant:"destructive"})}finally{y(!1),D({current:0,total:0,currentPage:""})}}},L=async()=>{if(A){E(!0);try{const G=Jse(),z=[];for(const ae of t){const de={pageName:ae.pageName,pageType:ae.pageType,purpose:ae.purpose,stakeholders:ae.stakeholders,htmlContent:"",cssStyles:"",contentDetails:{headers:ae.headers||[],texts:ae.additionalContent||[],buttons:ae.buttons||[],forms:ae.forms||[],lists:ae.lists||[],images:[]}},he=await G.generateDetailedWireframes([de],"modern","desktop");z.push({pageName:ae.pageName,htmlCode:he[0].htmlContent,cssCode:he[0].cssStyles,jsCode:""})}s==null||s(z),$({title:"Unified HTML Generated",description:`Generated unified HTML for ${z.length} pages`})}catch(G){console.error("Error generating unified HTML:",G),$({title:"Generation Failed",description:"Failed to generate unified HTML",variant:"destructive"})}finally{E(!1)}}},C=G=>{d(G.brandData),r==null||r(G.brandData),U(!1),$({title:"Brand Guidelines Loaded",description:`Loaded ${G.name} from local storage`})},j=G=>{Ui.delete(G),P(Ui.getAll()),$({title:"Brand Guidelines Deleted",description:"Guidelines removed from local storage"})};return console.log("==============brandGuidelines=========>",A),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(lt,{className:"border-dashed border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-blue-50",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx(u2,{className:"h-6 w-6 text-purple-600"}),"Brand Guidelines Upload"]})}),i.jsxs(ct,{className:"p-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(br,{htmlFor:"brand-upload",className:"text-sm font-medium text-gray-700",children:"Upload Brand Guidelines PDF"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pr,{id:"brand-upload",type:"file",accept:".pdf",onChange:se,disabled:a,className:"flex-1 text-sm",placeholder:"Choose PDF file..."}),i.jsx(me,{onClick:()=>I(!0),variant:"outline",size:"sm",disabled:!A,className:"px-3",children:i.jsx(Wa,{className:"h-4 w-4"})}),i.jsxs(me,{onClick:()=>U(!0),variant:"outline",size:"sm",className:"px-3",children:[i.jsx(sv,{className:"h-4 w-4"}),i.jsxs("span",{className:"ml-1 text-xs",children:["(",S.length,")"]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("span",{className:"text-xs text-gray-500 bg-white px-2",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(br,{htmlFor:"brand-name",className:"text-sm font-medium text-gray-700",children:"Search Brand Assets by Name"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pr,{id:"brand-name",type:"text",placeholder:"Enter brand name (e.g., Nike, Apple, Starbucks)",value:O,onChange:G=>k(G.target.value),disabled:Z,className:"flex-1 text-sm"}),i.jsx(me,{onClick:V,disabled:!O.trim()||Z,variant:"default",size:"sm",className:"px-4",children:Z?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-4 w-4 animate-spin mr-1"}),"Searching..."]}):i.jsxs(i.Fragment,{children:[i.jsx(iv,{className:"h-4 w-4 mr-1"}),"Search"]})})]}),q&&i.jsx("div",{className:"text-sm text-amber-600 bg-amber-50 px-3 py-2 rounded-md border border-amber-200",children:q})]})]}),a&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-600 bg-purple-50 px-3 py-2 rounded-md",children:[i.jsx(Vt,{className:"h-4 w-4 animate-spin"}),"Extracting guidelines..."]}),Z&&i.jsxs("div",{className:"bg-blue-50 rounded-md p-3 border border-blue-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-blue-700",children:[i.jsx(Vt,{className:"h-4 w-4 animate-spin"}),(ue==null?void 0:ue.step)||"Searching for brand assets..."]}),ue&&i.jsxs("span",{className:"text-xs text-blue-600",children:[ue.progress,"%"]})]}),ue&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mb-2",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${ue.progress}%`}})}),i.jsx("div",{className:"text-xs text-blue-700",children:ue.details})]})]}),f&&m.total>0&&i.jsxs("div",{className:"bg-indigo-50 rounded-md p-3 border border-indigo-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-indigo-700",children:[i.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-pulse"}),"Processing PDF"]}),i.jsxs("span",{className:"text-xs text-indigo-600",children:[Math.round(m.current/m.total*100),"%"]})]}),i.jsx("div",{className:"w-full bg-indigo-200 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.current/m.total*100}%`}})})]}),A&&i.jsx("div",{className:"bg-emerald-50 rounded-md p-3 border border-emerald-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-emerald-700",children:[i.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Brand Guidelines Ready"]}),i.jsx(me,{onClick:()=>I(!0),variant:"ghost",size:"sm",className:"text-emerald-600 hover:text-emerald-700 p-1",children:i.jsx(Wa,{className:"h-3 w-3"})})]})}),l&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 px-3 py-2 rounded-md border border-red-200",children:l})]}),g&&_.total>0&&i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-md p-3 border border-blue-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-blue-800",children:[i.jsx(wn,{className:"h-4 w-4"}),"Generating Wireframes"]}),i.jsxs("span",{className:"text-xs text-blue-600",children:[_.current,"/",_.total]})]}),i.jsx(bB,{value:_.current/_.total*100,className:"w-full mb-2 h-2"}),i.jsx("div",{className:"text-xs text-blue-700",children:_.current<_.total?i.jsxs("span",{children:["Processing: ",i.jsx("strong",{children:_.currentPage})]}):i.jsx("span",{className:"font-medium",children:"Finalizing..."})})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-gray-200",children:[i.jsx(me,{onClick:Y,variant:"default",size:"sm",className:"flex items-center gap-2",children:g?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-4 w-4 animate-spin"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wn,{className:"h-4 w-4"}),"Generate Brand Wireframes"]})}),i.jsx(me,{onClick:L,disabled:!A||w,variant:"outline",size:"sm",className:"flex items-center gap-2",children:w?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-4 w-4 animate-spin"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(pl,{className:"h-4 w-4"}),"Section Wireframes"]})})]})]})]}),R&&A&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg w-[90vw] max-w-4xl h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[i.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[i.jsx(u2,{className:"h-6 w-6 text-purple-600"}),"Brand Guidelines Overview"]}),i.jsx(me,{onClick:()=>I(!1),variant:"ghost",size:"sm",children:i.jsx(un,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"p-4 overflow-auto h-[calc(90vh-120px)]",children:i.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-emerald-50 to-blue-50 rounded-lg border border-emerald-200",children:[i.jsxs("h3",{className:"text-lg font-semibold text-emerald-800 mb-3 flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"}),"Extracted Brand Guidelines JSON"]}),i.jsx("div",{className:"bg-white rounded-lg border p-4 max-h-96 overflow-auto",children:i.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono",children:A||JSON.stringify(A,null,2)})})]})})]})}),Q&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg w-[90vw] max-w-4xl h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[i.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[i.jsx(sv,{className:"h-6 w-6 text-purple-600"}),"Stored Brand Guidelines (",S.length,")"]}),i.jsx(me,{onClick:()=>U(!1),variant:"ghost",size:"sm",children:i.jsx(un,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"p-6 overflow-auto h-[calc(90vh-120px)]",children:[S.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(sv,{className:"h-10 w-10 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No stored guidelines"}),i.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Upload a PDF to automatically extract and save brand guidelines for future projects"})]}):i.jsx("div",{className:"space-y-4",children:S.map(G=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 hover:border-gray-300 hover:shadow-sm transition-all duration-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:G.name}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsx("span",{children:""}),i.jsx("time",{children:new Date(G.extractedAt).toLocaleDateString()})]})]}),G.pdfFileName&&i.jsx("p",{className:"text-sm text-gray-500 truncate",children:G.pdfFileName})]}),i.jsxs("div",{className:"flex gap-2 ml-4",children:[i.jsxs(me,{onClick:()=>C(G),variant:"default",size:"sm",className:"px-3",children:[i.jsx(Wa,{className:"h-4 w-4 mr-1"}),"Load"]}),i.jsx(me,{onClick:()=>j(G.id),variant:"outline",size:"sm",className:"px-3 text-red-600 hover:text-red-700 border-red-200 hover:border-red-300",children:i.jsx(ns,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"flex items-center gap-6 mb-3",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{className:"text-gray-600",children:"Brand:"}),i.jsx("span",{className:"font-medium text-gray-900",children:G.brandData.brand})]})})]},G.id))}),S.length>0&&i.jsx("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Storage:"})," ",Ui.getStorageInfo().size," used",Ui.getStorageInfo().lastUpdated&&i.jsxs("span",{className:"ml-2",children:[" Updated"," ",new Date(Ui.getStorageInfo().lastUpdated).toLocaleDateString()]})]}),i.jsxs(me,{onClick:()=>{Ui.deleteAll(),P([]),$({title:"Storage Cleared",description:"All stored guidelines have been removed"})},variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300",children:[i.jsx(ns,{className:"h-4 w-4 mr-1"}),"Clear All"]})]})})]})]})})]})}const ol=e=>{if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean")return String(e);if(e==null)return"";if(typeof e=="object"){if(e.label&&e.url)return`${e.label} (${e.url})`;if(e.label&&e.href)return`${e.label} (${e.href})`;if(e.text&&e.link)return`${e.text} (${e.link})`;if(e.name&&e.url)return`${e.name} (${e.url})`;if(e.title&&e.link)return`${e.title} (${e.link})`;if(e.text)return String(e.text);if(e.label)return String(e.label);if(e.name)return String(e.name);if(e.title)return String(e.title);if(e.value)return String(e.value);if(e.content)return String(e.content);if(Array.isArray(e))return e.map(t=>ol(t)).join(", ");try{return Object.entries(e).map(([t,r])=>`${t}: ${ol(r)}`).join(", ")}catch{return JSON.stringify(e)}}else return String(e)};function L1(){var Qt,et,ur,Ut,Xr,rr,Yt,Tr,Jt,kn,yr,bn,ts,mr,Rt,hr,pn,Ur,mn,Cn,pe,je,De,Ie,Te,nt,Xe,Et,it,It,dt,pt,_t;const[e,t]=b.useState([]);b.useState(null),b.useState(!1);const[r,n]=b.useState("input"),{toast:s}=Em(),[a,o]=b.useState("");b.useState({projectType:"",targetAudience:"",primaryFeatures:[],colorPreference:"",designStyle:"",deviceType:"desktop",screenTypes:[]});const[l,c]=b.useState({current:0,total:0,status:""}),[A,d]=b.useState(null),[u,p]=b.useState(!1),[f,x]=b.useState([]),[m,N]=b.useState(!1),[g,y]=b.useState(!1),[w,E]=b.useState(null),[_,D]=b.useState(!1),[R,I]=b.useState([]),[Q,U]=b.useState({}),[S,P]=b.useState({current:0,total:0,currentPage:""}),[O,k]=b.useState(!1),[Z,H]=b.useState([]),[q,K]=b.useState({current:0,total:0,currentPage:""}),[W,te]=b.useState(""),[ue,T]=b.useState(!1),[$,V]=b.useState(null),[se,Y]=b.useState(!1),[L,C]=b.useState(null),[j,G]=b.useState("");b.useState("desktop"),b.useState("modern-blue"),b.useState("modern"),b.useState("standard-header");const[z,ae]=b.useState(null);b.useState(null),b.useState(!1);const[de,he]=b.useState(!1);b.useState("");const[ce,oe]=b.useState([]);b.useState(""),b.useState(!1);const[Re,Ce]=b.useState(null);b.useState(null);const[xe,Fe]=b.useState(null);b.useState(!1),b.useState({current:0,total:0,currentStep:""});const ze=ne=>{const Be=JSON.parse(localStorage.getItem("generated_wireframes")||"[]").find(Le=>Le.pageName===ne&&Le.isEnhanced);if(Be)return{pageName:Be.pageName,htmlCode:Be.htmlCode,cssCode:Be.cssCode,jsCode:Be.jsCode,isEnhanced:!0,lastUpdated:Be.lastUpdated,lastEnhancedElement:Be.lastEnhancedElement,enhancementExplanation:Be.enhancementExplanation};const Ee=f.find(Le=>Le.pageName===ne);return Ee?{pageName:Ee.pageName,htmlCode:Ee.htmlContent,cssCode:Ee.cssStyles,jsCode:"",isEnhanced:!1}:null};b.useEffect(()=>{const ne=Ui.getAll();oe(ne);const ve=Ui.getLatest();ve&&!z&&ae(ve);const Be=Fr.getItem("wireframe_designs"),Ee=Fr.getItem("page_content_cards"),Le=Fr.getItem("generated_wireframes"),$e=Fr.getItem("analysis_result"),xt=Fr.getItem("page_layouts");if(Be&&t(Be),Ee&&I(Ee),Le){let Ot=Le;if(Array.isArray(Ot)?console.log("Loading generated wireframes from storage:",Ot.length,"wireframes found"):(console.log("Loading generated wireframes from localStorage:",Ot,"wireframes found"),Ot=[]),Ot.length>0){const Br=Ot.map(xr=>(xr.id||(console.log("Adding missing ID to wireframe:",xr.pageName),xr.id=`wireframe_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),xr));Br.some((xr,Sr)=>{var Bn;return xr.id!==((Bn=Ot[Sr])==null?void 0:Bn.id)})&&(console.log("Updating storage with IDs for existing wireframes"),Fr.setItem("generated_wireframes",Br));const Nr=Br.filter(xr=>xr.isEnhanced).length;Nr>0&&(console.log(`Found ${Nr} enhanced wireframes in localStorage`),console.log("Enhanced wireframes:",Br.filter(xr=>xr.isEnhanced).map(xr=>({id:xr.id,pageName:xr.pageName,isEnhanced:xr.isEnhanced,lastUpdated:xr.lastUpdated})))),console.log("All wireframes with IDs:",Br.map(xr=>({id:xr.id,pageName:xr.pageName}))),H(Br)}}$e&&d($e),xt&&U(xt)},[f]),b.useEffect(()=>{const ne=()=>{const Be=Fr.getItem("generated_wireframes");Be&&Array.isArray(Be)&&H(Be)};window.addEventListener("storage",ne);const ve=setInterval(()=>{const Be=Fr.getItem("generated_wireframes");if(Be&&Array.isArray(Be)){const Ee=Be.some($e=>{const xt=Z.find(Ot=>Ot.id===$e.id);return xt&&$e.lastUpdated&&xt.lastUpdated!==$e.lastUpdated}),Le=Be.some($e=>{const xt=Fr.getItem(`html_editor_${$e.id}`);if(xt){const Ot=Z.find(Br=>Br.id===$e.id);return Ot&&xt.lastSaved&&(!Ot.lastEditorSync||xt.lastSaved>Ot.lastEditorSync)}return!1});if(Ee||Le){console.log("Detected wireframe updates, refreshing preview..."),N(!0);const $e=Be.map(xt=>{const Ot=Fr.getItem(`html_editor_${xt.id}`);return Ot&&Ot.lastSaved?{...xt,htmlCode:Ot.htmlCode||xt.htmlCode,cssCode:Ot.cssCode||xt.cssCode,jsCode:Ot.jsCode||xt.jsCode,lastUpdated:Ot.lastSaved,lastEditorSync:Ot.lastSaved}:xt});H($e),setTimeout(()=>N(!1),500)}}},500);return()=>{window.removeEventListener("storage",ne),clearInterval(ve)}},[Z]),b.useEffect(()=>{e.length>0&&Fr.setItem("wireframe_designs",e)},[e]),b.useEffect(()=>{R.length>0&&Fr.setItem("page_content_cards",R)},[R]),b.useEffect(()=>{Z.length>0&&Fr.setItem("generated_wireframes",Z)},[Z]),b.useEffect(()=>{Fr.setItem("page_layouts",Q)},[Q]),b.useEffect(()=>{A&&Fr.setItem("analysis_result",A)},[A]);const Qe=async()=>{p(!0),o("");try{const ve=await qse().analyzeStakeholderFlows();d(ve),n("input")}catch(ne){console.error("Error analyzing stakeholder flows:",ne),o(ne instanceof Error?ne.message:"Failed to analyze stakeholder flows")}finally{p(!1)}},We=async()=>{if(A){D(!0),o(""),P({current:0,total:A.pageRequirements.length,currentPage:""});try{const ne=JSON.parse(localStorage.getItem("stakeholder_flows")||"[]"),ve=JSON.parse(localStorage.getItem("flow_types")||"{}"),Be=localStorage.getItem("project_description")||"",Ee=tie(),Le=[];for(let $e=0;$e<A.pageRequirements.length;$e++){const xt=A.pageRequirements[$e];P({current:$e+1,total:A.pageRequirements.length,currentPage:xt.pageName});const Ot=await Ee.generateSinglePageContent(xt,{stakeholderFlows:ne,flowTypes:ve,projectDescription:Be});Le.push({id:`page-${$e}`,...Ot,isEdited:!1})}I(Le)}catch(ne){console.error("Error generating page content:",ne),o(ne instanceof Error?ne.message:"Failed to generate page content")}finally{D(!1),P({current:0,total:0,currentPage:""})}}},Oe=async()=>{if(!w||!W.trim()){s({title:"Invalid Request",description:"Please enter an enhancement prompt.",variant:"destructive"});return}T(!0),o("");try{const ne=Z.find(Sr=>Sr.pageName===w.pageName);let ve=w.htmlCode,Be=w.cssCode,Ee=w.jsCode;if(ne!=null&&ne.id){const Sr=Fr.getItem(`html_editor_${ne.id}`);Sr&&Sr.lastSaved&&(console.log("Using latest HTML editor data for enhancement"),ve=Sr.htmlCode||w.htmlCode,Be=Sr.cssCode||w.cssCode,Ee=Sr.jsCode||w.jsCode)}const Le=IR(),$e={htmlCode:ve,cssCode:Be,prompt:W,pageName:w.pageName},xt=await Le.enhanceCode($e);V(xt);const Ot={pageName:w.pageName,htmlCode:xt.html,cssCode:xt.css,jsCode:xt.js};E(Ot);const Br=JSON.parse(localStorage.getItem("wireframeData")||"[]");console.log("Existing wireframes:",Br),console.log("Looking for page:",w.pageName);const Gt=Br.map(Sr=>Sr.pageName===w.pageName?(console.log("Found matching wireframe, updating..."),{...Sr,htmlCode:xt.html,cssCode:xt.css,jsCode:xt.js,isEnhanced:!0,lastUpdated:new Date().toISOString()}):Sr);console.log("Updated wireframes:",Gt),localStorage.setItem("wireframeData",JSON.stringify(Gt));const xr=JSON.parse(localStorage.getItem("wireframeData")||"[]").find(Sr=>Sr.pageName===w.pageName);console.log("Verification - saved enhanced page:",xr),H(Sr=>Sr.map(Bn=>Bn.pageName===w.pageName?{...Bn,htmlCode:xt.html,cssCode:xt.css,jsCode:xt.js}:Bn)),s({title:"Code Enhanced Successfully",description:"Enhanced code saved to localStorage and tabs updated."})}catch(ne){console.error("Error enhancing code:",ne),V({html:w.htmlCode,css:w.cssCode,js:`// Enhancement failed - showing original code
// Please check API configuration and try again`,explanation:"Enhancement failed. Showing original code instead.",improvements:["Original HTML preserved","Original CSS preserved","Please try again with a different prompt"]}),o(ne instanceof Error?ne.message:"Failed to enhance code"),s({title:"Enhancement Failed",description:"Showing original code. Please check your prompt and try again.",variant:"destructive"})}finally{T(!1)}},Ke=()=>{if(!w)return;const ne=Z.find(Ee=>Ee.pageName===w.pageName);if(!(ne!=null&&ne.id)){s({title:"Error",description:"Could not find wireframe ID for this page.",variant:"destructive"});return}const ve=Fr.getItem(`html_editor_${ne.id}`);if(!ve){s({title:"No Changes Found",description:"No HTML editor data found for this wireframe.",variant:"destructive"});return}console.log("Saving HTML editor data to wireframes:",ve);const Be=Z.map(Ee=>Ee.id===ne.id?{...Ee,htmlCode:ve.htmlCode||Ee.htmlCode,cssCode:ve.cssCode||Ee.cssCode,jsCode:ve.jsCode||Ee.jsCode,isEnhanced:!0,lastUpdated:ve.lastSaved||new Date().toISOString(),lastEnhancedElement:"HTML Editor",lastEditorSync:ve.lastSaved}:Ee);Fr.setItem("generated_wireframes",Be),H(Be),E({pageName:w.pageName,htmlCode:ve.htmlCode||w.htmlCode,cssCode:ve.cssCode||w.cssCode,jsCode:ve.jsCode||w.jsCode}),s({title:"Code Saved Successfully",description:"HTML editor changes have been saved to the wireframe."})},ht=ne=>{var Ot;if(!se)return;ne.preventDefault(),ne.stopPropagation();const ve=ne.target,Be=`enhanced-${Date.now()}`;ve.setAttribute("data-enhance-id",Be);let Ee="";const Le=ve.tagName.toLowerCase(),$e=((Ot=ve.textContent)==null?void 0:Ot.trim().substring(0,30))||"";Le==="button"?Ee=`Button: "${$e}"`:Le==="h1"||Le==="h2"||Le==="h3"?Ee=`Header: "${$e}"`:Le==="form"?Ee="Form section":Le==="input"?Ee=`Input field: ${ve.getAttribute("placeholder")||"text input"}`:Le==="nav"?Ee="Navigation menu":ve.className.includes("button")?Ee=`Button: "${$e}"`:Ee=$e?`${Le}: "${$e}"`:Le,C(JSON.stringify({displayName:Ee,tagName:Le,className:ve.className,id:ve.id,uniqueId:Be,textContent:$e})),Y(!1);const xt=document.querySelector('[data-selected-for-enhancement="true"]');xt&&(xt.removeAttribute("data-selected-for-enhancement"),xt instanceof HTMLElement&&(xt.style.outline="",xt.style.outlineOffset="")),ve.setAttribute("data-selected-for-enhancement","true"),ve.style.outline="3px solid #10B981",ve.style.outlineOffset="2px",s({title:"Element Selected",description:`Selected: ${Ee}`})},Pt=async()=>{var ne,ve;if(!(!w||!L||!j.trim())){T(!0);try{const Be=JSON.parse(L),Ee=PR(),Le={htmlCode:w.htmlCode,cssCode:w.cssCode,elementData:Be,enhancementPrompt:j.trim(),pageName:w.pageName},$e=await Ee.enhanceElement(Le),xt={pageName:w.pageName,htmlCode:$e.html,cssCode:$e.css,jsCode:$e.js};E(xt);const Ot=Fr.getItem("generated_wireframes")||[];console.log("Precise element enhancement - Looking for page:",w.pageName);const Br=Ot.map(Sr=>Sr.pageName===w.pageName?(console.log("Found matching wireframe, updating with precise element enhancement..."),{...Sr,htmlCode:$e.html,cssCode:$e.css,jsCode:$e.js,isEnhanced:!0,lastUpdated:new Date().toISOString(),lastEnhancedElement:Be.displayName,enhancementExplanation:$e.explanation}):Sr);Fr.setItem("generated_wireframes",Br);const Nr=(Fr.getItem("generated_wireframes")||[]).find(Sr=>Sr.pageName===w.pageName);console.log("Verification - Enhanced wireframe saved to storage:",{pageName:Nr==null?void 0:Nr.pageName,isEnhanced:Nr==null?void 0:Nr.isEnhanced,lastUpdated:Nr==null?void 0:Nr.lastUpdated,lastEnhancedElement:Nr==null?void 0:Nr.lastEnhancedElement,htmlLength:(ne=Nr==null?void 0:Nr.htmlCode)==null?void 0:ne.length,cssLength:(ve=Nr==null?void 0:Nr.cssCode)==null?void 0:ve.length}),H(Sr=>Sr.map(Bn=>Bn.pageName===w.pageName?{...Bn,htmlCode:$e.html,cssCode:$e.css,jsCode:$e.js}:Bn));const xr=document.querySelector('[data-selected-for-enhancement="true"]');xr&&(xr.removeAttribute("data-selected-for-enhancement"),xr instanceof HTMLElement&&(xr.style.outline="",xr.style.outlineOffset="")),C(null),G(""),s({title:"Element Enhanced Successfully",description:$e.explanation})}catch(Be){console.error("Error enhancing selected element:",Be),s({title:"Enhancement Failed",description:"Failed to enhance the selected element. Please try again.",variant:"destructive"})}finally{T(!1)}}},wt=async ne=>{if(!z){s({title:"Brand Guidelines Required",description:"Please load brand guidelines first.",variant:"destructive"});return}const ve=R.find(Be=>Be.pageName===ne);if(!ve){s({title:"Page Not Found",description:"Could not find the page content to regenerate.",variant:"destructive"});return}k(!0),K({current:0,total:1,currentPage:ne});try{console.log("Regenerating wireframe with logo variants for:",ne),console.log("Generating branded wireframe for:",ne);const Be="AIzaSyA1TeASa5De0Uvtlw8OKhoCWRkzi_vlowg",Le=new ls(Be).getGenerativeModel({model:"gemini-2.0-flash-lite"});K({current:0,total:1,currentPage:ne});const $e=`You are a senior web developer creating a brand-consistent wireframe. Generate a complete HTML page with embedded CSS and JavaScript.

PAGE CONTENT:
${JSON.stringify({pageName:ve.pageName,pageType:ve.pageType,purpose:ve.purpose,stakeholders:ve.stakeholders,headers:ve.headers||[],buttons:ve.buttons||[],forms:ve.forms||[],lists:ve.lists||[],navigation:ve.navigation||[],additionalContent:ve.additionalContent||[]},null,2)}

BRAND GUIDELINES:
${JSON.stringify(z,null,2)}

REQUIREMENTS:
1. Create a complete HTML document with embedded CSS and JavaScript
2. Use the brand colors, fonts, styling and layouts from the guidelines
3. Implement all page elements (headers, footers, buttons, forms, lists, cards, navigation)
4. Make it responsive and modern
5. Follow the brand's visual identity strictly
6. Use semantic HTML5 elements
7. CRITICAL ACCESSIBILITY: Ensure proper color contrast ratios (minimum 4.5:1 for normal text, 3:1 for large text)
8. NEVER use the same color for text and background - always use contrasting brand colors
9. For dark backgrounds, use light text colors; for light backgrounds, use dark text colors
10. Include hover effects and transitions with maintained contrast
11. Make forms functional with validation
12. Use interactive UI elements with proper contrast
13. Ensure proper spacing between elements
14. Test all color combinations for readability before applying

RESPONSE FORMAT:
Return only the complete HTML code with embedded CSS in <style> tags and JavaScript in <script> tags. Do not include any explanations or markdown formatting.`,Ot=(await Le.generateContent($e)).response.text();console.log(`Generated wireframe for ${ne}, length: ${Ot.length}`);const Br=Ot.match(/<!DOCTYPE html>[\s\S]*<\/html>/i),Gt=Ot.match(/<style[^>]*>([\s\S]*?)<\/style>/i),Nr=Ot.match(/<script[^>]*>([\s\S]*?)<\/script>/i),xr=Br?Br[0]:Ot,Sr=Gt?Gt[1]:"",Bn=Nr?Nr[1]:"",ao={id:`wireframe_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,pageName:ne,htmlCode:xr,cssCode:Sr,jsCode:Bn},ea=Z.filter(zo=>zo.pageName!==ne);ea.push(ao),H(ea),localStorage.setItem("generated_wireframes",JSON.stringify(ea)),K({current:1,total:1,currentPage:ne}),s({title:"Wireframe Regenerated",description:`${ne} has been regenerated using AI with brand guidelines.`})}catch(Be){console.error("Error regenerating wireframe:",Be),s({title:"Regeneration Failed",description:"Could not regenerate the wireframe. Please try again.",variant:"destructive"})}finally{k(!1),K({current:0,total:0,currentPage:""})}},ft=()=>{t([]),localStorage.removeItem("wireframe_designs")};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[i.jsx(Ll,{title:"Wireframe Designer",showBackButton:!0}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[i.jsx(fA,{currentStep:"diagram"}),i.jsxs("div",{className:"flex items-center justify-between mb-8 bg-white rounded-lg p-6 shadow-sm",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center",children:i.jsx(qu,{className:"h-5 w-5 text-white"})}),"AI Wireframe Designer"]}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Generate interactive wireframes from your stakeholder flows"})]}),e.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(yt,{variant:"outline",className:"bg-blue-50 text-blue-700",children:[e.length," wireframes"]}),i.jsxs(me,{onClick:ft,variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:[i.jsx(ns,{className:"h-4 w-4 mr-2"}),"Clear All"]})]})]}),a&&i.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[i.jsx(_o,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),i.jsx("p",{className:"text-red-700",children:a})]}),r==="input"&&i.jsxs(lt,{className:"mb-6",children:[i.jsxs(Bt,{children:[i.jsxs(Nt,{className:"flex items-center gap-2",children:[i.jsx(wn,{className:"h-5 w-5"}),"AI-Powered Stakeholder Flow Analysis"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Analyze your stakeholder flows to automatically generate contextual wireframes"})]}),i.jsxs(ct,{className:"space-y-4",children:[i.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:i.jsx(me,{onClick:Qe,disabled:u,className:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white",children:u?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing Flows..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wn,{className:"h-4 w-4 mr-2"}),"Analyze Stakeholder Flows"]})})}),A&&i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Analysis Results"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:[i.jsx("strong",{children:"Project Context:"})," ",A.projectContext]}),i.jsxs("p",{className:"text-sm text-blue-700",children:[i.jsx("strong",{children:"Total Pages:"})," ",A.totalPages]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-700 mb-2",children:i.jsx("strong",{children:"Identified Stakeholders:"})}),i.jsx("div",{className:"flex flex-wrap gap-1",children:((Qt=A.stakeholders)==null?void 0:Qt.map((ne,ve)=>i.jsx(yt,{variant:"secondary",className:"text-xs",children:ne},ve)))||i.jsx("span",{className:"text-xs text-gray-500",children:"No stakeholders identified"})})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-sm text-blue-700 mb-2",children:i.jsx("strong",{children:"Page Types Identified:"})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:A.pageRequirements.map((ne,ve)=>i.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 hover:border-blue-300 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-sm text-gray-900 truncate",children:ne.pageName}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:ne.pageType}),ne.purpose&&i.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:ne.purpose})]}),i.jsxs("div",{className:"flex gap-1 ml-2",children:[i.jsx(me,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-blue-100",onClick:()=>{const Be={...A};Be.pageRequirements[ve]={...ne,isEditing:!ne.isEditing},d(Be)},children:i.jsx(PH,{className:"h-3 w-3 text-blue-600"})}),i.jsx(me,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-red-100",onClick:()=>{const Be={...A};Be.pageRequirements=Be.pageRequirements.filter((Ee,Le)=>Le!==ve),Be.totalPages=Be.pageRequirements.length,d(Be)},children:i.jsx(ns,{className:"h-3 w-3 text-red-600"})})]})]}),ne.isEditing&&i.jsxs("div",{className:"mt-3 space-y-2 border-t pt-2",children:[i.jsxs("div",{children:[i.jsx(br,{className:"text-xs font-medium text-gray-700",children:"Page Name"}),i.jsx(pr,{value:ne.pageName,onChange:Be=>{const Ee={...A},Le={...Ee.pageRequirements[ve]};Le.pageName=Be.target.value,Ee.pageRequirements[ve]=Le,d(Ee)},className:"text-xs h-7 mt-1",placeholder:"Enter page name"})]}),i.jsxs("div",{children:[i.jsx(br,{className:"text-xs font-medium text-gray-700",children:"Page Type"}),i.jsx(pr,{value:ne.pageType,onChange:Be=>{const Ee={...A},Le={...Ee.pageRequirements[ve]};Le.pageType=Be.target.value,Ee.pageRequirements[ve]=Le,d(Ee)},className:"text-xs h-7 mt-1",placeholder:"Enter page type"})]}),ne.purpose!==void 0&&i.jsxs("div",{children:[i.jsx(br,{className:"text-xs font-medium text-gray-700",children:"Purpose"}),i.jsx(En,{value:ne.purpose||"",onChange:Be=>{const Ee={...A},Le={...Ee.pageRequirements[ve]};Le.purpose=Be.target.value,Ee.pageRequirements[ve]=Le,d(Ee)},className:"text-xs min-h-[60px] mt-1",placeholder:"Enter page purpose"})]}),i.jsxs("div",{className:"flex gap-2 pt-1",children:[i.jsx(me,{size:"sm",className:"h-6 text-xs px-2 bg-green-600 hover:bg-green-700",onClick:()=>{const Be={...A},Ee={...Be.pageRequirements[ve]};Ee.isEditing=!1,Be.pageRequirements[ve]=Ee,d(Be)},children:"Save"}),i.jsx(me,{size:"sm",variant:"outline",className:"h-6 text-xs px-2",onClick:()=>{const Be={...A},Ee={...Be.pageRequirements[ve]};Ee.isEditing=!1,Be.pageRequirements[ve]=Ee,d(Be)},children:"Cancel"})]})]})]},ve))}),i.jsx("div",{className:"mt-3 flex justify-center",children:i.jsxs(me,{variant:"outline",size:"sm",className:"h-8 text-xs border-dashed border-blue-300 text-blue-600 hover:bg-blue-50",onClick:()=>{const ne={...A},ve={pageName:"New Page",pageType:"Custom",purpose:"Enter page purpose",stakeholders:[],contentElements:[],userInteractions:[],dataRequirements:[],priority:"medium",isEditing:!0};ne.pageRequirements.push(ve),ne.totalPages=ne.pageRequirements.length,d(ne)},children:[i.jsx(Ln,{className:"h-3 w-3 mr-1"}),"Add New Page"]})})]}),i.jsx("div",{className:"mt-6 flex justify-center",children:i.jsx(me,{onClick:We,disabled:_,className:"bg-purple-600 hover:bg-purple-700 text-white",children:_?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-4 w-4 animate-spin mr-2"}),"Generating Content..."]}):"Generate content of all pages"})}),_&&i.jsxs("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-sm font-medium text-purple-700",children:["Generating Page Content (",S.current,"/",S.total,")"]}),i.jsxs("span",{className:"text-xs text-purple-600",children:[Math.round(S.current/S.total*100),"%"]})]}),i.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:i.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${S.current/S.total*100}%`}})}),S.currentPage&&i.jsxs("p",{className:"text-xs text-purple-600 mt-2",children:["Currently generating:"," ",S.currentPage]})]})]})]})]}),r==="generating"&&i.jsxs(lt,{className:"mb-6",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center gap-2",children:[i.jsx(Vt,{className:"h-5 w-5 animate-spin"}),"Generating Wireframes"]})}),i.jsx(ct,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:l.status}),i.jsxs("span",{children:[l.current," of ",l.total]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${l.current/l.total*100}%`}})})]})})]}),r==="results"&&f.length>0&&i.jsxs("div",{className:"space-y-6 mb-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"AI-Generated Wireframes"}),i.jsxs("p",{className:"text-gray-600",children:[f.length," wireframes generated from your stakeholder flows"]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:f.map((ne,ve)=>i.jsxs(lt,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[i.jsxs(Bt,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Nt,{className:"text-lg",children:ne.pageName}),i.jsx(yt,{variant:"outline",className:"text-xs",children:ne.pageType})]}),i.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:ne.purpose})]}),i.jsxs(ct,{className:"p-0",children:[i.jsx("div",{className:"border-t bg-gray-50 p-4",children:i.jsxs("div",{className:"bg-white rounded border shadow-sm overflow-hidden relative",children:[i.jsxs("div",{className:"h-48 w-full overflow-hidden relative",style:{transform:"scale(0.25)",transformOrigin:"top left",width:"400%",height:"400%"},children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:ne.cssStyles}}),i.jsx("div",{dangerouslySetInnerHTML:{__html:ne.htmlContent}})]}),i.jsx("div",{className:"absolute inset-0 bg-transparent hover:bg-black hover:bg-opacity-10 transition-colors cursor-pointer",onClick:()=>{E({pageName:ne.pageName,htmlCode:ne.htmlContent,cssCode:ne.cssStyles}),y(!0)}})]})}),i.jsxs("div",{className:"p-4 space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm text-gray-800 mb-2",children:"Content Elements"}),i.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[ne.contentDetails.headers.length>0&&i.jsxs("div",{children:[i.jsx("strong",{children:"Headers:"})," ",ne.contentDetails.headers.slice(0,2).join(", ")]}),ne.contentDetails.buttons.length>0&&i.jsxs("div",{children:[i.jsx("strong",{children:"Actions:"})," ",ne.contentDetails.buttons.slice(0,3).map(Be=>ol(Be.label||Be)).join(", ")]}),ne.contentDetails.forms.length>0&&i.jsxs("div",{children:[i.jsx("strong",{children:"Forms:"})," ",ne.contentDetails.forms.length," form(s)"]})]})]}),ne.stakeholders.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm text-gray-800 mb-1",children:"Target Users"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:ne.stakeholders.map((Be,Ee)=>i.jsx(yt,{variant:"secondary",className:"text-xs",children:ol(Be)},Ee))})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsxs(me,{size:"sm",variant:"outline",className:"text-xs flex-1",onClick:()=>{const Be=`<!DOCTYPE html>
<html>
<head>
  <title>${ne.pageName}</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>${ne.cssStyles}</style>
</head>
<body>${ne.htmlContent}</body>
</html>`,Ee=new Blob([Be],{type:"text/html"}),Le=URL.createObjectURL(Ee),$e=document.createElement("a");$e.href=Le,$e.download=`${ne.pageName.replace(/\s+/g,"_").toLowerCase()}.html`,document.body.appendChild($e),$e.click(),document.body.removeChild($e),URL.revokeObjectURL(Le)},children:[i.jsx(Ns,{className:"h-3 w-3 mr-1"}),"Download"]}),i.jsxs(me,{size:"sm",variant:"outline",className:"text-xs flex-1",onClick:()=>{navigator.clipboard.writeText(`<!-- ${ne.pageName} -->
${ne.htmlContent}

/* CSS for ${ne.pageName} */
${ne.cssStyles}`)},children:[i.jsx(zn,{className:"h-3 w-3 mr-1"}),"Copy"]}),i.jsxs(me,{size:"sm",className:"text-xs flex-1 bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700",onClick:()=>{const Be=ze(ne.pageName);Be?(console.log(`Loading ${Be.isEnhanced?"enhanced":"original"} version for:`,ne.pageName),E(Be)):(console.log("Loading fallback version for:",ne.pageName),E({pageName:ne.pageName,htmlCode:ne.htmlContent,cssCode:ne.cssStyles,jsCode:"",isEnhanced:!1})),y(!0)},children:[i.jsx(Wa,{className:"h-3 w-3 mr-1"}),"View Code"]}),i.jsxs(me,{size:"sm",className:"text-xs flex-1 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700",onClick:()=>{const Be=Z.find(Le=>Le.pageName===ne.pageName),Ee=(Be==null?void 0:Be.id)||encodeURIComponent(ne.pageName);window.location.href=`/html-editor?id=${Ee}`},children:[i.jsx(gi,{className:"h-3 w-3 mr-1"}),"HTML Editor"]})]})]})]})]},ve))}),i.jsx("div",{className:"text-center pt-6",children:i.jsxs(me,{onClick:()=>{n("input"),d(null),x([])},variant:"outline",className:"px-6",children:[i.jsx(Im,{className:"h-4 w-4 mr-2"}),"Start Over"]})})]}),g&&w&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg w-[90vw] h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[i.jsxs("h3",{className:"text-lg font-semibold",children:[w.pageName," - Code"]}),i.jsx(me,{onClick:()=>{y(!1),E(null)},variant:"ghost",size:"sm",children:i.jsx(un,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"p-4 overflow-auto h-[calc(90vh-120px)]",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[i.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:" AI Code Enhancement"}),i.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Describe how you'd like to enhance this page. The AI will improve the HTML, CSS, and add JavaScript functionality while preserving all content."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(br,{className:"text-sm font-medium",children:"Enhancement Prompt"}),i.jsx(En,{value:W,onChange:ne=>te(ne.target.value),placeholder:"e.g., Make it more modern with better animations, improve mobile responsiveness, add interactive elements, enhance the color scheme...",className:"mt-1 min-h-[100px] resize-none",disabled:ue})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(me,{onClick:Ke,variant:"outline",className:"flex-1 bg-green-50 border-green-200 hover:bg-green-100 text-green-700",children:[i.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Save HTML Editor Changes"]}),i.jsx(me,{onClick:Oe,disabled:ue||!W.trim(),className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:ue?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enhancing Code..."]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"mr-2",children:""}),"Enhance Code"]})})]})]})]}),$&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[i.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Enhancement Complete"}),i.jsx("p",{className:"text-sm text-green-700 mb-2",children:$.explanation}),$.improvements&&$.improvements.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-800 mb-1",children:"Key Improvements:"}),i.jsx("ul",{className:"text-sm text-green-700 space-y-1",children:$.improvements.map((ne,ve)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-500 mt-0.5",children:""}),ne]},ve))})]}),i.jsx("p",{className:"text-sm text-green-600 mt-2 font-medium",children:"The HTML and CSS tabs below now show your enhanced code."})]}),i.jsxs(md,{defaultValue:"preview",className:"space-y-4",children:[i.jsxs(tA,{className:w!=null&&w.jsCode?"grid grid-cols-4":"grid grid-cols-3",children:[i.jsxs(Vr,{value:"preview",className:"flex items-center gap-2",children:["Preview",(()=>{const ne=Z.find(ve=>ve.pageName===w.pageName);return ne!=null&&ne.isEnhanced?i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full",title:"Enhanced with AI"}):null})()]}),i.jsx(Vr,{value:"html",children:"HTML"}),i.jsx(Vr,{value:"css",children:"CSS"}),(w==null?void 0:w.jsCode)&&i.jsx(Vr,{value:"javascript",children:"JavaScript"})]}),i.jsx(Wr,{value:"html",children:i.jsxs("div",{className:"relative",children:[i.jsx(me,{onClick:()=>navigator.clipboard.writeText(w.htmlCode),className:"absolute top-2 right-2 z-10",size:"sm",variant:"outline",children:i.jsx(zn,{className:"h-3 w-3"})}),i.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg overflow-auto text-sm",children:i.jsx("code",{children:w.htmlCode})})]})}),i.jsx(Wr,{value:"css",children:i.jsxs("div",{className:"relative",children:[i.jsx(me,{onClick:()=>navigator.clipboard.writeText(w.cssCode),className:"absolute top-2 right-2 z-10",size:"sm",variant:"outline",children:i.jsx(zn,{className:"h-3 w-3"})}),i.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg overflow-auto text-sm",children:i.jsx("code",{children:w.cssCode})})]})}),(w==null?void 0:w.jsCode)&&i.jsx(Wr,{value:"javascript",children:i.jsxs("div",{className:"relative",children:[i.jsx(me,{onClick:()=>navigator.clipboard.writeText(w.jsCode||""),className:"absolute top-2 right-2 z-10",size:"sm",variant:"outline",children:i.jsx(zn,{className:"h-3 w-3"})}),i.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg overflow-auto text-sm",children:i.jsx("code",{children:w.jsCode})})]})}),i.jsx(Wr,{value:"preview",children:i.jsxs("div",{className:"space-y-4",children:[(w==null?void 0:w.jsCode)&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(me,{onClick:()=>{const ne=`${w.htmlCode}
<style>
${w.cssCode}
</style>
<script>
${w.jsCode}
<\/script>`,ve=window.open("","_blank");ve&&(ve.document.write(ne),ve.document.close())},variant:"outline",className:"flex-1",children:[i.jsx(UE,{className:"h-4 w-4 mr-2"}),"Preview with JavaScript"]}),i.jsxs(me,{onClick:()=>{const ne=`${w.htmlCode}
<style>
${w.cssCode}
</style>
<script>
${w.jsCode}
<\/script>`,ve=new Blob([ne],{type:"text/html"}),Be=URL.createObjectURL(ve),Ee=document.createElement("a");Ee.href=Be,Ee.download=`${w.pageName.replace(/\s+/g,"_")}.html`,Ee.click(),URL.revokeObjectURL(Be)},variant:"outline",className:"flex-1",children:[i.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Download Complete"]})]}),i.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium text-blue-800",children:"Enhance Specific Elements"}),i.jsx(me,{onClick:()=>{Y(!se),C(null),G("")},variant:se?"destructive":"default",size:"sm",children:se?"Cancel":"Start Selecting"})]}),se?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-sm text-blue-700",children:[i.jsx("span",{className:"font-medium",children:"Click any element below"})," ","to target it for enhancement"]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-blue-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-1 bg-blue-400 rounded"}),i.jsx("span",{children:"Basic elements"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-1 bg-green-500 rounded"}),i.jsx("span",{children:"Interactive elements (buttons, forms, headers)"})]})]})]}):i.jsx("p",{className:"text-sm text-blue-600",children:"Target specific page elements for AI enhancement instead of the entire page"})]}),L&&i.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Selected Element"}),i.jsx("code",{className:"bg-green-100 px-2 py-1 rounded text-xs text-green-700",children:(()=>{try{return JSON.parse(L).displayName}catch{return L}})()})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[i.jsx("span",{className:"col-span-2 text-xs text-gray-600 mb-1",children:"Quick enhancement options:"}),["Make it more modern","Add hover effects","Improve colors","Better typography","Add subtle animations","Enhanced styling"].map(ne=>i.jsx(me,{variant:"outline",size:"sm",className:"h-7 px-2 text-xs justify-start",onClick:()=>G(ne),children:ne},ne))]}),i.jsx(En,{value:j,onChange:ne=>G(ne.target.value),placeholder:"Describe enhancement or use quick options above",className:"text-sm min-h-[50px]"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(me,{onClick:Pt,disabled:ue||!j.trim(),size:"sm",className:"bg-green-600 hover:bg-green-700",children:ue?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-3 w-3 mr-2 animate-spin"}),"Enhancing..."]}):"Enhance This Element"}),i.jsx(me,{onClick:()=>{const ne=document.querySelector('[data-selected-for-enhancement="true"]');ne&&(ne.removeAttribute("data-selected-for-enhancement"),ne instanceof HTMLElement&&(ne.style.outline="",ne.style.outlineOffset="")),C(null),G("")},variant:"outline",size:"sm",children:"Clear Selection"})]})]}),i.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:w.cssCode+`
                            /* Selected Element Styling */
                            [data-selected-for-enhancement="true"] {
                              outline: 3px solid #10B981 !important;
                              outline-offset: 2px !important;
                              position: relative !important;
                            }
                            [data-selected-for-enhancement="true"]::before {
                              content: "Selected for Enhancement" !important;
                              position: absolute !important;
                              top: -30px !important;
                              left: 0 !important;
                              background: #10B981 !important;
                              color: white !important;
                              padding: 2px 8px !important;
                              border-radius: 4px !important;
                              font-size: 11px !important;
                              font-weight: 500 !important;
                              white-space: nowrap !important;
                              z-index: 1000 !important;
                              pointer-events: none !important;
                            }
                          `+(se?`
                            /* Precise Element Selection Mode */
                            .wireframe-container * {
                              cursor: pointer !important;
                              transition: all 0.2s ease !important;
                              position: relative !important;
                            }
                            .wireframe-container *:hover:not([data-selected-for-enhancement="true"]) {
                              outline: 2px dashed #3B82F6 !important;
                              outline-offset: 2px !important;
                              background-color: rgba(59, 130, 246, 0.05) !important;
                            }
                            .wireframe-container *:hover:not([data-selected-for-enhancement="true"])::after {
                              content: "Click to enhance this element" !important;
                              position: absolute !important;
                              top: -25px !important;
                              left: 0 !important;
                              background: #3B82F6 !important;
                              color: white !important;
                              padding: 2px 6px !important;
                              border-radius: 3px !important;
                              font-size: 10px !important;
                              white-space: nowrap !important;
                              z-index: 1000 !important;
                              pointer-events: none !important;
                            }
                            /* Enhanced targeting for interactive elements */
                            .wireframe-container button:hover:not([data-selected-for-enhancement="true"]),
                            .wireframe-container input:hover:not([data-selected-for-enhancement="true"]),
                            .wireframe-container textarea:hover:not([data-selected-for-enhancement="true"]),
                            .wireframe-container h1:hover:not([data-selected-for-enhancement="true"]),
                            .wireframe-container h2:hover:not([data-selected-for-enhancement="true"]),
                            .wireframe-container h3:hover:not([data-selected-for-enhancement="true"]) {
                              outline: 3px solid #10B981 !important;
                              background-color: rgba(16, 185, 129, 0.1) !important;
                            }
                          `:"")}}),i.jsx("div",{dangerouslySetInnerHTML:{__html:w.htmlCode},className:se?"cursor-pointer relative":"",onClick:se?ht:void 0})]})]})})]})]})]})}),R.length>0&&i.jsxs("div",{className:"mt-8",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Generated Page Content"}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:R.map((ne,ve)=>i.jsxs(lt,{className:"border-2 border-gray-200",children:[i.jsx(Bt,{className:"bg-gradient-to-r from-purple-50 to-blue-50 py-3",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(Nt,{className:"text-base font-semibold text-purple-700",children:ne.pageName}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[ne.pageType,"  ",ne.purpose]}),i.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[ne.stakeholders.slice(0,3).map((Be,Ee)=>i.jsx(yt,{variant:"secondary",className:"text-xs px-1 py-0",children:ol(Be)},Ee)),ne.stakeholders.length>3&&i.jsxs(yt,{variant:"secondary",className:"text-xs px-1 py-0",children:["+",ne.stakeholders.length-3]})]}),i.jsx("div",{className:"pt-2 border-t border-gray-200 w-full mt-[16px] mb-[16px] text-justify ml-[20px] mr-[20px] pl-[0px] pr-[0px]",children:i.jsx(Vse,{type:"single",collapsible:!0,className:"w-full",children:i.jsxs(jR,{value:"layout",className:"border-0 w-full",children:[i.jsx(FR,{className:"text-xs font-medium text-gray-700 py-2 hover:no-underline w-full",children:i.jsxs("div",{className:"flex items-center gap-2 w-full",children:[" Page Layout:"," ",{"standard-header":"Standard Header","hero-banner":"Hero Banner","sidebar-layout":"Sidebar Layout","dashboard-grid":"Dashboard Grid","centered-content":"Centered Content","landing-page":"Landing Page","blog-layout":"Blog Layout","ecommerce-grid":"E-commerce Grid"}[Q[ne.id]]||"Standard Header"]})}),i.jsx(kR,{className:"pt-2 w-full",children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 w-full",children:[{id:"standard-header",name:"Standard Header",description:"Traditional layout",preview:i.jsxs("div",{className:"w-full h-12 bg-white border border-gray-200 rounded-sm overflow-hidden",children:[i.jsx("div",{className:"h-2 bg-blue-500"}),i.jsxs("div",{className:"p-1 space-y-0.5",children:[i.jsx("div",{className:"h-0.5 bg-gray-300 rounded w-1/2"}),i.jsx("div",{className:"h-0.5 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-0.5 bg-gray-200 rounded w-2/3"})]})]})},{id:"hero-banner",name:"Hero Banner",description:"Large hero section",preview:i.jsxs("div",{className:"w-full h-12 bg-white border border-gray-200 rounded-sm overflow-hidden",children:[i.jsx("div",{className:"h-1 bg-purple-500"}),i.jsx("div",{className:"h-5 bg-gradient-to-r from-purple-100 to-blue-100"}),i.jsx("div",{className:"p-1 space-y-0.5",children:i.jsx("div",{className:"h-0.5 bg-gray-200 rounded w-1/3 mx-auto"})})]})},{id:"sidebar-layout",name:"Sidebar Layout",description:"Side navigation",preview:i.jsxs("div",{className:"w-full h-12 bg-white border border-gray-200 rounded-sm overflow-hidden flex",children:[i.jsx("div",{className:"w-1/4 bg-gray-600"}),i.jsxs("div",{className:"flex-1 p-1 space-y-0.5",children:[i.jsx("div",{className:"h-0.5 bg-gray-300 rounded"}),i.jsx("div",{className:"h-0.5 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-0.5 bg-gray-200 rounded w-2/3"})]})]})},{id:"dashboard-grid",name:"Dashboard Grid",description:"Card-based layout",preview:i.jsxs("div",{className:"w-full h-12 bg-white border border-gray-200 rounded-sm overflow-hidden",children:[i.jsx("div",{className:"h-1 bg-green-500"}),i.jsxs("div",{className:"p-0.5 grid grid-cols-2 gap-0.5",children:[i.jsx("div",{className:"h-2 bg-gray-100 border border-gray-200 rounded-sm"}),i.jsx("div",{className:"h-2 bg-gray-100 border border-gray-200 rounded-sm"}),i.jsx("div",{className:"h-2 bg-gray-100 border border-gray-200 rounded-sm"}),i.jsx("div",{className:"h-2 bg-gray-100 border border-gray-200 rounded-sm"})]})]})},{id:"centered-content",name:"Centered Content",description:"Clean centered",preview:i.jsxs("div",{className:"w-full h-12 bg-white border border-gray-200 rounded-sm overflow-hidden",children:[i.jsx("div",{className:"h-1 bg-indigo-500"}),i.jsx("div",{className:"p-1.5 flex justify-center",children:i.jsxs("div",{className:"w-3/4 space-y-0.5",children:[i.jsx("div",{className:"h-0.5 bg-gray-300 rounded mx-auto"}),i.jsx("div",{className:"h-0.5 bg-gray-200 rounded w-2/3 mx-auto"}),i.jsx("div",{className:"h-0.5 bg-gray-200 rounded w-1/2 mx-auto"})]})})]})},{id:"landing-page",name:"Landing Page",description:"Marketing focus",preview:i.jsxs("div",{className:"w-full h-12 bg-white border border-gray-200 rounded-sm overflow-hidden",children:[i.jsx("div",{className:"h-0.5 bg-orange-500"}),i.jsx("div",{className:"h-4 bg-gradient-to-b from-orange-50 to-yellow-50"}),i.jsxs("div",{className:"p-1 space-y-0.5",children:[i.jsx("div",{className:"h-0.5 bg-gray-300 rounded w-1/2 mx-auto"}),i.jsx("div",{className:"h-0.5 bg-orange-300 rounded w-1/4 mx-auto"})]})]})},{id:"blog-layout",name:"Blog Layout",description:"Article focused",preview:i.jsxs("div",{className:"w-full h-12 bg-white border border-gray-200 rounded-sm overflow-hidden",children:[i.jsx("div",{className:"h-1 bg-teal-500"}),i.jsxs("div",{className:"p-1 space-y-0.5",children:[i.jsx("div",{className:"h-0.5 bg-gray-400 rounded w-3/4"}),i.jsx("div",{className:"h-0.5 bg-gray-200 rounded"}),i.jsx("div",{className:"h-0.5 bg-gray-200 rounded"}),i.jsx("div",{className:"h-0.5 bg-gray-200 rounded w-5/6"})]})]})},{id:"ecommerce-grid",name:"E-commerce Grid",description:"Product showcase",preview:i.jsxs("div",{className:"w-full h-12 bg-white border border-gray-200 rounded-sm overflow-hidden",children:[i.jsx("div",{className:"h-1 bg-pink-500"}),i.jsxs("div",{className:"p-0.5 grid grid-cols-3 gap-0.5",children:[i.jsx("div",{className:"h-2.5 bg-gray-100 border border-gray-200 rounded-sm"}),i.jsx("div",{className:"h-2.5 bg-gray-100 border border-gray-200 rounded-sm"}),i.jsx("div",{className:"h-2.5 bg-gray-100 border border-gray-200 rounded-sm"})]})]})}].map(Be=>i.jsxs("div",{className:`cursor-pointer border rounded-md p-2 transition-all duration-200 hover:shadow-sm ${(Q[ne.id]||"standard-header")===Be.id?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>{U(Ee=>({...Ee,[ne.id]:Be.id}))},children:[i.jsx("div",{className:"mb-1",children:Be.preview}),i.jsxs("div",{className:"text-center",children:[i.jsx("h4",{className:"text-xs font-medium text-gray-800 mb-0.5",children:Be.name}),i.jsx("p",{className:"text-xs text-gray-500",children:Be.description})]}),(Q[ne.id]||"standard-header")===Be.id&&i.jsx("div",{className:"mt-1 flex justify-center",children:i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})})]},Be.id))})})]})})})]}),i.jsx(me,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>{const Be=[...R];Be[ve]={...ne,isEdited:!ne.isEdited},I(Be)},children:ne.isEdited?"Save":"Edit"})]})}),i.jsx(ct,{className:"p-3",children:i.jsxs(md,{defaultValue:"content",className:"w-full",children:[i.jsxs(tA,{className:"grid w-full grid-cols-5 h-7 bg-gray-50",children:[i.jsx(Vr,{value:"content",className:"text-xs py-1",children:" Content"}),i.jsx(Vr,{value:"forms",className:"text-xs py-1",children:" Forms"}),i.jsx(Vr,{value:"buttons",className:"text-xs py-1",children:" Buttons"}),i.jsx(Vr,{value:"media",className:"text-xs py-1",children:" Media"}),i.jsx(Vr,{value:"navigation",className:"text-xs py-1",children:" Nav"})]}),i.jsxs(Wr,{value:"content",className:"mt-2 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[" Headers",ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-blue-50",onClick:()=>{const Be=[...R];Be[ve].headers.push("New Header"),I(Be)},children:i.jsx(Ln,{className:"h-3 w-3 text-blue-500"})})]}),i.jsx("div",{className:"space-y-1",children:ne.headers.map((Be,Ee)=>i.jsxs("div",{className:"group flex items-center gap-1",children:[i.jsx("div",{className:"flex-1 px-2 py-1 bg-blue-50 border border-blue-100 rounded text-xs",children:ne.isEdited?i.jsx(pr,{value:Be,onChange:Le=>{const $e=[...R];$e[ve].headers[Ee]=Le.target.value,I($e)},className:"text-xs h-5 border-0 bg-transparent p-0",placeholder:"Header text"}):ol(Be)}),ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 hover:bg-red-50",onClick:()=>{const Le=[...R];Le[ve].headers.splice(Ee,1),I(Le)},children:i.jsx(ns,{className:"h-2.5 w-2.5 text-red-500"})})]},Ee))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[" Text Content",ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-green-50",onClick:()=>{const Be=[...R];Be[ve].textContent.push("New text content"),I(Be)},children:i.jsx(Ln,{className:"h-3 w-3 text-green-500"})})]}),i.jsx("div",{className:"space-y-1",children:ne.textContent.map((Be,Ee)=>i.jsxs("div",{className:"group flex gap-1",children:[i.jsx("div",{className:"flex-1 px-2 py-1 bg-green-50 border border-green-100 rounded text-xs",children:ne.isEdited?i.jsx(En,{value:Be,onChange:Le=>{const $e=[...R];$e[ve].textContent[Ee]=Le.target.value,I($e)},className:"text-xs min-h-[40px] border-0 bg-transparent p-0 resize-none",placeholder:"Enter text content"}):i.jsx("span",{className:"break-words",children:ol(Be)})}),ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 hover:bg-red-50 self-start mt-1",onClick:()=>{const Le=[...R];Le[ve].textContent.splice(Ee,1),I(Le)},children:i.jsx(ns,{className:"h-2.5 w-2.5 text-red-500"})})]},Ee))})]})]}),i.jsxs(Wr,{value:"forms",className:"mt-2 space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[" Forms",ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-purple-50",onClick:()=>{const Be=[...R];Be[ve].forms.push({title:"New Form",fields:["Field 1"],submitAction:"Submit"}),I(Be)},children:i.jsx(Ln,{className:"h-3 w-3 text-purple-500"})})]}),i.jsx("div",{className:"space-y-2",children:ne.forms.map((Be,Ee)=>i.jsxs("div",{className:"group border border-purple-100 rounded p-2 bg-purple-50 relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("div",{className:"flex-1",children:ne.isEdited?i.jsx(pr,{value:Be.title,onChange:Le=>{const $e=[...R];$e[ve].forms[Ee].title=Le.target.value,I($e)},className:"text-xs h-5 border-0 bg-transparent p-0 font-medium",placeholder:"Form title"}):i.jsx("span",{className:"text-xs font-medium",children:Be.title})}),ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 opacity-0 group-hover:opacity-100 hover:bg-red-50",onClick:()=>{const Le=[...R];Le[ve].forms.splice(Ee,1),I(Le)},children:i.jsx(ns,{className:"h-2 w-2 text-red-500"})})]}),i.jsxs("div",{className:"flex gap-2 text-xs",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx("span",{className:"text-gray-600",children:"Fields:"}),ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-3 w-3 p-0 hover:bg-blue-50",onClick:()=>{const Le=[...R];Le[ve].forms[Ee].fields.push("New Field"),I(Le)},children:i.jsx(Ln,{className:"h-2 w-2 text-blue-400"})})]}),i.jsx("div",{className:"space-y-0.5",children:Be.fields.map((Le,$e)=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"flex-1 px-1 py-0.5 bg-white border border-purple-200 rounded text-xs",children:ne.isEdited?i.jsx(pr,{value:Le,onChange:xt=>{const Ot=[...R];Ot[ve].forms[Ee].fields[$e]=xt.target.value,I(Ot)},className:"text-xs h-4 border-0 bg-transparent p-0",placeholder:"Field name"}):Le}),ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-3 w-3 p-0 hover:bg-red-50",onClick:()=>{const xt=[...R];xt[ve].forms[Ee].fields.splice($e,1),I(xt)},children:i.jsx(ns,{className:"h-1.5 w-1.5 text-red-400"})})]},$e))})]}),i.jsxs("div",{className:"w-20",children:[i.jsx("div",{className:"text-gray-600 mb-1",children:"Action:"}),i.jsx("div",{className:"px-1 py-0.5 bg-white border border-purple-200 rounded text-xs",children:ne.isEdited?i.jsx(pr,{value:Be.submitAction,onChange:Le=>{const $e=[...R];$e[ve].forms[Ee].submitAction=Le.target.value,I($e)},className:"text-xs h-4 border-0 bg-transparent p-0",placeholder:"Submit"}):Be.submitAction})]})]})]},Ee))})]}),i.jsxs(Wr,{value:"buttons",className:"mt-2 space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[" Buttons",ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-orange-50",onClick:()=>{const Be=[...R];Be[ve].buttons.push({label:"New Button",action:"Click action",style:"primary"}),I(Be)},children:i.jsx(Ln,{className:"h-3 w-3 text-orange-500"})})]}),i.jsx("div",{className:"space-y-1",children:ne.buttons.map((Be,Ee)=>i.jsxs("div",{className:"group flex items-center gap-2 p-2 border border-orange-100 rounded bg-orange-50",children:[i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1",children:ne.isEdited?i.jsx(pr,{value:Be.label,onChange:Le=>{const $e=[...R];$e[ve].buttons[Ee].label=Le.target.value,I($e)},className:"text-xs h-4 border-0 bg-transparent p-0 font-medium",placeholder:"Button label"}):i.jsx("span",{className:"text-xs font-medium",children:Be.label})}),i.jsx("div",{className:"w-16",children:ne.isEdited?i.jsxs(xi,{value:Be.style,onValueChange:Le=>{const $e=[...R];$e[ve].buttons[Ee].style=Le,I($e)},children:[i.jsx(si,{className:"h-5 text-xs border-orange-200",children:i.jsx(wi,{})}),i.jsxs(ii,{children:[i.jsx(ar,{value:"primary",children:"Primary"}),i.jsx(ar,{value:"secondary",children:"Secondary"}),i.jsx(ar,{value:"outline",children:"Outline"}),i.jsx(ar,{value:"ghost",children:"Ghost"})]})]}):i.jsx("span",{className:"text-xs px-1 py-0.5 bg-orange-200 rounded",children:Be.style})})]}),i.jsx("div",{className:"text-xs text-gray-600",children:ne.isEdited?i.jsx(pr,{value:Be.action,onChange:Le=>{const $e=[...R];$e[ve].buttons[Ee].action=Le.target.value,I($e)},className:"text-xs h-4 border-0 bg-transparent p-0",placeholder:"Button action"}):Be.action})]}),ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 opacity-0 group-hover:opacity-100 hover:bg-red-50",onClick:()=>{const Le=[...R];Le[ve].buttons.splice(Ee,1),I(Le)},children:i.jsx(ns,{className:"h-2 w-2 text-red-500"})})]},Ee))})]}),i.jsxs(Wr,{value:"media",className:"mt-2 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[" Images",ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-indigo-50",onClick:()=>{const Be=[...R];Be[ve].images.push({alt:"New Image",description:"Image description",position:"center"}),I(Be)},children:i.jsx(Ln,{className:"h-3 w-3 text-indigo-500"})})]}),i.jsx("div",{className:"space-y-1",children:ne.images.map((Be,Ee)=>i.jsxs("div",{className:"group flex gap-2 p-2 border border-indigo-100 rounded bg-indigo-50",children:[i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"flex-1",children:ne.isEdited?i.jsx(pr,{value:Be.alt,onChange:Le=>{const $e=[...R];$e[ve].images[Ee].alt=Le.target.value,I($e)},className:"text-xs h-4 border-0 bg-transparent p-0 font-medium",placeholder:"Alt text"}):i.jsx("span",{className:"text-xs font-medium",children:Be.alt})}),i.jsx("div",{className:"w-16",children:ne.isEdited?i.jsxs(xi,{value:Be.position,onValueChange:Le=>{const $e=[...R];$e[ve].images[Ee].position=Le,I($e)},children:[i.jsx(si,{className:"h-5 text-xs border-indigo-200",children:i.jsx(wi,{})}),i.jsxs(ii,{children:[i.jsx(ar,{value:"top",children:"Top"}),i.jsx(ar,{value:"center",children:"Center"}),i.jsx(ar,{value:"bottom",children:"Bottom"}),i.jsx(ar,{value:"left",children:"Left"}),i.jsx(ar,{value:"right",children:"Right"})]})]}):i.jsx("span",{className:"text-xs px-1 py-0.5 bg-indigo-200 rounded",children:Be.position})})]}),i.jsx("div",{className:"text-xs text-gray-600",children:ne.isEdited?i.jsx(pr,{value:Be.description,onChange:Le=>{const $e=[...R];$e[ve].images[Ee].description=Le.target.value,I($e)},className:"text-xs h-4 border-0 bg-transparent p-0",placeholder:"Description"}):Be.description})]}),ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 opacity-0 group-hover:opacity-100 hover:bg-red-50",onClick:()=>{const Le=[...R];Le[ve].images.splice(Ee,1),I(Le)},children:i.jsx(ns,{className:"h-2 w-2 text-red-500"})})]},Ee))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[" Lists",ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-teal-50",onClick:()=>{const Be=[...R];Be[ve].lists.push({title:"New List",type:"unordered",items:["Item 1"]}),I(Be)},children:i.jsx(Ln,{className:"h-3 w-3 text-teal-500"})})]}),i.jsx("div",{className:"space-y-1",children:ne.lists.map((Be,Ee)=>i.jsxs("div",{className:"group border border-teal-100 rounded p-2 bg-teal-50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("div",{className:"flex-1",children:ne.isEdited?i.jsx(pr,{value:Be.title,onChange:Le=>{const $e=[...R];$e[ve].lists[Ee].title=Le.target.value,I($e)},className:"text-xs h-4 border-0 bg-transparent p-0 font-medium",placeholder:"List title"}):i.jsx("span",{className:"text-xs font-medium",children:Be.title})}),ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 opacity-0 group-hover:opacity-100 hover:bg-red-50",onClick:()=>{const Le=[...R];Le[ve].lists.splice(Ee,1),I(Le)},children:i.jsx(ns,{className:"h-2 w-2 text-red-500"})})]}),i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx("div",{className:"flex-1",children:ne.isEdited?i.jsxs(xi,{value:Be.type,onValueChange:Le=>{const $e=[...R];$e[ve].lists[Ee].type=Le,I($e)},children:[i.jsx(si,{className:"h-5 text-xs border-teal-200",children:i.jsx(wi,{})}),i.jsxs(ii,{children:[i.jsx(ar,{value:"ordered",children:"Ordered"}),i.jsx(ar,{value:"unordered",children:"Unordered"}),i.jsx(ar,{value:"checklist",children:"Checklist"})]})]}):i.jsxs("span",{className:"text-xs text-gray-600",children:[Be.type,"  ",Be.items.length," items"]})}),ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-blue-50",onClick:()=>{const Le=[...R];Le[ve].lists[Ee].items.push("New item"),I(Le)},children:i.jsx(Ln,{className:"h-2 w-2 text-blue-400"})})]}),i.jsx("div",{className:"space-y-0.5",children:Be.items.map((Le,$e)=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"flex-1 px-1 py-0.5 bg-white border border-teal-200 rounded text-xs",children:ne.isEdited?i.jsx(pr,{value:Le,onChange:xt=>{const Ot=[...R];Ot[ve].lists[Ee].items[$e]=xt.target.value,I(Ot)},className:"text-xs h-4 border-0 bg-transparent p-0",placeholder:"List item"}):` ${Le}`}),ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-red-50",onClick:()=>{const xt=[...R];xt[ve].lists[Ee].items.splice($e,1),I(xt)},children:i.jsx(ns,{className:"h-1.5 w-1.5 text-red-400"})})]},$e))})]},Ee))})]})]}),i.jsxs(Wr,{value:"navigation",className:"mt-2 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[" Navigation",ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-cyan-50",onClick:()=>{const Be=[...R];Be[ve].navigation.push("New Nav Item"),I(Be)},children:i.jsx(Ln,{className:"h-3 w-3 text-cyan-500"})})]}),i.jsx("div",{className:"space-y-1",children:ne.navigation.map((Be,Ee)=>i.jsxs("div",{className:"group flex items-center gap-1",children:[i.jsx("div",{className:"flex-1 px-2 py-1 bg-cyan-50 border border-cyan-100 rounded text-xs",children:ne.isEdited?i.jsx(pr,{value:Be,onChange:Le=>{const $e=[...R];$e[ve].navigation[Ee]=Le.target.value,I($e)},className:"text-xs h-5 border-0 bg-transparent p-0",placeholder:"Navigation item"}):ol(Be)}),ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 hover:bg-red-50",onClick:()=>{const Le=[...R];Le[ve].navigation.splice(Ee,1),I(Le)},children:i.jsx(ns,{className:"h-2.5 w-2.5 text-red-500"})})]},Ee))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[" Additional Content",ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-pink-50",onClick:()=>{const Be=[...R];Be[ve].additionalContent.push("New content"),I(Be)},children:i.jsx(Ln,{className:"h-3 w-3 text-pink-500"})})]}),i.jsx("div",{className:"space-y-1",children:ne.additionalContent.map((Be,Ee)=>i.jsxs("div",{className:"group flex gap-1",children:[i.jsx("div",{className:"flex-1 px-2 py-1 bg-pink-50 border border-pink-100 rounded text-xs",children:ne.isEdited?i.jsx(En,{value:Be,onChange:Le=>{const $e=[...R];$e[ve].additionalContent[Ee]=Le.target.value,I($e)},className:"text-xs min-h-[40px] border-0 bg-transparent p-0 resize-none",placeholder:"Additional content"}):i.jsx("span",{className:"break-words",children:ol(Be)})}),ne.isEdited&&i.jsx(me,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 opacity-0 group-hover:opacity-100 hover:bg-red-50 self-start mt-1",onClick:()=>{const Le=[...R];Le[ve].additionalContent.splice(Ee,1),I(Le)},children:i.jsx(ns,{className:"h-2.5 w-2.5 text-red-500"})})]},Ee))})]})]})]})})]},ne.id))})]}),i.jsx(aie,{visible:R.length>0,pageContentCards:R,onBrandGuidelinesExtracted:ne=>ae(ne),onWireframesGenerated:ne=>H(ne),onUnifiedHTMLGenerated:ne=>Ce(ne)}),O&&i.jsxs("div",{className:"mb-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-sm font-medium text-green-700",children:["Generating Wireframes (",q.current,"/",q.total,")"]}),i.jsxs("span",{className:"text-xs text-green-600",children:[Math.round(q.current/q.total*100),"%"]})]}),i.jsx("div",{className:"w-full bg-green-200 rounded-full h-2",children:i.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${q.current/q.total*100}%`}})}),q.currentPage&&i.jsxs("p",{className:"text-xs text-green-600 mt-2",children:["Currently generating: ",q.currentPage]})]}),Z.length>0&&i.jsx("div",{className:"mt-8",children:i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-100",children:[i.jsxs("h2",{className:"text-2xl font-bold mb-6 text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:["Generated Wireframes (",Z.length,")"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Z.map((ne,ve)=>i.jsxs(lt,{className:"group hover:shadow-xl transition-all duration-300 border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[i.jsxs(Bt,{className:"bg-gray-200 text-gray-700 py-3 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gray-200/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[i.jsxs(Nt,{className:"text-sm font-semibold truncate flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500 animate-pulse"}),ne.pageName]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(me,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-blue-500/20 text-blue-600",onClick:()=>wt(ne.pageName),title:"Regenerate with logo variants",children:i.jsx(Jp,{className:"h-3 w-3"})}),i.jsx(me,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-gray-300/50 text-gray-600",onClick:()=>{E({pageName:ne.pageName,htmlCode:ne.htmlCode,cssCode:ne.cssCode,jsCode:ne.jsCode}),y(!0)},children:i.jsx(Wa,{className:"h-3 w-3"})}),i.jsx(me,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 hover:bg-gray-300/50 text-gray-600",onClick:()=>{const Be=new Blob([ne.htmlCode],{type:"text/html"}),Ee=URL.createObjectURL(Be),Le=document.createElement("a");Le.href=Ee,Le.download=`${ne.pageName.replace(/\s+/g,"_")}.html`,Le.click(),URL.revokeObjectURL(Ee)},children:i.jsx(Ns,{className:"h-3 w-3"})})]})]})]}),i.jsxs(ct,{className:"p-4 bg-[#f0f6ff]",children:[i.jsxs("div",{className:"relative bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg overflow-hidden border border-gray-200 group-hover:border-blue-200 transition-colors duration-300",children:[i.jsx("div",{className:"bg-gradient-to-r from-gray-200 to-gray-300 px-3 py-2 border-b border-gray-300",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex gap-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 shadow-sm"}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 shadow-sm"}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 shadow-sm"})]}),i.jsxs("div",{className:"flex-1 bg-white rounded px-2 py-1 text-xs text-gray-600 truncate font-mono",children:[ne.pageName.toLowerCase().replace(/\s+/g,"-"),".html"]}),m&&i.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs",children:[i.jsx(Jp,{className:"h-3 w-3 animate-spin"}),i.jsx("span",{children:"Updating"})]})]})}),i.jsxs("div",{className:"relative h-80 bg-white",children:[i.jsx("iframe",{srcDoc:ne.htmlCode,className:"w-full h-full border-0 transform scale-[0.4] origin-top-left",style:{width:"250%",height:"250%",overflow:"hidden"},title:`Preview of ${ne.pageName}`,sandbox:"allow-same-origin",scrolling:"no"},`${ne.id}-${ne.lastUpdated||Date.now()}`),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/5 to-transparent pointer-events-none"})]})]}),i.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[i.jsxs(me,{variant:"outline",size:"sm",className:"flex-1 h-8 text-xs font-medium border-blue-200 text-blue-600 hover:bg-blue-50 hover:border-blue-300 transition-all duration-200",onClick:()=>{const Be=window.open("","_blank");Be&&(Be.document.write(ne.htmlCode),Be.document.close())},children:[i.jsx(UE,{className:"h-3 w-3 mr-1"}),"Preview"]}),i.jsxs(me,{variant:"outline",size:"sm",className:"flex-1 h-8 text-xs font-medium border-emerald-200 text-emerald-600 hover:bg-emerald-50 hover:border-emerald-300 transition-all duration-200",onClick:()=>{console.log("Edit button clicked for wireframe:",ne),console.log("Wireframe ID:",ne.id),console.log("Full wireframe object keys:",Object.keys(ne)),ne.id||console.error("Wireframe ID is missing! Wireframe object:",ne),window.location.href=`/html-editor?id=${ne.id}`},children:[i.jsx(gi,{className:"h-3 w-3 mr-1"}),"Edit"]})]})]})]},ve))})]})}),de&&z&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg w-[90vw] max-w-4xl h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[i.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[i.jsx(u2,{className:"h-6 w-6 text-purple-600"}),"Brand Guidelines Overview"]}),i.jsx(me,{onClick:()=>he(!1),variant:"ghost",size:"sm",children:i.jsx(un,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"p-4 overflow-auto h-[calc(90vh-120px)]",children:[xe&&i.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-emerald-50 to-blue-50 rounded-lg border border-emerald-200",children:[i.jsxs("h3",{className:"text-lg font-semibold text-emerald-800 mb-3 flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full animate-pulse"}),"Multimodal Brand Analysis Results"]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-emerald-200",children:[i.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:xe.documentInfo.totalPages}),i.jsx("div",{className:"text-xs text-gray-600",children:"Pages Analyzed"})]}),i.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-emerald-200",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:xe.documentInfo.totalChunks}),i.jsx("div",{className:"text-xs text-gray-600",children:"Content Chunks"})]}),i.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-emerald-200",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:xe.keyFindings.criticalRequirements.length}),i.jsx("div",{className:"text-xs text-gray-600",children:"Critical Requirements"})]}),i.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-emerald-200",children:[i.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.round(xe.documentInfo.averageConfidence*100),"%"]}),i.jsx("div",{className:"text-xs text-gray-600",children:"Confidence"})]})]}),i.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Processing Summary:"}),i.jsxs("div",{className:"flex gap-4 text-xs text-gray-600",children:[i.jsxs("span",{children:["Processing Time:"," ",Math.round(xe.documentInfo.processingTime/1e3),"s"]}),i.jsxs("span",{children:["Brand Themes:"," ",xe.keyFindings.brandThemes.length]}),i.jsxs("span",{children:["Design Principles:"," ",xe.keyFindings.designPrinciples.length]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-red-500 to-blue-500"}),"Color Palette"]})}),i.jsxs(ct,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Primary Colors"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(((et=z.colors)==null?void 0:et.primary)||[]).map((ne,ve)=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:ne}}),i.jsx("span",{className:"text-xs font-mono",children:ne})]},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Secondary Colors"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(((ur=z.colors)==null?void 0:ur.secondary)||[]).map((ne,ve)=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:ne}}),i.jsx("span",{className:"text-xs font-mono",children:ne})]},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Text Colors"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(((Ut=z.colors)==null?void 0:Ut.text)||[]).map((ne,ve)=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:ne}}),i.jsx("span",{className:"text-xs font-mono",children:ne})]},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Accent Colors"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(((Xr=z.colors)==null?void 0:Xr.accent)||[]).map((ne,ve)=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:ne}}),i.jsx("span",{className:"text-xs font-mono",children:ne})]},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Background Colors"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(((rr=z.colors)==null?void 0:rr.background)||[]).map((ne,ve)=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:ne}}),i.jsx("span",{className:"text-xs font-mono",children:ne})]},ve))})]})]})]}),i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx(RH,{className:"h-4 w-4"}),"Typography"]})}),i.jsxs(ct,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Fonts"}),i.jsx("div",{className:"space-y-1",children:(((Yt=z.typography)==null?void 0:Yt.fonts)||[]).map((ne,ve)=>i.jsx("div",{className:"text-sm font-mono bg-gray-50 px-2 py-1 rounded",children:ne},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Weights"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(((Tr=z.typography)==null?void 0:Tr.weights)||[]).map((ne,ve)=>i.jsx(yt,{variant:"outline",children:ne},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Styles"}),i.jsx("div",{className:"space-y-1",children:(((Jt=z.typography)==null?void 0:Jt.headingStyles)||[]).map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-600",children:[" ",ne]},ve))})]})]})]}),i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx(qu,{className:"h-4 w-4"}),"Layout & Spacing"]})}),i.jsxs(ct,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Spacing Values"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(((kn=z.layout)==null?void 0:kn.spacing)||[]).map((ne,ve)=>i.jsx(yt,{variant:"secondary",children:ne},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Grid Systems"}),i.jsx("div",{className:"space-y-1",children:(((yr=z.layout)==null?void 0:yr.gridSystems)||[]).map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-600",children:[" ",ne]},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Breakpoints"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(((bn=z.layout)==null?void 0:bn.breakpoints)||[]).map((ne,ve)=>i.jsx(yt,{variant:"outline",children:ne},ve))})]})]})]}),i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-orange-400 to-red-500"}),"Logo Guidelines"]})}),i.jsxs(ct,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Primary Logo"}),(ts=z.logos.images)!=null&&ts.primary?i.jsxs("div",{className:"bg-gray-50 p-3 rounded border",children:[i.jsx("img",{src:z.logos.images.primary,alt:"Extracted Brand Logo",className:"max-h-16 w-auto mx-auto mb-2"}),i.jsx("div",{className:"text-xs text-green-600 text-center",children:" Logo extracted from PDF"})]}):i.jsx("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:z.logos.primary})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Variations"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex flex-wrap gap-2",children:(((mr=z.logos)==null?void 0:mr.variations)||[]).map((ne,ve)=>i.jsx(yt,{variant:"outline",children:ne},ve))}),z.logos.images&&Object.keys(z.logos.images).length>1&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2",children:Object.entries(z.logos.images).map(([ne,ve],Be)=>ne!=="primary"&&ve&&i.jsxs("div",{className:"bg-gray-50 p-2 rounded border text-center",children:[i.jsx("img",{src:ve,alt:`${ne} logo variant`,className:"max-h-8 w-auto mx-auto mb-1"}),i.jsx("div",{className:"text-xs text-gray-500 capitalize",children:ne})]},Be))})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Usage Rules"}),i.jsx("div",{className:"space-y-1",children:(((Rt=z.logos)==null?void 0:Rt.usage)||[]).map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-600",children:[" ",ne]},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Size & Spacing"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[i.jsx("div",{className:"text-xs font-medium",children:"Min Size"}),i.jsx("div",{className:"text-xs text-gray-600",children:((pn=(hr=z.logos)==null?void 0:hr.sizes)==null?void 0:pn[0])||"24px"})]}),i.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[i.jsx("div",{className:"text-xs font-medium",children:"Clearance"}),i.jsx("div",{className:"text-xs text-gray-600",children:((mn=(Ur=z.logos)==null?void 0:Ur.spacing)==null?void 0:mn[0])||"20px"})]})]})]})]})]}),i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx(sv,{className:"h-4 w-4"}),"Brand Voice"]})}),i.jsxs(ct,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Personality"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:z.tone.personality.map((ne,ve)=>i.jsx(yt,{className:"bg-blue-100 text-blue-800",children:ne},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Voice Characteristics"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:z.tone.voice.map((ne,ve)=>i.jsx(yt,{className:"bg-purple-100 text-purple-800",children:ne},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Key Messages"}),i.jsx("div",{className:"space-y-1",children:z.tone.messaging.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-600",children:[" ",ne]},ve))})]}),z.tone.doAndDont&&z.tone.doAndDont.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Communication Guidelines"}),i.jsx("div",{className:"space-y-1",children:z.tone.doAndDont.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-600",children:[" ",ne]},ve))})]})]})]}),i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-amber-400 to-orange-500"}),"Key Brand Points"]})}),i.jsxs(ct,{className:"space-y-4",children:[z.keyPoints&&z.keyPoints.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Key Points"}),i.jsx("div",{className:"space-y-1",children:z.keyPoints.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-700 bg-amber-50 p-2 rounded border-l-3 border-amber-400",children:[" ",ne]},ve))})]}),z.keyHighlights&&z.keyHighlights.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Key Highlights"}),i.jsx("div",{className:"space-y-1",children:z.keyHighlights.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-700 bg-yellow-50 p-2 rounded border-l-3 border-yellow-400",children:[" ",ne]},ve))})]}),z.keyClauses&&z.keyClauses.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Important Clauses"}),i.jsx("div",{className:"space-y-1",children:z.keyClauses.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-700 bg-blue-50 p-2 rounded border-l-3 border-blue-400",children:[" ",ne]},ve))})]})]})]}),i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-green-400 to-red-400"}),"Dos & Don'ts"]})}),i.jsxs(ct,{className:"space-y-4",children:[z.dosAndDonts&&i.jsxs(i.Fragment,{children:[z.dosAndDonts.dos&&z.dosAndDonts.dos.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2 text-green-700",children:" Do"}),i.jsx("div",{className:"space-y-1",children:z.dosAndDonts.dos.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-green-800 bg-green-50 p-2 rounded border-l-3 border-green-500",children:[" ",ne]},ve))})]}),z.dosAndDonts.donts&&z.dosAndDonts.donts.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2 text-red-700",children:" Don't"}),i.jsx("div",{className:"space-y-1",children:z.dosAndDonts.donts.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-red-800 bg-red-50 p-2 rounded border-l-3 border-red-500",children:[" ",ne]},ve))})]})]}),z.brandRules&&z.brandRules.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Brand Rules"}),i.jsx("div",{className:"space-y-1",children:z.brandRules.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-700 bg-purple-50 p-2 rounded border-l-3 border-purple-400",children:[" ",ne]},ve))})]})]})]})]}),z.keyClauses&&z.keyClauses.length>0&&i.jsxs(lt,{className:"mt-6",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-amber-400 to-orange-500"}),"Key Brand Clauses"]})}),i.jsx(ct,{children:i.jsx("div",{className:"space-y-2",children:z.keyClauses.map((ne,ve)=>i.jsxs("div",{className:"text-sm text-gray-700 bg-amber-50 p-3 rounded border-l-4 border-amber-400",children:[i.jsxs("strong",{children:["Clause ",ve+1,":"]})," ",ne]},ve))})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[z.keyPoints&&z.keyPoints.length>0&&i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-blue-400 to-indigo-500"}),"Key Points"]})}),i.jsx(ct,{children:i.jsx("div",{className:"space-y-2",children:z.keyPoints.map((ne,ve)=>i.jsxs("div",{className:"text-sm text-gray-700 bg-blue-50 p-2 rounded border-l-3 border-blue-400",children:[" ",ne]},ve))})})]}),z.keyHighlights&&z.keyHighlights.length>0&&i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-yellow-400 to-amber-500"}),"Key Highlights"]})}),i.jsx(ct,{children:i.jsx("div",{className:"space-y-2",children:z.keyHighlights.map((ne,ve)=>i.jsxs("div",{className:"text-sm text-gray-700 bg-yellow-50 p-2 rounded border-l-3 border-yellow-400",children:[" ",ne]},ve))})})]})]}),z.brandValues&&z.brandValues.length>0&&i.jsxs(lt,{className:"mt-6",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-purple-400 to-pink-500"}),"Brand Values & Design Principles"]})}),i.jsx(ct,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Brand Values"}),i.jsx("div",{className:"space-y-1",children:z.brandValues.map((ne,ve)=>i.jsx("div",{className:"text-sm text-purple-700 bg-purple-50 px-3 py-2 rounded",children:ne},ve))})]}),z.designPrinciples&&z.designPrinciples.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Design Principles"}),i.jsx("div",{className:"space-y-1",children:z.designPrinciples.map((ne,ve)=>i.jsx("div",{className:"text-sm text-indigo-700 bg-indigo-50 px-3 py-2 rounded",children:ne},ve))})]})]})})]}),xe&&xe.keyFindings&&i.jsxs(lt,{className:"mt-6",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-cyan-400 to-blue-500 animate-pulse"}),"Multimodal Analysis Key Points"]})}),i.jsx(ct,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[xe.keyFindings.criticalRequirements.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-sm mb-2 text-amber-700",children:["Critical Requirements (",xe.keyFindings.criticalRequirements.length,")"]}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:xe.keyFindings.criticalRequirements.slice(0,5).map((ne,ve)=>i.jsx("div",{className:"text-xs text-amber-700 bg-amber-50 p-2 rounded border-l-3 border-amber-400",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{children:ne}),i.jsxs(yt,{variant:"outline",className:"ml-2 text-xs",children:[Math.round(xe.documentInfo.averageConfidence*100),"%"]})]})},ve))})]}),xe.keyFindings.designPrinciples.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-sm mb-2 text-blue-700",children:["Design Principles (",xe.keyFindings.designPrinciples.length,")"]}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:xe.keyFindings.designPrinciples.slice(0,5).map((ne,ve)=>i.jsx("div",{className:"text-xs text-blue-700 bg-blue-50 p-2 rounded border-l-3 border-blue-400",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{children:ne}),i.jsxs(yt,{variant:"outline",className:"ml-2 text-xs",children:[Math.round(xe.documentInfo.averageConfidence*100),"%"]})]})},ve))})]}),xe.keyFindings.brandThemes.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-sm mb-2 text-green-700",children:["Brand Themes (",xe.keyFindings.brandThemes.length,")"]}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:xe.keyFindings.brandThemes.slice(0,5).map((ne,ve)=>i.jsx("div",{className:"text-xs text-green-700 bg-green-50 p-2 rounded border-l-3 border-green-400",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{children:ne}),i.jsxs(yt,{variant:"outline",className:"ml-2 text-xs",children:[Math.round(xe.documentInfo.averageConfidence*100),"%"]})]})},ve))})]}),xe.keyFindings.complianceNotes.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-sm mb-2 text-purple-700",children:["Compliance Notes (",xe.keyFindings.complianceNotes.length,")"]}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:xe.keyFindings.complianceNotes.slice(0,5).map((ne,ve)=>i.jsx("div",{className:"text-xs text-purple-700 bg-purple-50 p-2 rounded border-l-3 border-purple-400",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{children:ne}),i.jsxs(yt,{variant:"outline",className:"ml-2 text-xs",children:[Math.round(xe.documentInfo.averageConfidence*100),"%"]})]})},ve))})]})]})})]}),xe&&xe.documentInfo&&i.jsxs(lt,{className:"mt-6",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-emerald-400 to-teal-500 animate-pulse"}),"Document Analysis Summary"]})}),i.jsx(ct,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2 text-emerald-700",children:"Processing Stats"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-xs text-gray-600 bg-emerald-50 p-2 rounded",children:["Total Pages:"," ",xe.documentInfo.totalPages]}),i.jsxs("div",{className:"text-xs text-gray-600 bg-emerald-50 p-2 rounded",children:["Average Confidence:"," ",Math.round(xe.documentInfo.averageConfidence*100),"%"]}),i.jsxs("div",{className:"text-xs text-gray-600 bg-emerald-50 p-2 rounded",children:["Processing Time:"," ",xe.documentInfo.processingTime,"s"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2 text-blue-700",children:"Color Guidelines"}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:xe.brandGuidelines.colors.primary.slice(0,5).map((ne,ve)=>i.jsx("div",{className:"text-xs text-gray-600 bg-blue-50 p-1 rounded",children:ne},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2 text-purple-700",children:"Typography Guidelines"}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:xe.brandGuidelines.typography.fonts.slice(0,5).map((ne,ve)=>i.jsx("div",{className:"text-xs text-gray-600 bg-purple-50 p-1 rounded",children:ne},ve))})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-indigo-400 to-purple-500"}),"Compliance & Requirements"]})}),i.jsx(ct,{className:"space-y-4",children:z.compliance&&i.jsxs(i.Fragment,{children:[z.compliance.requirements&&z.compliance.requirements.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Requirements"}),i.jsx("div",{className:"space-y-1",children:z.compliance.requirements.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-700 bg-indigo-50 p-2 rounded",children:[" ",ne]},ve))})]}),z.compliance.restrictions&&z.compliance.restrictions.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Restrictions"}),i.jsx("div",{className:"space-y-1",children:z.compliance.restrictions.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-red-700 bg-red-50 p-2 rounded",children:[" ",ne]},ve))})]}),z.compliance.guidelines&&z.compliance.guidelines.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Guidelines"}),i.jsx("div",{className:"space-y-1",children:z.compliance.guidelines.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-700 bg-gray-50 p-2 rounded",children:[" ",ne]},ve))})]})]})})]}),i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-teal-400 to-cyan-500"}),"Usage Guidelines"]})}),i.jsx(ct,{className:"space-y-4",children:z.usageGuidelines&&i.jsxs(i.Fragment,{children:[z.usageGuidelines.approved&&z.usageGuidelines.approved.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2 text-green-700",children:"Approved Usage"}),i.jsx("div",{className:"space-y-1",children:z.usageGuidelines.approved.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-green-700 bg-green-50 p-2 rounded",children:[" ",ne]},ve))})]}),z.usageGuidelines.prohibited&&z.usageGuidelines.prohibited.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2 text-red-700",children:"Prohibited Usage"}),i.jsx("div",{className:"space-y-1",children:z.usageGuidelines.prohibited.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-red-700 bg-red-50 p-2 rounded",children:[" ",ne]},ve))})]}),z.usageGuidelines.context&&z.usageGuidelines.context.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Context Guidelines"}),i.jsx("div",{className:"space-y-1",children:z.usageGuidelines.context.map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-700 bg-teal-50 p-2 rounded",children:[" ",ne]},ve))})]})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-green-400 to-blue-500"}),"Brand Values"]})}),i.jsxs(ct,{children:[i.jsx("div",{className:"flex flex-wrap gap-2",children:(z.brandValues||[]).map((ne,ve)=>i.jsx(yt,{className:"bg-green-100 text-green-800",children:ne},ve))}),z.designPrinciples&&z.designPrinciples.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Design Principles"}),i.jsx("div",{className:"space-y-1",children:(z.designPrinciples||[]).map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-600",children:[" ",ne]},ve))})]})]})]}),i.jsxs(lt,{children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-purple-400 to-pink-500"}),"Accessibility"]})}),i.jsxs(ct,{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Contrast Requirements"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(((Cn=z.accessibility)==null?void 0:Cn.contrast)||[]).map((ne,ve)=>i.jsx(yt,{variant:"secondary",children:ne},ve))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Compliance Standards"}),i.jsx("div",{className:"space-y-1",children:(((pe=z.accessibility)==null?void 0:pe.compliance)||[]).map((ne,ve)=>i.jsxs("div",{className:"text-xs text-gray-600",children:[" ",ne]},ve))})]})]})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Enhanced Brand Integration Status"}),i.jsxs("p",{className:"text-sm text-green-700",children:["Comprehensive brand guidelines extracted including text colors,"," ",(De=(je=z.logos)==null?void 0:je.images)!=null&&De.primary?"authentic logo images":"logo specifications",", accessibility requirements, and brand values. The AI will use all extracted elements including"," ",((Te=(Ie=z.colors)==null?void 0:Ie.text)==null?void 0:Te.length)||0," text colors,",((Xe=(nt=z.logos)==null?void 0:nt.variations)==null?void 0:Xe.length)||0," logo variations,"," ",((it=(Et=z.accessibility)==null?void 0:Et.contrast)==null?void 0:it.length)||0," ","contrast requirements",(dt=(It=z.logos)==null?void 0:It.images)!=null&&dt.primary?", and extracted logo images":"","to create wireframes that perfectly match your brand identity."]}),((_t=(pt=z.logos)==null?void 0:pt.images)==null?void 0:_t.primary)&&i.jsx("div",{className:"mt-3 p-3 bg-white rounded border border-green-300",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:z.logos.images.primary,alt:"Extracted Brand Logo",className:"h-8 w-auto"}),i.jsxs("div",{className:"text-sm text-green-700",children:[i.jsx("div",{className:"font-medium",children:"Authentic Logo Extracted"}),i.jsx("div",{className:"text-xs",children:"Logo will be used in generated wireframes for authentic brand representation"})]})]})})]})]})]})})]})]})}var yN="Switch",[oie,Zde]=Xi(yN),[lie,cie]=oie(yN),_R=b.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:A,form:d,...u}=e,[p,f]=b.useState(null),x=Mr(t,w=>f(w)),m=b.useRef(!1),N=p?d||!!p.closest("form"):!0,[g=!1,y]=Xa({prop:s,defaultProp:a,onChange:A});return i.jsxs(lie,{scope:r,checked:g,disabled:l,children:[i.jsx(Kt.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":UR(g),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:x,onClick:Mt(e.onClick,w=>{y(E=>!E),N&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),N&&i.jsx(Aie,{control:p,bubbles:!m.current,name:n,value:c,checked:g,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});_R.displayName=yN;var TR="SwitchThumb",LR=b.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=cie(TR,r);return i.jsx(Kt.span,{"data-state":UR(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});LR.displayName=TR;var Aie=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=b.useRef(null),o=hB(r),l=cB(t);return b.useEffect(()=>{const c=a.current,A=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(A,"checked").set;if(o!==r&&u){const p=new Event("click",{bubbles:n});u.call(c,r),c.dispatchEvent(p)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function UR(e){return e?"checked":"unchecked"}var RR=_R,die=LR;const m5=b.forwardRef(({className:e,...t},r)=>i.jsx(RR,{className:Zt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(die,{className:Zt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));m5.displayName=RR.displayName;function uie({initialData:e}){var ae,de;console.log("HTMLEditorComponent initialized with data:",{hasInitialData:!!e,id:e==null?void 0:e.id,pageName:e==null?void 0:e.pageName,htmlLength:(ae=e==null?void 0:e.htmlCode)==null?void 0:ae.length,cssLength:(de=e==null?void 0:e.cssCode)==null?void 0:de.length});const[t,r]=b.useState((e==null?void 0:e.htmlCode)||""),[n,s]=b.useState((e==null?void 0:e.cssCode)||""),[a,o]=b.useState((e==null?void 0:e.jsCode)||""),[l,c]=b.useState((e==null?void 0:e.pageName)||"Untitled Page"),[A,d]=b.useState((e==null?void 0:e.id)||""),[u,p]=b.useState("desktop"),[f,x]=b.useState(!0),[m,N]=b.useState(""),[g,y]=b.useState(!1),[w,E]=b.useState(!1),[_,D]=b.useState(null),[R,I]=b.useState(""),[Q,U]=b.useState(!1),[S,P]=b.useState(null),[O,k]=b.useState(!0),[Z,H]=b.useState(null),[q,K]=b.useState({}),[W,te]=b.useState(!1),ue=b.useRef(null),{toast:T}=Em(),$=he=>{var Ce;if(!he)return{};const ce={},oe=he.className?he.className.split(" "):[],Re=n.split("}").map(xe=>xe.trim()+"}").filter(xe=>xe.length>1);for(const xe of Re){const Fe=xe.match(/^([^{]+)\s*{/);if(!Fe)continue;const ze=Fe[1].trim();let Qe=!1;if(ze===he.tagName.toLowerCase()&&(Qe=!0),ze.includes("#")&&ze.includes(he.id)&&(Qe=!0),ze.includes(".")&&oe.some(We=>ze.includes("."+We))&&(Qe=!0),Qe){const Oe=(((Ce=xe.match(/{([^}]*)}/))==null?void 0:Ce[1])||"").split(";").filter(Ke=>Ke.trim());for(const Ke of Oe){const[ht,Pt]=Ke.split(":").map(wt=>wt.trim());ht&&Pt&&(ce[ht]=Pt)}}}return ce},V=(he,ce)=>{var ze;if(!_)return;const oe=_.className?_.className.split(" "):[],Re=oe.length>0?"."+oe[0]:_.tagName.toLowerCase();let Ce=n;const xe=new RegExp(`(${Re.replace(".","\\.")}\\s*{[^}]*})`,"g"),Fe=(ze=Ce.match(xe))==null?void 0:ze[0];if(Fe){const Qe=Fe.replace(/}$/,"").trim(),We=new RegExp(`${he}\\s*:[^;]*;?`,"g");if(Qe.includes(he+":")){const Oe=Qe.replace(We,`${he}: ${ce};`)+"}";Ce=Ce.replace(Fe,Oe)}else{const Oe=Qe+`
  ${he}: ${ce};
}`;Ce=Ce.replace(Fe,Oe)}}else{const Qe=`
${Re} {
  ${he}: ${ce};
}`;Ce+=Qe}s(Ce),K(Qe=>({...Qe,[he]:ce}))};b.useEffect(()=>{if(!O||!A)return;const he=setTimeout(()=>{if(!A)return;const ce={id:A,pageName:l,htmlCode:t,cssCode:n,jsCode:a,lastSaved:new Date().toISOString()};Fr.setItem(`html_editor_${A}`,ce);const Re=(Fr.getItem("generated_wireframes")||[]).map(Ce=>Ce.id===A?{...Ce,htmlCode:t,cssCode:n,jsCode:a,isEnhanced:!0,lastUpdated:new Date().toISOString(),lastEnhancedElement:"HTML Editor"}:Ce);Fr.setItem("generated_wireframes",Re),P(new Date)},2e3);return()=>clearTimeout(he)},[t,n,a,l,A,O]),b.useEffect(()=>{if(!(e!=null&&e.id))return;const he=Fr.getItem(`html_editor_${e.id}`);he&&(r(he.htmlCode||e.htmlCode),s(he.cssCode||e.cssCode),o(he.jsCode||e.jsCode||""),P(new Date(he.lastSaved)))},[e]);const se=()=>{if(!A)return;const he={id:A,pageName:l,htmlCode:t,cssCode:n,jsCode:a,lastSaved:new Date().toISOString()};Fr.setItem(`html_editor_${A}`,he);const oe=(Fr.getItem("generated_wireframes")||[]).map(Re=>Re.id===A?{...Re,htmlCode:t,cssCode:n,jsCode:a,isEnhanced:!0,lastUpdated:new Date().toISOString(),lastEnhancedElement:"HTML Editor"}:Re);Fr.setItem("generated_wireframes",oe),P(new Date),console.log("Auto-saved HTML editor data for wireframe ID:",A)},Y=()=>{if(!ue.current||!f)return;const he=`
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>${l}</title>
        <style>
          ${n}
          
          /* Responsive preview styles */
          body { margin: 0; padding: 0; }
          ${u==="mobile"?`
            body { max-width: 375px; margin: 0 auto; }
          `:u==="tablet"?`
            body { max-width: 768px; margin: 0 auto; }
          `:""}
        </style>
      </head>
      <body>
        ${t}
        
        ${w?`
        <style id="element-selector-styles">
          .element-selector-hover { 
            outline: 2px dashed #3B82F6 !important; 
            cursor: pointer !important;
            background-color: rgba(59, 130, 246, 0.05) !important;
          }
          .element-selector-selected { 
            outline: 3px solid #10B981 !important; 
            background-color: rgba(16, 185, 129, 0.1) !important;
            position: relative !important;
          }
          .element-selector-selected::after {
            content: " Selected";
            position: absolute;
            top: -25px;
            left: 0;
            background: #10B981;
            color: white;
            padding: 2px 6px;
            font-size: 11px;
            border-radius: 3px;
            z-index: 10000;
            pointer-events: none;
          }
        </style>
        <script>
          (function() {
            let currentHover = null;
            let isSelectionMode = true;
            
            function setupElementSelection() {
              document.addEventListener('mouseover', handleMouseOver);
              document.addEventListener('mouseout', handleMouseOut);
              document.addEventListener('click', handleClick);
            }
            
            function handleMouseOver(e) {
              if (!isSelectionMode || e.target.tagName === 'BODY' || e.target.tagName === 'HTML') return;
              
              if (currentHover && !currentHover.classList.contains('element-selector-selected')) {
                currentHover.classList.remove('element-selector-hover');
              }
              
              currentHover = e.target;
              if (!e.target.classList.contains('element-selector-selected')) {
                e.target.classList.add('element-selector-hover');
              }
            }
            
            function handleMouseOut(e) {
              if (currentHover && !currentHover.classList.contains('element-selector-selected')) {
                currentHover.classList.remove('element-selector-hover');
              }
            }
            
            function handleClick(e) {
              if (!isSelectionMode) return;
              
              e.preventDefault();
              e.stopPropagation();
              
              // Clear previous selections
              document.querySelectorAll('.element-selector-selected').forEach(el => {
                el.classList.remove('element-selector-selected');
              });
              
              // Remove hover state
              e.target.classList.remove('element-selector-hover');
              
              // Add selected state
              e.target.classList.add('element-selector-selected');
              
              // Get element info
              const elementInfo = {
                tagName: e.target.tagName.toLowerCase(),
                className: e.target.className.replace(/element-selector-(hover|selected)/g, '').trim(),
                id: e.target.id || '',
                textContent: e.target.textContent?.substring(0, 100) || ''
              };
              
              // Post message to parent
              if (window.parent) {
                window.parent.postMessage({
                  type: 'elementSelected',
                  element: elementInfo
                }, '*');
              }
            }
            
            // Initialize when DOM is ready
            if (document.readyState === 'loading') {
              document.addEventListener('DOMContentLoaded', setupElementSelection);
            } else {
              setupElementSelection();
            }
          })();
        <\/script>
        `:""}
        
        ${a?`<script>${a}<\/script>`:""}
      </body>
      </html>
    `,ce=ue.current.contentDocument;ce&&(ce.open(),ce.write(he),ce.close())};b.useEffect(()=>{if(f){const he=setTimeout(Y,500);return()=>clearTimeout(he)}},[t,n,a,u,f]),b.useEffect(()=>{Y()},[w]),b.useEffect(()=>{Y()},[]),b.useEffect(()=>{const he=ce=>{if(ce.data.type==="elementSelected"&&ce.origin===window.location.origin){const oe=ce.data.element;console.log("Element selected:",oe),D(oe);const Re=$(oe);K(Re),te(!0);const Ce=oe.tagName+(oe.className?"."+oe.className.split(" ")[0]:"")+(oe.id?"#"+oe.id:"");T({title:"Element Selected",description:`Selected: ${Ce}`})}};return window.addEventListener("message",he),()=>window.removeEventListener("message",he)},[T,n]);const L=async()=>{if(!m.trim()){T({title:"Enhancement Prompt Required",description:"Please enter a description of how you want to enhance the page.",variant:"destructive"});return}y(!0),H(null);try{const ce=await IR().enhanceCode({htmlCode:t,cssCode:n,prompt:m,pageName:l});r(ce.html),s(ce.css),o(ce.js),H(ce),N(""),T({title:"Enhancement Complete",description:"Your page has been enhanced with AI improvements."})}catch(he){console.error("Enhancement error:",he),T({title:"Enhancement Failed",description:"Failed to enhance the page. Please try again.",variant:"destructive"})}finally{y(!1)}},C=async()=>{if(!_||!R.trim()){T({title:"Selection Required",description:"Please select an element and enter enhancement instructions.",variant:"destructive"});return}U(!0);try{const he=PR(),ce=`${_.tagName}${_.className?"."+_.className.split(" ")[0]:""}${_.id?"#"+_.id:""}`,oe=await he.enhanceElement({htmlCode:t,cssCode:n,elementData:{displayName:ce,tagName:_.tagName,className:_.className||"",id:_.id||"",uniqueId:`element_${Date.now()}`,textContent:_.textContent||""},enhancementPrompt:R,pageName:l});r(oe.html),s(oe.css),oe.js&&o(oe.js),I(""),D(null),T({title:"Element Enhanced",description:`Successfully enhanced ${ce}`})}catch(he){console.error("Element enhancement error:",he),T({title:"Enhancement Failed",description:"Failed to enhance the selected element.",variant:"destructive"})}finally{U(!1)}},j=()=>{var Re,Ce;if(!_)return;const ce=new DOMParser().parseFromString(t,"text/html");let oe=null;if(_.id)oe=ce.getElementById(_.id);else if(_.className){const xe=ce.getElementsByClassName(_.className.split(" ")[0]);if(xe.length>0){for(let Fe=0;Fe<xe.length;Fe++)if((Re=xe[Fe].textContent)!=null&&Re.trim().includes(_.textContent.trim().substring(0,50))){oe=xe[Fe];break}oe||(oe=xe[0])}}else{const xe=ce.getElementsByTagName(_.tagName);for(let Fe=0;Fe<xe.length;Fe++)if((Ce=xe[Fe].textContent)!=null&&Ce.trim().includes(_.textContent.trim().substring(0,50))){oe=xe[Fe];break}}if(oe){oe.remove();const xe=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${l}</title>
    <style>
        ${n}
    </style>
</head>
<body>
    ${ce.body.innerHTML}
</body>
</html>`;r(xe),D(null),I(""),T({title:"Element Deleted",description:`Successfully removed ${_.tagName} element`}),console.log("Element deleted successfully")}else T({title:"Delete Failed",description:"Could not locate the element to delete",variant:"destructive"}),console.warn("Could not find element to delete")},G=()=>{const he=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${l}</title>
  <style>
${n}
  </style>
</head>
<body>
${t}
${a?`
<script>
${a}
<\/script>`:""}
</body>
</html>`,ce=new Blob([he],{type:"text/html"}),oe=URL.createObjectURL(ce),Re=document.createElement("a");Re.href=oe,Re.download=`${l.replace(/\s+/g,"_").toLowerCase()}.html`,document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),URL.revokeObjectURL(oe)},z=()=>{switch(u){case"mobile":return"375px";case"tablet":return"768px";default:return"100%"}};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Ll,{title:"HTML Editor",showBackButton:!0}),i.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(pr,{value:l,onChange:he=>c(he.target.value),className:"text-xl font-semibold border-none bg-transparent p-0 focus-visible:ring-0",placeholder:"Enter page name..."}),S&&i.jsxs("span",{className:"text-sm text-gray-500",children:["Last saved: ",S.toLocaleTimeString()]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(m5,{checked:O,onCheckedChange:k,id:"auto-save"}),i.jsx(br,{htmlFor:"auto-save",className:"text-sm",children:"Auto-save"})]}),i.jsxs(me,{onClick:se,variant:"outline",size:"sm",children:[i.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Save"]}),i.jsxs(me,{onClick:G,variant:"outline",size:"sm",children:[i.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Download"]})]})]}),Z&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[i.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Enhancement Complete"}),i.jsx("p",{className:"text-sm text-green-700 mb-2",children:Z.explanation}),Z.improvements&&Z.improvements.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-800 mb-1",children:"Key Improvements:"}),i.jsx("ul",{className:"text-sm text-green-700 space-y-1",children:Z.improvements.map((he,ce)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-500 mt-0.5",children:""}),he]},ce))})]})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-4 h-[calc(100vh-160px)]",children:[i.jsxs("div",{className:"col-span-3 space-y-4 overflow-y-auto",children:[i.jsxs(lt,{className:"h-fit",children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx(wn,{className:"h-4 w-4"}),"AI Tools"]})}),i.jsxs(ct,{className:"space-y-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(pr,{value:m,onChange:he=>N(he.target.value),placeholder:"Enhance page...",className:"flex-1 text-sm"}),i.jsx(me,{onClick:L,disabled:g||!m.trim(),size:"sm",children:g?i.jsx(Vt,{className:"h-3 w-3 animate-spin"}):i.jsx(ml,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"border-t pt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(br,{className:"text-sm",children:"Element Tools"}),i.jsxs(me,{variant:w?"destructive":"default",onClick:()=>{E(!w),w||D(null)},size:"sm",children:[i.jsx(RE,{className:"h-3 w-3 mr-1"}),w?"Exit":"Select"]})]}),w&&_&&i.jsxs("div",{className:"space-y-2 p-2 bg-blue-50 border border-blue-200 rounded text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),i.jsxs("span",{className:"font-medium",children:[_.tagName," + children"]}),_.className&&i.jsxs("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:[".",_.className.split(" ")[0]]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-1",children:["Modern","Animate","Colors","Hover","Type","Shadow"].map(he=>i.jsx(me,{variant:"outline",size:"sm",className:"h-6 text-xs",onClick:()=>I(he+" style"),children:he},he))}),i.jsx("div",{className:"flex justify-end pt-1",children:i.jsx(me,{variant:"destructive",size:"sm",className:"h-6 text-xs",onClick:j,children:"Delete Element"})}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(pr,{value:R,onChange:he=>I(he.target.value),placeholder:"Custom enhancement...",className:"flex-1 text-xs h-7"}),i.jsx(me,{onClick:C,disabled:Q||!R.trim(),size:"sm",className:"h-7",children:Q?i.jsx(Vt,{className:"h-3 w-3 animate-spin"}):"Go"})]})]}),w&&!_&&i.jsxs("div",{className:"text-center py-4 text-gray-500 border border-dashed border-gray-200 rounded text-xs",children:[i.jsx(RE,{className:"h-4 w-4 mx-auto mb-1 opacity-50"}),i.jsx("p",{children:"Click elements in preview"})]})]})]})]}),i.jsxs(lt,{className:"flex-1",children:[i.jsx(Bt,{className:"pb-3",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx(pl,{className:"h-4 w-4"}),"Code"]})})}),i.jsx(ct,{className:"h-[calc(100%-70px)]",children:i.jsxs(md,{defaultValue:"html",className:"h-full",children:[i.jsxs(tA,{className:"grid w-full grid-cols-3 mb-3",children:[i.jsx(Vr,{value:"html",className:"text-xs",children:"HTML"}),i.jsx(Vr,{value:"css",className:"text-xs",children:"CSS"}),i.jsx(Vr,{value:"js",className:"text-xs",children:"JS"})]}),i.jsx(Wr,{value:"html",className:"h-[calc(100%-50px)]",children:i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(br,{className:"text-xs",children:"HTML"}),i.jsx(me,{onClick:()=>navigator.clipboard.writeText(t),variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:i.jsx(zn,{className:"h-3 w-3"})})]}),i.jsx(En,{value:t,onChange:he=>r(he.target.value),className:"font-mono text-xs flex-1 resize-none",placeholder:"HTML code..."})]})}),i.jsx(Wr,{value:"css",className:"h-[calc(100%-50px)]",children:i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(br,{className:"text-xs",children:"CSS"}),i.jsx(me,{onClick:()=>navigator.clipboard.writeText(n),variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:i.jsx(zn,{className:"h-3 w-3"})})]}),i.jsx(En,{value:n,onChange:he=>s(he.target.value),className:"font-mono text-xs flex-1 resize-none",placeholder:"CSS styles..."})]})}),i.jsx(Wr,{value:"js",className:"h-[calc(100%-50px)]",children:i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(br,{className:"text-xs",children:"JavaScript"}),i.jsx(me,{onClick:()=>navigator.clipboard.writeText(a),variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:i.jsx(zn,{className:"h-3 w-3"})})]}),i.jsx(En,{value:a,onChange:he=>o(he.target.value),className:"font-mono text-xs flex-1 resize-none",placeholder:"JavaScript code..."})]})})]})})]})]}),W&&_&&i.jsx("div",{className:"col-span-3 space-y-4 overflow-y-auto",children:i.jsxs(lt,{className:"h-fit",children:[i.jsxs(Bt,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx(Jc,{className:"h-4 w-4"}),"Properties"]}),i.jsx(me,{variant:"ghost",size:"sm",onClick:()=>te(!1),className:"h-6 w-6 p-0",children:i.jsx(un,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[_.tagName,_.className&&i.jsxs("span",{className:"text-blue-600",children:[".",_.className.split(" ")[0]]}),_.id&&i.jsxs("span",{className:"text-green-600",children:["#",_.id]})]})]}),i.jsxs(ct,{className:"space-y-3 max-h-96 overflow-y-auto",children:[Object.keys(q).length>0?Object.entries(q).map(([he,ce])=>i.jsxs("div",{className:"space-y-1",children:[i.jsx(br,{className:"text-xs font-medium capitalize",children:he.replace(/-/g," ")}),i.jsx(pr,{value:ce,onChange:oe=>V(he,oe.target.value),className:"text-xs h-8",placeholder:`Enter ${he} value...`})]},he)):i.jsxs("div",{className:"text-sm text-gray-500 text-center py-4",children:["No CSS properties found for this element.",i.jsx("br",{}),"You can add new properties below."]}),i.jsxs("div",{className:"border-t pt-3 mt-3",children:[i.jsx(br,{className:"text-xs font-medium mb-2 block",children:"Add New Property"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:["color","background-color","font-size","margin","padding","border","width","height"].map(he=>i.jsx(me,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>{q[he]||V(he,"")},children:he},he))})]})]})]})}),i.jsx("div",{className:W&&_?"col-span-6":"col-span-9",children:i.jsxs(lt,{className:"h-full",children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Nt,{className:"text-lg flex items-center gap-2",children:[i.jsx(Wa,{className:"h-4 w-4"}),"Live Preview"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1 border rounded-lg p-1",children:[i.jsx(me,{variant:u==="desktop"?"default":"ghost",size:"sm",onClick:()=>p("desktop"),className:"h-7 w-7 p-0",children:i.jsx(d2,{className:"h-3 w-3"})}),i.jsx(me,{variant:u==="tablet"?"default":"ghost",size:"sm",onClick:()=>p("tablet"),className:"h-7 w-7 p-0",children:i.jsx(UH,{className:"h-3 w-3"})}),i.jsx(me,{variant:u==="mobile"?"default":"ghost",size:"sm",onClick:()=>p("mobile"),className:"h-7 w-7 p-0",children:i.jsx(LH,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(m5,{checked:f,onCheckedChange:x,id:"live-preview"}),i.jsx(br,{htmlFor:"live-preview",className:"text-xs",children:"Live"})]}),!f&&i.jsx(me,{onClick:Y,variant:"outline",size:"sm",className:"h-7",children:i.jsx(Jp,{className:"h-3 w-3"})})]})]})}),i.jsxs(ct,{className:"h-[calc(100%-80px)]",children:[i.jsx("div",{className:"h-full border rounded-lg overflow-hidden bg-white",style:{width:z(),margin:"0 auto"},children:i.jsx("iframe",{ref:ue,className:"w-full h-full border-0",title:"Preview",sandbox:"allow-scripts allow-same-origin"})}),w&&i.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("p",{className:"text-xs text-blue-800 font-medium",children:"Element Selection Active"}),i.jsx("p",{className:"text-xs text-blue-600",children:"Click any element above to select it for enhancement."})]})]})]})})]})]})]})}function Dj(){const e=RI(),[t]=Sm(),r=()=>{var a,o;const n=new URLSearchParams(window.location.search),s=e.wireframeId||n.get("id");if(console.log("HTML Editor - Looking for wireframe ID:",s),console.log("HTML Editor - Current URL:",t),console.log("HTML Editor - URL search params:",window.location.search),console.log("HTML Editor - Extracted ID from params:",n.get("id")),s){const l=Fr.getItem(`html_editor_${s}`);if(l)return console.log("HTML Editor - Found saved editor data for ID:",s),l;const c=Fr.getItem("generated_wireframes"),A=Array.isArray(c)?c:[];console.log("HTML Editor - Checking",A.length,"wireframes for ID:",s);const d=A.find(u=>u.id===s);if(d)return console.log("HTML Editor - Found wireframe data:",{id:d.id,pageName:d.pageName,htmlLength:(a=d.htmlCode)==null?void 0:a.length,cssLength:(o=d.cssCode)==null?void 0:o.length,isEnhanced:d.isEnhanced}),{id:d.id,pageName:d.pageName,htmlCode:d.htmlCode,cssCode:d.cssCode,jsCode:d.jsCode||""};console.log("HTML Editor - No wireframe found with ID:",s),console.log("HTML Editor - Available wireframe IDs:",A.map(u=>`${u.id} (${u.pageName})`))}else console.log("HTML Editor - No wireframe ID found in URL")};return i.jsx(uie,{initialData:r()})}function $r(e){"@babel/helpers - typeof";return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(e)}var Gs=Uint8Array,Hi=Uint16Array,xN=Int32Array,Mx=new Gs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Qx=new Gs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),g5=new Gs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DR=function(e,t){for(var r=new Hi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new xN(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return{b:r,r:s}},MR=DR(Mx,2),QR=MR.b,v5=MR.r;QR[28]=258,v5[258]=28;var OR=DR(Qx,0),hie=OR.b,Mj=OR.r,y5=new Hi(32768);for(var hn=0;hn<32768;++hn){var oc=(hn&43690)>>1|(hn&21845)<<1;oc=(oc&52428)>>2|(oc&13107)<<2,oc=(oc&61680)>>4|(oc&3855)<<4,y5[hn]=((oc&65280)>>8|(oc&255)<<8)>>1}var Po=function(e,t,r){for(var n=e.length,s=0,a=new Hi(t);s<n;++s)e[s]&&++a[e[s]-1];var o=new Hi(t);for(s=1;s<t;++s)o[s]=o[s-1]+a[s-1]<<1;var l;if(r){l=new Hi(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var A=s<<4|e[s],d=t-e[s],u=o[e[s]-1]++<<d,p=u|(1<<d)-1;u<=p;++u)l[y5[u]>>c]=A}else for(l=new Hi(n),s=0;s<n;++s)e[s]&&(l[s]=y5[o[e[s]-1]++]>>15-e[s]);return l},aA=new Gs(288);for(var hn=0;hn<144;++hn)aA[hn]=8;for(var hn=144;hn<256;++hn)aA[hn]=9;for(var hn=256;hn<280;++hn)aA[hn]=7;for(var hn=280;hn<288;++hn)aA[hn]=8;var fm=new Gs(32);for(var hn=0;hn<32;++hn)fm[hn]=5;var fie=Po(aA,9,0),pie=Po(aA,9,1),mie=Po(fm,5,0),gie=Po(fm,5,1),U1=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Ta=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},R1=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},wN=function(e){return(e+7)/8|0},HR=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Gs(e.subarray(t,r))},vie=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Qa=function(e,t,r){var n=new Error(t||vie[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Qa),!r)throw n;return n},yie=function(e,t,r,n){var s=e.length,a=0;if(!s||t.f&&!t.l)return r||new Gs(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new Gs(s*3));var A=function(z){var ae=r.length;if(z>ae){var de=new Gs(Math.max(ae*2,z));de.set(r),r=de}},d=t.f||0,u=t.p||0,p=t.b||0,f=t.l,x=t.d,m=t.m,N=t.n,g=s*8;do{if(!f){d=Ta(e,u,1);var y=Ta(e,u+1,3);if(u+=3,y)if(y==1)f=pie,x=gie,m=9,N=5;else if(y==2){var D=Ta(e,u,31)+257,R=Ta(e,u+10,15)+4,I=D+Ta(e,u+5,31)+1;u+=14;for(var Q=new Gs(I),U=new Gs(19),S=0;S<R;++S)U[g5[S]]=Ta(e,u+S*3,7);u+=R*3;for(var P=U1(U),O=(1<<P)-1,k=Po(U,P,1),S=0;S<I;){var Z=k[Ta(e,u,O)];u+=Z&15;var w=Z>>4;if(w<16)Q[S++]=w;else{var H=0,q=0;for(w==16?(q=3+Ta(e,u,3),u+=2,H=Q[S-1]):w==17?(q=3+Ta(e,u,7),u+=3):w==18&&(q=11+Ta(e,u,127),u+=7);q--;)Q[S++]=H}}var K=Q.subarray(0,D),W=Q.subarray(D);m=U1(K),N=U1(W),f=Po(K,m,1),x=Po(W,N,1)}else Qa(1);else{var w=wN(u)+4,E=e[w-4]|e[w-3]<<8,_=w+E;if(_>s){c&&Qa(0);break}l&&A(p+E),r.set(e.subarray(w,_),p),t.b=p+=E,t.p=u=_*8,t.f=d;continue}if(u>g){c&&Qa(0);break}}l&&A(p+131072);for(var te=(1<<m)-1,ue=(1<<N)-1,T=u;;T=u){var H=f[R1(e,u)&te],$=H>>4;if(u+=H&15,u>g){c&&Qa(0);break}if(H||Qa(2),$<256)r[p++]=$;else if($==256){T=u,f=null;break}else{var V=$-254;if($>264){var S=$-257,se=Mx[S];V=Ta(e,u,(1<<se)-1)+QR[S],u+=se}var Y=x[R1(e,u)&ue],L=Y>>4;Y||Qa(3),u+=Y&15;var W=hie[L];if(L>3){var se=Qx[L];W+=R1(e,u)&(1<<se)-1,u+=se}if(u>g){c&&Qa(0);break}l&&A(p+131072);var C=p+V;if(p<W){var j=a-W,G=Math.min(W,C);for(j+p<0&&Qa(3);p<G;++p)r[p]=n[j+p]}for(;p<C;++p)r[p]=r[p-W]}}t.l=f,t.p=T,t.b=p,t.f=d,f&&(d=1,t.m=m,t.d=x,t.n=N)}while(!d);return p!=r.length&&o?HR(r,0,p):r.subarray(0,p)},rl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},zf=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},D1=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,a=r.slice();if(!s)return{t:zR,l:0};if(s==1){var o=new Gs(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,D){return _.f-D.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],A=0,d=1,u=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[A].f<r[u].f?A++:u++],c=r[A!=d&&r[A].f<r[u].f?A++:u++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var p=a[0].s,n=1;n<s;++n)a[n].s>p&&(p=a[n].s);var f=new Hi(p+1),x=x5(r[d-1],f,0);if(x>t){var n=0,m=0,N=x-t,g=1<<N;for(a.sort(function(D,R){return f[R.s]-f[D.s]||D.f-R.f});n<s;++n){var y=a[n].s;if(f[y]>t)m+=g-(1<<x-f[y]),f[y]=t;else break}for(m>>=N;m>0;){var w=a[n].s;f[w]<t?m-=1<<t-f[w]++-1:++n}for(;n>=0&&m;--n){var E=a[n].s;f[E]==t&&(--f[E],++m)}x=t}return{t:new Gs(f),l:x}},x5=function(e,t,r){return e.s==-1?Math.max(x5(e.l,t,r+1),x5(e.r,t,r+1)):t[e.s]=r},Qj=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Hi(++t),n=0,s=e[0],a=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=e[l]}return{c:r.subarray(0,n),n:t}},Kf=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},$R=function(e,t,r){var n=r.length,s=wN(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var a=0;a<n;++a)e[s+a+4]=r[a];return(s+4+n)*8},Oj=function(e,t,r,n,s,a,o,l,c,A,d){rl(t,d++,r),++s[256];for(var u=D1(s,15),p=u.t,f=u.l,x=D1(a,15),m=x.t,N=x.l,g=Qj(p),y=g.c,w=g.n,E=Qj(m),_=E.c,D=E.n,R=new Hi(19),I=0;I<y.length;++I)++R[y[I]&31];for(var I=0;I<_.length;++I)++R[_[I]&31];for(var Q=D1(R,7),U=Q.t,S=Q.l,P=19;P>4&&!U[g5[P-1]];--P);var O=A+5<<3,k=Kf(s,aA)+Kf(a,fm)+o,Z=Kf(s,p)+Kf(a,m)+o+14+3*P+Kf(R,U)+2*R[16]+3*R[17]+7*R[18];if(c>=0&&O<=k&&O<=Z)return $R(t,d,e.subarray(c,c+A));var H,q,K,W;if(rl(t,d,1+(Z<k)),d+=2,Z<k){H=Po(p,f,0),q=p,K=Po(m,N,0),W=m;var te=Po(U,S,0);rl(t,d,w-257),rl(t,d+5,D-1),rl(t,d+10,P-4),d+=14;for(var I=0;I<P;++I)rl(t,d+3*I,U[g5[I]]);d+=3*P;for(var ue=[y,_],T=0;T<2;++T)for(var $=ue[T],I=0;I<$.length;++I){var V=$[I]&31;rl(t,d,te[V]),d+=U[V],V>15&&(rl(t,d,$[I]>>5&127),d+=$[I]>>12)}}else H=fie,q=aA,K=mie,W=fm;for(var I=0;I<l;++I){var se=n[I];if(se>255){var V=se>>18&31;zf(t,d,H[V+257]),d+=q[V+257],V>7&&(rl(t,d,se>>23&31),d+=Mx[V]);var Y=se&31;zf(t,d,K[Y]),d+=W[Y],Y>3&&(zf(t,d,se>>5&8191),d+=Qx[Y])}else zf(t,d,H[se]),d+=q[se]}return zf(t,d,H[256]),d+q[256]},xie=new xN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zR=new Gs(0),wie=function(e,t,r,n,s,a){var o=a.z||e.length,l=new Gs(n+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(n,l.length-s),A=a.l,d=(a.r||0)&7;if(t){d&&(c[0]=a.r>>3);for(var u=xie[t-1],p=u>>13,f=u&8191,x=(1<<r)-1,m=a.p||new Hi(32768),N=a.h||new Hi(x+1),g=Math.ceil(r/3),y=2*g,w=function(he){return(e[he]^e[he+1]<<g^e[he+2]<<y)&x},E=new xN(25e3),_=new Hi(288),D=new Hi(32),R=0,I=0,Q=a.i||0,U=0,S=a.w||0,P=0;Q+2<o;++Q){var O=w(Q),k=Q&32767,Z=N[O];if(m[k]=Z,N[O]=k,S<=Q){var H=o-Q;if((R>7e3||U>24576)&&(H>423||!A)){d=Oj(e,c,0,E,_,D,I,U,P,Q-P,d),U=R=I=0,P=Q;for(var q=0;q<286;++q)_[q]=0;for(var q=0;q<30;++q)D[q]=0}var K=2,W=0,te=f,ue=k-Z&32767;if(H>2&&O==w(Q-ue))for(var T=Math.min(p,H)-1,$=Math.min(32767,Q),V=Math.min(258,H);ue<=$&&--te&&k!=Z;){if(e[Q+K]==e[Q+K-ue]){for(var se=0;se<V&&e[Q+se]==e[Q+se-ue];++se);if(se>K){if(K=se,W=ue,se>T)break;for(var Y=Math.min(ue,se-2),L=0,q=0;q<Y;++q){var C=Q-ue+q&32767,j=m[C],G=C-j&32767;G>L&&(L=G,Z=C)}}}k=Z,Z=m[k],ue+=k-Z&32767}if(W){E[U++]=268435456|v5[K]<<18|Mj[W];var z=v5[K]&31,ae=Mj[W]&31;I+=Mx[z]+Qx[ae],++_[257+z],++D[ae],S=Q+K,++R}else E[U++]=e[Q],++_[e[Q]]}}for(Q=Math.max(Q,S);Q<o;++Q)E[U++]=e[Q],++_[e[Q]];d=Oj(e,c,A,E,_,D,I,U,P,Q-P,d),A||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=N,a.p=m,a.i=Q,a.w=S)}else{for(var Q=a.w||0;Q<o+A;Q+=65535){var de=Q+65535;de>=o&&(c[d/8|0]=A,de=o),d=$R(c,d+1,e.subarray(Q,de))}a.i=o}return HR(l,0,n+wN(d)+s)},KR=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},bie=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Gs(a.length+e.length);o.set(a),o.set(e,a.length),e=o,s.w=a.length}return wie(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},GR=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Cie=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=KR();s.p(t.dictionary),GR(e,2,s.d())}},Bie=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Qa(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Qa(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function w5(e,t){t||(t={});var r=KR();r.p(e);var n=bie(e,t,t.dictionary?6:2,4);return Cie(n,t),GR(n,n.length-4,r.d()),n}function Nie(e,t){return yie(e.subarray(Bie(e,t),-4),{i:2},t,t)}var Sie=typeof TextDecoder<"u"&&new TextDecoder,Eie=0;try{Sie.decode(zR,{stream:!0}),Eie=1}catch{}var Xt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function M1(){Xt.console&&typeof Xt.console.log=="function"&&Xt.console.log.apply(Xt.console,arguments)}var Zr={log:M1,warn:function(e){Xt.console&&(typeof Xt.console.warn=="function"?Xt.console.warn.apply(Xt.console,arguments):M1.call(null,arguments))},error:function(e){Xt.console&&(typeof Xt.console.error=="function"?Xt.console.error.apply(Xt.console,arguments):M1(e))}};function Q1(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){OA(n.response,t,r)},n.onerror=function(){Zr.error("could not download file")},n.send()}function Hj(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function g0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Np,b5,OA=Xt.saveAs||((typeof window>"u"?"undefined":$r(window))!=="object"||window!==Xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Xt.URL||Xt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?Hj(s.href)?Q1(e,t,r):g0(s,s.target="_blank"):g0(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){g0(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Hj(e))Q1(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){g0(n)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:$r(a)!=="object"&&(Zr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Q1(e,t,r);var s=e.type==="application/octet-stream",a=/constructor/i.test(Xt.HTMLElement)||Xt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&a)&&(typeof FileReader>"u"?"undefined":$r(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Xt.URL||Xt.webkitURL,A=c.createObjectURL(e);n?n.location=A:location.href=A,n=null,setTimeout(function(){c.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function VR(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,a=r[n].process,o=s.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),A=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),A.length==1&&(A="0"+A),"#"+l+c+A}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function O1(e,t){var r=e[0],n=e[1],s=e[2],a=e[3];r=Ds(r,n,s,a,t[0],7,-680876936),a=Ds(a,r,n,s,t[1],12,-389564586),s=Ds(s,a,r,n,t[2],17,606105819),n=Ds(n,s,a,r,t[3],22,-1044525330),r=Ds(r,n,s,a,t[4],7,-176418897),a=Ds(a,r,n,s,t[5],12,1200080426),s=Ds(s,a,r,n,t[6],17,-1473231341),n=Ds(n,s,a,r,t[7],22,-45705983),r=Ds(r,n,s,a,t[8],7,1770035416),a=Ds(a,r,n,s,t[9],12,-1958414417),s=Ds(s,a,r,n,t[10],17,-42063),n=Ds(n,s,a,r,t[11],22,-1990404162),r=Ds(r,n,s,a,t[12],7,1804603682),a=Ds(a,r,n,s,t[13],12,-40341101),s=Ds(s,a,r,n,t[14],17,-1502002290),r=Ms(r,n=Ds(n,s,a,r,t[15],22,1236535329),s,a,t[1],5,-165796510),a=Ms(a,r,n,s,t[6],9,-1069501632),s=Ms(s,a,r,n,t[11],14,643717713),n=Ms(n,s,a,r,t[0],20,-373897302),r=Ms(r,n,s,a,t[5],5,-701558691),a=Ms(a,r,n,s,t[10],9,38016083),s=Ms(s,a,r,n,t[15],14,-660478335),n=Ms(n,s,a,r,t[4],20,-405537848),r=Ms(r,n,s,a,t[9],5,568446438),a=Ms(a,r,n,s,t[14],9,-1019803690),s=Ms(s,a,r,n,t[3],14,-187363961),n=Ms(n,s,a,r,t[8],20,1163531501),r=Ms(r,n,s,a,t[13],5,-1444681467),a=Ms(a,r,n,s,t[2],9,-51403784),s=Ms(s,a,r,n,t[7],14,1735328473),r=Qs(r,n=Ms(n,s,a,r,t[12],20,-1926607734),s,a,t[5],4,-378558),a=Qs(a,r,n,s,t[8],11,-2022574463),s=Qs(s,a,r,n,t[11],16,1839030562),n=Qs(n,s,a,r,t[14],23,-35309556),r=Qs(r,n,s,a,t[1],4,-1530992060),a=Qs(a,r,n,s,t[4],11,1272893353),s=Qs(s,a,r,n,t[7],16,-155497632),n=Qs(n,s,a,r,t[10],23,-1094730640),r=Qs(r,n,s,a,t[13],4,681279174),a=Qs(a,r,n,s,t[0],11,-358537222),s=Qs(s,a,r,n,t[3],16,-722521979),n=Qs(n,s,a,r,t[6],23,76029189),r=Qs(r,n,s,a,t[9],4,-640364487),a=Qs(a,r,n,s,t[12],11,-421815835),s=Qs(s,a,r,n,t[15],16,530742520),r=Os(r,n=Qs(n,s,a,r,t[2],23,-995338651),s,a,t[0],6,-198630844),a=Os(a,r,n,s,t[7],10,1126891415),s=Os(s,a,r,n,t[14],15,-1416354905),n=Os(n,s,a,r,t[5],21,-57434055),r=Os(r,n,s,a,t[12],6,1700485571),a=Os(a,r,n,s,t[3],10,-1894986606),s=Os(s,a,r,n,t[10],15,-1051523),n=Os(n,s,a,r,t[1],21,-2054922799),r=Os(r,n,s,a,t[8],6,1873313359),a=Os(a,r,n,s,t[15],10,-30611744),s=Os(s,a,r,n,t[6],15,-1560198380),n=Os(n,s,a,r,t[13],21,1309151649),r=Os(r,n,s,a,t[4],6,-145523070),a=Os(a,r,n,s,t[11],10,-1120210379),s=Os(s,a,r,n,t[2],15,718787259),n=Os(n,s,a,r,t[9],21,-343485551),e[0]=kc(r,e[0]),e[1]=kc(n,e[1]),e[2]=kc(s,e[2]),e[3]=kc(a,e[3])}function Ox(e,t,r,n,s,a){return t=kc(kc(t,e),kc(n,a)),kc(t<<s|t>>>32-s,r)}function Ds(e,t,r,n,s,a,o){return Ox(t&r|~t&n,e,t,s,a,o)}function Ms(e,t,r,n,s,a,o){return Ox(t&n|r&~n,e,t,s,a,o)}function Qs(e,t,r,n,s,a,o){return Ox(t^r^n,e,t,s,a,o)}function Os(e,t,r,n,s,a,o){return Ox(r^(t|~n),e,t,s,a,o)}function WR(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)O1(n,jie(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(O1(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,O1(n,s),n}function jie(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Np=Xt.atob.bind(Xt),b5=Xt.btoa.bind(Xt);var $j="0123456789abcdef".split("");function Fie(e){for(var t="",r=0;r<4;r++)t+=$j[e>>8*r+4&15]+$j[e>>8*r&15];return t}function kie(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function C5(e){return WR(e).map(kie).join("")}var Iie=function(e){for(var t=0;t<e.length;t++)e[t]=Fie(e[t]);return e.join("")}(WR("hello"))!="5d41402abc4b2a76b9719d911017c592";function kc(e,t){if(Iie){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function B5(e,t){var r,n,s,a;if(e!==r){for(var o=(s=e,a=1+(256/e.length>>0),new Array(a+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var A=0;for(c=0;c<256;c++){var d=l[c];A=(A+d+o.charCodeAt(c))%256,l[c]=l[A],l[A]=d}r=e,n=l}else l=n;var u=t.length,p=0,f=0,x="";for(c=0;c<u;c++)f=(f+(d=l[p=(p+1)%256]))%256,l[p]=l[f],l[f]=d,o=l[(l[p]+l[f])%256],x+=String.fromCharCode(t.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var zj={print:4,modify:8,copy:16,"annot-forms":32};function bu(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(zj.perm!==void 0)throw new Error("Invalid permission: "+l);s+=zj[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^s)),this.encryptionKey=C5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=B5(this.encryptionKey,this.padding)}function Cu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[n]}return t}function Kj(e){if($r(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!s],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(l){Xt.console&&Zr.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Sy(e){if(!(this instanceof Sy))return new Sy(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function qR(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function HA(e,t,r,n,s){if(!(this instanceof HA))return new HA(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,qR.call(this,n,s)}function Ou(e,t,r,n,s){if(!(this instanceof Ou))return new Ou(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,qR.call(this,n,s)}function qt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],a=arguments[3],o=[],l=1,c=16,A="S",d=null;$r(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),A=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=Kj;var x="1.3",m=f.__private__.getPdfVersion=function(){return x};f.__private__.setPdfVersion=function(B){x=B};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return N};var g=f.__private__.getPageFormat=function(B){return N[B]};s=s||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},w=y.COMPAT;function E(){this.saveGraphicsState(),oe(new pe(et,0,0,-et,0,Kl()*et).toString()+" cm"),this.setFontSize(this.getFontSize()/et),A="n",w=y.ADVANCED}function _(){this.restoreGraphicsState(),A="S",w=y.COMPAT}var D=f.__private__.combineFontStyleAndFontWeight=function(B,J){if(B=="bold"&&J=="normal"||B=="bold"&&J==400||B=="normal"&&J=="italic"||B=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(B=J==400||J==="normal"?B==="italic"?"italic":"normal":J!=700&&J!=="bold"||B!=="normal"?(J==700?"bold":J)+""+B:"bold"),B};f.advancedAPI=function(B){var J=w===y.COMPAT;return J&&E.call(this),typeof B!="function"||(B(this),J&&_.call(this)),this},f.compatAPI=function(B){var J=w===y.ADVANCED;return J&&_.call(this),typeof B!="function"||(B(this),J&&E.call(this)),this},f.isAdvancedAPI=function(){return w===y.ADVANCED};var R,I=function(B){if(w!==y.ADVANCED)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=f.roundToPrecision=f.__private__.roundToPrecision=function(B,J){var fe=t||J;if(isNaN(B)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(fe).replace(/0+$/,"")};R=f.hpf=f.__private__.hpf=typeof c=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(B,c)}:c==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(B,16)};var U=f.f2=f.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return Q(B,2)},S=f.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return Q(B,3)},P=f.scale=f.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return w===y.COMPAT?B*et:w===y.ADVANCED?B:void 0},O=function(B){return w===y.COMPAT?Kl()-B:w===y.ADVANCED?B:void 0},k=function(B){return P(O(B))};f.__private__.setPrecision=f.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(t=parseInt(B,10))};var Z,H="00000000000000000000000000000000",q=f.__private__.getFileId=function(){return H},K=f.__private__.setFileId=function(B){return H=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(_r=new bu(d.userPermissions,d.userPassword,d.ownerPassword,H)),H};f.setFileId=function(B){return K(B),this},f.getFileId=function(){return q()};var W=f.__private__.convertDateToPDFDate=function(B){var J=B.getTimezoneOffset(),fe=J<0?"+":"-",ye=Math.floor(Math.abs(J/60)),ke=Math.abs(J%60),He=[fe,V(ye),"'",V(ke),"'"].join("");return["D:",B.getFullYear(),V(B.getMonth()+1),V(B.getDate()),V(B.getHours()),V(B.getMinutes()),V(B.getSeconds()),He].join("")},te=f.__private__.convertPDFDateToDate=function(B){var J=parseInt(B.substr(2,4),10),fe=parseInt(B.substr(6,2),10)-1,ye=parseInt(B.substr(8,2),10),ke=parseInt(B.substr(10,2),10),He=parseInt(B.substr(12,2),10),Ze=parseInt(B.substr(14,2),10);return new Date(J,fe,ye,ke,He,Ze,0)},ue=f.__private__.setCreationDate=function(B){var J;if(B===void 0&&(B=new Date),B instanceof Date)J=W(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=B}return Z=J},T=f.__private__.getCreationDate=function(B){var J=Z;return B==="jsDate"&&(J=te(Z)),J};f.setCreationDate=function(B){return ue(B),this},f.getCreationDate=function(B){return T(B)};var $,V=f.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},se=f.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},Y=0,L=[],C=[],j=0,G=[],z=[],ae=!1,de=C,he=function(){Y=0,j=0,C=[],L=[],G=[],it=nt(),It=nt()};f.__private__.setCustomOutputDestination=function(B){ae=!0,de=B};var ce=function(B){ae||(de=B)};f.__private__.resetCustomOutputDestination=function(){ae=!1,de=C};var oe=f.__private__.out=function(B){return B=B.toString(),j+=B.length+1,de.push(B),de},Re=f.__private__.write=function(B){return oe(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},Ce=f.__private__.getArrayBuffer=function(B){for(var J=B.length,fe=new ArrayBuffer(J),ye=new Uint8Array(fe);J--;)ye[J]=B.charCodeAt(J);return fe},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return xe};var Fe=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(B){return Fe=w===y.ADVANCED?B/et:B,this};var ze,Qe=f.__private__.getFontSize=f.getFontSize=function(){return w===y.COMPAT?Fe:Fe*et},We=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(B){return We=B,this},f.__private__.getR2L=f.getR2L=function(){return We};var Oe,Ke=f.__private__.setZoomMode=function(B){var J=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))ze=B;else if(isNaN(B)){if(J.indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');ze=B}else ze=parseInt(B,10)};f.__private__.getZoomMode=function(){return ze};var ht,Pt=f.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');Oe=B};f.__private__.getPageMode=function(){return Oe};var wt=f.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');ht=B};f.__private__.getLayoutMode=function(){return ht},f.__private__.setDisplayMode=f.setDisplayMode=function(B,J,fe){return Ke(B),wt(J),Pt(fe),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(B){if(Object.keys(ft).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[B]},f.__private__.getDocumentProperties=function(){return ft},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(B){for(var J in ft)ft.hasOwnProperty(J)&&B[J]&&(ft[J]=B[J]);return this},f.__private__.setDocumentProperty=function(B,J){if(Object.keys(ft).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[B]=J};var Qt,et,ur,Ut,Xr,rr={},Yt={},Tr=[],Jt={},kn={},yr={},bn={},ts=null,mr=0,Rt=[],hr=new Kj(f),pn=e.hotfixes||[],Ur={},mn={},Cn=[],pe=function B(J,fe,ye,ke,He,Ze){if(!(this instanceof B))return new B(J,fe,ye,ke,He,Ze);isNaN(J)&&(J=1),isNaN(fe)&&(fe=0),isNaN(ye)&&(ye=0),isNaN(ke)&&(ke=1),isNaN(He)&&(He=0),isNaN(Ze)&&(Ze=0),this._matrix=[J,fe,ye,ke,He,Ze]};Object.defineProperty(pe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(pe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(pe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(pe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(pe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(pe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(pe.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(pe.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(pe.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(pe.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(pe.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(pe.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(pe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pe.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(B)},pe.prototype.multiply=function(B){var J=B.sx*this.sx+B.shy*this.shx,fe=B.sx*this.shy+B.shy*this.sy,ye=B.shx*this.sx+B.sy*this.shx,ke=B.shx*this.shy+B.sy*this.sy,He=B.tx*this.sx+B.ty*this.shx+this.tx,Ze=B.tx*this.shy+B.ty*this.sy+this.ty;return new pe(J,fe,ye,ke,He,Ze)},pe.prototype.decompose=function(){var B=this.sx,J=this.shy,fe=this.shx,ye=this.sy,ke=this.tx,He=this.ty,Ze=Math.sqrt(B*B+J*J),mt=(B/=Ze)*fe+(J/=Ze)*ye;fe-=B*mt,ye-=J*mt;var Dt=Math.sqrt(fe*fe+ye*ye);return mt/=Dt,B*(ye/=Dt)<J*(fe/=Dt)&&(B=-B,J=-J,mt=-mt,Ze=-Ze),{scale:new pe(Ze,0,0,Dt,0,0),translate:new pe(1,0,0,1,ke,He),rotate:new pe(B,J,-J,B,0,0),skew:new pe(1,0,mt,1,0,0)}},pe.prototype.toString=function(B){return this.join(" ")},pe.prototype.inversed=function(){var B=this.sx,J=this.shy,fe=this.shx,ye=this.sy,ke=this.tx,He=this.ty,Ze=1/(B*ye-J*fe),mt=ye*Ze,Dt=-J*Ze,or=-fe*Ze,sr=B*Ze;return new pe(mt,Dt,or,sr,-mt*ke-or*He,-Dt*ke-sr*He)},pe.prototype.applyToPoint=function(B){var J=B.x*this.sx+B.y*this.shx+this.tx,fe=B.x*this.shy+B.y*this.sy+this.ty;return new Od(J,fe)},pe.prototype.applyToRectangle=function(B){var J=this.applyToPoint(B),fe=this.applyToPoint(new Od(B.x+B.w,B.y+B.h));return new of(J.x,J.y,fe.x-J.x,fe.y-J.y)},pe.prototype.clone=function(){var B=this.sx,J=this.shy,fe=this.shx,ye=this.sy,ke=this.tx,He=this.ty;return new pe(B,J,fe,ye,ke,He)},f.Matrix=pe;var je=f.matrixMult=function(B,J){return J.multiply(B)},De=new pe(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=De;var Ie=function(B,J){if(!kn[B]){var fe=(J instanceof HA?"Sh":"P")+(Object.keys(Jt).length+1).toString(10);J.id=fe,kn[B]=fe,Jt[fe]=J,hr.publish("addPattern",J)}};f.ShadingPattern=HA,f.TilingPattern=Ou,f.addShadingPattern=function(B,J){return I("addShadingPattern()"),Ie(B,J),this},f.beginTilingPattern=function(B){I("beginTilingPattern()"),tg(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},f.endTilingPattern=function(B,J){I("endTilingPattern()"),J.stream=z[$].join(`
`),Ie(B,J),hr.publish("endTilingPattern",J),Cn.pop().restore()};var Te=f.__private__.newObject=function(){var B=nt();return Xe(B,!0),B},nt=f.__private__.newObjectDeferred=function(){return Y++,L[Y]=function(){return j},Y},Xe=function(B,J){return J=typeof J=="boolean"&&J,L[B]=j,J&&oe(B+" 0 obj"),B},Et=f.__private__.newAdditionalObject=function(){var B={objId:nt(),content:""};return G.push(B),B},it=nt(),It=nt(),dt=f.__private__.decodeColorString=function(B){var J=B.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length===5&&(J[4]==="k"||J[4]==="K")&&(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var fe=parseFloat(J[0]);J=[fe,fe,fe,"r"]}for(var ye="#",ke=0;ke<3;ke++)ye+=("0"+Math.floor(255*parseFloat(J[ke])).toString(16)).slice(-2);return ye},pt=f.__private__.encodeColorString=function(B){var J;typeof B=="string"&&(B={ch1:B});var fe=B.ch1,ye=B.ch2,ke=B.ch3,He=B.ch4,Ze=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var mt=new VR(fe);if(mt.ok)fe=mt.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var Dt=parseInt(fe.substr(1),16);fe=Dt>>16&255,ye=Dt>>8&255,ke=255&Dt}if(ye===void 0||He===void 0&&fe===ye&&ye===ke)if(typeof fe=="string")J=fe+" "+Ze[0];else switch(B.precision){case 2:J=U(fe/255)+" "+Ze[0];break;case 3:default:J=S(fe/255)+" "+Ze[0]}else if(He===void 0||$r(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return J=["1.","1.","1.",Ze[1]].join(" ");if(typeof fe=="string")J=[fe,ye,ke,Ze[1]].join(" ");else switch(B.precision){case 2:J=[U(fe/255),U(ye/255),U(ke/255),Ze[1]].join(" ");break;default:case 3:J=[S(fe/255),S(ye/255),S(ke/255),Ze[1]].join(" ")}}else if(typeof fe=="string")J=[fe,ye,ke,He,Ze[2]].join(" ");else switch(B.precision){case 2:J=[U(fe),U(ye),U(ke),U(He),Ze[2]].join(" ");break;case 3:default:J=[S(fe),S(ye),S(ke),S(He),Ze[2]].join(" ")}return J},_t=f.__private__.getFilters=function(){return o},ne=f.__private__.putStream=function(B){var J=(B=B||{}).data||"",fe=B.filters||_t(),ye=B.alreadyAppliedFilters||[],ke=B.addLength1||!1,He=J.length,Ze=B.objectId,mt=function(Ts){return Ts};if(d!==null&&Ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(mt=_r.encryptor(Ze,0));var Dt={};fe===!0&&(fe=["FlateEncode"]);var or=B.additionalKeyValues||[],sr=(Dt=qt.API.processDataByFilters!==void 0?qt.API.processDataByFilters(J,fe):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(Dt.data.length!==0&&(or.push({key:"Length",value:Dt.data.length}),ke===!0&&or.push({key:"Length1",value:He})),sr.length!=0)if(sr.split("/").length-1==1)or.push({key:"Filter",value:sr});else{or.push({key:"Filter",value:"["+sr+"]"});for(var kr=0;kr<or.length;kr+=1)if(or[kr].key==="DecodeParms"){for(var Nn=[],In=0;In<Dt.reverseChain.split("/").length-1;In+=1)Nn.push("null");Nn.push(or[kr].value),or[kr].value="["+Nn.join(" ")+"]"}}oe("<<");for(var qn=0;qn<or.length;qn++)oe("/"+or[qn].key+" "+or[qn].value);oe(">>"),Dt.data.length!==0&&(oe("stream"),oe(mt(Dt.data)),oe("endstream"))},ve=f.__private__.putPage=function(B){var J=B.number,fe=B.data,ye=B.objId,ke=B.contentsObjId;Xe(ye,!0),oe("<</Type /Page"),oe("/Parent "+B.rootDictionaryObjId+" 0 R"),oe("/Resources "+B.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(R(B.mediaBox.bottomLeftX))+" "+parseFloat(R(B.mediaBox.bottomLeftY))+" "+R(B.mediaBox.topRightX)+" "+R(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&oe("/CropBox ["+R(B.cropBox.bottomLeftX)+" "+R(B.cropBox.bottomLeftY)+" "+R(B.cropBox.topRightX)+" "+R(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&oe("/BleedBox ["+R(B.bleedBox.bottomLeftX)+" "+R(B.bleedBox.bottomLeftY)+" "+R(B.bleedBox.topRightX)+" "+R(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&oe("/TrimBox ["+R(B.trimBox.bottomLeftX)+" "+R(B.trimBox.bottomLeftY)+" "+R(B.trimBox.topRightX)+" "+R(B.trimBox.topRightY)+"]"),B.artBox!==null&&oe("/ArtBox ["+R(B.artBox.bottomLeftX)+" "+R(B.artBox.bottomLeftY)+" "+R(B.artBox.topRightX)+" "+R(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&oe("/UserUnit "+B.userUnit),hr.publish("putPage",{objId:ye,pageContext:Rt[J],pageNumber:J,page:fe}),oe("/Contents "+ke+" 0 R"),oe(">>"),oe("endobj");var He=fe.join(`
`);return w===y.ADVANCED&&(He+=`
Q`),Xe(ke,!0),ne({data:He,filters:_t(),objectId:ke}),oe("endobj"),ye},Be=f.__private__.putPages=function(){var B,J,fe=[];for(B=1;B<=mr;B++)Rt[B].objId=nt(),Rt[B].contentsObjId=nt();for(B=1;B<=mr;B++)fe.push(ve({number:B,data:z[B],objId:Rt[B].objId,contentsObjId:Rt[B].contentsObjId,mediaBox:Rt[B].mediaBox,cropBox:Rt[B].cropBox,bleedBox:Rt[B].bleedBox,trimBox:Rt[B].trimBox,artBox:Rt[B].artBox,userUnit:Rt[B].userUnit,rootDictionaryObjId:it,resourceDictionaryObjId:It}));Xe(it,!0),oe("<</Type /Pages");var ye="/Kids [";for(J=0;J<mr;J++)ye+=fe[J]+" 0 R ";oe(ye+"]"),oe("/Count "+mr),oe(">>"),oe("endobj"),hr.publish("postPutPages")},Ee=function(B){hr.publish("putFont",{font:B,out:oe,newObject:Te,putStream:ne}),B.isAlreadyPutted!==!0&&(B.objectNumber=Te(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Cu(B.postScriptName)),oe("/Subtype /Type1"),typeof B.encoding=="string"&&oe("/Encoding /"+B.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},Le=function(){for(var B in rr)rr.hasOwnProperty(B)&&(u===!1||u===!0&&p.hasOwnProperty(B))&&Ee(rr[B])},$e=function(B){B.objectNumber=Te();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[R(B.x),R(B.y),R(B.x+B.width),R(B.y+B.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var fe=B.pages[1].join(`
`);ne({data:fe,additionalKeyValues:J,objectId:B.objectNumber}),oe("endobj")},xt=function(){for(var B in Ur)Ur.hasOwnProperty(B)&&$e(Ur[B])},Ot=function(B,J){var fe,ye=[],ke=1/(J-1);for(fe=0;fe<1;fe+=ke)ye.push(fe);if(ye.push(1),B[0].offset!=0){var He={offset:0,color:B[0].color};B.unshift(He)}if(B[B.length-1].offset!=1){var Ze={offset:1,color:B[B.length-1].color};B.push(Ze)}for(var mt="",Dt=0,or=0;or<ye.length;or++){for(fe=ye[or];fe>B[Dt+1].offset;)Dt++;var sr=B[Dt].offset,kr=(fe-sr)/(B[Dt+1].offset-sr),Nn=B[Dt].color,In=B[Dt+1].color;mt+=se(Math.round((1-kr)*Nn[0]+kr*In[0]).toString(16))+se(Math.round((1-kr)*Nn[1]+kr*In[1]).toString(16))+se(Math.round((1-kr)*Nn[2]+kr*In[2]).toString(16))}return mt.trim()},Br=function(B,J){J||(J=21);var fe=Te(),ye=Ot(B.colors,J),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+J+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ne({data:ye,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),oe("endobj"),B.objectNumber=Te(),oe("<< /ShadingType "+B.type),oe("/ColorSpace /DeviceRGB");var He="/Coords ["+R(parseFloat(B.coords[0]))+" "+R(parseFloat(B.coords[1]))+" ";B.type===2?He+=R(parseFloat(B.coords[2]))+" "+R(parseFloat(B.coords[3])):He+=R(parseFloat(B.coords[2]))+" "+R(parseFloat(B.coords[3]))+" "+R(parseFloat(B.coords[4]))+" "+R(parseFloat(B.coords[5])),oe(He+="]"),B.matrix&&oe("/Matrix ["+B.matrix.toString()+"]"),oe("/Function "+fe+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},Gt=function(B,J){var fe=nt(),ye=Te();J.push({resourcesOid:fe,objectOid:ye}),B.objectNumber=ye;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+B.boundingBox.map(R).join(" ")+"]"}),ke.push({key:"XStep",value:R(B.xStep)}),ke.push({key:"YStep",value:R(B.yStep)}),ke.push({key:"Resources",value:fe+" 0 R"}),B.matrix&&ke.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),ne({data:B.stream,additionalKeyValues:ke,objectId:B.objectNumber}),oe("endobj")},Nr=function(B){var J;for(J in Jt)Jt.hasOwnProperty(J)&&(Jt[J]instanceof HA?Br(Jt[J]):Jt[J]instanceof Ou&&Gt(Jt[J],B))},xr=function(B){for(var J in B.objectNumber=Te(),oe("<<"),B)switch(J){case"opacity":oe("/ca "+U(B[J]));break;case"stroke-opacity":oe("/CA "+U(B[J]))}oe(">>"),oe("endobj")},Sr=function(){var B;for(B in yr)yr.hasOwnProperty(B)&&xr(yr[B])},Bn=function(){for(var B in oe("/XObject <<"),Ur)Ur.hasOwnProperty(B)&&Ur[B].objectNumber>=0&&oe("/"+B+" "+Ur[B].objectNumber+" 0 R");hr.publish("putXobjectDict"),oe(">>")},ao=function(){_r.oid=Te(),oe("<<"),oe("/Filter /Standard"),oe("/V "+_r.v),oe("/R "+_r.r),oe("/U <"+_r.toHexString(_r.U)+">"),oe("/O <"+_r.toHexString(_r.O)+">"),oe("/P "+_r.P),oe(">>"),oe("endobj")},ea=function(){for(var B in oe("/Font <<"),rr)rr.hasOwnProperty(B)&&(u===!1||u===!0&&p.hasOwnProperty(B))&&oe("/"+B+" "+rr[B].objectNumber+" 0 R");oe(">>")},zo=function(){if(Object.keys(Jt).length>0){for(var B in oe("/Shading <<"),Jt)Jt.hasOwnProperty(B)&&Jt[B]instanceof HA&&Jt[B].objectNumber>=0&&oe("/"+B+" "+Jt[B].objectNumber+" 0 R");hr.publish("putShadingPatternDict"),oe(">>")}},ta=function(B){if(Object.keys(Jt).length>0){for(var J in oe("/Pattern <<"),Jt)Jt.hasOwnProperty(J)&&Jt[J]instanceof f.TilingPattern&&Jt[J].objectNumber>=0&&Jt[J].objectNumber<B&&oe("/"+J+" "+Jt[J].objectNumber+" 0 R");hr.publish("putTilingPatternDict"),oe(">>")}},_d=function(){if(Object.keys(yr).length>0){var B;for(B in oe("/ExtGState <<"),yr)yr.hasOwnProperty(B)&&yr[B].objectNumber>=0&&oe("/"+B+" "+yr[B].objectNumber+" 0 R");hr.publish("putGStateDict"),oe(">>")}},gn=function(B){Xe(B.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ea(),zo(),ta(B.objectOid),_d(),Bn(),oe(">>"),oe("endobj")},Td=function(){var B=[];Le(),Sr(),xt(),Nr(B),hr.publish("putResources"),B.forEach(gn),gn({resourcesOid:It,objectOid:Number.MAX_SAFE_INTEGER}),hr.publish("postPutResources")},Ai=function(){hr.publish("putAdditionalObjects");for(var B=0;B<G.length;B++){var J=G[B];Xe(J.objId,!0),oe(J.content),oe("endobj")}hr.publish("postPutAdditionalObjects")},Ql=function(B){Yt[B.fontName]=Yt[B.fontName]||{},Yt[B.fontName][B.fontStyle]=B.id},Ol=function(B,J,fe,ye,ke){var He={id:"F"+(Object.keys(rr).length+1).toString(10),postScriptName:B,fontName:J,fontStyle:fe,encoding:ye,isStandardFont:ke||!1,metadata:{}};return hr.publish("addFont",{font:He,instance:this}),rr[He.id]=He,Ql(He),He.id},Ld=function(B){for(var J=0,fe=xe.length;J<fe;J++){var ye=Ol.call(this,B[J][0],B[J][1],B[J][2],xe[J][3],!0);u===!1&&(p[ye]=!0);var ke=B[J][0].split("-");Ql({id:ye,fontName:ke[0],fontStyle:ke[1]||""})}hr.publish("addFonts",{fonts:rr,dictionary:Yt})},di=function(B){return B.foo=function(){try{return B.apply(this,arguments)}catch(ye){var J=ye.stack||"";~J.indexOf(" at ")&&(J=J.split(" at ")[1]);var fe="Error in function "+J.split(`
`)[0].split("<")[0]+": "+ye.message;if(!Xt.console)throw new Error(fe);Xt.console.error(fe,ye),Xt.alert&&alert(fe)}},B.foo.bar=B,B.foo},Hl=function(B,J){var fe,ye,ke,He,Ze,mt,Dt,or,sr;if(ke=(J=J||{}).sourceEncoding||"Unicode",Ze=J.outputEncoding,(J.autoencode||Ze)&&rr[Qt].metadata&&rr[Qt].metadata[ke]&&rr[Qt].metadata[ke].encoding&&(He=rr[Qt].metadata[ke].encoding,!Ze&&rr[Qt].encoding&&(Ze=rr[Qt].encoding),!Ze&&He.codePages&&(Ze=He.codePages[0]),typeof Ze=="string"&&(Ze=He[Ze]),Ze)){for(Dt=!1,mt=[],fe=0,ye=B.length;fe<ye;fe++)(or=Ze[B.charCodeAt(fe)])?mt.push(String.fromCharCode(or)):mt.push(B[fe]),mt[fe].charCodeAt(0)>>8&&(Dt=!0);B=mt.join("")}for(fe=B.length;Dt===void 0&&fe!==0;)B.charCodeAt(fe-1)>>8&&(Dt=!0),fe--;if(!Dt)return B;for(mt=J.noBOM?[]:[254,255],fe=0,ye=B.length;fe<ye;fe++){if((sr=(or=B.charCodeAt(fe))>>8)>>8)throw new Error("Character at position "+fe+" of string '"+B+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(sr),mt.push(or-(sr<<8))}return String.fromCharCode.apply(void 0,mt)},_s=f.__private__.pdfEscape=f.pdfEscape=function(B,J){return Hl(B,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yA=f.__private__.beginPage=function(B){z[++mr]=[],Rt[mr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},wA(mr),ce(z[$])},xA=function(B,J){var fe,ye,ke;switch(r=J||r,typeof B=="string"&&(fe=g(B.toLowerCase()),Array.isArray(fe)&&(ye=fe[0],ke=fe[1])),Array.isArray(B)&&(ye=B[0]*et,ke=B[1]*et),isNaN(ye)&&(ye=s[0],ke=s[1]),(ye>14400||ke>14400)&&(Zr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),ke=Math.min(14400,ke)),s=[ye,ke],r.substr(0,1)){case"l":ke>ye&&(s=[ke,ye]);break;case"p":ye>ke&&(s=[ke,ye])}yA(s),Xm(rf),oe(Fa),sf!==0&&oe(sf+" J"),af!==0&&oe(af+" j"),hr.publish("addPage",{pageNumber:mr})},Ud=function(B){B>0&&B<=mr&&(z.splice(B,1),Rt.splice(B,1),mr--,$>mr&&($=mr),this.setPage($))},wA=function(B){B>0&&B<=mr&&($=B)},Rd=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return z.length-1},bA=function(B,J,fe){var ye,ke=void 0;return fe=fe||{},B=B!==void 0?B:rr[Qt].fontName,J=J!==void 0?J:rr[Qt].fontStyle,ye=B.toLowerCase(),Yt[ye]!==void 0&&Yt[ye][J]!==void 0?ke=Yt[ye][J]:Yt[B]!==void 0&&Yt[B][J]!==void 0?ke=Yt[B][J]:fe.disableWarning===!1&&Zr.warn("Unable to look up font label for font '"+B+"', '"+J+"'. Refer to getFontList() for available fonts."),ke||fe.noFallback||(ke=Yt.times[J])==null&&(ke=Yt.times.normal),ke},ge=f.__private__.putInfo=function(){var B=Te(),J=function(ye){return ye};for(var fe in d!==null&&(J=_r.encryptor(B,0)),oe("<<"),oe("/Producer ("+_s(J("jsPDF "+qt.version))+")"),ft)ft.hasOwnProperty(fe)&&ft[fe]&&oe("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+_s(J(ft[fe]))+")");oe("/CreationDate ("+_s(J(Z))+")"),oe(">>"),oe("endobj")},tt=f.__private__.putCatalog=function(B){var J=(B=B||{}).rootDictionaryObjId||it;switch(Te(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+J+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+ze;fe.substr(fe.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+U(ze)+"]")}switch(ht||(ht="continuous"),ht){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Oe&&oe("/PageMode /"+Oe),hr.publish("putCatalog"),oe(">>"),oe("endobj")},St=f.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(Y+1)),oe("/Root "+Y+" 0 R"),oe("/Info "+(Y-1)+" 0 R"),d!==null&&oe("/Encrypt "+_r.oid+" 0 R"),oe("/ID [ <"+H+"> <"+H+"> ]"),oe(">>")},Wt=f.__private__.putHeader=function(){oe("%PDF-"+x),oe("%")},er=f.__private__.putXRef=function(){var B="0000000000";oe("xref"),oe("0 "+(Y+1)),oe("0000000000 65535 f ");for(var J=1;J<=Y;J++)typeof L[J]=="function"?oe((B+L[J]()).slice(-10)+" 00000 n "):L[J]!==void 0?oe((B+L[J]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},gr=f.__private__.buildDocument=function(){he(),ce(C),hr.publish("buildDocument"),Wt(),Be(),Ai(),Td(),d!==null&&ao(),ge(),tt();var B=j;return er(),St(),oe("startxref"),oe(""+B),oe("%%EOF"),ce(z[$]),C.join(`
`)},Kr=f.__private__.getBlob=function(B){return new Blob([Ce(B)],{type:"application/pdf"})},lr=f.output=f.__private__.output=di(function(B,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",B){case void 0:return gr();case"save":f.save(J.filename);break;case"arraybuffer":return Ce(gr());case"blob":return Kr(gr());case"bloburi":case"bloburl":if(Xt.URL!==void 0&&typeof Xt.URL.createObjectURL=="function")return Xt.URL&&Xt.URL.createObjectURL(Kr(gr()))||void 0;Zr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",ye=gr();try{fe=b5(ye)}catch{fe=b5(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+J.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xt)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",He=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(ke=J.pdfObjectUrl,He="");var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+He+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",mt=Xt.open();return mt!==null&&mt.document.write(Ze),mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xt)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',or=Xt.open();if(or!==null){or.document.write(Dt);var sr=this;or.document.documentElement.querySelector("#pdfViewer").onload=function(){or.document.title=J.filename,or.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sr.output("bloburl"))}}return or}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var kr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Nn=Xt.open();if(Nn!==null&&(Nn.document.write(kr),Nn.document.title=J.filename),Nn||typeof safari>"u")return Nn;break;case"datauri":case"dataurl":return Xt.document.location.href=this.output("datauristring",J);default:return null}}),nr=function(B){return Array.isArray(pn)===!0&&pn.indexOf(B)>-1};switch(n){case"pt":et=1;break;case"mm":et=72/25.4;break;case"cm":et=72/2.54;break;case"in":et=72;break;case"px":et=nr("px_scaling")==1?.75:96/72;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);et=n}var _r=null;ue(),K();var ra=function(B){return d!==null?_r.encryptor(B,0):function(J){return J}},Qr=f.__private__.getPageInfo=f.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Rt[B].objId,pageNumber:B,pageContext:Rt[B]}},Ft=f.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Rt)if(Rt[J].objId===B)break;return Qr(J)},Ko=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Rt[$].objId,pageNumber:$,pageContext:Rt[$]}};f.addPage=function(){return xA.apply(this,arguments),this},f.setPage=function(){return wA.apply(this,arguments),ce.call(this,z[$]),this},f.insertPage=function(B){return this.addPage(),this.movePage($,B),this},f.movePage=function(B,J){var fe,ye;if(B>J){fe=z[B],ye=Rt[B];for(var ke=B;ke>J;ke--)z[ke]=z[ke-1],Rt[ke]=Rt[ke-1];z[J]=fe,Rt[J]=ye,this.setPage(J)}else if(B<J){fe=z[B],ye=Rt[B];for(var He=B;He<J;He++)z[He]=z[He+1],Rt[He]=Rt[He+1];z[J]=fe,Rt[J]=ye,this.setPage(J)}return this},f.deletePage=function(){return Ud.apply(this,arguments),this},f.__private__.text=f.text=function(B,J,fe,ye,ke){var He,Ze,mt,Dt,or,sr,kr,Nn,In,qn=(ye=ye||{}).scope||this;if(typeof B=="number"&&typeof J=="number"&&(typeof fe=="string"||Array.isArray(fe))){var Ts=fe;fe=J,J=B,B=Ts}if(arguments[3]instanceof pe?(I("The transform parameter of text() with a Matrix value"),In=ke):(mt=arguments[4],Dt=arguments[5],$r(kr=arguments[3])==="object"&&kr!==null||(typeof mt=="string"&&(Dt=mt,mt=null),typeof kr=="string"&&(Dt=kr,kr=null),typeof kr=="number"&&(mt=kr,kr=null),ye={flags:kr,angle:mt,align:Dt})),isNaN(J)||isNaN(fe)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return qn;var ds="",ka=!1,Ii=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:BA,co=qn.internal.scaleFactor;function rg(rn){return rn=rn.split("	").join(Array(ye.TabLen||9).join(" ")),_s(rn,kr)}function df(rn){for(var nn,Qn=rn.concat(),rs=[],Xo=Qn.length;Xo--;)typeof(nn=Qn.shift())=="string"?rs.push(nn):Array.isArray(rn)&&(nn.length===1||nn[1]===void 0&&nn[2]===void 0)?rs.push(nn[0]):rs.push([nn[0],nn[1],nn[2]]);return rs}function uf(rn,nn){var Qn;if(typeof rn=="string")Qn=nn(rn)[0];else if(Array.isArray(rn)){for(var rs,Xo,xf=rn.concat(),Yd=[],og=xf.length;og--;)typeof(rs=xf.shift())=="string"?Yd.push(nn(rs)[0]):Array.isArray(rs)&&typeof rs[0]=="string"&&(Xo=nn(rs[0],rs[1],rs[2]),Yd.push([Xo[0],Xo[1],Xo[2]]));Qn=Yd}return Qn}var $d=!1,hf=!0;if(typeof B=="string")$d=!0;else if(Array.isArray(B)){var ff=B.concat();Ze=[];for(var zd,ys=ff.length;ys--;)(typeof(zd=ff.shift())!="string"||Array.isArray(zd)&&typeof zd[0]!="string")&&(hf=!1);$d=hf}if($d===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var Kd=Fe/qn.internal.scaleFactor,Gd=Kd*(Ii-1);switch(ye.baseline){case"bottom":fe-=Gd;break;case"top":fe+=Kd-Gd;break;case"hanging":fe+=Kd-2*Gd;break;case"middle":fe+=Kd/2-Gd}if((sr=ye.maxWidth||0)>0&&(typeof B=="string"?B=qn.splitTextToSize(B,sr):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(rn,nn){return rn.concat(qn.splitTextToSize(nn,sr))},[]))),He={text:B,x:J,y:fe,options:ye,mutex:{pdfEscape:_s,activeFontKey:Qt,fonts:rr,activeFontSize:Fe}},hr.publish("preProcessText",He),B=He.text,mt=(ye=He.options).angle,!(In instanceof pe)&&mt&&typeof mt=="number"){mt*=Math.PI/180,ye.rotationDirection===0&&(mt=-mt),w===y.ADVANCED&&(mt=-mt);var Vd=Math.cos(mt),pf=Math.sin(mt);In=new pe(Vd,pf,-pf,Vd,0,0)}else mt&&mt instanceof pe&&(In=mt);w!==y.ADVANCED||In||(In=De),(or=ye.charSpace||Qd)!==void 0&&(ds+=R(P(or))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Nn=ye.horizontalScale)!==void 0&&(ds+=R(100*Nn)+` Tz
`),ye.lang;var ui=-1,ow=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,mf=qn.internal.getCurrentPageInfo().pageContext;switch(ow){case 0:case!1:case"fill":ui=0;break;case 1:case!0:case"stroke":ui=1;break;case 2:case"fillThenStroke":ui=2;break;case 3:case"invisible":ui=3;break;case 4:case"fillAndAddForClipping":ui=4;break;case 5:case"strokeAndAddPathForClipping":ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ui=6;break;case 7:case"addToPathForClipping":ui=7}var ng=mf.usedRenderingMode!==void 0?mf.usedRenderingMode:-1;ui!==-1?ds+=ui+` Tr
`:ng!==-1&&(ds+=`0 Tr
`),ui!==-1&&(mf.usedRenderingMode=ui),Dt=ye.align||"left";var na,Wd=Fe*Ii,sg=qn.internal.pageSize.getWidth(),ig=rr[Qt];or=ye.charSpace||Qd,sr=ye.maxWidth||0,kr=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var Gl=[],EA=function(rn){return qn.getStringUnitWidth(rn,{font:ig,charSpace:or,fontSize:Fe,doKerning:!1})*Fe/co};if(Object.prototype.toString.call(B)==="[object Array]"){var hi;Ze=df(B),Dt!=="left"&&(na=Ze.map(EA));var Xs,Vl=0;if(Dt==="right"){J-=na[0],B=[],ys=Ze.length;for(var Vo=0;Vo<ys;Vo++)Vo===0?(Xs=lo(J),hi=Go(fe)):(Xs=P(Vl-na[Vo]),hi=-Wd),B.push([Ze[Vo],Xs,hi]),Vl=na[Vo]}else if(Dt==="center"){J-=na[0]/2,B=[],ys=Ze.length;for(var Wo=0;Wo<ys;Wo++)Wo===0?(Xs=lo(J),hi=Go(fe)):(Xs=P((Vl-na[Wo])/2),hi=-Wd),B.push([Ze[Wo],Xs,hi]),Vl=na[Wo]}else if(Dt==="left"){B=[],ys=Ze.length;for(var qd=0;qd<ys;qd++)B.push(Ze[qd])}else if(Dt==="justify"&&ig.encoding==="Identity-H"){B=[],ys=Ze.length,sr=sr!==0?sr:sg;for(var qo=0,Mn=0;Mn<ys;Mn++)if(hi=Mn===0?Go(fe):-Wd,Xs=Mn===0?lo(J):qo,Mn<ys-1){var gf=P((sr-na[Mn])/(Ze[Mn].split(" ").length-1)),Js=Ze[Mn].split(" ");B.push([Js[0]+" ",Xs,hi]),qo=0;for(var sa=1;sa<Js.length;sa++){var Xd=(EA(Js[sa-1]+" "+Js[sa])-EA(Js[sa]))*co+gf;sa==Js.length-1?B.push([Js[sa],Xd,0]):B.push([Js[sa]+" ",Xd,0]),qo-=Xd}}else B.push([Ze[Mn],Xs,hi]);B.push(["",qo,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],ys=Ze.length,sr=sr!==0?sr:sg,Mn=0;Mn<ys;Mn++)hi=Mn===0?Go(fe):-Wd,Xs=Mn===0?lo(J):0,Mn<ys-1?Gl.push(R(P((sr-na[Mn])/(Ze[Mn].split(" ").length-1)))):Gl.push(0),B.push([Ze[Mn],Xs,hi])}}var ag=typeof ye.R2L=="boolean"?ye.R2L:We;ag===!0&&(B=uf(B,function(rn,nn,Qn){return[rn.split("").reverse().join(""),nn,Qn]})),He={text:B,x:J,y:fe,options:ye,mutex:{pdfEscape:_s,activeFontKey:Qt,fonts:rr,activeFontSize:Fe}},hr.publish("postProcessText",He),B=He.text,ka=He.mutex.isHex||!1;var vf=rr[Qt].encoding;vf!=="WinAnsiEncoding"&&vf!=="StandardEncoding"||(B=uf(B,function(rn,nn,Qn){return[rg(rn),nn,Qn]})),Ze=df(B),B=[];for(var jA,FA,Wl,kA=0,Jd=1,IA=Array.isArray(Ze[0])?Jd:kA,ql="",yf=function(rn,nn,Qn){var rs="";return Qn instanceof pe?(Qn=typeof ye.angle=="number"?je(Qn,new pe(1,0,0,1,rn,nn)):je(new pe(1,0,0,1,rn,nn),Qn),w===y.ADVANCED&&(Qn=je(new pe(1,0,0,-1,0,0),Qn)),rs=Qn.join(" ")+` Tm
`):rs=R(rn)+" "+R(nn)+` Td
`,rs},ia=0;ia<Ze.length;ia++){switch(ql="",IA){case Jd:Wl=(ka?"<":"(")+Ze[ia][0]+(ka?">":")"),jA=parseFloat(Ze[ia][1]),FA=parseFloat(Ze[ia][2]);break;case kA:Wl=(ka?"<":"(")+Ze[ia]+(ka?">":")"),jA=lo(J),FA=Go(fe)}Gl!==void 0&&Gl[ia]!==void 0&&(ql=Gl[ia]+` Tw
`),ia===0?B.push(ql+yf(jA,FA,In)+Wl):IA===kA?B.push(ql+Wl):IA===Jd&&B.push(ql+yf(jA,FA,In)+Wl)}B=IA===kA?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var aa=`BT
/`;return aa+=Qt+" "+Fe+` Tf
`,aa+=R(Fe*Ii)+` TL
`,aa+=NA+`
`,aa+=ds,aa+=B,oe(aa+="ET"),p[Qt]=!0,qn};var Yx=f.__private__.clip=f.clip=function(B){return oe(B==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Yx("evenodd")},f.__private__.discardPath=f.discardPath=function(){return oe("n"),this};var oo=f.__private__.isValidStyle=function(B){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(J=!0),J};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(B){return oo(B)&&(A=B),this};var Wm=f.__private__.getStyle=f.getStyle=function(B){var J=A;switch(B){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=B}return J},qm=f.close=function(){return oe("h"),this};f.stroke=function(){return oe("S"),this},f.fill=function(B){return Dd("f",B),this},f.fillEvenOdd=function(B){return Dd("f*",B),this},f.fillStroke=function(B){return Dd("B",B),this},f.fillStrokeEvenOdd=function(B){return Dd("B*",B),this};var Dd=function(B,J){$r(J)==="object"?ew(J,B):oe(B)},ef=function(B){B===null||w===y.ADVANCED&&B===void 0||(B=Wm(B),oe(B))};function Zx(B,J,fe,ye,ke){var He=new Ou(J||this.boundingBox,fe||this.xStep,ye||this.yStep,this.gState,ke||this.matrix);He.stream=this.stream;var Ze=B+"$$"+this.cloneIndex+++"$$";return Ie(Ze,He),He}var ew=function(B,J){var fe=kn[B.key],ye=Jt[fe];if(ye instanceof HA)oe("q"),oe(tw(J)),ye.gState&&f.setGState(ye.gState),oe(B.matrix.toString()+" cm"),oe("/"+fe+" sh"),oe("Q");else if(ye instanceof Ou){var ke=new pe(1,0,0,-1,0,Kl());B.matrix&&(ke=ke.multiply(B.matrix||De),fe=Zx.call(ye,B.key,B.boundingBox,B.xStep,B.yStep,ke).id),oe("q"),oe("/Pattern cs"),oe("/"+fe+" scn"),ye.gState&&f.setGState(ye.gState),oe(J),oe("Q")}},tw=function(B){switch(B){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},tf=f.moveTo=function(B,J){return oe(R(P(B))+" "+R(k(J))+" m"),this},CA=f.lineTo=function(B,J){return oe(R(P(B))+" "+R(k(J))+" l"),this},$l=f.curveTo=function(B,J,fe,ye,ke,He){return oe([R(P(B)),R(k(J)),R(P(fe)),R(k(ye)),R(P(ke)),R(k(He)),"c"].join(" ")),this};f.__private__.line=f.line=function(B,J,fe,ye,ke){if(isNaN(B)||isNaN(J)||isNaN(fe)||isNaN(ye)||!oo(ke))throw new Error("Invalid arguments passed to jsPDF.line");return w===y.COMPAT?this.lines([[fe-B,ye-J]],B,J,[1,1],ke||"S"):this.lines([[fe-B,ye-J]],B,J,[1,1]).stroke()},f.__private__.lines=f.lines=function(B,J,fe,ye,ke,He){var Ze,mt,Dt,or,sr,kr,Nn,In,qn,Ts,ds,ka;if(typeof B=="number"&&(ka=fe,fe=J,J=B,B=ka),ye=ye||[1,1],He=He||!1,isNaN(J)||isNaN(fe)||!Array.isArray(B)||!Array.isArray(ye)||!oo(ke)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(tf(J,fe),Ze=ye[0],mt=ye[1],or=B.length,Ts=J,ds=fe,Dt=0;Dt<or;Dt++)(sr=B[Dt]).length===2?(Ts=sr[0]*Ze+Ts,ds=sr[1]*mt+ds,CA(Ts,ds)):(kr=sr[0]*Ze+Ts,Nn=sr[1]*mt+ds,In=sr[2]*Ze+Ts,qn=sr[3]*mt+ds,Ts=sr[4]*Ze+Ts,ds=sr[5]*mt+ds,$l(kr,Nn,In,qn,Ts,ds));return He&&qm(),ef(ke),this},f.path=function(B){for(var J=0;J<B.length;J++){var fe=B[J],ye=fe.c;switch(fe.op){case"m":tf(ye[0],ye[1]);break;case"l":CA(ye[0],ye[1]);break;case"c":$l.apply(this,ye);break;case"h":qm()}}return this},f.__private__.rect=f.rect=function(B,J,fe,ye,ke){if(isNaN(B)||isNaN(J)||isNaN(fe)||isNaN(ye)||!oo(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y.COMPAT&&(ye=-ye),oe([R(P(B)),R(k(J)),R(P(fe)),R(P(ye)),"re"].join(" ")),ef(ke),this},f.__private__.triangle=f.triangle=function(B,J,fe,ye,ke,He,Ze){if(isNaN(B)||isNaN(J)||isNaN(fe)||isNaN(ye)||isNaN(ke)||isNaN(He)||!oo(Ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-B,ye-J],[ke-fe,He-ye],[B-ke,J-He]],B,J,[1,1],Ze,!0),this},f.__private__.roundedRect=f.roundedRect=function(B,J,fe,ye,ke,He,Ze){if(isNaN(B)||isNaN(J)||isNaN(fe)||isNaN(ye)||isNaN(ke)||isNaN(He)||!oo(Ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mt=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*fe),He=Math.min(He,.5*ye),this.lines([[fe-2*ke,0],[ke*mt,0,ke,He-He*mt,ke,He],[0,ye-2*He],[0,He*mt,-ke*mt,He,-ke,He],[2*ke-fe,0],[-ke*mt,0,-ke,-He*mt,-ke,-He],[0,2*He-ye],[0,-He*mt,ke*mt,-He,ke,-He]],B+ke,J,[1,1],Ze,!0),this},f.__private__.ellipse=f.ellipse=function(B,J,fe,ye,ke){if(isNaN(B)||isNaN(J)||isNaN(fe)||isNaN(ye)||!oo(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*fe,Ze=4/3*(Math.SQRT2-1)*ye;return tf(B+fe,J),$l(B+fe,J-Ze,B+He,J-ye,B,J-ye),$l(B-He,J-ye,B-fe,J-Ze,B-fe,J),$l(B-fe,J+Ze,B-He,J+ye,B,J+ye),$l(B+He,J+ye,B+fe,J+Ze,B+fe,J),ef(ke),this},f.__private__.circle=f.circle=function(B,J,fe,ye){if(isNaN(B)||isNaN(J)||isNaN(fe)||!oo(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,J,fe,fe,ye)},f.setFont=function(B,J,fe){return fe&&(J=D(J,fe)),Qt=bA(B,J,{disableWarning:!1}),this};var rw=f.__private__.getFont=f.getFont=function(){return rr[bA.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var B,J,fe={};for(B in Yt)if(Yt.hasOwnProperty(B))for(J in fe[B]=[],Yt[B])Yt[B].hasOwnProperty(J)&&fe[B].push(J);return fe},f.addFont=function(B,J,fe,ye,ke){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(fe=D(fe,ye)),ke=ke||"Identity-H",Ol.call(this,B,J,fe,ke)};var BA,rf=e.lineWidth||.200025,Md=f.__private__.getLineWidth=f.getLineWidth=function(){return rf},Xm=f.__private__.setLineWidth=f.setLineWidth=function(B){return rf=B,oe(R(P(B))+" w"),this};f.__private__.setLineDash=qt.API.setLineDash=qt.API.setLineDashPattern=function(B,J){if(B=B||[],J=J||0,isNaN(J)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(fe){return R(P(fe))}).join(" "),J=R(P(J)),oe("["+B+"] "+J+" d"),this};var Jm=f.__private__.getLineHeight=f.getLineHeight=function(){return Fe*BA};f.__private__.getLineHeight=f.getLineHeight=function(){return Fe*BA};var Ym=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(BA=B),this},Zm=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return BA};Ym(e.lineHeight);var lo=f.__private__.getHorizontalCoordinate=function(B){return P(B)},Go=f.__private__.getVerticalCoordinate=function(B){return w===y.ADVANCED?B:Rt[$].mediaBox.topRightY-Rt[$].mediaBox.bottomLeftY-P(B)},nw=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(B){return R(lo(B))},zl=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(B){return R(Go(B))},Fa=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return dt(Fa)},f.__private__.setStrokeColor=f.setDrawColor=function(B,J,fe,ye){return Fa=pt({ch1:B,ch2:J,ch3:fe,ch4:ye,pdfColorType:"draw",precision:2}),oe(Fa),this};var nf=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return dt(nf)},f.__private__.setFillColor=f.setFillColor=function(B,J,fe,ye){return nf=pt({ch1:B,ch2:J,ch3:fe,ch4:ye,pdfColorType:"fill",precision:2}),oe(nf),this};var NA=e.textColor||"0 g",sw=f.__private__.getTextColor=f.getTextColor=function(){return dt(NA)};f.__private__.setTextColor=f.setTextColor=function(B,J,fe,ye){return NA=pt({ch1:B,ch2:J,ch3:fe,ch4:ye,pdfColorType:"text",precision:3}),this};var Qd=e.charSpace,iw=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Qd||0)};f.__private__.setCharSpace=f.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qd=B,this};var sf=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(B){var J=f.CapJoinStyles[B];if(J===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sf=J,oe(J+" J"),this};var af=0;f.__private__.setLineJoin=f.setLineJoin=function(B){var J=f.CapJoinStyles[B];if(J===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return af=J,oe(J+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(R(P(B))+" M"),this},f.GState=Sy,f.setGState=function(B){(B=typeof B=="string"?yr[bn[B]]:eg(null,B)).equals(ts)||(oe("/"+B.id+" gs"),ts=B)};var eg=function(B,J){if(!B||!bn[B]){var fe=!1;for(var ye in yr)if(yr.hasOwnProperty(ye)&&yr[ye].equals(J)){fe=!0;break}if(fe)J=yr[ye];else{var ke="GS"+(Object.keys(yr).length+1).toString(10);yr[ke]=J,J.id=ke}return B&&(bn[B]=J.id),hr.publish("addGState",J),J}};f.addGState=function(B,J){return eg(B,J),this},f.saveGraphicsState=function(){return oe("q"),Tr.push({key:Qt,size:Fe,color:NA}),this},f.restoreGraphicsState=function(){oe("Q");var B=Tr.pop();return Qt=B.key,Fe=B.size,NA=B.color,ts=null,this},f.setCurrentTransformationMatrix=function(B){return oe(B.toString()+" cm"),this},f.comment=function(B){return oe("#"+B),this};var Od=function(B,J){var fe=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(He){isNaN(He)||(fe=parseFloat(He))}});var ye=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(He){isNaN(He)||(ye=parseFloat(He))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(He){ke=He.toString()}}),this},of=function(B,J,fe,ye){Od.call(this,B,J),this.type="rect";var ke=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(Ze){isNaN(Ze)||(ke=parseFloat(Ze))}});var He=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(Ze){isNaN(Ze)||(He=parseFloat(Ze))}}),this},lf=function(){this.page=mr,this.currentPage=$,this.pages=z.slice(0),this.pagesContext=Rt.slice(0),this.x=ur,this.y=Ut,this.matrix=Xr,this.width=SA($),this.height=Kl($),this.outputDestination=de,this.id="",this.objectNumber=-1};lf.prototype.restore=function(){mr=this.page,$=this.currentPage,Rt=this.pagesContext,z=this.pages,ur=this.x,Ut=this.y,Xr=this.matrix,cf($,this.width),Af($,this.height),de=this.outputDestination};var tg=function(B,J,fe,ye,ke){Cn.push(new lf),mr=$=0,z=[],ur=B,Ut=J,Xr=ke,yA([fe,ye])},aw=function(B){if(mn[B])Cn.pop().restore();else{var J=new lf,fe="Xo"+(Object.keys(Ur).length+1).toString(10);J.id=fe,mn[B]=fe,Ur[fe]=J,hr.publish("addFormObject",J),Cn.pop().restore()}};for(var Hd in f.beginFormObject=function(B,J,fe,ye,ke){return tg(B,J,fe,ye,ke),this},f.endFormObject=function(B){return aw(B),this},f.doFormObject=function(B,J){var fe=Ur[mn[B]];return oe("q"),oe(J.toString()+" cm"),oe("/"+fe.id+" Do"),oe("Q"),this},f.getFormObject=function(B){var J=Ur[mn[B]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},f.save=function(B,J){return B=B||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(OA(Kr(gr()),B),typeof OA.unload=="function"&&Xt.setTimeout&&setTimeout(OA.unload,911),this):new Promise(function(fe,ye){try{var ke=OA(Kr(gr()),B);typeof OA.unload=="function"&&Xt.setTimeout&&setTimeout(OA.unload,911),fe(ke)}catch(He){ye(He.message)}})},qt.API)qt.API.hasOwnProperty(Hd)&&(Hd==="events"&&qt.API.events.length?function(B,J){var fe,ye,ke;for(ke=J.length-1;ke!==-1;ke--)fe=J[ke][0],ye=J[ke][1],B.subscribe.apply(B,[fe].concat(typeof ye=="function"?[ye]:ye))}(hr,qt.API.events):f[Hd]=qt.API[Hd]);var SA=f.getPageWidth=function(B){return(Rt[B=B||$].mediaBox.topRightX-Rt[B].mediaBox.bottomLeftX)/et},cf=f.setPageWidth=function(B,J){Rt[B].mediaBox.topRightX=J*et+Rt[B].mediaBox.bottomLeftX},Kl=f.getPageHeight=function(B){return(Rt[B=B||$].mediaBox.topRightY-Rt[B].mediaBox.bottomLeftY)/et},Af=f.setPageHeight=function(B,J){Rt[B].mediaBox.topRightY=J*et+Rt[B].mediaBox.bottomLeftY};return f.internal={pdfEscape:_s,getStyle:Wm,getFont:rw,getFontSize:Qe,getCharSpace:iw,getTextColor:sw,getLineHeight:Jm,getLineHeightFactor:Zm,getLineWidth:Md,write:Re,getHorizontalCoordinate:lo,getVerticalCoordinate:Go,getCoordinateString:nw,getVerticalCoordinateString:zl,collections:{},newObject:Te,newAdditionalObject:Et,newObjectDeferred:nt,newObjectDeferredBegin:Xe,getFilters:_t,putStream:ne,events:hr,scaleFactor:et,pageSize:{getWidth:function(){return SA($)},setWidth:function(B){cf($,B)},getHeight:function(){return Kl($)},setHeight:function(B){Af($,B)}},encryptionOptions:d,encryption:_r,getEncryptor:ra,output:lr,getNumberOfPages:Rd,pages:z,out:oe,f2:U,f3:S,getPageInfo:Qr,getPageInfoByObjId:Ft,getCurrentPageInfo:Ko,getPDFVersion:m,Point:Od,Rectangle:of,Matrix:pe,hasHotfix:nr},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return SA($)},set:function(B){cf($,B)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Kl($)},set:function(B){Af($,B)},enumerable:!0,configurable:!0}),Ld.call(f,xe),Qt="F1",xA(s,r),hr.publish("initialized"),f}bu.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},bu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bu.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},bu.prototype.processOwnerPassword=function(e,t){return B5(C5(t).substr(0,5),e)},bu.prototype.encryptor=function(e,t){var r=C5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return B5(r,n)}},Sy.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||$r(e)!==$r(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},qt.API={events:[]},qt.version="3.0.1";var Tn=qt.API,bN=1,Pd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ir=function(e){return e.toFixed(2)},lc=function(e){return e.toFixed(5)};Tn.__acroform__={};var ki=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Gj=function(e){return e*bN},po=function(e){var t=new JR,r=jt.internal.getHeight(e)||0,n=jt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ir(n)),Number(ir(r))],t},Pie=Tn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},_ie=Tn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Tie=Tn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Gn=Tn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tie(e,t-1)},Vn=Tn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Pie(e,t-1)},Wn=Tn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _ie(e,t-1)},Lie=Tn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=n(a)||0,[Number(ir(c.lowerLeft_X)),Number(ir(c.lowerLeft_Y)),Number(ir(c.upperRight_X)),Number(ir(c.upperRight_Y))]},Uie=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=N5(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+ir(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=po(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},N5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(S){return S.split(`
`)}):s.map(function(S){return[S]});var a=r,o=jt.internal.getHeight(e)||0;o=o<0?-o:o;var l=jt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(S,P,O){if(S+1<s.length){var k=P+" "+s[S+1][0];return v0(k,e,O).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var A,d,u=v0("3",e,a).height,p=e.multiline?o-a:(o-u)/2,f=p+=2,x=0,m=0,N=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+v0(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var g="",y=0,w=0;w<s.length;w++)if(s.hasOwnProperty(w)){var E=!1;if(s[w].length!==1&&N!==s[w].length-1){if((u+2)*(y+2)+2>o)continue e;g+=s[w][N],E=!0,m=w,w--}else{g=(g+=s[w][N]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var _=parseInt(w),D=c(_,g,a),R=w>=s.length-1;if(D&&!R){g+=" ",N=0;continue}if(D||R){if(R)m=_;else if(e.multiline&&(u+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(u+2)*(y+2)+2>o)continue e;m=_}}for(var I="",Q=x;Q<=m;Q++){var U=s[Q];if(e.multiline){if(Q===m){I+=U[N]+" ",N=(N+1)%U.length;continue}if(Q===x){I+=U[U.length-1]+" ";continue}}I+=U[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,d=v0(I,e,a).width,e.textAlign){case"right":A=l-d-2;break;case"center":A=(l-d)/2;break;case"left":default:A=2}t+=ir(A)+" "+ir(f)+` Td
`,t+="("+Pd(I)+`) Tj
`,t+=-ir(A)+` 0 Td
`,f=-(a+2),d=0,x=E?m:m+1,y++,g=""}break}return n.text=t,n.fontSize=a,n},v0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},Rie={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Die=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Mie=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),$r(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[n]}},Qie=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(no.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Rie)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");bN=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new YR,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var a=n[s];a.objId=void 0,a.hasAnnotation&&Die(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var a=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],A=l.Rect;if(l.Rect&&(l.Rect=Lie(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=jt.createDefaultAppearanceStream(l),$r(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=A,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=Uie(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var u="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var f=l.appearanceStreamContent[p];if(u+="/"+p+" ",u+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var x=f[o];typeof x=="function"&&(x=x.call(s,l)),u+="/"+o+" "+x+" ",s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x)}}else typeof(x=f)=="function"&&(x=x.call(s,l)),u+="/"+o+" "+x,s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x);u+=">>"}c.push({key:"AP",value:`<<
`+u+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}a&&Mie(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},XR=Tn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(a!==0&&(s+=" "),$r(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Pd(n(e[a].toString()))+")"):s+=e[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},H1=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Pd(n(e))+")"},So=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};So.prototype.toString=function(){return this.objId+" 0 R"},So.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},So.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:XR(s,this.objId,this.scope)}):s instanceof So?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var JR=function(){So.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ki(JR,So);var YR=function(){So.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Pd(r(e))+")"}},set:function(r){e=r}})};ki(YR,So);var no=function e(){So.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Gn(t,3)},set:function(g){g?this.F=Vn(t,3):this.F=Wn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Ey)return;a="FieldObject"+e.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Pd(g(a))+")"},set:function(g){a=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(g){a=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/bN:A},set:function(g){A=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Ey||this instanceof od))return H1(u,this.objId,this.scope)},set:function(g){g=g.toString(),u=g}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ms?p:H1(p,this.objId,this.scope)},set:function(g){g=g.toString(),p=this instanceof ms?g:g.substr(0,1)==="("?fu(g.substr(1,g.length-2)):fu(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ms?fu(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof ms?"/"+g:g}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ms?f:H1(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=this instanceof ms?g:g.substr(0,1)==="("?fu(g.substr(1,g.length-2)):fu(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ms?fu(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof ms?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(g){x=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,1)},set:function(g){g?this.Ff=Vn(this.Ff,1):this.Ff=Wn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,2)},set:function(g){g?this.Ff=Vn(this.Ff,2):this.Ff=Wn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,3)},set:function(g){g?this.Ff=Vn(this.Ff,3):this.Ff=Wn(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');N=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(N){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};ki(no,So);var ih=function(){no.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return XR(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(a,o,l){l||(l=1);for(var c,A=[];c=o.exec(a);)A.push(c[l]);return A}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,18)},set:function(r){r?this.Ff=Vn(this.Ff,18):this.Ff=Wn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Vn(this.Ff,19):this.Ff=Wn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,20)},set:function(r){r?(this.Ff=Vn(this.Ff,20),t.sort()):this.Ff=Wn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,22)},set:function(r){r?this.Ff=Vn(this.Ff,22):this.Ff=Wn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,23)},set:function(r){r?this.Ff=Vn(this.Ff,23):this.Ff=Wn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,27)},set:function(r){r?this.Ff=Vn(this.Ff,27):this.Ff=Wn(this.Ff,27)}}),this.hasAppearanceStream=!1};ki(ih,no);var ah=function(){ih.call(this),this.fontName="helvetica",this.combo=!1};ki(ah,ih);var oh=function(){ah.call(this),this.combo=!0};ki(oh,ah);var yv=function(){oh.call(this),this.edit=!0};ki(yv,oh);var ms=function(){no.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,15)},set:function(r){r?this.Ff=Vn(this.Ff,15):this.Ff=Wn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,16)},set:function(r){r?this.Ff=Vn(this.Ff,16):this.Ff=Wn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,17)},set:function(r){r?this.Ff=Vn(this.Ff,17):this.Ff=Wn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,26)},set:function(r){r?this.Ff=Vn(this.Ff,26):this.Ff=Wn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Pd(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){$r(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ki(ms,no);var xv=function(){ms.call(this),this.pushButton=!0};ki(xv,ms);var lh=function(){ms.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ki(lh,ms);var Ey=function(){var e,t;no.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Pd(s(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(s){$r(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ki(Ey,no),lh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},lh.prototype.createOption=function(e){var t=new Ey;return t.Parent=this,t.optionName=e,this.Kids.push(t),Oie.call(this.scope,t),t};var wv=function(){ms.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=jt.CheckBox.createAppearanceStream()};ki(wv,ms);var od=function(){no.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,13)},set:function(t){t?this.Ff=Vn(this.Ff,13):this.Ff=Wn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,21)},set:function(t){t?this.Ff=Vn(this.Ff,21):this.Ff=Wn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,23)},set:function(t){t?this.Ff=Vn(this.Ff,23):this.Ff=Wn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,24)},set:function(t){t?this.Ff=Vn(this.Ff,24):this.Ff=Wn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,25)},set:function(t){t?this.Ff=Vn(this.Ff,25):this.Ff=Wn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,26)},set:function(t){t?this.Ff=Vn(this.Ff,26):this.Ff=Wn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ki(od,no);var bv=function(){od.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,14)},set:function(e){e?this.Ff=Vn(this.Ff,14):this.Ff=Wn(this.Ff,14)}}),this.password=!0};ki(bv,od);var jt={CheckBox:{createAppearanceStream:function(){return{N:{On:jt.CheckBox.YesNormal},D:{On:jt.CheckBox.YesPushDown,Off:jt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=po(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=N5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ir(jt.internal.getWidth(e))+" "+ir(jt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ir(a.fontSize)+" Tf "+s),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=po(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],a=jt.internal.getHeight(e),o=jt.internal.getWidth(e),l=N5(e,e.caption);return s.push("1 g"),s.push("0 0 "+ir(o)+" "+ir(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+ir(o-1)+" "+ir(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+ir(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=po(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ir(jt.internal.getWidth(e))+" "+ir(jt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:jt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=jt.RadioButton.Circle.YesNormal,t.D[e]=jt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=po(e);t.scope=e.scope;var r=[],n=jt.internal.getWidth(e)<=jt.internal.getHeight(e)?jt.internal.getWidth(e)/4:jt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=jt.internal.Bezier_C,a=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+lc(jt.internal.getWidth(e)/2)+" "+lc(jt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=po(e);t.scope=e.scope;var r=[],n=jt.internal.getWidth(e)<=jt.internal.getHeight(e)?jt.internal.getWidth(e)/4:jt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*jt.internal.Bezier_C).toFixed(5)),o=Number((n*jt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+lc(jt.internal.getWidth(e)/2)+" "+lc(jt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+lc(jt.internal.getWidth(e)/2)+" "+lc(jt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=po(e);t.scope=e.scope;var r=[],n=jt.internal.getWidth(e)<=jt.internal.getHeight(e)?jt.internal.getWidth(e)/4:jt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*jt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+lc(jt.internal.getWidth(e)/2)+" "+lc(jt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:jt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=jt.RadioButton.Cross.YesNormal,t.D[e]=jt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=po(e);t.scope=e.scope;var r=[],n=jt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ir(jt.internal.getWidth(e)-2)+" "+ir(jt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ir(n.x1.x)+" "+ir(n.x1.y)+" m"),r.push(ir(n.x2.x)+" "+ir(n.x2.y)+" l"),r.push(ir(n.x4.x)+" "+ir(n.x4.y)+" m"),r.push(ir(n.x3.x)+" "+ir(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=po(e);t.scope=e.scope;var r=jt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ir(jt.internal.getWidth(e))+" "+ir(jt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ir(jt.internal.getWidth(e)-2)+" "+ir(jt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ir(r.x1.x)+" "+ir(r.x1.y)+" m"),n.push(ir(r.x2.x)+" "+ir(r.x2.y)+" l"),n.push(ir(r.x4.x)+" "+ir(r.x4.y)+" m"),n.push(ir(r.x3.x)+" "+ir(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=po(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ir(jt.internal.getWidth(e))+" "+ir(jt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};jt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=jt.internal.getWidth(e),r=jt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},jt.internal.getWidth=function(e){var t=0;return $r(e)==="object"&&(t=Gj(e.Rect[2])),t},jt.internal.getHeight=function(e){var t=0;return $r(e)==="object"&&(t=Gj(e.Rect[3])),t};var Oie=Tn.addField=function(e){if(Qie(this,e),!(e instanceof no))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Tn.AcroFormChoiceField=ih,Tn.AcroFormListBox=ah,Tn.AcroFormComboBox=oh,Tn.AcroFormEditBox=yv,Tn.AcroFormButton=ms,Tn.AcroFormPushButton=xv,Tn.AcroFormRadioButton=lh,Tn.AcroFormCheckBox=wv,Tn.AcroFormTextField=od,Tn.AcroFormPasswordField=bv,Tn.AcroFormAppearance=jt,Tn.AcroForm={ChoiceField:ih,ListBox:ah,ComboBox:oh,EditBox:yv,Button:ms,PushButton:xv,RadioButton:lh,CheckBox:wv,TextField:od,PasswordField:bv,Appearance:jt},qt.AcroForm={ChoiceField:ih,ListBox:ah,ComboBox:oh,EditBox:yv,Button:ms,PushButton:xv,RadioButton:lh,CheckBox:wv,TextField:od,PasswordField:bv,Appearance:jt};function ZR(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(S,P){var O,k,Z,H,q,K=t;if((P=P||t)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(D(S))for(q in r)for(Z=r[q],O=0;O<Z.length;O+=1){for(H=!0,k=0;k<Z[O].length;k+=1)if(Z[O][k]!==void 0&&Z[O][k]!==S[k]){H=!1;break}if(H===!0){K=q;break}}else for(q in r)for(Z=r[q],O=0;O<Z.length;O+=1){for(H=!0,k=0;k<Z[O].length;k+=1)if(Z[O][k]!==void 0&&Z[O][k]!==S.charCodeAt(k)){H=!1;break}if(H===!0){K=q;break}}return K===t&&P!==t&&(K=P),K},s=function S(P){for(var O=this.internal.write,k=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:P.width}),H.push({key:"Height",value:P.height}),P.colorSpace===N.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===N.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var q="",K=0,W=P.transparency.length;K<W;K++)q+=P.transparency[K]+" "+P.transparency[K]+" ";H.push({key:"Mask",value:"["+q+"]"})}P.sMask!==void 0&&H.push({key:"SMask",value:P.objectId+1+" 0 R"});var te=P.filter!==void 0?["/"+P.filter]:void 0;if(k({data:P.data,additionalKeyValues:H,alreadyAppliedFilters:te,objectId:P.objectId}),O("endobj"),"sMask"in P&&P.sMask!==void 0){var ue="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,T={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:ue,data:P.sMask};"filter"in P&&(T.filter=P.filter),S.call(this,T)}if(P.colorSpace===N.INDEXED){var $=this.internal.newObject();k({data:I(new Uint8Array(P.palette)),objectId:$}),O("endobj")}},a=function(){var S=this.internal.collections.addImage_images;for(var P in S)s.call(this,S[P])},o=function(){var S,P=this.internal.collections.addImage_images,O=this.internal.write;for(var k in P)O("/I"+(S=P[k]).index,S.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var S=this.internal.collections.addImage_images;return l.call(this),S},A=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(S){return typeof e["process"+S.toUpperCase()]=="function"},u=function(S){return $r(S)==="object"&&S.nodeType===1},p=function(S,P){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var O=""+S.getAttribute("src");if(O.indexOf("data:image/")===0)return Np(unescape(O).split("base64,").pop());var k=e.loadFile(O,!0);if(k!==void 0)return k}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var Z;switch(P){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;case"JPEG":case"JPG":default:Z="image/jpeg"}return Np(S.toDataURL(Z,1).split("base64,").pop())}},f=function(S){var P=this.internal.collections.addImage_images;if(P){for(var O in P)if(S===P[O].alias)return P[O]}},x=function(S,P,O){return S||P||(S=-96,P=-96),S<0&&(S=-1*O.width*72/S/this.internal.scaleFactor),P<0&&(P=-1*O.height*72/P/this.internal.scaleFactor),S===0&&(S=P*O.width/O.height),P===0&&(P=S*O.height/O.width),[S,P]},m=function(S,P,O,k,Z,H){var q=x.call(this,O,k,Z),K=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,te=c.call(this);if(O=q[0],k=q[1],te[Z.index]=Z,H){H*=Math.PI/180;var ue=Math.cos(H),T=Math.sin(H),$=function(se){return se.toFixed(4)},V=[$(ue),$(T),$(-1*T),$(ue),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,K(S),W(P+k),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([K(O),"0","0",K(k),"0","0","cm"].join(" "))):this.internal.write([K(O),"0","0",K(k),K(S),W(P+k),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(S){var P,O,k=0;if(typeof S=="string")for(O=S.length,P=0;P<O;P++)k=(k<<5)-k+S.charCodeAt(P),k|=0;else if(D(S))for(O=S.byteLength/2,P=0;P<O;P++)k=(k<<5)-k+S[P],k|=0;return k},w=e.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var P=!0;return S.length===0&&(P=!1),S.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(P=!1),P},E=e.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var P=S.indexOf(",");return P<0?null:S.substring(0,P).trim().endsWith("base64")?S.substring(P+1):null},_=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(S){return _()&&S instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(S){return _()&&typeof Uint32Array<"u"&&(S instanceof Int8Array||S instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array)},R=e.__addimage__.binaryStringToUint8Array=function(S){for(var P=S.length,O=new Uint8Array(P),k=0;k<P;k++)O[k]=S.charCodeAt(k);return O},I=e.__addimage__.arrayBufferToBinaryString=function(S){for(var P="",O=D(S)?S:new Uint8Array(S),k=0;k<O.length;k+=8192)P+=String.fromCharCode.apply(null,O.subarray(k,k+8192));return P};e.addImage=function(){var S,P,O,k,Z,H,q,K,W;if(typeof arguments[1]=="number"?(P=t,O=arguments[1],k=arguments[2],Z=arguments[3],H=arguments[4],q=arguments[5],K=arguments[6],W=arguments[7]):(P=arguments[1],O=arguments[2],k=arguments[3],Z=arguments[4],H=arguments[5],q=arguments[6],K=arguments[7],W=arguments[8]),$r(S=arguments[0])==="object"&&!u(S)&&"imageData"in S){var te=S;S=te.imageData,P=te.format||P||t,O=te.x||O||0,k=te.y||k||0,Z=te.w||te.width||Z,H=te.h||te.height||H,q=te.alias||q,K=te.compression||K,W=te.rotation||te.angle||W}var ue=this.internal.getFilters();if(K===void 0&&ue.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(O)||isNaN(k))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var T=Q.call(this,S,P,q,K);return m.call(this,O,k,Z,H,T,W),this};var Q=function(S,P,O,k){var Z,H,q;if(typeof S=="string"&&n(S)===t){S=unescape(S);var K=U(S,!1);(K!==""||(K=e.loadFile(S,!0))!==void 0)&&(S=K)}if(u(S)&&(S=p(S,P)),P=n(S,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((q=O)==null||q.length===0)&&(O=function(W){return typeof W=="string"||D(W)?y(W):D(W.data)?y(W.data):null}(S)),(Z=f.call(this,O))||(_()&&(S instanceof Uint8Array||P==="RGBA"||(H=S,S=R(S))),Z=this["process"+P.toUpperCase()](S,A.call(this),O,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in e.image_compression?W:g.NONE}(k),H)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},U=e.__addimage__.convertBase64ToBinaryString=function(S,P){P=typeof P!="boolean"||P;var O,k="";if(typeof S=="string"){var Z;O=(Z=E(S))!==null&&Z!==void 0?Z:S;try{k=Np(O)}catch(H){if(P)throw w(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return k};e.getImageProperties=function(S){var P,O,k="";if(u(S)&&(S=p(S)),typeof S=="string"&&n(S)===t&&((k=U(S,!1))===""&&(k=e.loadFile(S)||""),S=k),O=n(S),!d(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!_()||S instanceof Uint8Array||(S=R(S)),!(P=this["process"+O.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=O,P}})(qt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};qt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),A=r.pageContext.annotations,d=!1,u=0;u<A.length&&!d;u++)switch((n=A[u]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<A.length;p++){n=A[p];var f=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),y=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(g(n.contents))+")",a+=" /Popup "+N.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+f(g(y))+") >>",m.content=a;var w=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",N.content=a,this.internal.write(m.objId,"0 R",N.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(x(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var D=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:A(n),w:c(r+s),h:A(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,s,a){var o,l,c=this.getTextWidth(r),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(A*d)}else l=c,o=A;return this.text(r,n,s,a),s+=.2*A,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,s-A,l,o,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(qt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=e.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&a(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&s.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&a(m)&&t[m.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&a(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&a(m)&&t[m.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&a(m)&&t[m.charCodeAt(0)].length==4},u=e.__arabicParser__.resolveLigatures=function(m){var N=0,g=r,y="",w=0;for(N=0;N<m.length;N+=1)g[m.charCodeAt(N)]!==void 0?(w++,typeof(g=g[m.charCodeAt(N)])=="number"&&(y+=String.fromCharCode(g),g=r,w=0),N===m.length-1&&(g=r,y+=m.charAt(N-(w-1)),N-=w-1,w=0)):(g=r,y+=m.charAt(N-w),N-=w,w=0);return y};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(m,N,g){return o(m)?a(m)===!1?-1:!A(m)||!o(N)&&!o(g)||!o(g)&&l(N)||l(m)&&!o(N)||l(m)&&c(N)||l(m)&&l(N)?0:d(m)&&o(N)&&!l(N)&&o(g)&&A(g)?3:l(m)||!o(g)?1:2:-1},f=function(m){var N=0,g=0,y=0,w="",E="",_="",D=(m=m||"").split("\\s+"),R=[];for(N=0;N<D.length;N+=1){for(R.push(""),g=0;g<D[N].length;g+=1)w=D[N][g],E=D[N][g-1],_=D[N][g+1],o(w)?(y=p(w,E,_),R[N]+=y!==-1?String.fromCharCode(t[w.charCodeAt(0)][y]):w):R[N]+=w;R[N]=u(R[N])}return R.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var m,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(N)){var y=0;for(g=[],y=0;y<N.length;y+=1)Array.isArray(N[y])?g.push([f(N[y][0]),N[y][1],N[y][2]]):g.push([f(N[y])]);m=g}else m=f(N);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",x])}(qt.API),qt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(qt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(m){A=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(m){x=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,A){n.call(this);var d=(A=A||{}).fontSize||this.getFontSize(),u=A.font||this.getFont(),p=A.scaleFactor||this.internal.scaleFactor,f=0,x=0,m=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=A.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,E){return w.concat(N.splitTextToSize(E,g))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)f<(m=this.getStringUnitWidth(c[y],{font:u})*d)&&(f=m);return f!==0&&(x=c.length),{w:f/=p,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var A=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,u=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===c.lineNumber?(c.x=(A.x||0)+(A.width||0),c.y=A.y||0):A.y+A.height+c.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=u.top,f&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=A.y+A.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,A,d,u,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,x,m,N,g=[],y=[],w=[],E={},_={},D=[],R=[],I=(p=p||{}).autoSize||!1,Q=p.printHeaders!==!1,U=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,S=p.margins||Object.assign({width:this.getPageWidth()},t),P=typeof p.padding=="number"?p.padding:3,O=p.headerBackgroundColor||"#c8c8c8",k=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=k,this.setFontSize(U),u==null)y=g=Object.keys(d[0]),w=g.map(function(){return"left"});else if(Array.isArray(u)&&$r(u[0])==="object")for(g=u.map(function(te){return te.name}),y=u.map(function(te){return te.prompt||te.name||""}),w=u.map(function(te){return te.align||"left"}),f=0;f<u.length;f+=1)_[u[f].name]=u[f].width*(19.049976/25.4);else Array.isArray(u)&&typeof u[0]=="string"&&(y=g=u,w=g.map(function(){return"left"}));if(I||Array.isArray(u)&&typeof u[0]=="string")for(f=0;f<g.length;f+=1){for(E[N=g[f]]=d.map(function(te){return te[N]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=E[N],this.setFont(void 0,"normal"),m=0;m<x.length;m+=1)D.push(this.getTextDimensions(x[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[N]=Math.max.apply(null,D)+P+P,D=[]}if(Q){var Z={};for(f=0;f<g.length;f+=1)Z[g[f]]={},Z[g[f]].text=y[f],Z[g[f]].align=w[f];var H=l.call(this,Z,_);R=g.map(function(te){return new a(c,A,_[te],H,Z[te].text,void 0,Z[te].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var q=u.reduce(function(te,ue){return te[ue.name]=ue.align,te},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var K=l.call(this,d[f],_);for(m=0;m<g.length;m+=1){var W=d[f][g[m]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:m,data:W},this),o.call(this,new a(c,A,_[g[m]],K,W,f+2,q[g[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=A,this};var l=function(c,A){var d=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(f){var x=c[f];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,A[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*u/p+d+d},this).reduce(function(f,x){return Math.max(f,x)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,A){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),A&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(x)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(qt.API);var eD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},tD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],S5=ZR(tD),rD=[100,200,300,400,500,600,700,800,900],Hie=ZR(rD);function E5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return eD[a=a||"normal"]?a:"normal"}(e.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(a){return typeof S5[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function Vj(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var $ie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Wj={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qj(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function zie(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},$ie,r.genericFontFamilies||{}),a=null,o=null,l=0;l<t.length;++l)if(s[(a=E5(t[l])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+qj(a)+"' and default family '"+n+"'.");if(o=function(c,A){if(A[c])return A[c];var d=S5[c],u=d<=S5.normal?-1:1,p=Vj(A,tD,d,u);if(!p)throw new Error("Could not find a matching font-stretch value for "+c);return p}(a.stretch,o),o=function(c,A){if(A[c])return A[c];for(var d=eD[c],u=0;u<d.length;++u)if(A[d[u]])return A[d[u]];throw new Error("Could not find a matching font-style for "+c)}(a.style,o),!(o=function(c,A){if(A[c])return A[c];if(c===400&&A[500])return A[500];if(c===500&&A[400])return A[400];var d=Hie[c],u=Vj(A,rD,d,c<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+c);return u}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+qj(a)+"'.");return o}function Xj(e){return e.trimLeft()}function Kie(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Gie(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var y0,Jj,Yj,$1=["times"];(function(e){var t,r,n,s,a,o,l,c,A,d=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new c,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new o,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new o,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,A=new d}]);var u=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=T;Object.defineProperty(this,"pdf",{get:function(){return $}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ce){V=!!ce}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(ce){se=!!ce}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(ce){isNaN(ce)||(Y=ce)}});var L=0;Object.defineProperty(this,"posY",{get:function(){return L},set:function(ce){isNaN(ce)||(L=ce)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(ce){var oe;typeof ce=="number"?oe=[ce,ce,ce,ce]:((oe=new Array(4))[0]=ce[0],oe[1]=ce.length>=2?ce[1]:oe[0],oe[2]=ce.length>=3?ce[2]:oe[0],oe[3]=ce.length>=4?ce[3]:oe[1]),A.margin=oe}});var C=!1;Object.defineProperty(this,"autoPaging",{get:function(){return C},set:function(ce){C=ce}});var j=0;Object.defineProperty(this,"lastBreak",{get:function(){return j},set:function(ce){j=ce}});var G=[];Object.defineProperty(this,"pageBreaks",{get:function(){return G},set:function(ce){G=ce}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(ce){ce instanceof d&&(A=ce)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(ce){A.path=ce}});var z=[];Object.defineProperty(this,"ctxStack",{get:function(){return z},set:function(ce){z=ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ce){var oe;oe=p(ce),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ce){var oe=p(ce);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ce){["butt","round","square"].indexOf(ce)!==-1&&(this.ctx.lineCap=ce,this.pdf.setLineCap(ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ce){isNaN(ce)||(this.ctx.lineWidth=ce,this.pdf.setLineWidth(ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ce){["bevel","round","miter"].indexOf(ce)!==-1&&(this.ctx.lineJoin=ce,this.pdf.setLineJoin(ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ce){isNaN(ce)||(this.ctx.miterLimit=ce,this.pdf.setMiterLimit(ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ce){this.ctx.textBaseline=ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ce){["right","end","center","left","start"].indexOf(ce)!==-1&&(this.ctx.textAlign=ce)}});var ae=null;function de(ce,oe){if(ae===null){var Re=function(Ce){var xe=[];return Object.keys(Ce).forEach(function(Fe){Ce[Fe].forEach(function(ze){var Qe=null;switch(ze){case"bold":Qe={family:Fe,weight:"bold"};break;case"italic":Qe={family:Fe,style:"italic"};break;case"bolditalic":Qe={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":Qe={family:Fe}}Qe!==null&&(Qe.ref={name:Fe,style:ze},xe.push(Qe))})}),xe}(ce.getFontList());ae=function(Ce){for(var xe={},Fe=0;Fe<Ce.length;++Fe){var ze=E5(Ce[Fe]),Qe=ze.family,We=ze.stretch,Oe=ze.style,Ke=ze.weight;xe[Qe]=xe[Qe]||{},xe[Qe][We]=xe[Qe][We]||{},xe[Qe][We][Oe]=xe[Qe][We][Oe]||{},xe[Qe][We][Oe][Ke]=ze}return xe}(Re.concat(oe))}return ae}var he=null;Object.defineProperty(this,"fontFaces",{get:function(){return he},set:function(ce){ae=null,he=ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ce){var oe;if(this.ctx.font=ce,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ce))!==null){var Re=oe[1];oe[2];var Ce=oe[3],xe=oe[4];oe[5];var Fe=oe[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(ze==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var Qe=function(ft){var Qt,et,ur=[],Ut=ft.trim();if(Ut==="")return $1;if(Ut in Wj)return[Wj[Ut]];for(;Ut!=="";){switch(et=null,Qt=(Ut=Xj(Ut)).charAt(0)){case'"':case"'":et=Kie(Ut.substring(1),Qt);break;default:et=Gie(Ut)}if(et===null||(ur.push(et[0]),(Ut=Xj(et[1]))!==""&&Ut.charAt(0)!==","))return $1;Ut=Ut.replace(/^,/,"")}return ur}(Fe);if(this.fontFaces){var We=zie(de(this.pdf,this.fontFaces),Qe.map(function(ft){return{family:ft,stretch:"normal",weight:Ce,style:Re}}));this.pdf.setFont(We.ref.name,We.ref.style)}else{var Oe="";(Ce==="bold"||parseInt(Ce,10)>=700||Re==="bold")&&(Oe="bold"),Re==="italic"&&(Oe+="italic"),Oe.length===0&&(Oe="normal");for(var Ke="",ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<Qe.length;Pt++){if(this.pdf.internal.getFont(Qe[Pt],Oe,{noFallback:!0,disableWarning:!0})!==void 0){Ke=Qe[Pt];break}if(Oe==="bolditalic"&&this.pdf.internal.getFont(Qe[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=Qe[Pt],Oe="bold";else if(this.pdf.internal.getFont(Qe[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=Qe[Pt],Oe="normal";break}}if(Ke===""){for(var wt=0;wt<Qe.length;wt++)if(ht[Qe[wt]]){Ke=ht[Qe[wt]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,Oe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ce){this.ctx.globalCompositeOperation=ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ce){this.ctx.globalAlpha=ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ce){this.ctx.lineDashOffset=ce,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ce){this.ctx.lineDash=ce,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ce){this.ctx.ignoreClearRect=!!ce}})};u.prototype.setLineDash=function(T){this.lineDash=T},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){E.call(this,"fill",!1)},u.prototype.stroke=function(){E.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(T,$){if(isNaN(T)||isNaN($))throw Zr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(T,$));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(T,$)},u.prototype.closePath=function(){var T=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&$r(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){T=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(T.x,T.y)},u.prototype.lineTo=function(T,$){if(isNaN(T)||isNaN($))throw Zr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(T,$));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},u.prototype.quadraticCurveTo=function(T,$,V,se){if(isNaN(V)||isNaN(se)||isNaN(T)||isNaN($))throw Zr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new o(V,se)),L=this.ctx.transform.applyToPoint(new o(T,$));this.path.push({type:"qct",x1:L.x,y1:L.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},u.prototype.bezierCurveTo=function(T,$,V,se,Y,L){if(isNaN(Y)||isNaN(L)||isNaN(T)||isNaN($)||isNaN(V)||isNaN(se))throw Zr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var C=this.ctx.transform.applyToPoint(new o(Y,L)),j=this.ctx.transform.applyToPoint(new o(T,$)),G=this.ctx.transform.applyToPoint(new o(V,se));this.path.push({type:"bct",x1:j.x,y1:j.y,x2:G.x,y2:G.y,x:C.x,y:C.y}),this.ctx.lastPoint=new o(C.x,C.y)},u.prototype.arc=function(T,$,V,se,Y,L){if(isNaN(T)||isNaN($)||isNaN(V)||isNaN(se)||isNaN(Y))throw Zr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(L=!!L,!this.ctx.transform.isIdentity){var C=this.ctx.transform.applyToPoint(new o(T,$));T=C.x,$=C.y;var j=this.ctx.transform.applyToPoint(new o(0,V)),G=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(j.x-G.x,2)+Math.pow(j.y-G.y,2))}Math.abs(Y-se)>=2*Math.PI&&(se=0,Y=2*Math.PI),this.path.push({type:"arc",x:T,y:$,radius:V,startAngle:se,endAngle:Y,counterclockwise:L})},u.prototype.arcTo=function(T,$,V,se,Y){throw new Error("arcTo not implemented.")},u.prototype.rect=function(T,$,V,se){if(isNaN(T)||isNaN($)||isNaN(V)||isNaN(se))throw Zr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,$),this.lineTo(T+V,$),this.lineTo(T+V,$+se),this.lineTo(T,$+se),this.lineTo(T,$),this.lineTo(T+V,$),this.lineTo(T,$)},u.prototype.fillRect=function(T,$,V,se){if(isNaN(T)||isNaN($)||isNaN(V)||isNaN(se))throw Zr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,$,V,se),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},u.prototype.strokeRect=function(T,$,V,se){if(isNaN(T)||isNaN($)||isNaN(V)||isNaN(se))throw Zr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(T,$,V,se),this.stroke())},u.prototype.clearRect=function(T,$,V,se){if(isNaN(T)||isNaN($)||isNaN(V)||isNaN(se))throw Zr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,$,V,se))},u.prototype.save=function(T){T=typeof T!="boolean"||T;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage($),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},u.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage($),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(T){var $,V,se,Y;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))$=0,V=0,se=0,Y=0;else{var L=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(L!==null)$=parseInt(L[1]),V=parseInt(L[2]),se=parseInt(L[3]),Y=1;else if((L=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)$=parseInt(L[1]),V=parseInt(L[2]),se=parseInt(L[3]),Y=parseFloat(L[4]);else{if(Y=1,typeof T=="string"&&T.charAt(0)!=="#"){var C=new VR(T);T=C.ok?C.toHex():"#000000"}T.length===4?($=T.substring(1,2),$+=$,V=T.substring(2,3),V+=V,se=T.substring(3,4),se+=se):($=T.substring(1,3),V=T.substring(3,5),se=T.substring(5,7)),$=parseInt($,16),V=parseInt(V,16),se=parseInt(se,16)}}return{r:$,g:V,b:se,a:Y,style:T}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(T,$,V,se){if(isNaN($)||isNaN(V)||typeof T!="string")throw Zr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!f.call(this)){var Y=K(this.ctx.transform.rotation),L=this.ctx.transform.scaleX;P.call(this,{text:T,x:$,y:V,scale:L,angle:Y,align:this.textAlign,maxWidth:se})}},u.prototype.strokeText=function(T,$,V,se){if(isNaN($)||isNaN(V)||typeof T!="string")throw Zr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){se=isNaN(se)?void 0:se;var Y=K(this.ctx.transform.rotation),L=this.ctx.transform.scaleX;P.call(this,{text:T,x:$,y:V,scale:L,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:se})}},u.prototype.measureText=function(T){if(typeof T!="string")throw Zr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,V=this.pdf.internal.scaleFactor,se=$.internal.getFontSize(),Y=$.getStringUnitWidth(T)*se/$.internal.scaleFactor,L=function(C){var j=(C=C||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return j}}),this};return new L({width:Y*=Math.round(96*V/72*1e4)/1e4})},u.prototype.scale=function(T,$){if(isNaN(T)||isNaN($))throw Zr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c(T,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},u.prototype.rotate=function(T){if(isNaN(T))throw Zr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new c(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply($)},u.prototype.translate=function(T,$){if(isNaN(T)||isNaN($))throw Zr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,T,$);this.ctx.transform=this.ctx.transform.multiply(V)},u.prototype.transform=function(T,$,V,se,Y,L){if(isNaN(T)||isNaN($)||isNaN(V)||isNaN(se)||isNaN(Y)||isNaN(L))throw Zr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var C=new c(T,$,V,se,Y,L);this.ctx.transform=this.ctx.transform.multiply(C)},u.prototype.setTransform=function(T,$,V,se,Y,L){T=isNaN(T)?1:T,$=isNaN($)?0:$,V=isNaN(V)?0:V,se=isNaN(se)?1:se,Y=isNaN(Y)?0:Y,L=isNaN(L)?0:L,this.ctx.transform=new c(T,$,V,se,Y,L)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(T,$,V,se,Y,L,C,j,G){var z=this.pdf.getImageProperties(T),ae=1,de=1,he=1,ce=1;se!==void 0&&j!==void 0&&(he=j/se,ce=G/Y,ae=z.width/se*j/se,de=z.height/Y*G/Y),L===void 0&&(L=$,C=V,$=0,V=0),se!==void 0&&j===void 0&&(j=se,G=Y),se===void 0&&j===void 0&&(j=z.width,G=z.height);for(var oe,Re=this.ctx.transform.decompose(),Ce=K(Re.rotate.shx),xe=new c,Fe=(xe=(xe=(xe=xe.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale)).applyToRectangle(new l(L-$*he,C-V*ce,se*ae,Y*de)),ze=N.call(this,Fe),Qe=[],We=0;We<ze.length;We+=1)Qe.indexOf(ze[We])===-1&&Qe.push(ze[We]);if(w(Qe),this.autoPaging)for(var Oe=Qe[0],Ke=Qe[Qe.length-1],ht=Oe;ht<Ke+1;ht++){this.pdf.setPage(ht);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=ht===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=ht===1?0:ft+(ht-2)*Qt;if(this.ctx.clip_path.length!==0){var ur=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(oe,this.posX+this.margin[3],-et+wt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=ur}var Ut=JSON.parse(JSON.stringify(Fe));Ut=y([Ut],this.posX+this.margin[3],-et+wt+this.ctx.prevPageLastElemOffset)[0];var Xr=(ht>Oe||ht<Ke)&&m.call(this);Xr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,Qt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Ut.x,Ut.y,Ut.w,Ut.h,null,null,Ce),Xr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Ce)};var N=function(T,$,V){var se=[];$=$||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":se.push(Math.floor((T.y+Y)/V)+1);break;case"arc":se.push(Math.floor((T.y+Y-T.radius)/V)+1),se.push(Math.floor((T.y+Y+T.radius)/V)+1);break;case"qct":var L=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);se.push(Math.floor((L.y+Y)/V)+1),se.push(Math.floor((L.y+L.h+Y)/V)+1);break;case"bct":var C=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);se.push(Math.floor((C.y+Y)/V)+1),se.push(Math.floor((C.y+C.h+Y)/V)+1);break;case"rect":se.push(Math.floor((T.y+Y)/V)+1),se.push(Math.floor((T.y+T.h+Y)/V)+1)}for(var j=0;j<se.length;j+=1)for(;this.pdf.internal.getNumberOfPages()<se[j];)g.call(this);return se},g=function(){var T=this.fillStyle,$=this.strokeStyle,V=this.font,se=this.lineCap,Y=this.lineWidth,L=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=$,this.font=V,this.lineCap=se,this.lineWidth=Y,this.lineJoin=L},y=function(T,$,V){for(var se=0;se<T.length;se++)switch(T[se].type){case"bct":T[se].x2+=$,T[se].y2+=V;case"qct":T[se].x1+=$,T[se].y1+=V;case"mt":case"lt":case"arc":default:T[se].x+=$,T[se].y+=V}return T},w=function(T){return T.sort(function($,V){return $-V})},E=function(T,$){for(var V,se,Y=this.fillStyle,L=this.strokeStyle,C=this.lineCap,j=this.lineWidth,G=Math.abs(j*this.ctx.transform.scaleX),z=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),de=JSON.parse(JSON.stringify(this.path)),he=[],ce=0;ce<de.length;ce++)if(de[ce].x!==void 0)for(var oe=N.call(this,de[ce]),Re=0;Re<oe.length;Re+=1)he.indexOf(oe[Re])===-1&&he.push(oe[Re]);for(var Ce=0;Ce<he.length;Ce++)for(;this.pdf.internal.getNumberOfPages()<he[Ce];)g.call(this);if(w(he),this.autoPaging)for(var xe=he[0],Fe=he[he.length-1],ze=xe;ze<Fe+1;ze++){this.pdf.setPage(ze),this.fillStyle=Y,this.strokeStyle=L,this.lineCap=C,this.lineWidth=G,this.lineJoin=z;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=ze===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=ze===1?0:Oe+(ze-2)*Ke;if(this.ctx.clip_path.length!==0){var Pt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(V,this.posX+this.margin[3],-ht+We+this.ctx.prevPageLastElemOffset),_.call(this,T,!0),this.path=Pt}if(se=JSON.parse(JSON.stringify(ae)),this.path=y(se,this.posX+this.margin[3],-ht+We+this.ctx.prevPageLastElemOffset),$===!1||ze===0){var wt=(ze>xe||ze<Fe)&&m.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,Ke,null).clip().discardPath()),_.call(this,T,$),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=j}else this.lineWidth=G,_.call(this,T,$),this.lineWidth=j;this.path=ae},_=function(T,$){if((T!=="stroke"||$||!x.call(this))&&(T==="stroke"||$||!f.call(this))){for(var V,se,Y=[],L=this.path,C=0;C<L.length;C++){var j=L[C];switch(j.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:j,deltas:[],abs:[]});break;case"lt":var G=Y.length;if(L[C-1]&&!isNaN(L[C-1].x)&&(V=[j.x-L[C-1].x,j.y-L[C-1].y],G>0)){for(;G>=0;G--)if(Y[G-1].close!==!0&&Y[G-1].begin!==!0){Y[G-1].deltas.push(V),Y[G-1].abs.push(j);break}}break;case"bct":V=[j.x1-L[C-1].x,j.y1-L[C-1].y,j.x2-L[C-1].x,j.y2-L[C-1].y,j.x-L[C-1].x,j.y-L[C-1].y],Y[Y.length-1].deltas.push(V);break;case"qct":var z=L[C-1].x+2/3*(j.x1-L[C-1].x),ae=L[C-1].y+2/3*(j.y1-L[C-1].y),de=j.x+2/3*(j.x1-j.x),he=j.y+2/3*(j.y1-j.y),ce=j.x,oe=j.y;V=[z-L[C-1].x,ae-L[C-1].y,de-L[C-1].x,he-L[C-1].y,ce-L[C-1].x,oe-L[C-1].y],Y[Y.length-1].deltas.push(V);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(j)}}se=$?null:T==="stroke"?"stroke":"fill";for(var Re=!1,Ce=0;Ce<Y.length;Ce++)if(Y[Ce].arc)for(var xe=Y[Ce].abs,Fe=0;Fe<xe.length;Fe++){var ze=xe[Fe];ze.type==="arc"?I.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,$,!Re):O.call(this,ze.x,ze.y),Re=!0}else if(Y[Ce].close===!0)this.pdf.internal.out("h"),Re=!1;else if(Y[Ce].begin!==!0){var Qe=Y[Ce].start.x,We=Y[Ce].start.y;k.call(this,Y[Ce].deltas,Qe,We),Re=!0}se&&Q.call(this,se),$&&U.call(this)}},D=function(T){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-V;case"top":return T+$-V;case"hanging":return T+$-2*V;case"middle":return T+$/2-V;case"ideographic":return T;case"alphabetic":default:return T}},R=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function($,V){this.colorStops.push([$,V])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(T,$,V,se,Y,L,C,j,G){for(var z=H.call(this,V,se,Y,L),ae=0;ae<z.length;ae++){var de=z[ae];ae===0&&(G?S.call(this,de.x1+T,de.y1+$):O.call(this,de.x1+T,de.y1+$)),Z.call(this,T,$,de.x2,de.y2,de.x3,de.y3,de.x4,de.y4)}j?U.call(this):Q.call(this,C)},Q=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(T,$){this.pdf.internal.out(r(T)+" "+n($)+" m")},P=function(T){var $;switch(T.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var V=this.pdf.getTextDimensions(T.text),se=D.call(this,T.y),Y=R.call(this,se)-V.h,L=this.ctx.transform.applyToPoint(new o(T.x,se)),C=this.ctx.transform.decompose(),j=new c;j=(j=(j=j.multiply(C.translate)).multiply(C.skew)).multiply(C.scale);for(var G,z,ae,de=this.ctx.transform.applyToRectangle(new l(T.x,se,V.w,V.h)),he=j.applyToRectangle(new l(T.x,Y,V.w,V.h)),ce=N.call(this,he),oe=[],Re=0;Re<ce.length;Re+=1)oe.indexOf(ce[Re])===-1&&oe.push(ce[Re]);if(w(oe),this.autoPaging)for(var Ce=oe[0],xe=oe[oe.length-1],Fe=Ce;Fe<xe+1;Fe++){this.pdf.setPage(Fe);var ze=Fe===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[2],Oe=We-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],ht=Ke-this.margin[3],Pt=Fe===1?0:Qe+(Fe-2)*Oe;if(this.ctx.clip_path.length!==0){var wt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(G,this.posX+this.margin[3],-1*Pt+ze),_.call(this,"fill",!0),this.path=wt}var ft=y([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-Pt+ze+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(z*T.scale),ae=this.lineWidth,this.lineWidth=ae*T.scale);var Qt=this.autoPaging!=="text";if(Qt||ft.y+ft.h<=We){if(Qt||ft.y>=ze&&ft.x<=Ke){var et=Qt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Ke-ft.x)[0],ur=y([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-Pt+ze+this.ctx.prevPageLastElemOffset)[0],Ut=Qt&&(Fe>Ce||Fe<xe)&&m.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,Oe,null).clip().discardPath()),this.pdf.text(et,ur.x,ur.y,{angle:T.angle,align:$,renderingMode:T.renderingMode}),Ut&&this.pdf.restoreGraphicsState()}}else ft.y<We&&(this.ctx.prevPageLastElemOffset+=We-ft.y);T.scale>=.01&&(this.pdf.setFontSize(z),this.lineWidth=ae)}else T.scale>=.01&&(z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(z*T.scale),ae=this.lineWidth,this.lineWidth=ae*T.scale),this.pdf.text(T.text,L.x+this.posX,L.y+this.posY,{angle:T.angle,align:$,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(z),this.lineWidth=ae)},O=function(T,$,V,se){V=V||0,se=se||0,this.pdf.internal.out(r(T+V)+" "+n($+se)+" l")},k=function(T,$,V){return this.pdf.lines(T,$,V,null,null)},Z=function(T,$,V,se,Y,L,C,j){this.pdf.internal.out([t(s(V+T)),t(a(se+$)),t(s(Y+T)),t(a(L+$)),t(s(C+T)),t(a(j+$)),"c"].join(" "))},H=function(T,$,V,se){for(var Y=2*Math.PI,L=Math.PI/2;$>V;)$-=Y;var C=Math.abs(V-$);C<Y&&se&&(C=Y-C);for(var j=[],G=se?-1:1,z=$;C>1e-5;){var ae=z+G*Math.min(C,L);j.push(q.call(this,T,z,ae)),C-=Math.abs(ae-z),z=ae}return j},q=function(T,$,V){var se=(V-$)/2,Y=T*Math.cos(se),L=T*Math.sin(se),C=Y,j=-L,G=C*C+j*j,z=G+C*Y+j*L,ae=4/3*(Math.sqrt(2*G*z)-z)/(C*L-j*Y),de=C-ae*j,he=j+ae*C,ce=de,oe=-he,Re=se+$,Ce=Math.cos(Re),xe=Math.sin(Re);return{x1:T*Math.cos($),y1:T*Math.sin($),x2:de*Ce-he*xe,y2:de*xe+he*Ce,x3:ce*Ce-oe*xe,y3:ce*xe+oe*Ce,x4:T*Math.cos(V),y4:T*Math.sin(V)}},K=function(T){return 180*T/Math.PI},W=function(T,$,V,se,Y,L){var C=T+.5*(V-T),j=$+.5*(se-$),G=Y+.5*(V-Y),z=L+.5*(se-L),ae=Math.min(T,Y,C,G),de=Math.max(T,Y,C,G),he=Math.min($,L,j,z),ce=Math.max($,L,j,z);return new l(ae,he,de-ae,ce-he)},te=function(T,$,V,se,Y,L,C,j){var G,z,ae,de,he,ce,oe,Re,Ce,xe,Fe,ze,Qe,We,Oe=V-T,Ke=se-$,ht=Y-V,Pt=L-se,wt=C-Y,ft=j-L;for(z=0;z<41;z++)Ce=(oe=(ae=T+(G=z/40)*Oe)+G*((he=V+G*ht)-ae))+G*(he+G*(Y+G*wt-he)-oe),xe=(Re=(de=$+G*Ke)+G*((ce=se+G*Pt)-de))+G*(ce+G*(L+G*ft-ce)-Re),z==0?(Fe=Ce,ze=xe,Qe=Ce,We=xe):(Fe=Math.min(Fe,Ce),ze=Math.min(ze,xe),Qe=Math.max(Qe,Ce),We=Math.max(We,xe));return new l(Math.round(Fe),Math.round(ze),Math.round(Qe-Fe),Math.round(We-ze))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,$,V=(T=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:$}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(qt.API),function(e){var t=function(a){var o,l,c,A,d,u,p,f,x,m;for(l=[],c=0,A=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;A>c;c+=4)(d=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(u=(d=((d=((d=((d=(d-(m=d%85))/85)-(x=d%85))/85)-(f=d%85))/85)-(p=d%85))/85)%85,l.push(u+33,p+33,f+33,x+33,m+33)):l.push(122);return function(N,g){for(var y=g;y>0;y--)N.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,c,A,d,u=String,p="length",f=255,x="charCodeAt",m="slice",N="replace";for(a[m](-2),a=a[m](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),c=[],A=0,d=(a+=o="uuuuu"[m](a[p]%5||5))[p];d>A;A+=5)l=52200625*(a[x](A)-33)+614125*(a[x](A+1)-33)+7225*(a[x](A+2)-33)+85*(a[x](A+3)-33)+(a[x](A+4)-33),c.push(f&l>>24,f&l>>16,f&l>>8,f&l);return function(g,y){for(var w=y;w>0;w--)g.pop()}(c,o[p]),u.fromCharCode.apply(u,c)},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=w5(o)).reduce(function(c,A){return c+String.fromCharCode(A)},"")};e.processDataByFilters=function(a,o){var l=0,c=a||"",A=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:A.reverse().join(" ")}}}(qt.API),function(e){e.loadFile=function(t,r,n){return function(s,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,A,d){var u=new XMLHttpRequest,p=0,f=function(x){var m=x.length,N=[],g=String.fromCharCode;for(p=0;p<m;p+=1)N.push(g(255&x.charCodeAt(p)));return N.join("")};if(u.open("GET",c,!A),u.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(u.onload=function(){u.status===200?d(f(this.responseText)):d(void 0)}),u.send(null),A&&u.status===200)return f(u.responseText)}(s,a,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(qt.API),function(e){function t(){return(Xt.html2canvas?Promise.resolve(Xt.html2canvas):dl(()=>Promise.resolve().then(()=>Lde),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Xt.DOMPurify?Promise.resolve(Xt.DOMPurify):dl(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=$r(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var c=document.createElement(o);for(var A in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[A]=l.style[A];return c},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),A=o.convert(Promise.resolve(),c);return A=(A=A.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(A,d){for(var u=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),p=A.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||u.appendChild(c(p,d));return A.nodeType===1&&(A.nodeName==="CANVAS"?(u.width=A.width,u.height=A.height,u.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(u.value=A.value),u.addEventListener("load",function(){u.scrollTop=A.scrollTop,u.scrollLeft=A.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,A=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=A,A)for(var p=0;p<A.length;++p){var f=A[p],x=f.src.find(function(m){return m.format==="truetype"});x&&c.addFont(x.url,f.ref.name,f.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=u.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,c.context2d.save(!0),l(this.prop.container,u)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,A){return Math.floor(c*A/72*96)}return this.then(function(){(o=o||qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,A){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,A){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,A?this.progress.stack.concat(A):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(A,d){return c.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(u){return c.updateProgress(null,A),u}).then(A,d).then(function(u){return c.updateProgress(1),u})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),d=c.call(A,o,l);return a.convert(d,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,qt.getPageSize=function(o,l,c){if($r(o)==="object"){var A=o;o=A.orientation,l=A.unit||l,c=A.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,u=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var f,x=0,m=0;if(p.hasOwnProperty(u))x=p[u][1]/d,m=p[u][0]/d;else try{x=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",m>x&&(f=m,m=x,x=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>m&&(f=m,m=x,x=f)}return{width:m,height:x,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(E5):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(qt.API),qt.API.addJS=function(e){return Yj=e,this.internal.events.subscribe("postPutResources",function(){y0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(y0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Jj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Yj+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){y0!==void 0&&Jj!==void 0&&this.internal.out("/Names <</JavaScript "+y0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),a=0;a<s.length;a++){var o=s[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,d=[];for(a=0;a<A;a++){var u=r.internal.newObject();d.push(u);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,a){var o={title:s,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var A=0;A<n.children.length;A++)this.renderItems(n.children[A])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var a=0;a<s.children.length;a++)n.count++,this.count_r(n,s.children[a]);return n.count}}])}(qt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,a,o,l){var c,A=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(u){for(var p,f=256*u.charCodeAt(4)+u.charCodeAt(5),x=u.length,m={width:0,height:0,numcomponents:1},N=4;N<x;N+=2){if(N+=f,t.indexOf(u.charCodeAt(N+1))!==-1){p=256*u.charCodeAt(N+5)+u.charCodeAt(N+6),m={width:256*u.charCodeAt(N+7)+u.charCodeAt(N+8),height:p,numcomponents:u.charCodeAt(N+9)};break}f=256*u.charCodeAt(N+2)+u.charCodeAt(N+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:A,index:n,alias:s}}return d}}(qt.API);var pu,x0,Zj,e3,t3,Vie=function(){var e,t,r;function n(a){var o,l,c,A,d,u,p,f,x,m,N,g,y,w;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(o=this.readUInt32(),x=(function(){var E,_;for(_=[],E=0;E<4;++E)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),A=this.readUInt16()||100,u.delay=1e3*d/A,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),a=(u!=null?u.data:void 0)||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((m=c-this.transparency.indexed.length)>0)for(y=0;0<=m?y<m:y>m;0<=m?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(N=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,N.slice(0,p)),this.text[f]=String.fromCharCode.apply(String,N.slice(p+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,A=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function d(u,p,f,x){var m,N,g,y,w,E,_,D,R,I,Q,U,S,P,O,k,Z,H,q,K,W,te=Math.ceil((A.width-u)/f),ue=Math.ceil((A.height-p)/x),T=A.width==te&&A.height==ue;for(P=o*te,U=T?l:new Uint8Array(P*ue),E=a.length,S=0,N=0;S<ue&&c<E;){switch(a[c++]){case 0:for(y=Z=0;Z<P;y=Z+=1)U[N++]=a[c++];break;case 1:for(y=H=0;H<P;y=H+=1)m=a[c++],w=y<o?0:U[N-o],U[N++]=(m+w)%256;break;case 2:for(y=q=0;q<P;y=q+=1)m=a[c++],g=(y-y%o)/o,O=S&&U[(S-1)*P+g*o+y%o],U[N++]=(O+m)%256;break;case 3:for(y=K=0;K<P;y=K+=1)m=a[c++],g=(y-y%o)/o,w=y<o?0:U[N-o],O=S&&U[(S-1)*P+g*o+y%o],U[N++]=(m+Math.floor((w+O)/2))%256;break;case 4:for(y=W=0;W<P;y=W+=1)m=a[c++],g=(y-y%o)/o,w=y<o?0:U[N-o],S===0?O=k=0:(O=U[(S-1)*P+g*o+y%o],k=g&&U[(S-1)*P+(g-1)*o+y%o]),_=w+O-k,D=Math.abs(_-w),I=Math.abs(_-O),Q=Math.abs(_-k),R=D<=I&&D<=Q?w:I<=Q?O:k,U[N++]=(m+R)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!T){var $=((p+S*x)*A.width+u)*o,V=S*P;for(y=0;y<te;y+=1){for(var se=0;se<o;se+=1)l[$++]=U[V++];$+=(f-1)*o}}S++}}return a=Nie(a),A.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var a,o,l,c,A,d,u,p,f;for(l=this.palette,d=this.transparency.indexed||[],A=new Uint8Array((d.length||0)+l.length),c=0,a=0,o=u=0,p=l.length;u<p;o=u+=3)A[c++]=l[o],A[c++]=l[o+1],A[c++]=l[o+2],A[c++]=(f=d[a++])!=null?f:255;return A},n.prototype.copyToImageData=function(a,o){var l,c,A,d,u,p,f,x,m,N,g;if(c=this.colors,m=null,l=this.hasAlphaChannel,this.palette.length&&(m=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),c=4,l=!0),x=(A=a.data||a).length,u=m||o,d=p=0,c===1)for(;d<x;)f=m?4*o[d/4]:p,N=u[f++],A[d++]=N,A[d++]=N,A[d++]=N,A[d++]=l?u[f++]:255,p=f;else for(;d<x;)f=m?4*o[d/4]:p,A[d++]=u[f++],A[d++]=u[f++],A[d++]=u[f++],A[d++]=l?u[f++]:255,p=f},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(Xt)==="[object Window]"){try{t=Xt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(a){var o;if(s()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var o,l,c,A,d,u,p,f;if(this.animation){for(f=[],l=d=0,u=(p=this.animation.frames).length;d<u;l=++d)o=p[l],c=a.createImageData(o.width,o.height),A=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,A),o.imageData=c,f.push(o.image=e(c));return f}},n.prototype.renderFrame=function(a,o){var l,c,A;return l=(c=this.animation.frames)[o],A=c[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(A!=null?A.disposeOp:void 0)===1?a.clearRect(A.xOffset,A.yOffset,A.width,A.height):(A!=null?A.disposeOp:void 0)===2&&a.putImageData(A.imageData,A.xOffset,A.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(a){var o,l,c,A,d,u,p=this;return l=0,u=this.animation,A=u.numFrames,c=u.frames,d=u.numPlays,(o=function(){var f,x;if(f=l++%A,x=c[f],p.renderFrame(a,f),A>1&&l/A<d)return p.animation._timeout=setTimeout(o,x.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Wie(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,o=1<<(7&s)+1;e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var A=!0,d=[],u=0,p=null,f=0,x=null;for(this.width=r,this.height=n;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];u=e[t++]|e[t++]<<8,p=e[t++],!(1&m)&&(p=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,E=e[t++],_=E>>6&1,D=1<<(7&E)+1,R=l,I=c,Q=!1;E>>7&&(Q=!0,R=t,I=D,t+=3*D);var U=t;for(t++;;){var S;if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}d.push({x:N,y:g,width:y,height:w,has_local_palette:Q,palette_offset:R,palette_size:I,data_offset:U,data_length:t-U,transparent_index:p,interlaced:!!_,delay:u,disposal:f});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,O){var k=this.frameInfo(P),Z=k.width*k.height,H=new Uint8Array(Z);r3(e,k.data_offset,H,Z);var q=k.palette_offset,K=k.transparent_index;K===null&&(K=256);var W=k.width,te=r-W,ue=W,T=4*(k.y*r+k.x),$=4*((k.y+k.height)*r+k.x),V=T,se=4*te;k.interlaced===!0&&(se+=4*r*7);for(var Y=8,L=0,C=H.length;L<C;++L){var j=H[L];if(ue===0&&(ue=W,(V+=se)>=$&&(se=4*te+4*r*(Y-1),V=T+(W+te)*(Y<<1),Y>>=1)),j===K)V+=4;else{var G=e[q+3*j],z=e[q+3*j+1],ae=e[q+3*j+2];O[V++]=ae,O[V++]=z,O[V++]=G,O[V++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(P,O){var k=this.frameInfo(P),Z=k.width*k.height,H=new Uint8Array(Z);r3(e,k.data_offset,H,Z);var q=k.palette_offset,K=k.transparent_index;K===null&&(K=256);var W=k.width,te=r-W,ue=W,T=4*(k.y*r+k.x),$=4*((k.y+k.height)*r+k.x),V=T,se=4*te;k.interlaced===!0&&(se+=4*r*7);for(var Y=8,L=0,C=H.length;L<C;++L){var j=H[L];if(ue===0&&(ue=W,(V+=se)>=$&&(se=4*te+4*r*(Y-1),V=T+(W+te)*(Y<<1),Y>>=1)),j===K)V+=4;else{var G=e[q+3*j],z=e[q+3*j+1],ae=e[q+3*j+2];O[V++]=G,O[V++]=z,O[V++]=ae,O[V++]=255}--ue}}}function r3(e,t,r,n){for(var s=e[t++],a=1<<s,o=a+1,l=o+1,c=s+1,A=(1<<c)-1,d=0,u=0,p=0,f=e[t++],x=new Int32Array(4096),m=null;;){for(;d<16&&f!==0;)u|=e[t++]<<d,d+=8,f===1?f=e[t++]:--f;if(d<c)break;var N=u&A;if(u>>=c,d-=c,N!==a){if(N===o)break;for(var g=N<l?N:m,y=0,w=g;w>a;)w=x[w]>>8,++y;var E=w;if(p+y+(g!==N?1:0)>n)return void Zr.log("Warning, gif stream longer than expected.");r[p++]=E;var _=p+=y;for(g!==N&&(r[p++]=E),w=g;y--;)w=x[w],r[--_]=255&w,w>>=8;m!==null&&l<4096&&(x[l++]=m<<8|E,l>=A+1&&c<12&&(++c,A=A<<1|1)),m=N}else l=o+1,A=(1<<(c=s+1))-1,m=null}return p!==n&&Zr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function z1(e){var t,r,n,s,a,o=Math.floor,l=new Array(64),c=new Array(64),A=new Array(64),d=new Array(64),u=new Array(65535),p=new Array(65535),f=new Array(64),x=new Array(64),m=[],N=0,g=7,y=new Array(64),w=new Array(64),E=new Array(64),_=new Array(256),D=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(T,$){for(var V=0,se=0,Y=new Array,L=1;L<=16;L++){for(var C=1;C<=T[L];C++)Y[$[se]]=[],Y[$[se]][0]=V,Y[$[se]][1]=L,se++,V++;V*=2}return Y}function q(T){for(var $=T[0],V=T[1]-1;V>=0;)$&1<<V&&(N|=1<<g),V--,--g<0&&(N==255?(K(255),K(0)):K(N),g=7,N=0)}function K(T){m.push(T)}function W(T){K(T>>8&255),K(255&T)}function te(T,$,V,se,Y){for(var L,C=Y[0],j=Y[240],G=function(xe,Fe){var ze,Qe,We,Oe,Ke,ht,Pt,wt,ft,Qt,et=0;for(ft=0;ft<8;++ft){ze=xe[et],Qe=xe[et+1],We=xe[et+2],Oe=xe[et+3],Ke=xe[et+4],ht=xe[et+5],Pt=xe[et+6];var ur=ze+(wt=xe[et+7]),Ut=ze-wt,Xr=Qe+Pt,rr=Qe-Pt,Yt=We+ht,Tr=We-ht,Jt=Oe+Ke,kn=Oe-Ke,yr=ur+Jt,bn=ur-Jt,ts=Xr+Yt,mr=Xr-Yt;xe[et]=yr+ts,xe[et+4]=yr-ts;var Rt=.707106781*(mr+bn);xe[et+2]=bn+Rt,xe[et+6]=bn-Rt;var hr=.382683433*((yr=kn+Tr)-(mr=rr+Ut)),pn=.5411961*yr+hr,Ur=1.306562965*mr+hr,mn=.707106781*(ts=Tr+rr),Cn=Ut+mn,pe=Ut-mn;xe[et+5]=pe+pn,xe[et+3]=pe-pn,xe[et+1]=Cn+Ur,xe[et+7]=Cn-Ur,et+=8}for(et=0,ft=0;ft<8;++ft){ze=xe[et],Qe=xe[et+8],We=xe[et+16],Oe=xe[et+24],Ke=xe[et+32],ht=xe[et+40],Pt=xe[et+48];var je=ze+(wt=xe[et+56]),De=ze-wt,Ie=Qe+Pt,Te=Qe-Pt,nt=We+ht,Xe=We-ht,Et=Oe+Ke,it=Oe-Ke,It=je+Et,dt=je-Et,pt=Ie+nt,_t=Ie-nt;xe[et]=It+pt,xe[et+32]=It-pt;var ne=.707106781*(_t+dt);xe[et+16]=dt+ne,xe[et+48]=dt-ne;var ve=.382683433*((It=it+Xe)-(_t=Te+De)),Be=.5411961*It+ve,Ee=1.306562965*_t+ve,Le=.707106781*(pt=Xe+Te),$e=De+Le,xt=De-Le;xe[et+40]=xt+Be,xe[et+24]=xt-Be,xe[et+8]=$e+Ee,xe[et+56]=$e-Ee,et++}for(ft=0;ft<64;++ft)Qt=xe[ft]*Fe[ft],f[ft]=Qt>0?Qt+.5|0:Qt-.5|0;return f}(T,$),z=0;z<64;++z)x[R[z]]=G[z];var ae=x[0]-V;V=x[0],ae==0?q(se[0]):(q(se[p[L=32767+ae]]),q(u[L]));for(var de=63;de>0&&x[de]==0;)de--;if(de==0)return q(C),V;for(var he,ce=1;ce<=de;){for(var oe=ce;x[ce]==0&&ce<=de;)++ce;var Re=ce-oe;if(Re>=16){he=Re>>4;for(var Ce=1;Ce<=he;++Ce)q(j);Re&=15}L=32767+x[ce],q(Y[(Re<<4)+p[L]]),q(u[L]),ce++}return de!=63&&q(C),V}function ue(T){T=Math.min(Math.max(T,1),100),a!=T&&(function($){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var Y=o((V[se]*$+50)/100);Y=Math.min(Math.max(Y,1),255),l[R[se]]=Y}for(var L=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],C=0;C<64;C++){var j=o((L[C]*$+50)/100);j=Math.min(Math.max(j,1),255),c[R[C]]=j}for(var G=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],z=0,ae=0;ae<8;ae++)for(var de=0;de<8;de++)A[z]=1/(l[R[z]]*G[ae]*G[de]*8),d[z]=1/(c[R[z]]*G[ae]*G[de]*8),z++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),a=T)}this.encode=function(T,$){$&&ue($),m=new Array,N=0,g=7,W(65496),W(65504),W(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),W(1),W(1),K(0),K(0),function(){W(65499),W(132),K(0);for(var Qe=0;Qe<64;Qe++)K(l[Qe]);K(1);for(var We=0;We<64;We++)K(c[We])}(),function(Qe,We){W(65472),W(17),K(8),W(We),W(Qe),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(T.width,T.height),function(){W(65476),W(418),K(0);for(var Qe=0;Qe<16;Qe++)K(I[Qe+1]);for(var We=0;We<=11;We++)K(Q[We]);K(16);for(var Oe=0;Oe<16;Oe++)K(U[Oe+1]);for(var Ke=0;Ke<=161;Ke++)K(S[Ke]);K(1);for(var ht=0;ht<16;ht++)K(P[ht+1]);for(var Pt=0;Pt<=11;Pt++)K(O[Pt]);K(17);for(var wt=0;wt<16;wt++)K(k[wt+1]);for(var ft=0;ft<=161;ft++)K(Z[ft])}(),W(65498),W(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var V=0,se=0,Y=0;N=0,g=7,this.encode.displayName="_encode_";for(var L,C,j,G,z,ae,de,he,ce,oe=T.data,Re=T.width,Ce=T.height,xe=4*Re,Fe=0;Fe<Ce;){for(L=0;L<xe;){for(z=xe*Fe+L,de=-1,he=0,ce=0;ce<64;ce++)ae=z+(he=ce>>3)*xe+(de=4*(7&ce)),Fe+he>=Ce&&(ae-=xe*(Fe+1+he-Ce)),L+de>=xe&&(ae-=L+de-xe+4),C=oe[ae++],j=oe[ae++],G=oe[ae++],y[ce]=(D[C]+D[j+256>>0]+D[G+512>>0]>>16)-128,w[ce]=(D[C+768>>0]+D[j+1024>>0]+D[G+1280>>0]>>16)-128,E[ce]=(D[C+1280>>0]+D[j+1536>>0]+D[G+1792>>0]>>16)-128;V=te(y,A,V,t,n),se=te(w,d,se,r,s),Y=te(E,d,Y,r,s),L+=32}Fe+=8}if(g>=0){var ze=[];ze[1]=g+1,ze[0]=(1<<g+1)-1,q(ze)}return W(65497),new Uint8Array(m)},e=e||50,function(){for(var T=String.fromCharCode,$=0;$<256;$++)_[$]=T($)}(),t=H(I,Q),r=H(P,O),n=H(U,S),s=H(k,Z),function(){for(var T=1,$=2,V=1;V<=15;V++){for(var se=T;se<$;se++)p[32767+se]=V,u[32767+se]=[],u[32767+se][1]=V,u[32767+se][0]=se;for(var Y=-($-1);Y<=-T;Y++)p[32767+Y]=V,u[32767+Y]=[],u[32767+Y][1]=V,u[32767+Y][0]=$-1+Y;T<<=1,$<<=1}}(),function(){for(var T=0;T<256;T++)D[T]=19595*T,D[T+256>>0]=38470*T,D[T+512>>0]=7471*T+32768,D[T+768>>0]=-11059*T,D[T+1024>>0]=-21709*T,D[T+1280>>0]=32768*T+8421375,D[T+1536>>0]=-27439*T,D[T+1792>>0]=-5329*T}(),ue(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function La(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function n3(e){function t(I){if(!I)throw Error("assert :P")}function r(I,Q,U){for(var S=0;4>S;S++)if(I[Q+S]!=U.charCodeAt(S))return!0;return!1}function n(I,Q,U,S,P){for(var O=0;O<P;O++)I[Q+O]=U[S+O]}function s(I,Q,U,S){for(var P=0;P<S;P++)I[Q+P]=U}function a(I){return new Int32Array(I)}function o(I,Q){for(var U=[],S=0;S<I;S++)U.push(new Q);return U}function l(I,Q){var U=[];return function S(P,O,k){for(var Z=k[O],H=0;H<Z&&(P.push(k.length>O+1?[]:new Q),!(k.length<O+1));H++)S(P[H],O+1,k)}(U,0,I),U}var c=function(){var I=this;function Q(h,v){for(var F=1<<v-1>>>0;h&F;)F>>>=1;return F?(h&F-1)+F:h}function U(h,v,F,M,X){t(!(M%F));do h[v+(M-=F)]=X;while(0<M)}function S(h,v,F,M,X){if(t(2328>=X),512>=X)var ee=a(512);else if((ee=a(X))==null)return 0;return function(re,ie,le,Ae,we,Pe){var _e,Se,qe=ie,Me=1<<le,be=a(16),Ne=a(16);for(t(we!=0),t(Ae!=null),t(re!=null),t(0<le),Se=0;Se<we;++Se){if(15<Ae[Se])return 0;++be[Ae[Se]]}if(be[0]==we)return 0;for(Ne[1]=0,_e=1;15>_e;++_e){if(be[_e]>1<<_e)return 0;Ne[_e+1]=Ne[_e]+be[_e]}for(Se=0;Se<we;++Se)_e=Ae[Se],0<Ae[Se]&&(Pe[Ne[_e]++]=Se);if(Ne[15]==1)return(Ae=new P).g=0,Ae.value=Pe[0],U(re,qe,1,Me,Ae),Me;var Ge,Ye=-1,Ve=Me-1,gt=0,at=1,zt=1,At=1<<le;for(Se=0,_e=1,we=2;_e<=le;++_e,we<<=1){if(at+=zt<<=1,0>(zt-=be[_e]))return 0;for(;0<be[_e];--be[_e])(Ae=new P).g=_e,Ae.value=Pe[Se++],U(re,qe+gt,we,At,Ae),gt=Q(gt,_e)}for(_e=le+1,we=2;15>=_e;++_e,we<<=1){if(at+=zt<<=1,0>(zt-=be[_e]))return 0;for(;0<be[_e];--be[_e]){if(Ae=new P,(gt&Ve)!=Ye){for(qe+=At,Ge=1<<(Ye=_e)-le;15>Ye&&!(0>=(Ge-=be[Ye]));)++Ye,Ge<<=1;Me+=At=1<<(Ge=Ye-le),re[ie+(Ye=gt&Ve)].g=Ge+le,re[ie+Ye].value=qe-ie-Ye}Ae.g=_e-le,Ae.value=Pe[Se++],U(re,qe+(gt>>le),we,At,Ae),gt=Q(gt,_e)}}return at!=2*Ne[15]-1?0:Me}(h,v,F,M,X,ee)}function P(){this.value=this.g=0}function O(){this.value=this.g=0}function k(){this.G=o(5,P),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ys,O)}function Z(h,v,F,M){t(h!=null),t(v!=null),t(2147483648>M),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=v,h.pa=F,h.Jd=v,h.Yc=F+M,h.Zc=4<=M?F+M-4+1:F,L(h)}function H(h,v){for(var F=0;0<v--;)F|=j(h,128)<<v;return F}function q(h,v){var F=H(h,v);return C(h)?-F:F}function K(h,v,F,M){var X,ee=0;for(t(h!=null),t(v!=null),t(4294967288>M),h.Sb=M,h.Ra=0,h.u=0,h.h=0,4<M&&(M=4),X=0;X<M;++X)ee+=v[F+X]<<8*X;h.Ra=ee,h.bb=M,h.oa=v,h.pa=F}function W(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Vd-8>>>0,++h.bb,h.u-=8;V(h)&&(h.h=1,h.u=0)}function te(h,v){if(t(0<=v),!h.h&&v<=Gd){var F=$(h)&Kd[v];return h.u+=v,W(h),F}return h.h=1,h.u=0}function ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(h){return h.Ra>>>(h.u&Vd-1)>>>0}function V(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Vd}function se(h,v){h.u=v,h.h=V(h)}function Y(h){h.u>=pf&&(t(h.u>=pf),W(h))}function L(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function C(h){return H(h,1)}function j(h,v){var F=h.Ca;0>h.b&&L(h);var M=h.b,X=F*v>>>8,ee=(h.I>>>M>X)+0;for(ee?(F-=X,h.I-=X+1<<M>>>0):F=X+1,M=F,X=0;256<=M;)X+=8,M>>=8;return M=7^X+ui[M],h.b-=M,h.Ca=(F<<M)-1,ee}function G(h,v,F){h[v+0]=F>>24&255,h[v+1]=F>>16&255,h[v+2]=F>>8&255,h[v+3]=F>>0&255}function z(h,v){return h[v+0]<<0|h[v+1]<<8}function ae(h,v){return z(h,v)|h[v+2]<<16}function de(h,v){return z(h,v)|z(h,v+2)<<16}function he(h,v){var F=1<<v;return t(h!=null),t(0<v),h.X=a(F),h.X==null?0:(h.Mb=32-v,h.Xa=v,1)}function ce(h,v){t(h!=null),t(v!=null),t(h.Xa==v.Xa),n(v.X,0,h.X,0,1<<v.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function Re(h,v,F,M){t(F!=null),t(M!=null);var X=F[0],ee=M[0];return X==0&&(X=(h*ee+v/2)/v),ee==0&&(ee=(v*X+h/2)/h),0>=X||0>=ee?0:(F[0]=X,M[0]=ee,1)}function Ce(h,v){return h+(1<<v)-1>>>v}function xe(h,v){return((4278255360&h)+(4278255360&v)>>>0&4278255360)+((16711935&h)+(16711935&v)>>>0&16711935)>>>0}function Fe(h,v){I[v]=function(F,M,X,ee,re,ie,le){var Ae;for(Ae=0;Ae<re;++Ae){var we=I[h](ie[le+Ae-1],X,ee+Ae);ie[le+Ae]=xe(F[M+Ae],we)}}}function ze(){this.ud=this.hd=this.jd=0}function Qe(h,v){return((4278124286&(h^v))>>>1)+(h&v)>>>0}function We(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Oe(h,v){return We(h+(h-v+.5>>1))}function Ke(h,v,F){return Math.abs(v-F)-Math.abs(h-F)}function ht(h,v,F,M,X,ee,re){for(M=ee[re-1],F=0;F<X;++F)ee[re+F]=M=xe(h[v+F],M)}function Pt(h,v,F,M,X){var ee;for(ee=0;ee<F;++ee){var re=h[v+ee],ie=re>>8&255,le=16711935&(le=(le=16711935&re)+((ie<<16)+ie));M[X+ee]=(4278255360&re)+le>>>0}}function wt(h,v){v.jd=h>>0&255,v.hd=h>>8&255,v.ud=h>>16&255}function ft(h,v,F,M,X,ee){var re;for(re=0;re<M;++re){var ie=v[F+re],le=ie>>>8,Ae=ie,we=255&(we=(we=ie>>>16)+((h.jd<<24>>24)*(le<<24>>24)>>>5));Ae=255&(Ae=(Ae=Ae+((h.hd<<24>>24)*(le<<24>>24)>>>5))+((h.ud<<24>>24)*(we<<24>>24)>>>5)),X[ee+re]=(4278255360&ie)+(we<<16)+Ae}}function Qt(h,v,F,M,X){I[v]=function(ee,re,ie,le,Ae,we,Pe,_e,Se){for(le=Pe;le<_e;++le)for(Pe=0;Pe<Se;++Pe)Ae[we++]=X(ie[M(ee[re++])])},I[h]=function(ee,re,ie,le,Ae,we,Pe){var _e=8>>ee.b,Se=ee.Ea,qe=ee.K[0],Me=ee.w;if(8>_e)for(ee=(1<<ee.b)-1,Me=(1<<_e)-1;re<ie;++re){var be,Ne=0;for(be=0;be<Se;++be)be&ee||(Ne=M(le[Ae++])),we[Pe++]=X(qe[Ne&Me]),Ne>>=_e}else I["VP8LMapColor"+F](le,Ae,qe,Me,we,Pe,re,ie,Se)}}function et(h,v,F,M,X){for(F=v+F;v<F;){var ee=h[v++];M[X++]=ee>>16&255,M[X++]=ee>>8&255,M[X++]=ee>>0&255}}function ur(h,v,F,M,X){for(F=v+F;v<F;){var ee=h[v++];M[X++]=ee>>16&255,M[X++]=ee>>8&255,M[X++]=ee>>0&255,M[X++]=ee>>24&255}}function Ut(h,v,F,M,X){for(F=v+F;v<F;){var ee=(re=h[v++])>>16&240|re>>12&15,re=re>>0&240|re>>28&15;M[X++]=ee,M[X++]=re}}function Xr(h,v,F,M,X){for(F=v+F;v<F;){var ee=(re=h[v++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;M[X++]=ee,M[X++]=re}}function rr(h,v,F,M,X){for(F=v+F;v<F;){var ee=h[v++];M[X++]=ee>>0&255,M[X++]=ee>>8&255,M[X++]=ee>>16&255}}function Yt(h,v,F,M,X,ee){if(ee==0)for(F=v+F;v<F;)G(M,((ee=h[v++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),X+=32;else n(M,X,h,v,F)}function Tr(h,v){I[v][0]=I[h+"0"],I[v][1]=I[h+"1"],I[v][2]=I[h+"2"],I[v][3]=I[h+"3"],I[v][4]=I[h+"4"],I[v][5]=I[h+"5"],I[v][6]=I[h+"6"],I[v][7]=I[h+"7"],I[v][8]=I[h+"8"],I[v][9]=I[h+"9"],I[v][10]=I[h+"10"],I[v][11]=I[h+"11"],I[v][12]=I[h+"12"],I[v][13]=I[h+"13"],I[v][14]=I[h+"0"],I[v][15]=I[h+"0"]}function Jt(h){return h==Aw||h==dw||h==hg||h==uw}function kn(){this.eb=[],this.size=this.A=this.fb=0}function yr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kn,this.f.kb=new yr,this.sd=null}function ts(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function mr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Rt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function hr(h,v){var F=h.T,M=v.ba.f.RGBA,X=M.eb,ee=M.fb+h.ka*M.A,re=la[v.ba.S],ie=h.y,le=h.O,Ae=h.f,we=h.N,Pe=h.ea,_e=h.W,Se=v.cc,qe=v.dc,Me=v.Mc,be=v.Nc,Ne=h.ka,Ge=h.ka+h.T,Ye=h.U,Ve=Ye+1>>1;for(Ne==0?re(ie,le,null,null,Ae,we,Pe,_e,Ae,we,Pe,_e,X,ee,null,null,Ye):(re(v.ec,v.fc,ie,le,Se,qe,Me,be,Ae,we,Pe,_e,X,ee-M.A,X,ee,Ye),++F);Ne+2<Ge;Ne+=2)Se=Ae,qe=we,Me=Pe,be=_e,we+=h.Rc,_e+=h.Rc,ee+=2*M.A,re(ie,(le+=2*h.fa)-h.fa,ie,le,Se,qe,Me,be,Ae,we,Pe,_e,X,ee-M.A,X,ee,Ye);return le+=h.fa,h.j+Ge<h.o?(n(v.ec,v.fc,ie,le,Ye),n(v.cc,v.dc,Ae,we,Ve),n(v.Mc,v.Nc,Pe,_e,Ve),F--):1&Ge||re(ie,le,null,null,Ae,we,Pe,_e,Ae,we,Pe,_e,X,ee+M.A,null,null,Ye),F}function pn(h,v,F){var M=h.F,X=[h.J];if(M!=null){var ee=h.U,re=v.ba.S,ie=re==ug||re==hg;v=v.ba.f.RGBA;var le=[0],Ae=h.ka;le[0]=h.T,h.Kb&&(Ae==0?--le[0]:(--Ae,X[0]-=h.width),h.j+h.ka+h.T==h.o&&(le[0]=h.o-h.j-Ae));var we=v.eb;Ae=v.fb+Ae*v.A,h=nn(M,X[0],h.width,ee,le,we,Ae+(ie?0:3),v.A),t(F==le),h&&Jt(re)&&aa(we,Ae,ie,ee,le,v.A)}return 0}function Ur(h){var v=h.ma,F=v.ba.S,M=11>F,X=F==Ag||F==dg||F==ug||F==cw||F==12||Jt(F);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!hf(v.Oa,h,X?11:12))return 0;if(X&&Jt(F)&&Ze(),h.da)alert("todo:use_scaling");else{if(M){if(v.Ib=Rt,h.Kb){if(F=h.U+1>>1,v.memory=a(h.U+2*F),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+h.U,v.Mc=v.cc,v.Nc=v.dc+F,v.Ib=hr,Ze()}}else alert("todo:EmitYUV");X&&(v.Jb=pn,M&&ke())}if(M&&!QN){for(h=0;256>h;++h)SM[h]=89858*(h-128)+pg>>fg,FM[h]=-22014*(h-128)+pg,jM[h]=-45773*(h-128),EM[h]=113618*(h-128)+pg>>fg;for(h=bf;h<pw;++h)v=76283*(h-16)+pg>>fg,kM[h-bf]=Ii(v,255),IM[h-bf]=Ii(v+8>>4,15);QN=1}return 1}function mn(h){var v=h.ma,F=h.U,M=h.T;return t(!(1&h.ka)),0>=F||0>=M?0:(F=v.Ib(h,v),v.Jb!=null&&v.Jb(h,v,F),v.Dc+=F,1)}function Cn(h){h.ma.memory=null}function pe(h,v,F,M){return te(h,8)!=47?0:(v[0]=te(h,14)+1,F[0]=te(h,14)+1,M[0]=te(h,1),te(h,3)!=0?0:!h.h)}function je(h,v){if(4>h)return h+1;var F=h-2>>1;return(2+(1&h)<<F)+te(v,F)+1}function De(h,v){return 120<v?v-120:1<=(F=((F=uM[v-1])>>4)*h+(8-(15&F)))?F:1;var F}function Ie(h,v,F){var M=$(F),X=h[v+=255&M].g-8;return 0<X&&(se(F,F.u+8),M=$(F),v+=h[v].value,v+=M&(1<<X)-1),se(F,F.u+h[v].g),h[v].value}function Te(h,v,F){return F.g+=h.g,F.value+=h.value<<v>>>0,t(8>=F.g),h.g}function nt(h,v,F){var M=h.xc;return t((v=M==0?0:h.vc[h.md*(F>>M)+(v>>M)])<h.Wb),h.Ya[v]}function Xe(h,v,F,M){var X=h.ab,ee=h.c*v,re=h.C;v=re+v;var ie=F,le=M;for(M=h.Ta,F=h.Ua;0<X--;){var Ae=h.gc[X],we=re,Pe=v,_e=ie,Se=le,qe=(le=M,ie=F,Ae.Ea);switch(t(we<Pe),t(Pe<=Ae.nc),Ae.hc){case 2:ng(_e,Se,(Pe-we)*qe,le,ie);break;case 0:var Me=we,be=Pe,Ne=le,Ge=ie,Ye=(At=Ae).Ea;Me==0&&(ow(_e,Se,null,null,1,Ne,Ge),ht(_e,Se+1,0,0,Ye-1,Ne,Ge+1),Se+=Ye,Ge+=Ye,++Me);for(var Ve=1<<At.b,gt=Ve-1,at=Ce(Ye,At.b),zt=At.K,At=At.w+(Me>>At.b)*at;Me<be;){var Lr=zt,Or=At,Ir=1;for(mf(_e,Se,Ne,Ge-Ye,1,Ne,Ge);Ir<Ye;){var Er=(Ir&~gt)+Ve;Er>Ye&&(Er=Ye),(0,Gl[Lr[Or++]>>8&15])(_e,Se+ +Ir,Ne,Ge+Ir-Ye,Er-Ir,Ne,Ge+Ir),Ir=Er}Se+=Ye,Ge+=Ye,++Me&gt||(At+=at)}Pe!=Ae.nc&&n(le,ie-qe,le,ie+(Pe-we-1)*qe,qe);break;case 1:for(qe=_e,be=Se,Ye=(_e=Ae.Ea)-(Ge=_e&~(Ne=(Se=1<<Ae.b)-1)),Me=Ce(_e,Ae.b),Ve=Ae.K,Ae=Ae.w+(we>>Ae.b)*Me;we<Pe;){for(gt=Ve,at=Ae,zt=new ze,At=be+Ge,Lr=be+_e;be<At;)wt(gt[at++],zt),EA(zt,qe,be,Se,le,ie),be+=Se,ie+=Se;be<Lr&&(wt(gt[at++],zt),EA(zt,qe,be,Ye,le,ie),be+=Ye,ie+=Ye),++we&Ne||(Ae+=Me)}break;case 3:if(_e==le&&Se==ie&&0<Ae.b){for(be=le,_e=qe=ie+(Pe-we)*qe-(Ge=(Pe-we)*Ce(Ae.Ea,Ae.b)),Se=le,Ne=ie,Me=[],Ge=(Ye=Ge)-1;0<=Ge;--Ge)Me[Ge]=Se[Ne+Ge];for(Ge=Ye-1;0<=Ge;--Ge)be[_e+Ge]=Me[Ge];na(Ae,we,Pe,le,qe,le,ie)}else na(Ae,we,Pe,_e,Se,le,ie)}ie=M,le=F}le!=F&&n(M,F,ie,le,ee)}function Et(h,v){var F=h.V,M=h.Ba+h.c*h.C,X=v-h.C;if(t(v<=h.l.o),t(16>=X),0<X){var ee=h.l,re=h.Ta,ie=h.Ua,le=ee.width;if(Xe(h,X,F,M),X=ie=[ie],t((F=h.C)<(M=v)),t(ee.v<ee.va),M>ee.o&&(M=ee.o),F<ee.j){var Ae=ee.j-F;F=ee.j,X[0]+=Ae*le}if(F>=M?F=0:(X[0]+=4*ee.v,ee.ka=F-ee.j,ee.U=ee.va-ee.v,ee.T=M-F,F=1),F){if(ie=ie[0],11>(F=h.ca).S){var we=F.f.RGBA,Pe=(M=F.S,X=ee.U,ee=ee.T,Ae=we.eb,we.A),_e=ee;for(we=we.fb+h.Ma*we.A;0<_e--;){var Se=re,qe=ie,Me=X,be=Ae,Ne=we;switch(M){case cg:hi(Se,qe,Me,be,Ne);break;case Ag:Xs(Se,qe,Me,be,Ne);break;case Aw:Xs(Se,qe,Me,be,Ne),aa(be,Ne,0,Me,1,0);break;case kN:Wo(Se,qe,Me,be,Ne);break;case dg:Yt(Se,qe,Me,be,Ne,1);break;case dw:Yt(Se,qe,Me,be,Ne,1),aa(be,Ne,0,Me,1,0);break;case ug:Yt(Se,qe,Me,be,Ne,0);break;case hg:Yt(Se,qe,Me,be,Ne,0),aa(be,Ne,1,Me,1,0);break;case cw:Vl(Se,qe,Me,be,Ne);break;case uw:Vl(Se,qe,Me,be,Ne),rn(be,Ne,Me,1,0);break;case IN:Vo(Se,qe,Me,be,Ne);break;default:t(0)}ie+=le,we+=Pe}h.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=F.height)}}h.C=v,t(h.C<=h.i)}function it(h){var v;if(0<h.ua)return 0;for(v=0;v<h.Wb;++v){var F=h.Ya[v].G,M=h.Ya[v].H;if(0<F[1][M[1]+0].g||0<F[2][M[2]+0].g||0<F[3][M[3]+0].g)return 0}return 1}function It(h,v,F,M,X,ee){if(h.Z!=0){var re=h.qd,ie=h.rd;for(t(Jl[h.Z]!=null);v<F;++v)Jl[h.Z](re,ie,M,X,M,X,ee),re=M,ie=X,X+=ee;h.qd=re,h.rd=ie}}function dt(h,v){var F=h.l.ma,M=F.Z==0||F.Z==1?h.l.j:h.C;if(M=h.C<M?M:h.C,t(v<=h.l.o),v>M){var X=h.l.width,ee=F.ca,re=F.tb+X*M,ie=h.V,le=h.Ba+h.c*M,Ae=h.gc;t(h.ab==1),t(Ae[0].hc==3),sg(Ae[0],M,v,ie,le,ee,re),It(F,M,v,ee,re,X)}h.C=h.Ma=v}function pt(h,v,F,M,X,ee,re){var ie=h.$/M,le=h.$%M,Ae=h.m,we=h.s,Pe=F+h.$,_e=Pe;X=F+M*X;var Se=F+M*ee,qe=280+we.ua,Me=h.Pb?ie:16777216,be=0<we.ua?we.Wa:null,Ne=we.wc,Ge=Pe<Se?nt(we,le,ie):null;t(h.C<ee),t(Se<=X);var Ye=!1;e:for(;;){for(;Ye||Pe<Se;){var Ve=0;if(ie>=Me){var gt=Pe-F;t((Me=h).Pb),Me.wd=Me.m,Me.xd=gt,0<Me.s.ua&&ce(Me.s.Wa,Me.s.vb),Me=ie+fM}if(le&Ne||(Ge=nt(we,le,ie)),t(Ge!=null),Ge.Qb&&(v[Pe]=Ge.qb,Ye=!0),!Ye)if(Y(Ae),Ge.jc){Ve=Ae,gt=v;var at=Pe,zt=Ge.pd[$(Ve)&ys-1];t(Ge.jc),256>zt.g?(se(Ve,Ve.u+zt.g),gt[at]=zt.value,Ve=0):(se(Ve,Ve.u+zt.g-256),t(256<=zt.value),Ve=zt.value),Ve==0&&(Ye=!0)}else Ve=Ie(Ge.G[0],Ge.H[0],Ae);if(Ae.h)break;if(Ye||256>Ve){if(!Ye)if(Ge.nd)v[Pe]=(Ge.qb|Ve<<8)>>>0;else{if(Y(Ae),Ye=Ie(Ge.G[1],Ge.H[1],Ae),Y(Ae),gt=Ie(Ge.G[2],Ge.H[2],Ae),at=Ie(Ge.G[3],Ge.H[3],Ae),Ae.h)break;v[Pe]=(at<<24|Ye<<16|Ve<<8|gt)>>>0}if(Ye=!1,++Pe,++le>=M&&(le=0,++ie,re!=null&&ie<=ee&&!(ie%16)&&re(h,ie),be!=null))for(;_e<Pe;)Ve=v[_e++],be.X[(506832829*Ve&4294967295)>>>be.Mb]=Ve}else if(280>Ve){if(Ve=je(Ve-256,Ae),gt=Ie(Ge.G[4],Ge.H[4],Ae),Y(Ae),gt=De(M,gt=je(gt,Ae)),Ae.h)break;if(Pe-F<gt||X-Pe<Ve)break e;for(at=0;at<Ve;++at)v[Pe+at]=v[Pe+at-gt];for(Pe+=Ve,le+=Ve;le>=M;)le-=M,++ie,re!=null&&ie<=ee&&!(ie%16)&&re(h,ie);if(t(Pe<=X),le&Ne&&(Ge=nt(we,le,ie)),be!=null)for(;_e<Pe;)Ve=v[_e++],be.X[(506832829*Ve&4294967295)>>>be.Mb]=Ve}else{if(!(Ve<qe))break e;for(Ye=Ve-280,t(be!=null);_e<Pe;)Ve=v[_e++],be.X[(506832829*Ve&4294967295)>>>be.Mb]=Ve;Ve=Pe,t(!(Ye>>>(gt=be).Xa)),v[Ve]=gt.X[Ye],Ye=!0}Ye||t(Ae.h==V(Ae))}if(h.Pb&&Ae.h&&Pe<X)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&ce(h.s.vb,h.s.Wa);else{if(Ae.h)break e;re!=null&&re(h,ie>ee?ee:ie),h.a=0,h.$=Pe-F}return 1}return h.a=3,0}function _t(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var v=h.Wa;v!=null&&(v.X=null),h.vb=null,t(h!=null)}function ne(){var h=new aw;return h==null?null:(h.a=0,h.xb=TN,Tr("Predictor","VP8LPredictors"),Tr("Predictor","VP8LPredictors_C"),Tr("PredictorAdd","VP8LPredictorsAdd"),Tr("PredictorAdd","VP8LPredictorsAdd_C"),ng=Pt,EA=ft,hi=et,Xs=ur,Vl=Ut,Vo=Xr,Wo=rr,I.VP8LMapColor32b=Wd,I.VP8LMapColor8b=ig,h)}function ve(h,v,F,M,X){var ee=1,re=[h],ie=[v],le=M.m,Ae=M.s,we=null,Pe=0;e:for(;;){if(F)for(;ee&&te(le,1);){var _e=re,Se=ie,qe=M,Me=1,be=qe.m,Ne=qe.gc[qe.ab],Ge=te(be,2);if(qe.Oc&1<<Ge)ee=0;else{switch(qe.Oc|=1<<Ge,Ne.hc=Ge,Ne.Ea=_e[0],Ne.nc=Se[0],Ne.K=[null],++qe.ab,t(4>=qe.ab),Ge){case 0:case 1:Ne.b=te(be,3)+2,Me=ve(Ce(Ne.Ea,Ne.b),Ce(Ne.nc,Ne.b),0,qe,Ne.K),Ne.K=Ne.K[0];break;case 3:var Ye,Ve=te(be,8)+1,gt=16<Ve?0:4<Ve?1:2<Ve?2:3;if(_e[0]=Ce(Ne.Ea,gt),Ne.b=gt,Ye=Me=ve(Ve,1,0,qe,Ne.K)){var at,zt=Ve,At=Ne,Lr=1<<(8>>At.b),Or=a(Lr);if(Or==null)Ye=0;else{var Ir=At.K[0],Er=At.w;for(Or[0]=At.K[0][0],at=1;at<1*zt;++at)Or[at]=xe(Ir[Er+at],Or[at-1]);for(;at<4*Lr;++at)Or[at]=0;At.K[0]=null,At.K[0]=Or,Ye=1}}Me=Ye;break;case 2:break;default:t(0)}ee=Me}}if(re=re[0],ie=ie[0],ee&&te(le,1)&&!(ee=1<=(Pe=te(le,4))&&11>=Pe)){M.a=3;break e}var Jr;if(Jr=ee)t:{var Gr,cr,Xn,fi=M,Jn=re,pi=ie,Hr=Pe,_i=F,Ti=fi.m,us=fi.s,xs=[null],Ys=1,ca=0,Ao=hM[Hr];r:for(;;){if(_i&&te(Ti,1)){var hs=te(Ti,3)+2,Yo=Ce(Jn,hs),PA=Ce(pi,hs),Zd=Yo*PA;if(!ve(Yo,PA,0,fi,xs))break r;for(xs=xs[0],us.xc=hs,Gr=0;Gr<Zd;++Gr){var Yl=xs[Gr]>>8&65535;xs[Gr]=Yl,Yl>=Ys&&(Ys=Yl+1)}}if(Ti.h)break r;for(cr=0;5>cr;++cr){var Pn=PN[cr];!cr&&0<Hr&&(Pn+=1<<Hr),ca<Pn&&(ca=Pn)}var mw=o(Ys*Ao,P),$N=Ys,zN=o($N,k);if(zN==null)var gg=null;else t(65536>=$N),gg=zN;var Cf=a(ca);if(gg==null||Cf==null||mw==null){fi.a=1;break r}var vg=mw;for(Gr=Xn=0;Gr<Ys;++Gr){var Pa=gg[Gr],eu=Pa.G,tu=Pa.H,KN=0,yg=1,GN=0;for(cr=0;5>cr;++cr){Pn=PN[cr],eu[cr]=vg,tu[cr]=Xn,!cr&&0<Hr&&(Pn+=1<<Hr);s:{var xg,gw=Pn,wg=fi,Bf=Cf,TM=vg,LM=Xn,vw=0,Zl=wg.m,UM=te(Zl,1);if(s(Bf,0,0,gw),UM){var RM=te(Zl,1)+1,DM=te(Zl,1),VN=te(Zl,DM==0?1:8);Bf[VN]=1,RM==2&&(Bf[VN=te(Zl,8)]=1);var bg=1}else{var WN=a(19),qN=te(Zl,4)+4;if(19<qN){wg.a=3;var Cg=0;break s}for(xg=0;xg<qN;++xg)WN[dM[xg]]=te(Zl,3);var yw=void 0,Nf=void 0,XN=wg,MM=WN,Bg=gw,JN=Bf,xw=0,ec=XN.m,YN=8,ZN=o(128,P);n:for(;S(ZN,0,7,MM,19);){if(te(ec,1)){var QM=2+2*te(ec,3);if((yw=2+te(ec,QM))>Bg)break n}else yw=Bg;for(Nf=0;Nf<Bg&&yw--;){Y(ec);var eS=ZN[0+(127&$(ec))];se(ec,ec.u+eS.g);var ru=eS.value;if(16>ru)JN[Nf++]=ru,ru!=0&&(YN=ru);else{var OM=ru==16,tS=ru-16,HM=cM[tS],rS=te(ec,lM[tS])+HM;if(Nf+rS>Bg)break n;for(var $M=OM?YN:0;0<rS--;)JN[Nf++]=$M}}xw=1;break n}xw||(XN.a=3),bg=xw}(bg=bg&&!Zl.h)&&(vw=S(TM,LM,8,Bf,gw)),bg&&vw!=0?Cg=vw:(wg.a=3,Cg=0)}if(Cg==0)break r;if(yg&&AM[cr]==1&&(yg=vg[Xn].g==0),KN+=vg[Xn].g,Xn+=Cg,3>=cr){var Sf,ww=Cf[0];for(Sf=1;Sf<Pn;++Sf)Cf[Sf]>ww&&(ww=Cf[Sf]);GN+=ww}}if(Pa.nd=yg,Pa.Qb=0,yg&&(Pa.qb=(eu[3][tu[3]+0].value<<24|eu[1][tu[1]+0].value<<16|eu[2][tu[2]+0].value)>>>0,KN==0&&256>eu[0][tu[0]+0].value&&(Pa.Qb=1,Pa.qb+=eu[0][tu[0]+0].value<<8)),Pa.jc=!Pa.Qb&&6>GN,Pa.jc){var Ng,Zo=Pa;for(Ng=0;Ng<ys;++Ng){var tc=Ng,rc=Zo.pd[tc],Sg=Zo.G[0][Zo.H[0]+tc];256<=Sg.value?(rc.g=Sg.g+256,rc.value=Sg.value):(rc.g=0,rc.value=0,tc>>=Te(Sg,8,rc),tc>>=Te(Zo.G[1][Zo.H[1]+tc],16,rc),tc>>=Te(Zo.G[2][Zo.H[2]+tc],0,rc),Te(Zo.G[3][Zo.H[3]+tc],24,rc))}}}us.vc=xs,us.Wb=Ys,us.Ya=gg,us.yc=mw,Jr=1;break t}Jr=0}if(!(ee=Jr)){M.a=3;break e}if(0<Pe){if(Ae.ua=1<<Pe,!he(Ae.Wa,Pe)){M.a=1,ee=0;break e}}else Ae.ua=0;var bw=M,nS=re,zM=ie,Cw=bw.s,Bw=Cw.xc;if(bw.c=nS,bw.i=zM,Cw.md=Ce(nS,Bw),Cw.wc=Bw==0?-1:(1<<Bw)-1,F){M.xb=wM;break e}if((we=a(re*ie))==null){M.a=1,ee=0;break e}ee=(ee=pt(M,we,0,re,ie,ie,null))&&!le.h;break e}return ee?(X!=null?X[0]=we:(t(we==null),t(F)),M.$=0,F||_t(Ae)):_t(Ae),ee}function Be(h,v){var F=h.c*h.i,M=F+v+16*v;return t(h.c<=v),h.V=a(M),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+F+v,1)}function Ee(h,v){var F=h.C,M=v-F,X=h.V,ee=h.Ba+h.c*F;for(t(v<=h.l.o);0<M;){var re=16<M?16:M,ie=h.l.ma,le=h.l.width,Ae=le*re,we=ie.ca,Pe=ie.tb+le*F,_e=h.Ta,Se=h.Ua;Xe(h,re,X,ee),Qn(_e,Se,we,Pe,Ae),It(ie,F,F+re,we,Pe,le),M-=re,X+=re*h.c,F+=re}t(F==v),h.C=h.Ma=v}function Le(){this.ub=this.yd=this.td=this.Rb=0}function $e(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function xt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ot(){this.Yb=function(){var h=[];return function v(F,M,X){for(var ee=X[M],re=0;re<ee&&(F.push(X.length>M+1?[]:0),!(X.length<M+1));re++)v(F[re],M+1,X)}(h,0,[3,11]),h}()}function Br(){this.jb=a(3),this.Wc=l([4,8],Ot),this.Xc=l([4,17],Ot)}function Gt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Nr(){this.ld=this.La=this.dd=this.tc=0}function xr(){this.Na=this.la=0}function Sr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bn(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ao(){this.uc=this.M=this.Nb=0,this.wa=Array(new Nr),this.Y=0,this.ya=Array(new Bn),this.aa=0,this.l=new ta}function ea(){this.y=a(16),this.f=a(8),this.ea=a(8)}function zo(){this.cb=this.a=0,this.sc="",this.m=new ue,this.Od=new Le,this.Kc=new $e,this.ed=new Gt,this.Qa=new xt,this.Ic=this.$c=this.Aa=0,this.D=new ao,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ue),this.ia=0,this.pb=o(4,Sr),this.Pa=new Br,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ea),this.Hd=0,this.rb=Array(new xr),this.sb=0,this.wa=Array(new Nr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bn),this.L=this.aa=0,this.gd=l([4,2],Nr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ta(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _d(){var h=new zo;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,wf||(wf=Ql)),h}function gn(h,v,F){return h.a==0&&(h.a=v,h.sc=F,h.cb=0),0}function Td(h,v,F){return 3<=F&&h[v+0]==157&&h[v+1]==1&&h[v+2]==42}function Ai(h,v){if(h==null)return 0;if(h.a=0,h.sc="OK",v==null)return gn(h,2,"null VP8Io passed to VP8GetHeaders()");var F=v.data,M=v.w,X=v.ha;if(4>X)return gn(h,7,"Truncated header.");var ee=F[M+0]|F[M+1]<<8|F[M+2]<<16,re=h.Od;if(re.Rb=!(1&ee),re.td=ee>>1&7,re.yd=ee>>4&1,re.ub=ee>>5,3<re.td)return gn(h,3,"Incorrect keyframe parameters.");if(!re.yd)return gn(h,4,"Frame not displayable.");M+=3,X-=3;var ie=h.Kc;if(re.Rb){if(7>X)return gn(h,7,"cannot parse picture header");if(!Td(F,M,X))return gn(h,3,"Bad code word");ie.c=16383&(F[M+4]<<8|F[M+3]),ie.Td=F[M+4]>>6,ie.i=16383&(F[M+6]<<8|F[M+5]),ie.Ud=F[M+6]>>6,M+=7,X-=7,h.za=ie.c+15>>4,h.Ub=ie.i+15>>4,v.width=ie.c,v.height=ie.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((ee=h.Pa).jb,0,255,ee.jb.length),t((ee=h.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,s(ee.Zb,0,0,ee.Zb.length),s(ee.Lb,0,0,ee.Lb)}if(re.ub>X)return gn(h,7,"bad partition length");Z(ee=h.m,F,M,re.ub),M+=re.ub,X-=re.ub,re.Rb&&(ie.Ld=C(ee),ie.Kd=C(ee)),ie=h.Qa;var le,Ae=h.Pa;if(t(ee!=null),t(ie!=null),ie.Cb=C(ee),ie.Cb){if(ie.Bb=C(ee),C(ee)){for(ie.Fb=C(ee),le=0;4>le;++le)ie.Zb[le]=C(ee)?q(ee,7):0;for(le=0;4>le;++le)ie.Lb[le]=C(ee)?q(ee,6):0}if(ie.Bb)for(le=0;3>le;++le)Ae.jb[le]=C(ee)?H(ee,8):255}else ie.Bb=0;if(ee.Ka)return gn(h,3,"cannot parse segment header");if((ie=h.ed).zd=C(ee),ie.Tb=H(ee,6),ie.wb=H(ee,3),ie.Pc=C(ee),ie.Pc&&C(ee)){for(Ae=0;4>Ae;++Ae)C(ee)&&(ie.vd[Ae]=q(ee,6));for(Ae=0;4>Ae;++Ae)C(ee)&&(ie.od[Ae]=q(ee,6))}if(h.L=ie.Tb==0?0:ie.zd?1:2,ee.Ka)return gn(h,3,"cannot parse filter header");var we=X;if(X=le=M,M=le+we,ie=we,h.Xb=(1<<H(h.m,2))-1,we<3*(Ae=h.Xb))F=7;else{for(le+=3*Ae,ie-=3*Ae,we=0;we<Ae;++we){var Pe=F[X+0]|F[X+1]<<8|F[X+2]<<16;Pe>ie&&(Pe=ie),Z(h.Jc[+we],F,le,Pe),le+=Pe,ie-=Pe,X+=3}Z(h.Jc[+Ae],F,le,ie),F=le<M?0:5}if(F!=0)return gn(h,F,"cannot parse partitions");for(F=H(le=h.m,7),X=C(le)?q(le,4):0,M=C(le)?q(le,4):0,ie=C(le)?q(le,4):0,Ae=C(le)?q(le,4):0,le=C(le)?q(le,4):0,we=h.Qa,Pe=0;4>Pe;++Pe){if(we.Cb){var _e=we.Zb[Pe];we.Fb||(_e+=F)}else{if(0<Pe){h.pb[Pe]=h.pb[0];continue}_e=F}var Se=h.pb[Pe];Se.Sc[0]=hw[Ii(_e+X,127)],Se.Sc[1]=fw[Ii(_e+0,127)],Se.Eb[0]=2*hw[Ii(_e+M,127)],Se.Eb[1]=101581*fw[Ii(_e+ie,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=hw[Ii(_e+Ae,117)],Se.Qc[1]=fw[Ii(_e+le,127)],Se.lc=_e+le}if(!re.Rb)return gn(h,4,"Not a key frame.");for(C(ee),re=h.Pa,F=0;4>F;++F){for(X=0;8>X;++X)for(M=0;3>M;++M)for(ie=0;11>ie;++ie)Ae=j(ee,yM[F][X][M][ie])?H(ee,8):gM[F][X][M][ie],re.Wc[F][X].Yb[M][ie]=Ae;for(X=0;17>X;++X)re.Xc[F][X]=re.Wc[F][xM[X]]}return h.kc=C(ee),h.kc&&(h.Bd=H(ee,8)),h.cb=1}function Ql(h,v,F,M,X,ee,re){var ie=v[X].Yb[F];for(F=0;16>X;++X){if(!j(h,ie[F+0]))return X;for(;!j(h,ie[F+1]);)if(ie=v[++X].Yb[0],F=0,X==16)return 16;var le=v[X+1].Yb;if(j(h,ie[F+2])){var Ae=h,we=0;if(j(Ae,(_e=ie)[(Pe=F)+3]))if(j(Ae,_e[Pe+6])){for(ie=0,Pe=2*(we=j(Ae,_e[Pe+8]))+(_e=j(Ae,_e[Pe+9+we])),we=0,_e=pM[Pe];_e[ie];++ie)we+=we+j(Ae,_e[ie]);we+=3+(8<<Pe)}else j(Ae,_e[Pe+7])?(we=7+2*j(Ae,165),we+=j(Ae,145)):we=5+j(Ae,159);else we=j(Ae,_e[Pe+4])?3+j(Ae,_e[Pe+5]):2;ie=le[2]}else we=1,ie=le[1];le=re+mM[X],0>(Ae=h).b&&L(Ae);var Pe,_e=Ae.b,Se=(Pe=Ae.Ca>>1)-(Ae.I>>_e)>>31;--Ae.b,Ae.Ca+=Se,Ae.Ca|=1,Ae.I-=(Pe+1&Se)<<_e,ee[le]=((we^Se)-Se)*M[(0<X)+0]}return 16}function Ol(h){var v=h.rb[h.sb-1];v.la=0,v.Na=0,s(h.zc,0,0,h.zc.length),h.ja=0}function Ld(h,v){if(h==null)return 0;if(v==null)return gn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!Ai(h,v))return 0;if(t(h.cb),v.ac==null||v.ac(v)){v.ob&&(h.L=0);var F=mg[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=v.v-F>>4,h.zb=v.j-F>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=v.o+15+F>>4,h.Hb=v.va+15+F>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var M=h.ed;for(F=0;4>F;++F){var X;if(h.Qa.Cb){var ee=h.Qa.Lb[F];h.Qa.Fb||(ee+=M.Tb)}else ee=M.Tb;for(X=0;1>=X;++X){var re=h.gd[F][X],ie=ee;if(M.Pc&&(ie+=M.vd[0],X&&(ie+=M.od[0])),0<(ie=0>ie?0:63<ie?63:ie)){var le=ie;0<M.wb&&(le=4<M.wb?le>>2:le>>1)>9-M.wb&&(le=9-M.wb),1>le&&(le=1),re.dd=le,re.tc=2*ie+le,re.ld=40<=ie?2:15<=ie?1:0}else re.tc=0;re.La=X}}}F=0}else gn(h,6,"Frame setup failed"),F=h.a;if(F=F==0){if(F){h.$c=0,0<h.Aa||(h.Ic=_M);e:{F=h.Ic,M=4*(le=h.za);var Ae=32*le,we=le+1,Pe=0<h.L?le*(0<h.Aa?2:1):0,_e=(h.Aa==2?2:1)*le;if((re=M+832+(X=3*(16*F+mg[h.L])/2*Ae)+(ee=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=re)F=0;else{if(re>h.Vb){if(h.Vb=0,h.Ec=a(re),h.Fc=0,h.Ec==null){F=gn(h,1,"no memory during frame initialization.");break e}h.Vb=re}re=h.Ec,ie=h.Fc,h.Ac=re,h.Bc=ie,ie+=M,h.Gd=o(Ae,ea),h.Hd=0,h.rb=o(we+1,xr),h.sb=1,h.wa=Pe?o(Pe,Nr):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=le),t(!0),h.oc=re,h.pc=ie,ie+=832,h.ya=o(_e,Bn),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=le),h.R=16*le,h.B=8*le,le=(Ae=mg[h.L])*h.R,Ae=Ae/2*h.B,h.sa=re,h.ta=ie+le,h.qa=h.sa,h.ra=h.ta+16*F*h.R+Ae,h.Ha=h.qa,h.Ia=h.ra+8*F*h.B+Ae,h.$c=0,ie+=X,h.mb=ee?re:null,h.nb=ee?ie:null,t(ie+ee<=h.Fc+h.Vb),Ol(h),s(h.Ac,h.Bc,0,M),F=1}}if(F){if(v.ka=0,v.y=h.sa,v.O=h.ta,v.f=h.qa,v.N=h.ra,v.ea=h.Ha,v.Vd=h.Ia,v.fa=h.R,v.Rc=h.B,v.F=null,v.J=0,!og){for(F=-255;255>=F;++F)rs[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)Xo[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)xf[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)Yd[255+F]=0>F?0:255<F?255:F;og=1}qd=ge,qo=Ud,gf=wA,Js=Rd,sa=bA,Mn=xA,Xd=nf,ag=NA,vf=iw,jA=sf,FA=sw,Wl=Qd,kA=af,Jd=eg,IA=Zm,ql=lo,yf=Go,ia=nw,Ia[0]=oo,Ia[1]=St,Ia[2]=Ko,Ia[3]=Yx,Ia[4]=Wm,Ia[5]=Dd,Ia[6]=qm,Ia[7]=ef,Ia[8]=ew,Ia[9]=Zx,Xl[0]=nr,Xl[1]=er,Xl[2]=gr,Xl[3]=Kr,Xl[4]=_r,Xl[5]=ra,Xl[6]=Qr,Jo[0]=$l,Jo[1]=Wt,Jo[2]=tw,Jo[3]=tf,Jo[4]=BA,Jo[5]=rw,Jo[6]=rf,F=1}else F=0}F&&(F=function(Se,qe){for(Se.M=0;Se.M<Se.Va;++Se.M){var Me,be=Se.Jc[Se.M&Se.Xb],Ne=Se.m,Ge=Se;for(Me=0;Me<Ge.za;++Me){var Ye=Ne,Ve=Ge,gt=Ve.Ac,at=Ve.Bc+4*Me,zt=Ve.zc,At=Ve.ya[Ve.aa+Me];if(Ve.Qa.Bb?At.$b=j(Ye,Ve.Pa.jb[0])?2+j(Ye,Ve.Pa.jb[2]):j(Ye,Ve.Pa.jb[1]):At.$b=0,Ve.kc&&(At.Ad=j(Ye,Ve.Bd)),At.Za=!j(Ye,145)+0,At.Za){var Lr=At.Ob,Or=0;for(Ve=0;4>Ve;++Ve){var Ir,Er=zt[0+Ve];for(Ir=0;4>Ir;++Ir){Er=vM[gt[at+Ir]][Er];for(var Jr=_N[j(Ye,Er[0])];0<Jr;)Jr=_N[2*Jr+j(Ye,Er[Jr])];Er=-Jr,gt[at+Ir]=Er}n(Lr,Or,gt,at,4),Or+=4,zt[0+Ve]=Er}}else Er=j(Ye,156)?j(Ye,128)?1:3:j(Ye,163)?2:0,At.Ob[0]=Er,s(gt,at,Er,4),s(zt,0,Er,4);At.Dd=j(Ye,142)?j(Ye,114)?j(Ye,183)?1:3:2:0}if(Ge.m.Ka)return gn(Se,7,"Premature end-of-partition0 encountered.");for(;Se.ja<Se.za;++Se.ja){if(Ge=be,Ye=(Ne=Se).rb[Ne.sb-1],gt=Ne.rb[Ne.sb+Ne.ja],Me=Ne.ya[Ne.aa+Ne.ja],at=Ne.kc?Me.Ad:0)Ye.la=gt.la=0,Me.Za||(Ye.Na=gt.Na=0),Me.Hc=0,Me.Gc=0,Me.ia=0;else{var Gr,cr;if(Ye=gt,gt=Ge,at=Ne.Pa.Xc,zt=Ne.ya[Ne.aa+Ne.ja],At=Ne.pb[zt.$b],Ve=zt.ad,Lr=0,Or=Ne.rb[Ne.sb-1],Er=Ir=0,s(Ve,Lr,0,384),zt.Za)var Xn=0,fi=at[3];else{Jr=a(16);var Jn=Ye.Na+Or.Na;if(Jn=wf(gt,at[1],Jn,At.Eb,0,Jr,0),Ye.Na=Or.Na=(0<Jn)+0,1<Jn)qd(Jr,0,Ve,Lr);else{var pi=Jr[0]+3>>3;for(Jr=0;256>Jr;Jr+=16)Ve[Lr+Jr]=pi}Xn=1,fi=at[0]}var Hr=15&Ye.la,_i=15&Or.la;for(Jr=0;4>Jr;++Jr){var Ti=1&_i;for(pi=cr=0;4>pi;++pi)Hr=Hr>>1|(Ti=(Jn=wf(gt,fi,Jn=Ti+(1&Hr),At.Sc,Xn,Ve,Lr))>Xn)<<7,cr=cr<<2|(3<Jn?3:1<Jn?2:Ve[Lr+0]!=0),Lr+=16;Hr>>=4,_i=_i>>1|Ti<<7,Ir=(Ir<<8|cr)>>>0}for(fi=Hr,Xn=_i>>4,Gr=0;4>Gr;Gr+=2){for(cr=0,Hr=Ye.la>>4+Gr,_i=Or.la>>4+Gr,Jr=0;2>Jr;++Jr){for(Ti=1&_i,pi=0;2>pi;++pi)Jn=Ti+(1&Hr),Hr=Hr>>1|(Ti=0<(Jn=wf(gt,at[2],Jn,At.Qc,0,Ve,Lr)))<<3,cr=cr<<2|(3<Jn?3:1<Jn?2:Ve[Lr+0]!=0),Lr+=16;Hr>>=2,_i=_i>>1|Ti<<5}Er|=cr<<4*Gr,fi|=Hr<<4<<Gr,Xn|=(240&_i)<<Gr}Ye.la=fi,Or.la=Xn,zt.Hc=Ir,zt.Gc=Er,zt.ia=43690&Er?0:At.ia,at=!(Ir|Er)}if(0<Ne.L&&(Ne.wa[Ne.Y+Ne.ja]=Ne.gd[Me.$b][Me.Za],Ne.wa[Ne.Y+Ne.ja].La|=!at),Ge.Ka)return gn(Se,7,"Premature end-of-file encountered.")}if(Ol(Se),Ne=qe,Ge=1,Me=(be=Se).D,Ye=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(Me.M=be.M,Me.uc=Ye,uf(be,Me),Ge=1,Me=(cr=be.D).Nb,Ye=(Er=mg[be.L])*be.R,gt=Er/2*be.B,Jr=16*Me*be.R,pi=8*Me*be.B,at=be.sa,zt=be.ta-Ye+Jr,At=be.qa,Ve=be.ra-gt+pi,Lr=be.Ha,Or=be.Ia-gt+pi,_i=(Hr=cr.M)==0,Ir=Hr>=be.Va-1,be.Aa==2&&uf(be,cr),cr.uc)for(Ti=(Jn=be).D.M,t(Jn.D.uc),cr=Jn.yb;cr<Jn.Hb;++cr){Xn=cr,fi=Ti;var us=(xs=(Pn=Jn).D).Nb;Gr=Pn.R;var xs=xs.wa[xs.Y+Xn],Ys=Pn.sa,ca=Pn.ta+16*us*Gr+16*Xn,Ao=xs.dd,hs=xs.tc;if(hs!=0)if(t(3<=hs),Pn.L==1)0<Xn&&ql(Ys,ca,Gr,hs+4),xs.La&&ia(Ys,ca,Gr,hs),0<fi&&IA(Ys,ca,Gr,hs+4),xs.La&&yf(Ys,ca,Gr,hs);else{var Yo=Pn.B,PA=Pn.qa,Zd=Pn.ra+8*us*Yo+8*Xn,Yl=Pn.Ha,Pn=Pn.Ia+8*us*Yo+8*Xn;us=xs.ld,0<Xn&&(ag(Ys,ca,Gr,hs+4,Ao,us),jA(PA,Zd,Yl,Pn,Yo,hs+4,Ao,us)),xs.La&&(Wl(Ys,ca,Gr,hs,Ao,us),Jd(PA,Zd,Yl,Pn,Yo,hs,Ao,us)),0<fi&&(Xd(Ys,ca,Gr,hs+4,Ao,us),vf(PA,Zd,Yl,Pn,Yo,hs+4,Ao,us)),xs.La&&(FA(Ys,ca,Gr,hs,Ao,us),kA(PA,Zd,Yl,Pn,Yo,hs,Ao,us))}}if(be.ia&&alert("todo:DitherRow"),Ne.put!=null){if(cr=16*Hr,Hr=16*(Hr+1),_i?(Ne.y=be.sa,Ne.O=be.ta+Jr,Ne.f=be.qa,Ne.N=be.ra+pi,Ne.ea=be.Ha,Ne.W=be.Ia+pi):(cr-=Er,Ne.y=at,Ne.O=zt,Ne.f=At,Ne.N=Ve,Ne.ea=Lr,Ne.W=Or),Ir||(Hr-=Er),Hr>Ne.o&&(Hr=Ne.o),Ne.F=null,Ne.J=null,be.Fa!=null&&0<be.Fa.length&&cr<Hr&&(Ne.J=Af(be,Ne,cr,Hr-cr),Ne.F=be.mb,Ne.F==null&&Ne.F.length==0)){Ge=gn(be,3,"Could not decode alpha data.");break e}cr<Ne.j&&(Er=Ne.j-cr,cr=Ne.j,t(!(1&Er)),Ne.O+=be.R*Er,Ne.N+=be.B*(Er>>1),Ne.W+=be.B*(Er>>1),Ne.F!=null&&(Ne.J+=Ne.width*Er)),cr<Hr&&(Ne.O+=Ne.v,Ne.N+=Ne.v>>1,Ne.W+=Ne.v>>1,Ne.F!=null&&(Ne.J+=Ne.v),Ne.ka=cr-Ne.j,Ne.U=Ne.va-Ne.v,Ne.T=Hr-cr,Ge=Ne.put(Ne))}Me+1!=be.Ic||Ir||(n(be.sa,be.ta-Ye,at,zt+16*be.R,Ye),n(be.qa,be.ra-gt,At,Ve+8*be.B,gt),n(be.Ha,be.Ia-gt,Lr,Or+8*be.B,gt))}if(!Ge)return gn(Se,6,"Output aborted.")}return 1}(h,v)),v.bc!=null&&v.bc(v),F&=1}return F?(h.cb=0,F):0}function di(h,v,F,M,X){X=h[v+F+32*M]+(X>>3),h[v+F+32*M]=-256&X?0>X?0:255:X}function Hl(h,v,F,M,X,ee){di(h,v,0,F,M+X),di(h,v,1,F,M+ee),di(h,v,2,F,M-ee),di(h,v,3,F,M-X)}function _s(h){return(20091*h>>16)+h}function yA(h,v,F,M){var X,ee=0,re=a(16);for(X=0;4>X;++X){var ie=h[v+0]+h[v+8],le=h[v+0]-h[v+8],Ae=(35468*h[v+4]>>16)-_s(h[v+12]),we=_s(h[v+4])+(35468*h[v+12]>>16);re[ee+0]=ie+we,re[ee+1]=le+Ae,re[ee+2]=le-Ae,re[ee+3]=ie-we,ee+=4,v++}for(X=ee=0;4>X;++X)ie=(h=re[ee+0]+4)+re[ee+8],le=h-re[ee+8],Ae=(35468*re[ee+4]>>16)-_s(re[ee+12]),di(F,M,0,0,ie+(we=_s(re[ee+4])+(35468*re[ee+12]>>16))),di(F,M,1,0,le+Ae),di(F,M,2,0,le-Ae),di(F,M,3,0,ie-we),ee++,M+=32}function xA(h,v,F,M){var X=h[v+0]+4,ee=35468*h[v+4]>>16,re=_s(h[v+4]),ie=35468*h[v+1]>>16;Hl(F,M,0,X+re,h=_s(h[v+1]),ie),Hl(F,M,1,X+ee,h,ie),Hl(F,M,2,X-ee,h,ie),Hl(F,M,3,X-re,h,ie)}function Ud(h,v,F,M,X){yA(h,v,F,M),X&&yA(h,v+16,F,M+4)}function wA(h,v,F,M){qo(h,v+0,F,M,1),qo(h,v+32,F,M+128,1)}function Rd(h,v,F,M){var X;for(h=h[v+0]+4,X=0;4>X;++X)for(v=0;4>v;++v)di(F,M,v,X,h)}function bA(h,v,F,M){h[v+0]&&Js(h,v+0,F,M),h[v+16]&&Js(h,v+16,F,M+4),h[v+32]&&Js(h,v+32,F,M+128),h[v+48]&&Js(h,v+48,F,M+128+4)}function ge(h,v,F,M){var X,ee=a(16);for(X=0;4>X;++X){var re=h[v+0+X]+h[v+12+X],ie=h[v+4+X]+h[v+8+X],le=h[v+4+X]-h[v+8+X],Ae=h[v+0+X]-h[v+12+X];ee[0+X]=re+ie,ee[8+X]=re-ie,ee[4+X]=Ae+le,ee[12+X]=Ae-le}for(X=0;4>X;++X)re=(h=ee[0+4*X]+3)+ee[3+4*X],ie=ee[1+4*X]+ee[2+4*X],le=ee[1+4*X]-ee[2+4*X],Ae=h-ee[3+4*X],F[M+0]=re+ie>>3,F[M+16]=Ae+le>>3,F[M+32]=re-ie>>3,F[M+48]=Ae-le>>3,M+=64}function tt(h,v,F){var M,X=v-32,ee=Pi,re=255-h[X-1];for(M=0;M<F;++M){var ie,le=ee,Ae=re+h[v-1];for(ie=0;ie<F;++ie)h[v+ie]=le[Ae+h[X+ie]];v+=32}}function St(h,v){tt(h,v,4)}function Wt(h,v){tt(h,v,8)}function er(h,v){tt(h,v,16)}function gr(h,v){var F;for(F=0;16>F;++F)n(h,v+32*F,h,v-32,16)}function Kr(h,v){var F;for(F=16;0<F;--F)s(h,v,h[v-1],16),v+=32}function lr(h,v,F){var M;for(M=0;16>M;++M)s(v,F+32*M,h,16)}function nr(h,v){var F,M=16;for(F=0;16>F;++F)M+=h[v-1+32*F]+h[v+F-32];lr(M>>5,h,v)}function _r(h,v){var F,M=8;for(F=0;16>F;++F)M+=h[v-1+32*F];lr(M>>4,h,v)}function ra(h,v){var F,M=8;for(F=0;16>F;++F)M+=h[v+F-32];lr(M>>4,h,v)}function Qr(h,v){lr(128,h,v)}function Ft(h,v,F){return h+2*v+F+2>>2}function Ko(h,v){var F,M=v-32;for(M=new Uint8Array([Ft(h[M-1],h[M+0],h[M+1]),Ft(h[M+0],h[M+1],h[M+2]),Ft(h[M+1],h[M+2],h[M+3]),Ft(h[M+2],h[M+3],h[M+4])]),F=0;4>F;++F)n(h,v+32*F,M,0,M.length)}function Yx(h,v){var F=h[v-1],M=h[v-1+32],X=h[v-1+64],ee=h[v-1+96];G(h,v+0,16843009*Ft(h[v-1-32],F,M)),G(h,v+32,16843009*Ft(F,M,X)),G(h,v+64,16843009*Ft(M,X,ee)),G(h,v+96,16843009*Ft(X,ee,ee))}function oo(h,v){var F,M=4;for(F=0;4>F;++F)M+=h[v+F-32]+h[v-1+32*F];for(M>>=3,F=0;4>F;++F)s(h,v+32*F,M,4)}function Wm(h,v){var F=h[v-1+0],M=h[v-1+32],X=h[v-1+64],ee=h[v-1-32],re=h[v+0-32],ie=h[v+1-32],le=h[v+2-32],Ae=h[v+3-32];h[v+0+96]=Ft(M,X,h[v-1+96]),h[v+1+96]=h[v+0+64]=Ft(F,M,X),h[v+2+96]=h[v+1+64]=h[v+0+32]=Ft(ee,F,M),h[v+3+96]=h[v+2+64]=h[v+1+32]=h[v+0+0]=Ft(re,ee,F),h[v+3+64]=h[v+2+32]=h[v+1+0]=Ft(ie,re,ee),h[v+3+32]=h[v+2+0]=Ft(le,ie,re),h[v+3+0]=Ft(Ae,le,ie)}function qm(h,v){var F=h[v+1-32],M=h[v+2-32],X=h[v+3-32],ee=h[v+4-32],re=h[v+5-32],ie=h[v+6-32],le=h[v+7-32];h[v+0+0]=Ft(h[v+0-32],F,M),h[v+1+0]=h[v+0+32]=Ft(F,M,X),h[v+2+0]=h[v+1+32]=h[v+0+64]=Ft(M,X,ee),h[v+3+0]=h[v+2+32]=h[v+1+64]=h[v+0+96]=Ft(X,ee,re),h[v+3+32]=h[v+2+64]=h[v+1+96]=Ft(ee,re,ie),h[v+3+64]=h[v+2+96]=Ft(re,ie,le),h[v+3+96]=Ft(ie,le,le)}function Dd(h,v){var F=h[v-1+0],M=h[v-1+32],X=h[v-1+64],ee=h[v-1-32],re=h[v+0-32],ie=h[v+1-32],le=h[v+2-32],Ae=h[v+3-32];h[v+0+0]=h[v+1+64]=ee+re+1>>1,h[v+1+0]=h[v+2+64]=re+ie+1>>1,h[v+2+0]=h[v+3+64]=ie+le+1>>1,h[v+3+0]=le+Ae+1>>1,h[v+0+96]=Ft(X,M,F),h[v+0+64]=Ft(M,F,ee),h[v+0+32]=h[v+1+96]=Ft(F,ee,re),h[v+1+32]=h[v+2+96]=Ft(ee,re,ie),h[v+2+32]=h[v+3+96]=Ft(re,ie,le),h[v+3+32]=Ft(ie,le,Ae)}function ef(h,v){var F=h[v+0-32],M=h[v+1-32],X=h[v+2-32],ee=h[v+3-32],re=h[v+4-32],ie=h[v+5-32],le=h[v+6-32],Ae=h[v+7-32];h[v+0+0]=F+M+1>>1,h[v+1+0]=h[v+0+64]=M+X+1>>1,h[v+2+0]=h[v+1+64]=X+ee+1>>1,h[v+3+0]=h[v+2+64]=ee+re+1>>1,h[v+0+32]=Ft(F,M,X),h[v+1+32]=h[v+0+96]=Ft(M,X,ee),h[v+2+32]=h[v+1+96]=Ft(X,ee,re),h[v+3+32]=h[v+2+96]=Ft(ee,re,ie),h[v+3+64]=Ft(re,ie,le),h[v+3+96]=Ft(ie,le,Ae)}function Zx(h,v){var F=h[v-1+0],M=h[v-1+32],X=h[v-1+64],ee=h[v-1+96];h[v+0+0]=F+M+1>>1,h[v+2+0]=h[v+0+32]=M+X+1>>1,h[v+2+32]=h[v+0+64]=X+ee+1>>1,h[v+1+0]=Ft(F,M,X),h[v+3+0]=h[v+1+32]=Ft(M,X,ee),h[v+3+32]=h[v+1+64]=Ft(X,ee,ee),h[v+3+64]=h[v+2+64]=h[v+0+96]=h[v+1+96]=h[v+2+96]=h[v+3+96]=ee}function ew(h,v){var F=h[v-1+0],M=h[v-1+32],X=h[v-1+64],ee=h[v-1+96],re=h[v-1-32],ie=h[v+0-32],le=h[v+1-32],Ae=h[v+2-32];h[v+0+0]=h[v+2+32]=F+re+1>>1,h[v+0+32]=h[v+2+64]=M+F+1>>1,h[v+0+64]=h[v+2+96]=X+M+1>>1,h[v+0+96]=ee+X+1>>1,h[v+3+0]=Ft(ie,le,Ae),h[v+2+0]=Ft(re,ie,le),h[v+1+0]=h[v+3+32]=Ft(F,re,ie),h[v+1+32]=h[v+3+64]=Ft(M,F,re),h[v+1+64]=h[v+3+96]=Ft(X,M,F),h[v+1+96]=Ft(ee,X,M)}function tw(h,v){var F;for(F=0;8>F;++F)n(h,v+32*F,h,v-32,8)}function tf(h,v){var F;for(F=0;8>F;++F)s(h,v,h[v-1],8),v+=32}function CA(h,v,F){var M;for(M=0;8>M;++M)s(v,F+32*M,h,8)}function $l(h,v){var F,M=8;for(F=0;8>F;++F)M+=h[v+F-32]+h[v-1+32*F];CA(M>>4,h,v)}function rw(h,v){var F,M=4;for(F=0;8>F;++F)M+=h[v+F-32];CA(M>>3,h,v)}function BA(h,v){var F,M=4;for(F=0;8>F;++F)M+=h[v-1+32*F];CA(M>>3,h,v)}function rf(h,v){CA(128,h,v)}function Md(h,v,F){var M=h[v-F],X=h[v+0],ee=3*(X-M)+lw[1020+h[v-2*F]-h[v+F]],re=lg[112+(ee+4>>3)];h[v-F]=Pi[255+M+lg[112+(ee+3>>3)]],h[v+0]=Pi[255+X-re]}function Xm(h,v,F,M){var X=h[v+0],ee=h[v+F];return oa[255+h[v-2*F]-h[v-F]]>M||oa[255+ee-X]>M}function Jm(h,v,F,M){return 4*oa[255+h[v-F]-h[v+0]]+oa[255+h[v-2*F]-h[v+F]]<=M}function Ym(h,v,F,M,X){var ee=h[v-3*F],re=h[v-2*F],ie=h[v-F],le=h[v+0],Ae=h[v+F],we=h[v+2*F],Pe=h[v+3*F];return 4*oa[255+ie-le]+oa[255+re-Ae]>M?0:oa[255+h[v-4*F]-ee]<=X&&oa[255+ee-re]<=X&&oa[255+re-ie]<=X&&oa[255+Pe-we]<=X&&oa[255+we-Ae]<=X&&oa[255+Ae-le]<=X}function Zm(h,v,F,M){var X=2*M+1;for(M=0;16>M;++M)Jm(h,v+M,F,X)&&Md(h,v+M,F)}function lo(h,v,F,M){var X=2*M+1;for(M=0;16>M;++M)Jm(h,v+M*F,1,X)&&Md(h,v+M*F,1)}function Go(h,v,F,M){var X;for(X=3;0<X;--X)Zm(h,v+=4*F,F,M)}function nw(h,v,F,M){var X;for(X=3;0<X;--X)lo(h,v+=4,F,M)}function zl(h,v,F,M,X,ee,re,ie){for(ee=2*ee+1;0<X--;){if(Ym(h,v,F,ee,re))if(Xm(h,v,F,ie))Md(h,v,F);else{var le=h,Ae=v,we=F,Pe=le[Ae-2*we],_e=le[Ae-we],Se=le[Ae+0],qe=le[Ae+we],Me=le[Ae+2*we],be=27*(Ge=lw[1020+3*(Se-_e)+lw[1020+Pe-qe]])+63>>7,Ne=18*Ge+63>>7,Ge=9*Ge+63>>7;le[Ae-3*we]=Pi[255+le[Ae-3*we]+Ge],le[Ae-2*we]=Pi[255+Pe+Ne],le[Ae-we]=Pi[255+_e+be],le[Ae+0]=Pi[255+Se-be],le[Ae+we]=Pi[255+qe-Ne],le[Ae+2*we]=Pi[255+Me-Ge]}v+=M}}function Fa(h,v,F,M,X,ee,re,ie){for(ee=2*ee+1;0<X--;){if(Ym(h,v,F,ee,re))if(Xm(h,v,F,ie))Md(h,v,F);else{var le=h,Ae=v,we=F,Pe=le[Ae-we],_e=le[Ae+0],Se=le[Ae+we],qe=lg[112+((Me=3*(_e-Pe))+4>>3)],Me=lg[112+(Me+3>>3)],be=qe+1>>1;le[Ae-2*we]=Pi[255+le[Ae-2*we]+be],le[Ae-we]=Pi[255+Pe+Me],le[Ae+0]=Pi[255+_e-qe],le[Ae+we]=Pi[255+Se-be]}v+=M}}function nf(h,v,F,M,X,ee){zl(h,v,F,1,16,M,X,ee)}function NA(h,v,F,M,X,ee){zl(h,v,1,F,16,M,X,ee)}function sw(h,v,F,M,X,ee){var re;for(re=3;0<re;--re)Fa(h,v+=4*F,F,1,16,M,X,ee)}function Qd(h,v,F,M,X,ee){var re;for(re=3;0<re;--re)Fa(h,v+=4,1,F,16,M,X,ee)}function iw(h,v,F,M,X,ee,re,ie){zl(h,v,X,1,8,ee,re,ie),zl(F,M,X,1,8,ee,re,ie)}function sf(h,v,F,M,X,ee,re,ie){zl(h,v,1,X,8,ee,re,ie),zl(F,M,1,X,8,ee,re,ie)}function af(h,v,F,M,X,ee,re,ie){Fa(h,v+4*X,X,1,8,ee,re,ie),Fa(F,M+4*X,X,1,8,ee,re,ie)}function eg(h,v,F,M,X,ee,re,ie){Fa(h,v+4,1,X,8,ee,re,ie),Fa(F,M+4,1,X,8,ee,re,ie)}function Od(){this.ba=new bn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new mr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function of(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tg(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new k,this.yc=new P}function aw(){this.xb=this.a=0,this.l=new ta,this.ca=new bn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tg,this.ab=0,this.gc=o(4,lf),this.Oc=0}function Hd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ta,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function SA(h,v,F,M,X,ee,re){for(h=h==null?0:h[v+0],v=0;v<re;++v)X[ee+v]=h+F[M+v]&255,h=X[ee+v]}function cf(h,v,F,M,X,ee,re){var ie;if(h==null)SA(null,null,F,M,X,ee,re);else for(ie=0;ie<re;++ie)X[ee+ie]=h[v+ie]+F[M+ie]&255}function Kl(h,v,F,M,X,ee,re){if(h==null)SA(null,null,F,M,X,ee,re);else{var ie,le=h[v+0],Ae=le,we=le;for(ie=0;ie<re;++ie)Ae=we+(le=h[v+ie])-Ae,we=F[M+ie]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=le,X[ee+ie]=we}}function Af(h,v,F,M){var X=v.width,ee=v.o;if(t(h!=null&&v!=null),0>F||0>=M||F+M>ee)return null;if(!h.Cc){if(h.ga==null){var re;if(h.ga=new Hd,(re=h.ga==null)||(re=v.width*v.o,t(h.Gb.length==0),h.Gb=a(re),h.Uc=0,h.Gb==null?re=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,re=1),re=!re),!re){re=h.ga;var ie=h.Fa,le=h.P,Ae=h.qc,we=h.mb,Pe=h.nb,_e=le+1,Se=Ae-1,qe=re.l;if(t(ie!=null&&we!=null&&v!=null),Jl[0]=null,Jl[1]=SA,Jl[2]=cf,Jl[3]=Kl,re.ca=we,re.tb=Pe,re.c=v.width,re.i=v.height,t(0<re.c&&0<re.i),1>=Ae)v=0;else if(re.$a=ie[le+0]>>0&3,re.Z=ie[le+0]>>2&3,re.Lc=ie[le+0]>>4&3,le=ie[le+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||le)v=0;else if(qe.put=mn,qe.ac=Ur,qe.bc=Cn,qe.ma=re,qe.width=v.width,qe.height=v.height,qe.Da=v.Da,qe.v=v.v,qe.va=v.va,qe.j=v.j,qe.o=v.o,re.$a)e:{t(re.$a==1),v=ne();t:for(;;){if(v==null){v=0;break e}if(t(re!=null),re.mc=v,v.c=re.c,v.i=re.i,v.l=re.l,v.l.ma=re,v.l.width=re.c,v.l.height=re.i,v.a=0,K(v.m,ie,_e,Se),!ve(re.c,re.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&it(v.s)?(re.ic=1,ie=v.c*v.i,v.Ta=null,v.Ua=0,v.V=a(ie),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(re.ic=0,v=Be(v,re.c)),!v))break t;v=1;break e}re.mc=null,v=0}else v=Se>=re.c*re.i;re=!v}if(re)return null;h.ga.Lc!=1?h.Ga=0:M=ee-F}t(h.ga!=null),t(F+M<=ee);e:{if(v=(ie=h.ga).c,ee=ie.l.o,ie.$a==0){if(_e=h.rc,Se=h.Vc,qe=h.Fa,le=h.P+1+F*v,Ae=h.mb,we=h.nb+F*v,t(le<=h.P+h.qc),ie.Z!=0)for(t(Jl[ie.Z]!=null),re=0;re<M;++re)Jl[ie.Z](_e,Se,qe,le,Ae,we,v),_e=Ae,Se=we,we+=v,le+=v;else for(re=0;re<M;++re)n(Ae,we,qe,le,v),_e=Ae,Se=we,we+=v,le+=v;h.rc=_e,h.Vc=Se}else{if(t(ie.mc!=null),v=F+M,t((re=ie.mc)!=null),t(v<=re.i),re.C>=v)v=1;else if(ie.ic||ke(),ie.ic){ie=re.V,_e=re.Ba,Se=re.c;var Me=re.i,be=(qe=1,le=re.$/Se,Ae=re.$%Se,we=re.m,Pe=re.s,re.$),Ne=Se*Me,Ge=Se*v,Ye=Pe.wc,Ve=be<Ge?nt(Pe,Ae,le):null;t(be<=Ne),t(v<=Me),t(it(Pe));t:for(;;){for(;!we.h&&be<Ge;){if(Ae&Ye||(Ve=nt(Pe,Ae,le)),t(Ve!=null),Y(we),256>(Me=Ie(Ve.G[0],Ve.H[0],we)))ie[_e+be]=Me,++be,++Ae>=Se&&(Ae=0,++le<=v&&!(le%16)&&dt(re,le));else{if(!(280>Me)){qe=0;break t}Me=je(Me-256,we);var gt,at=Ie(Ve.G[4],Ve.H[4],we);if(Y(we),!(be>=(at=De(Se,at=je(at,we)))&&Ne-be>=Me)){qe=0;break t}for(gt=0;gt<Me;++gt)ie[_e+be+gt]=ie[_e+be+gt-at];for(be+=Me,Ae+=Me;Ae>=Se;)Ae-=Se,++le<=v&&!(le%16)&&dt(re,le);be<Ge&&Ae&Ye&&(Ve=nt(Pe,Ae,le))}t(we.h==V(we))}dt(re,le>v?v:le);break t}!qe||we.h&&be<Ne?(qe=0,re.a=we.h?5:3):re.$=be,v=qe}else v=pt(re,re.V,re.Ba,re.c,re.i,v,Ee);if(!v){M=0;break e}}F+M>=ee&&(h.Cc=1),M=1}if(!M)return null;if(h.Cc&&((M=h.ga)!=null&&(M.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+F*X}function B(h,v,F,M,X,ee){for(;0<X--;){var re,ie=h,le=v+(F?1:0),Ae=h,we=v+(F?0:3);for(re=0;re<M;++re){var Pe=Ae[we+4*re];Pe!=255&&(Pe*=32897,ie[le+4*re+0]=ie[le+4*re+0]*Pe>>23,ie[le+4*re+1]=ie[le+4*re+1]*Pe>>23,ie[le+4*re+2]=ie[le+4*re+2]*Pe>>23)}v+=ee}}function J(h,v,F,M,X){for(;0<M--;){var ee;for(ee=0;ee<F;++ee){var re=h[v+2*ee+0],ie=15&(Ae=h[v+2*ee+1]),le=4369*ie,Ae=(240&Ae|Ae>>4)*le>>16;h[v+2*ee+0]=(240&re|re>>4)*le>>16&240|(15&re|re<<4)*le>>16>>4&15,h[v+2*ee+1]=240&Ae|ie}v+=X}}function fe(h,v,F,M,X,ee,re,ie){var le,Ae,we=255;for(Ae=0;Ae<X;++Ae){for(le=0;le<M;++le){var Pe=h[v+le];ee[re+4*le]=Pe,we&=Pe}v+=F,re+=ie}return we!=255}function ye(h,v,F,M,X){var ee;for(ee=0;ee<X;++ee)F[M+ee]=h[v+ee]>>8}function ke(){aa=B,rn=J,nn=fe,Qn=ye}function He(h,v,F){I[h]=function(M,X,ee,re,ie,le,Ae,we,Pe,_e,Se,qe,Me,be,Ne,Ge,Ye){var Ve,gt=Ye-1>>1,at=ie[le+0]|Ae[we+0]<<16,zt=Pe[_e+0]|Se[qe+0]<<16;t(M!=null);var At=3*at+zt+131074>>2;for(v(M[X+0],255&At,At>>16,Me,be),ee!=null&&(At=3*zt+at+131074>>2,v(ee[re+0],255&At,At>>16,Ne,Ge)),Ve=1;Ve<=gt;++Ve){var Lr=ie[le+Ve]|Ae[we+Ve]<<16,Or=Pe[_e+Ve]|Se[qe+Ve]<<16,Ir=at+Lr+zt+Or+524296,Er=Ir+2*(Lr+zt)>>3;At=Er+at>>1,at=(Ir=Ir+2*(at+Or)>>3)+Lr>>1,v(M[X+2*Ve-1],255&At,At>>16,Me,be+(2*Ve-1)*F),v(M[X+2*Ve-0],255&at,at>>16,Me,be+(2*Ve-0)*F),ee!=null&&(At=Ir+zt>>1,at=Er+Or>>1,v(ee[re+2*Ve-1],255&At,At>>16,Ne,Ge+(2*Ve-1)*F),v(ee[re+2*Ve+0],255&at,at>>16,Ne,Ge+(2*Ve+0)*F)),at=Lr,zt=Or}1&Ye||(At=3*at+zt+131074>>2,v(M[X+Ye-1],255&At,At>>16,Me,be+(Ye-1)*F),ee!=null&&(At=3*zt+at+131074>>2,v(ee[re+Ye-1],255&At,At>>16,Ne,Ge+(Ye-1)*F)))}}function Ze(){la[cg]=bM,la[Ag]=LN,la[kN]=CM,la[dg]=UN,la[ug]=RN,la[cw]=DN,la[IN]=BM,la[Aw]=LN,la[dw]=UN,la[hg]=RN,la[uw]=DN}function mt(h){return h&~NM?0>h?0:255:h>>MN}function Dt(h,v){return mt((19077*h>>8)+(26149*v>>8)-14234)}function or(h,v,F){return mt((19077*h>>8)-(6419*v>>8)-(13320*F>>8)+8708)}function sr(h,v){return mt((19077*h>>8)+(33050*v>>8)-17685)}function kr(h,v,F,M,X){M[X+0]=Dt(h,F),M[X+1]=or(h,v,F),M[X+2]=sr(h,v)}function Nn(h,v,F,M,X){M[X+0]=sr(h,v),M[X+1]=or(h,v,F),M[X+2]=Dt(h,F)}function In(h,v,F,M,X){var ee=or(h,v,F);v=ee<<3&224|sr(h,v)>>3,M[X+0]=248&Dt(h,F)|ee>>5,M[X+1]=v}function qn(h,v,F,M,X){var ee=240&sr(h,v)|15;M[X+0]=240&Dt(h,F)|or(h,v,F)>>4,M[X+1]=ee}function Ts(h,v,F,M,X){M[X+0]=255,kr(h,v,F,M,X+1)}function ds(h,v,F,M,X){Nn(h,v,F,M,X),M[X+3]=255}function ka(h,v,F,M,X){kr(h,v,F,M,X),M[X+3]=255}function Ii(h,v){return 0>h?0:h>v?v:h}function co(h,v,F){I[h]=function(M,X,ee,re,ie,le,Ae,we,Pe){for(var _e=we+(-2&Pe)*F;we!=_e;)v(M[X+0],ee[re+0],ie[le+0],Ae,we),v(M[X+1],ee[re+0],ie[le+0],Ae,we+F),X+=2,++re,++le,we+=2*F;1&Pe&&v(M[X+0],ee[re+0],ie[le+0],Ae,we)}}function rg(h,v,F){return F==0?h==0?v==0?6:5:v==0?4:0:F}function df(h,v,F,M,X){switch(h>>>30){case 3:qo(v,F,M,X,0);break;case 2:Mn(v,F,M,X);break;case 1:Js(v,F,M,X)}}function uf(h,v){var F,M,X=v.M,ee=v.Nb,re=h.oc,ie=h.pc+40,le=h.oc,Ae=h.pc+584,we=h.oc,Pe=h.pc+600;for(F=0;16>F;++F)re[ie+32*F-1]=129;for(F=0;8>F;++F)le[Ae+32*F-1]=129,we[Pe+32*F-1]=129;for(0<X?re[ie-1-32]=le[Ae-1-32]=we[Pe-1-32]=129:(s(re,ie-32-1,127,21),s(le,Ae-32-1,127,9),s(we,Pe-32-1,127,9)),M=0;M<h.za;++M){var _e=v.ya[v.aa+M];if(0<M){for(F=-1;16>F;++F)n(re,ie+32*F-4,re,ie+32*F+12,4);for(F=-1;8>F;++F)n(le,Ae+32*F-4,le,Ae+32*F+4,4),n(we,Pe+32*F-4,we,Pe+32*F+4,4)}var Se=h.Gd,qe=h.Hd+M,Me=_e.ad,be=_e.Hc;if(0<X&&(n(re,ie-32,Se[qe].y,0,16),n(le,Ae-32,Se[qe].f,0,8),n(we,Pe-32,Se[qe].ea,0,8)),_e.Za){var Ne=re,Ge=ie-32+16;for(0<X&&(M>=h.za-1?s(Ne,Ge,Se[qe].y[15],4):n(Ne,Ge,Se[qe+1].y,0,4)),F=0;4>F;F++)Ne[Ge+128+F]=Ne[Ge+256+F]=Ne[Ge+384+F]=Ne[Ge+0+F];for(F=0;16>F;++F,be<<=2)Ne=re,Ge=ie+ON[F],Ia[_e.Ob[F]](Ne,Ge),df(be,Me,16*+F,Ne,Ge)}else if(Ne=rg(M,X,_e.Ob[0]),Xl[Ne](re,ie),be!=0)for(F=0;16>F;++F,be<<=2)df(be,Me,16*+F,re,ie+ON[F]);for(F=_e.Gc,Ne=rg(M,X,_e.Dd),Jo[Ne](le,Ae),Jo[Ne](we,Pe),be=Me,Ne=le,Ge=Ae,255&(_e=F>>0)&&(170&_e?gf(be,256,Ne,Ge):sa(be,256,Ne,Ge)),_e=we,be=Pe,255&(F>>=8)&&(170&F?gf(Me,320,_e,be):sa(Me,320,_e,be)),X<h.Ub-1&&(n(Se[qe].y,0,re,ie+480,16),n(Se[qe].f,0,le,Ae+224,8),n(Se[qe].ea,0,we,Pe+224,8)),F=8*ee*h.B,Se=h.sa,qe=h.ta+16*M+16*ee*h.R,Me=h.qa,_e=h.ra+8*M+F,be=h.Ha,Ne=h.Ia+8*M+F,F=0;16>F;++F)n(Se,qe+F*h.R,re,ie+32*F,16);for(F=0;8>F;++F)n(Me,_e+F*h.B,le,Ae+32*F,8),n(be,Ne+F*h.B,we,Pe+32*F,8)}}function $d(h,v,F,M,X,ee,re,ie,le){var Ae=[0],we=[0],Pe=0,_e=le!=null?le.kd:0,Se=le??new of;if(h==null||12>F)return 7;Se.data=h,Se.w=v,Se.ha=F,v=[v],F=[F],Se.gb=[Se.gb];e:{var qe=v,Me=F,be=Se.gb;if(t(h!=null),t(Me!=null),t(be!=null),be[0]=0,12<=Me[0]&&!r(h,qe[0],"RIFF")){if(r(h,qe[0]+8,"WEBP")){be=3;break e}var Ne=de(h,qe[0]+4);if(12>Ne||4294967286<Ne){be=3;break e}if(_e&&Ne>Me[0]-8){be=7;break e}be[0]=Ne,qe[0]+=12,Me[0]-=12}be=0}if(be!=0)return be;for(Ne=0<Se.gb[0],F=F[0];;){e:{var Ge=h;Me=v,be=F;var Ye=Ae,Ve=we,gt=qe=[0];if((At=Pe=[Pe])[0]=0,8>be[0])be=7;else{if(!r(Ge,Me[0],"VP8X")){if(de(Ge,Me[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var at=de(Ge,Me[0]+8),zt=1+ae(Ge,Me[0]+12);if(2147483648<=zt*(Ge=1+ae(Ge,Me[0]+15))){be=3;break e}gt!=null&&(gt[0]=at),Ye!=null&&(Ye[0]=zt),Ve!=null&&(Ve[0]=Ge),Me[0]+=18,be[0]-=18,At[0]=1}be=0}}if(Pe=Pe[0],qe=qe[0],be!=0)return be;if(Me=!!(2&qe),!Ne&&Pe)return 3;if(ee!=null&&(ee[0]=!!(16&qe)),re!=null&&(re[0]=Me),ie!=null&&(ie[0]=0),re=Ae[0],qe=we[0],Pe&&Me&&le==null){be=0;break}if(4>F){be=7;break}if(Ne&&Pe||!Ne&&!Pe&&!r(h,v[0],"ALPH")){F=[F],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{at=h,be=v,Ne=F;var At=Se.gb;Ye=Se.na,Ve=Se.P,gt=Se.Sa,zt=22,t(at!=null),t(Ne!=null),Ge=be[0];var Lr=Ne[0];for(t(Ye!=null),t(gt!=null),Ye[0]=null,Ve[0]=null,gt[0]=0;;){if(be[0]=Ge,Ne[0]=Lr,8>Lr){be=7;break e}var Or=de(at,Ge+4);if(4294967286<Or){be=3;break e}var Ir=8+Or+1&-2;if(zt+=Ir,0<At&&zt>At){be=3;break e}if(!r(at,Ge,"VP8 ")||!r(at,Ge,"VP8L")){be=0;break e}if(Lr[0]<Ir){be=7;break e}r(at,Ge,"ALPH")||(Ye[0]=at,Ve[0]=Ge+8,gt[0]=Or),Ge+=Ir,Lr-=Ir}}if(F=F[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],be!=0)break}F=[F],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(At=h,be=v,Ne=F,Ye=Se.gb[0],Ve=Se.Ja,gt=Se.xa,at=be[0],Ge=!r(At,at,"VP8 "),zt=!r(At,at,"VP8L"),t(At!=null),t(Ne!=null),t(Ve!=null),t(gt!=null),8>Ne[0])be=7;else{if(Ge||zt){if(At=de(At,at+4),12<=Ye&&At>Ye-12){be=3;break e}if(_e&&At>Ne[0]-8){be=7;break e}Ve[0]=At,be[0]+=8,Ne[0]-=8,gt[0]=zt}else gt[0]=5<=Ne[0]&&At[at+0]==47&&!(At[at+4]>>5),Ve[0]=Ne[0];be=0}if(F=F[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],v=v[0],be!=0)break;if(4294967286<Se.Ja)return 3;if(ie==null||Me||(ie[0]=Se.xa?2:1),re=[re],qe=[qe],Se.xa){if(5>F){be=7;break}ie=re,_e=qe,Me=ee,h==null||5>F?h=0:5<=F&&h[v+0]==47&&!(h[v+4]>>5)?(Ne=[0],At=[0],Ye=[0],K(Ve=new T,h,v,F),pe(Ve,Ne,At,Ye)?(ie!=null&&(ie[0]=Ne[0]),_e!=null&&(_e[0]=At[0]),Me!=null&&(Me[0]=Ye[0]),h=1):h=0):h=0}else{if(10>F){be=7;break}ie=qe,h==null||10>F||!Td(h,v+3,F-3)?h=0:(_e=h[v+0]|h[v+1]<<8|h[v+2]<<16,Me=16383&(h[v+7]<<8|h[v+6]),h=16383&(h[v+9]<<8|h[v+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=Se.Ja||!Me||!h?h=0:(re&&(re[0]=Me),ie&&(ie[0]=h),h=1))}if(!h||(re=re[0],qe=qe[0],Pe&&(Ae[0]!=re||we[0]!=qe)))return 3;le!=null&&(le[0]=Se,le.offset=v-le.w,t(4294967286>v-le.w),t(le.offset==le.ha-F));break}return be==0||be==7&&Pe&&le==null?(ee!=null&&(ee[0]|=Se.na!=null&&0<Se.na.length),M!=null&&(M[0]=re),X!=null&&(X[0]=qe),0):be}function hf(h,v,F){var M=v.width,X=v.height,ee=0,re=0,ie=M,le=X;if(v.Da=h!=null&&0<h.Da,v.Da&&(ie=h.cd,le=h.bd,ee=h.v,re=h.j,11>F||(ee&=-2,re&=-2),0>ee||0>re||0>=ie||0>=le||ee+ie>M||re+le>X))return 0;if(v.v=ee,v.j=re,v.va=ee+ie,v.o=re+le,v.U=ie,v.T=le,v.da=h!=null&&0<h.da,v.da){if(!Re(ie,le,F=[h.ib],ee=[h.hb]))return 0;v.ib=F[0],v.hb=ee[0]}return v.ob=h!=null&&h.ob,v.Kb=h==null||!h.Sd,v.da&&(v.ob=v.ib<3*M/4&&v.hb<3*X/4,v.Kb=0),1}function ff(h){if(h==null)return 2;if(11>h.S){var v=h.f.RGBA;v.fb+=(h.height-1)*v.A,v.A=-v.A}else v=h.f.kb,h=h.height,v.O+=(h-1)*v.fa,v.fa=-v.fa,v.N+=(h-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(h-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(h-1)*v.lb,v.lb=-v.lb);return 0}function zd(h,v,F,M){if(M==null||0>=h||0>=v)return 2;if(F!=null){if(F.Da){var X=F.cd,ee=F.bd,re=-2&F.v,ie=-2&F.j;if(0>re||0>ie||0>=X||0>=ee||re+X>h||ie+ee>v)return 2;h=X,v=ee}if(F.da){if(!Re(h,v,X=[F.ib],ee=[F.hb]))return 2;h=X[0],v=ee[0]}}M.width=h,M.height=v;e:{var le=M.width,Ae=M.height;if(h=M.S,0>=le||0>=Ae||!(h>=cg&&13>h))h=2;else{if(0>=M.Rd&&M.sd==null){re=ee=X=v=0;var we=(ie=le*HN[h])*Ae;if(11>h||(ee=(Ae+1)/2*(v=(le+1)/2),h==12&&(re=(X=le)*Ae)),(Ae=a(we+2*ee+re))==null){h=1;break e}M.sd=Ae,11>h?((le=M.f.RGBA).eb=Ae,le.fb=0,le.A=ie,le.size=we):((le=M.f.kb).y=Ae,le.O=0,le.fa=ie,le.Fd=we,le.f=Ae,le.N=0+we,le.Ab=v,le.Cd=ee,le.ea=Ae,le.W=0+we+ee,le.Db=v,le.Ed=ee,h==12&&(le.F=Ae,le.J=0+we+2*ee),le.Tc=re,le.lb=X)}if(v=1,X=M.S,ee=M.width,re=M.height,X>=cg&&13>X)if(11>X)h=M.f.RGBA,v&=(ie=Math.abs(h.A))*(re-1)+ee<=h.size,v&=ie>=ee*HN[X],v&=h.eb!=null;else{h=M.f.kb,ie=(ee+1)/2,we=(re+1)/2,le=Math.abs(h.fa),Ae=Math.abs(h.Ab);var Pe=Math.abs(h.Db),_e=Math.abs(h.lb),Se=_e*(re-1)+ee;v&=le*(re-1)+ee<=h.Fd,v&=Ae*(we-1)+ie<=h.Cd,v=(v&=Pe*(we-1)+ie<=h.Ed)&le>=ee&Ae>=ie&Pe>=ie,v&=h.y!=null,v&=h.f!=null,v&=h.ea!=null,X==12&&(v&=_e>=ee,v&=Se<=h.Tc,v&=h.F!=null)}else v=0;h=v?0:2}}return h!=0||F!=null&&F.fd&&(h=ff(M)),h}var ys=64,Kd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gd=24,Vd=32,pf=8,ui=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(h){return h},I.Predictor2=function(h,v,F){return v[F+0]},I.Predictor3=function(h,v,F){return v[F+1]},I.Predictor4=function(h,v,F){return v[F-1]},I.Predictor5=function(h,v,F){return Qe(Qe(h,v[F+1]),v[F+0])},I.Predictor6=function(h,v,F){return Qe(h,v[F-1])},I.Predictor7=function(h,v,F){return Qe(h,v[F+0])},I.Predictor8=function(h,v,F){return Qe(v[F-1],v[F+0])},I.Predictor9=function(h,v,F){return Qe(v[F+0],v[F+1])},I.Predictor10=function(h,v,F){return Qe(Qe(h,v[F-1]),Qe(v[F+0],v[F+1]))},I.Predictor11=function(h,v,F){var M=v[F+0];return 0>=Ke(M>>24&255,h>>24&255,(v=v[F-1])>>24&255)+Ke(M>>16&255,h>>16&255,v>>16&255)+Ke(M>>8&255,h>>8&255,v>>8&255)+Ke(255&M,255&h,255&v)?M:h},I.Predictor12=function(h,v,F){var M=v[F+0];return(We((h>>24&255)+(M>>24&255)-((v=v[F-1])>>24&255))<<24|We((h>>16&255)+(M>>16&255)-(v>>16&255))<<16|We((h>>8&255)+(M>>8&255)-(v>>8&255))<<8|We((255&h)+(255&M)-(255&v)))>>>0},I.Predictor13=function(h,v,F){var M=v[F-1];return(Oe((h=Qe(h,v[F+0]))>>24&255,M>>24&255)<<24|Oe(h>>16&255,M>>16&255)<<16|Oe(h>>8&255,M>>8&255)<<8|Oe(h>>0&255,M>>0&255))>>>0};var ow=I.PredictorAdd0;I.PredictorAdd1=ht,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var mf=I.PredictorAdd2;Qt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Qt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var ng,na=I.ColorIndexInverseTransform,Wd=I.MapARGB,sg=I.VP8LColorIndexInverseTransformAlpha,ig=I.MapAlpha,Gl=I.VP8LPredictorsAdd=[];Gl.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var EA,hi,Xs,Vl,Vo,Wo,qd,qo,Mn,gf,Js,sa,Xd,ag,vf,jA,FA,Wl,kA,Jd,IA,ql,yf,ia,aa,rn,nn,Qn,rs=a(511),Xo=a(2041),xf=a(225),Yd=a(767),og=0,lw=Xo,lg=xf,Pi=Yd,oa=rs,cg=0,Ag=1,kN=2,dg=3,ug=4,cw=5,IN=6,Aw=7,dw=8,hg=9,uw=10,lM=[2,3,7],cM=[3,3,11],PN=[280,256,256,256,40],AM=[0,1,1,1,0],dM=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uM=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hM=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fM=8,hw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wf=null,pM=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mM=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_N=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gM=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vM=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yM=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xM=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xl=[],Ia=[],Jo=[],wM=1,TN=2,Jl=[],la=[];He("UpsampleRgbLinePair",kr,3),He("UpsampleBgrLinePair",Nn,3),He("UpsampleRgbaLinePair",ka,4),He("UpsampleBgraLinePair",ds,4),He("UpsampleArgbLinePair",Ts,4),He("UpsampleRgba4444LinePair",qn,2),He("UpsampleRgb565LinePair",In,2);var bM=I.UpsampleRgbLinePair,CM=I.UpsampleBgrLinePair,LN=I.UpsampleRgbaLinePair,UN=I.UpsampleBgraLinePair,RN=I.UpsampleArgbLinePair,DN=I.UpsampleRgba4444LinePair,BM=I.UpsampleRgb565LinePair,fg=16,pg=1<<fg-1,bf=-227,pw=482,MN=6,NM=(256<<MN)-1,QN=0,SM=a(256),EM=a(256),jM=a(256),FM=a(256),kM=a(pw-bf),IM=a(pw-bf);co("YuvToRgbRow",kr,3),co("YuvToBgrRow",Nn,3),co("YuvToRgbaRow",ka,4),co("YuvToBgraRow",ds,4),co("YuvToArgbRow",Ts,4),co("YuvToRgba4444Row",qn,2),co("YuvToRgb565Row",In,2);var ON=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],mg=[0,2,8],PM=[8,7,6,4,4,2,2,2,1,1,1,1],_M=1;this.WebPDecodeRGBA=function(h,v,F,M,X){var ee=Ag,re=new Od,ie=new bn;re.ba=ie,ie.S=ee,ie.width=[ie.width],ie.height=[ie.height];var le=ie.width,Ae=ie.height,we=new ts;if(we==null||h==null)var Pe=2;else t(we!=null),Pe=$d(h,v,F,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Pe!=0?le=0:(le!=null&&(le[0]=we.width[0]),Ae!=null&&(Ae[0]=we.height[0]),le=1),le){ie.width=ie.width[0],ie.height=ie.height[0],M!=null&&(M[0]=ie.width),X!=null&&(X[0]=ie.height);e:{if(M=new ta,(X=new of).data=h,X.w=v,X.ha=F,X.kd=1,v=[0],t(X!=null),((h=$d(X.data,X.w,X.ha,null,null,null,v,null,X))==0||h==7)&&v[0]&&(h=4),(v=h)==0){if(t(re!=null),M.data=X.data,M.w=X.w+X.offset,M.ha=X.ha-X.offset,M.put=mn,M.ac=Ur,M.bc=Cn,M.ma=re,X.xa){if((h=ne())==null){re=1;break e}if(function(_e,Se){var qe=[0],Me=[0],be=[0];t:for(;;){if(_e==null)return 0;if(Se==null)return _e.a=2,0;if(_e.l=Se,_e.a=0,K(_e.m,Se.data,Se.w,Se.ha),!pe(_e.m,qe,Me,be)){_e.a=3;break t}if(_e.xb=TN,Se.width=qe[0],Se.height=Me[0],!ve(qe[0],Me[0],1,_e,null))break t;return 1}return t(_e.a!=0),0}(h,M)){if(M=(v=zd(M.width,M.height,re.Oa,re.ba))==0){t:{M=h;r:for(;;){if(M==null){M=0;break t}if(t(M.s.yc!=null),t(M.s.Ya!=null),t(0<M.s.Wb),t((F=M.l)!=null),t((X=F.ma)!=null),M.xb!=0){if(M.ca=X.ba,M.tb=X.tb,t(M.ca!=null),!hf(X.Oa,F,dg)){M.a=2;break r}if(!Be(M,F.width)||F.da)break r;if((F.da||Jt(M.ca.S))&&ke(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&ke()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!he(M.s.vb,M.s.Wa.Xa)){M.a=1;break r}M.xb=0}if(!pt(M,M.V,M.Ba,M.c,M.i,F.o,Et))break r;X.Dc=M.Ma,M=1;break t}t(M.a!=0),M=0}M=!M}M&&(v=h.a)}else v=h.a}else{if((h=new _d)==null){re=1;break e}if(h.Fa=X.na,h.P=X.P,h.qc=X.Sa,Ai(h,M)){if((v=zd(M.width,M.height,re.Oa,re.ba))==0){if(h.Aa=0,F=re.Oa,t((X=h)!=null),F!=null){if(0<(le=0>(le=F.Md)?0:100<le?255:255*le/100)){for(Ae=we=0;4>Ae;++Ae)12>(Pe=X.pb[Ae]).lc&&(Pe.ia=le*PM[0>Pe.lc?0:Pe.lc]>>3),we|=Pe.ia;we&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=F.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}Ld(h,M)||(v=h.a)}}else v=h.a}v==0&&re.Oa!=null&&re.Oa.fd&&(v=ff(re.ba))}re=v}ee=re!=0?null:11>ee?ie.f.RGBA.eb:ie.f.kb.y}else ee=null;return ee};var HN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(I,Q){for(var U="",S=0;S<4;S++)U+=String.fromCharCode(I[Q++]);return U}function d(I,Q){return(I[Q+0]<<0|I[Q+1]<<8|I[Q+2]<<16)>>>0}function u(I,Q){return(I[Q+0]<<0|I[Q+1]<<8|I[Q+2]<<16|I[Q+3]<<24)>>>0}new c;var p=[0],f=[0],x=[],m=new c,N=e,g=function(I,Q){var U={},S=0,P=!1,O=0,k=0;if(U.frames=[],!function($,V,se,Y){for(var L=0;L<Y;L++)if($[V+L]!=se.charCodeAt(L))return!0;return!1}(I,Q,"RIFF",4)){for(u(I,Q+=4),Q+=8;Q<I.length;){var Z=A(I,Q),H=u(I,Q+=4);Q+=4;var q=H+(1&H);switch(Z){case"VP8 ":case"VP8L":U.frames[S]===void 0&&(U.frames[S]={}),(te=U.frames[S]).src_off=P?k:Q-8,te.src_size=O+H+8,S++,P&&(P=!1,O=0,k=0);break;case"VP8X":(te=U.header={}).feature_flags=I[Q];var K=Q+4;te.canvas_width=1+d(I,K),K+=3,te.canvas_height=1+d(I,K),K+=3;break;case"ALPH":P=!0,O=q+8,k=Q-8;break;case"ANIM":(te=U.header).bgcolor=u(I,Q),K=Q+4,te.loop_count=(ue=I)[(T=K)+0]<<0|ue[T+1]<<8,K+=2;break;case"ANMF":var W,te;(te=U.frames[S]={}).offset_x=2*d(I,Q),Q+=3,te.offset_y=2*d(I,Q),Q+=3,te.width=1+d(I,Q),Q+=3,te.height=1+d(I,Q),Q+=3,te.duration=d(I,Q),Q+=3,W=I[Q++],te.dispose=1&W,te.blend=W>>1&1}Z!="ANMF"&&(Q+=q)}var ue,T;return U}}(N,0);g.response=N,g.rgbaoutput=!0,g.dataurl=!1;var y=g.header?g.header:null,w=g.frames?g.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],f=[y.canvas_width];for(var E=0;E<w.length&&w[E].blend!=0;E++);}var _=w[0],D=m.WebPDecodeRGBA(N,_.src_off,_.src_size,f,p);_.rgba=D,_.imgwidth=f[0],_.imgheight=p[0];for(var R=0;R<f[0]*p[0]*4;R++)x[R]=D[R];return this.width=f,this.height=p,this.data=x,this}(function(e){var t=function(){return typeof w5=="function"},r=function(p,f,x,m){var N=4,g=o;switch(m){case e.image_compression.FAST:N=1,g=a;break;case e.image_compression.MEDIUM:N=6,g=l;break;case e.image_compression.SLOW:N=9,g=c}p=n(p,f,x,g);var y=w5(p,{level:N});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(p,f,x,m){for(var N,g,y,w=p.length/f,E=new Uint8Array(p.length+w),_=d(),D=0;D<w;D+=1){if(y=D*f,N=p.subarray(y,y+f),m)E.set(m(N,x,g),y+D);else{for(var R,I=_.length,Q=[];R<I;R+=1)Q[R]=_[R](N,x,g);var U=u(Q.concat());E.set(Q[U],y+D)}g=N}return E},s=function(p){var f=Array.apply([],p);return f.unshift(0),f},a=function(p,f){var x,m=[],N=p.length;m[0]=1;for(var g=0;g<N;g+=1)x=p[g-f]||0,m[g+1]=p[g]-x+256&255;return m},o=function(p,f,x){var m,N=[],g=p.length;N[0]=2;for(var y=0;y<g;y+=1)m=x&&x[y]||0,N[y+1]=p[y]-m+256&255;return N},l=function(p,f,x){var m,N,g=[],y=p.length;g[0]=3;for(var w=0;w<y;w+=1)m=p[w-f]||0,N=x&&x[w]||0,g[w+1]=p[w]+256-(m+N>>>1)&255;return g},c=function(p,f,x){var m,N,g,y,w=[],E=p.length;w[0]=4;for(var _=0;_<E;_+=1)m=p[_-f]||0,N=x&&x[_]||0,g=x&&x[_-f]||0,y=A(m,N,g),w[_+1]=p[_]-y+256&255;return w},A=function(p,f,x){if(p===f&&f===x)return p;var m=Math.abs(f-x),N=Math.abs(p-x),g=Math.abs(p+f-x-x);return m<=N&&m<=g?p:N<=g?f:x},d=function(){return[s,a,o,l,c]},u=function(p){var f=p.map(function(x){return x.reduce(function(m,N){return m+Math.abs(N)},0)});return f.indexOf(Math.min.apply(null,f))};e.processPNG=function(p,f,x,m){var N,g,y,w,E,_,D,R,I,Q,U,S,P,O,k,Z=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(y=new Vie(p)).imgData,g=y.bits,N=y.colorSpace,E=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){I=(R=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,U=new Uint8Array(I*y.colors),Q=new Uint8Array(I);var q,K=y.pixelBitlength-y.bits;for(O=0,k=0;O<I;O++){for(P=R[O],q=0;q<K;)U[k++]=P>>>q&255,q+=y.bits;Q[O]=P>>>q&255}}if(y.bits===16){I=(R=new Uint32Array(y.decodePixels().buffer)).length,U=new Uint8Array(I*(32/y.pixelBitlength)*y.colors),Q=new Uint8Array(I*(32/y.pixelBitlength)),S=y.colors>1,O=0,k=0;for(var W=0;O<I;)P=R[O++],U[k++]=P>>>0&255,S&&(U[k++]=P>>>16&255,P=R[O++],U[k++]=P>>>0&255),Q[W++]=P>>>16&255;g=8}m!==e.image_compression.NONE&&t()?(p=r(U,y.width*y.colors,y.colors,m),D=r(Q,y.width,1,m)):(p=U,D=Q,Z=void 0)}if(y.colorType===3&&(N=this.color_spaces.INDEXED,_=y.palette,y.transparency.indexed)){var te=y.transparency.indexed,ue=0;for(O=0,I=te.length;O<I;++O)ue+=te[O];if((ue/=255)===I-1&&te.indexOf(0)!==-1)w=[te.indexOf(0)];else if(ue!==I){for(R=y.decodePixels(),Q=new Uint8Array(R.length),O=0,I=R.length;O<I;O++)Q[O]=te[R[O]];D=r(Q,y.width,1)}}var T=function($){var V;switch($){case e.image_compression.FAST:V=11;break;case e.image_compression.MEDIUM:V=13;break;case e.image_compression.SLOW:V=14;break;default:V=12}return V}(m);return Z===this.decode.FLATE_DECODE&&(H="/Predictor "+T+" "),H+="/Colors "+E+" /BitsPerComponent "+g+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:x,data:p,index:f,filter:Z,decodeParameters:H,transparency:w,palette:_,sMask:D,predictor:T,width:y.width,height:y.height,bitsPerComponent:g,colorSpace:N}}}})(qt.API),function(e){e.processGIF89A=function(t,r,n,s){var a=new Wie(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var A={data:c,width:o,height:l},d=new z1(100).encode(A,100);return e.processJPEG.call(this,d,r,n,s)},e.processGIF87A=e.processGIF89A}(qt.API),La.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},La.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Zr.log("bit decode error:"+r)}},La.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},La.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=a>>4,c=15&a,A=this.palette[l];if(this.data[o]=A.blue,this.data[o+1]=A.green,this.data[o+2]=A.red,this.data[o+3]=255,2*s+1>=this.width)break;A=this.palette[c],this.data[o+4]=A.blue,this.data[o+4+1]=A.green,this.data[o+4+2]=A.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},La.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},La.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,A=a>>15?255:0,d=n*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=A}this.pos+=e}},La.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,A=(o>>11)/t*255|0,d=s*this.width*4+4*a;this.data[d]=A,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},La.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},La.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},La.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var a=new La(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},A=new z1(100).encode(c,100);return e.processJPEG.call(this,A,r,n,s)}}(qt.API),n3.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var a=new n3(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},A=new z1(100).encode(c,100);return e.processJPEG.call(this,A,r,n,s)}}(qt.API),qt.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,a=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,A=0;A<s;A+=4){var d=n[A],u=n[A+1],p=n[A+2],f=n[A+3];a[l++]=d,a[l++]=u,a[l++]=p,o[c++]=f}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},qt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pu=qt.API,x0=pu.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,A=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=A.fof?A.fof:1,u=t.doKerning!==!1,p=0,f=e.length,x=0,m=l[0]||c,N=[];for(r=0;r<f;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?N.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(p=u&&$r(A[n])==="object"&&!isNaN(parseInt(A[n][x],10))?A[n][x]/d:0,N.push((l[n]||m)/c+p)),x=n;return N},Zj=pu.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return pu.processArabic&&(e=pu.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:x0.apply(this,arguments).reduce(function(a,o){return a+o},0)},e3=function(e,t,r,n){for(var s=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<r;)l+=t[a],a++;s.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>n&&(s.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&s.push(e.slice(c,a)),s},t3=function(e,t,r){r||(r={});var n,s,a,o,l,c,A,d=[],u=[d],p=r.textIndent||0,f=0,x=0,m=e.split(" "),N=x0.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(c).join(" "),y=[];m.map(function(E){(E=E.split(/\s*\n/)).length>1?y=y.concat(E.map(function(_,D){return(D&&_.length?`
`:"")+_})):y.push(E[0])}),m=y,c=Zj.apply(this,[g,r])}for(a=0,o=m.length;a<o;a++){var w=0;if(n=m[a],c&&n[0]==`
`&&(n=n.substr(1),w=1),p+f+(x=(s=x0.apply(this,[n,r])).reduce(function(E,_){return E+_},0))>t||w){if(x>t){for(l=e3.apply(this,[n,s,t-(p+f),t]),d.push(l.shift()),d=[l.pop()];l.length;)u.push([l.shift()]);x=s.slice(n.length-(d[0]?d[0].length:0)).reduce(function(E,_){return E+_},0)}else d=[n];u.push(d),p=x+c,f=N}else d.push(n),p+=f+x,f=N}return A=c?function(E,_){return(_?g:"")+E.join(" ")}:function(E){return E.join(" ")},u.map(A)},pu.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var u=this.internal.getFont(d.fontName,d.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=r.lineIndent;var l,c,A=[];for(l=0,c=n.length;l<c;l++)A=A.concat(t3.apply(this,[n[l],o,a]));return A},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var a=function(u){return"0x"+parseInt(u,10).toString(16)},o=e.__fontmetrics__.compress=function(u){var p,f,x,m,N=["{"];for(var g in u){if(p=u[g],isNaN(parseInt(g,10))?f="'"+g+"'":(g=parseInt(g,10),f=(f=a(g).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof p=="number")p<0?(x=a(p).slice(3),m="-"):(x=a(p).slice(2),m=""),x=m+x.slice(0,-1)+n[x.slice(-1)];else{if($r(p)!=="object")throw new Error("Don't know what to do with value type "+$r(p)+".");x=o(p)}N.push(f+x)}return N.push("}"),N.join("")},l=e.__fontmetrics__.uncompress=function(u){if(typeof u!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,f,x,m,N={},g=1,y=N,w=[],E="",_="",D=u.length-1,R=1;R<D;R+=1)(m=u[R])=="'"?p?(x=p.join(""),p=void 0):p=[]:p?p.push(m):m=="{"?(w.push([y,x]),y={},x=void 0):m=="}"?((f=w.pop())[0][f[1]]=y,x=void 0,y=f[0]):m=="-"?g=-1:x===void 0?r.hasOwnProperty(m)?(E+=r[m],x=parseInt(E,16)*g,g=1,E=""):E+=m:r.hasOwnProperty(m)?(_+=r[m],y[x]=parseInt(_,16)*g,g=1,x=void 0,_=""):_+=m;return N},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(u){var p=u.font,f=d.Unicode[p.postScriptName];f&&(p.metadata.Unicode={},p.metadata.Unicode.widths=f.widths,p.metadata.Unicode.kerning=f.kerning);var x=A.Unicode[p.postScriptName];x&&(p.metadata.Unicode.encoding=x,p.encoding=x.codePages[0])}])}(qt.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),a=0;a<n;a++)s[a]=r.charCodeAt(a);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,a=r.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Np(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(qt),function(e){function t(){return(Xt.canvg?Promise.resolve(Xt.canvg):dl(()=>import("./index.es-CZEV5w74.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}qt.API.addSvgAsImage=function(r,n,s,a,o,l,c,A){if(isNaN(n)||isNaN(s))throw Zr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Zr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=o;var u=d.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(x){return x.fromString(u,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(p)}).then(function(){f.addImage(d.toDataURL("image/jpeg",1),n,s,a,o,c,A)})}}(),qt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},qt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],A=0,d=0,u=0;function p(x,m){var N,g=!1;for(N=0;N<x.length;N+=1)x[N]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=l.length;for(u=0;u<f;u+=1)r[l[u]].value=r[l[u]].defaultValue,r[l[u]].explicitSet=!1}if($r(e)==="object"){for(s in e)if(a=e[s],p(l,s)&&a!==void 0){if(r[s].type==="boolean"&&typeof a=="boolean")r[s].value=a;else if(r[s].type==="name"&&p(r[s].valueSet,a))r[s].value=a;else if(r[s].type==="integer"&&Number.isInteger(a))r[s].value=a;else if(r[s].type==="array"){for(A=0;A<a.length;A+=1)if(n=!0,a[A].length===1&&typeof a[A][0]=="number")c.push(String(a[A]-1));else if(a[A].length>1){for(d=0;d<a[A].length;d+=1)typeof a[A][d]!="number"&&(n=!1);n===!0&&c.push([a[A][0]-1,a[A][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,m=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?m.push("/"+x+" /"+r[x].value):m.push("/"+x+" "+r[x].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),A=a.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(s+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(qt.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,A=["","0","00","000","0000"],d=[""],u=0,p=a.length;u<p;++u){if(l=o.metadata.characterToGlyph(a.charCodeAt(u)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(u),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(A[4-l.length],l)}return d.join("")},n=function(a){var o,l,c,A,d,u,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],u=0,p=(l=Object.keys(a).sort(function(f,x){return f-x})).length;u<p;u++)o=l[u],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(A=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+A+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,A=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var u=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",x=0;x<p.length;x++)f+=String.fromCharCode(p[x]);var m=A();d({data:f,addLength1:!0,objectId:m}),c("endobj");var N=A();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var g=A();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Cu(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=A();c("<<"),c("/Type /Font"),c("/BaseFont /"+Cu(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(u)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=A(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+Cu(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,A=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var u=l.metadata.rawData,p="",f=0;f<u.length;f++)p+=String.fromCharCode(u[f]);var x=A();d({data:p,addLength1:!0,objectId:x}),c("endobj");var m=A();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var N=A();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Cu(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=A();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Cu(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var s=function(a){var o,l=a.text||"",c=a.x,A=a.y,d=a.options||{},u=a.mutex||{},p=u.pdfEscape,f=u.activeFontKey,x=u.fonts,m=f,N="",g=0,y="",w=x[m].encoding;if(x[m].encoding!=="Identity-H")return{text:l,x:c,y:A,options:d,mutex:u};for(y=l,m=f,Array.isArray(l)&&(y=l[0]),g=0;g<y.length;g+=1)x[m].metadata.hasOwnProperty("cmap")&&(o=x[m].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),o||y[g].charCodeAt(0)<256&&x[m].metadata.hasOwnProperty("Unicode")?N+=y[g]:N+="";var E="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?E=p(N,m).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(E=r(N,x[m])),u.isHex=!0,{text:E,x:c,y:A,options:d,mutex:u}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var A=0;for(A=0;A<o.length;A+=1)Array.isArray(o[A])&&o[A].length===3?l.push([s(Object.assign({},c,{text:o[A][0]})).text,o[A][1],o[A][2]]):l.push(s(Object.assign({},c,{text:o[A]})).text);a.text=l}else a.text=s(Object.assign({},c,{text:o})).text}])}(qt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(qt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,a,o,l,c,A,d,u=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var E=function(S){var P=S.charCodeAt(),O=P>>8,k=m[O];return k!==void 0?u[256*k+(255&P)]:O===252||O===253?"AL":g.test(O)?"L":O===8?"R":"N"},_=function(S){for(var P,O=0;O<S.length;O++){if((P=E(S.charAt(O)))==="L")return!1;if(P==="R")return!0}return!1},D=function(S,P,O,k){var Z,H,q,K,W=P[k];switch(W){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(W="AN");break;case"AL":y=!0,W="R";break;case"WS":W="N";break;case"CS":k<1||k+1>=P.length||(Z=O[k-1])!=="EN"&&Z!=="AN"||(H=P[k+1])!=="EN"&&H!=="AN"?W="N":y&&(H="AN"),W=H===Z?H:"N";break;case"ES":W=(Z=k>0?O[k-1]:"B")==="EN"&&k+1<P.length&&P[k+1]==="EN"?"EN":"N";break;case"ET":if(k>0&&O[k-1]==="EN"){W="EN";break}if(y){W="N";break}for(q=k+1,K=P.length;q<K&&P[q]==="ET";)q++;W=q<K&&P[q]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(K=P.length,q=k+1;q<K&&P[q]==="NSM";)q++;if(q<K){var te=S[k],ue=te>=1425&&te<=2303||te===64286;if(Z=P[q],ue&&(Z==="R"||Z==="AL")){W="R";break}}}W=k<1||(Z=P[k-1])==="B"?"N":O[k-1];break;case"B":y=!1,s=!0,W=w;break;case"S":a=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":W="N"}return W},R=function(S,P,O){var k=S.split("");return O&&I(k,O,{hiLevel:w}),k.reverse(),P&&P.reverse(),k.join("")},I=function(S,P,O){var k,Z,H,q,K,W=-1,te=S.length,ue=0,T=[],$=w?f:p,V=[];for(y=!1,s=!1,a=!1,Z=0;Z<te;Z++)V[Z]=E(S[Z]);for(H=0;H<te;H++){if(K=ue,T[H]=D(S,V,T,H),k=240&(ue=$[K][x[T[H]]]),ue&=15,P[H]=q=$[ue][5],k>0)if(k===16){for(Z=W;Z<H;Z++)P[Z]=1;W=-1}else W=-1;if($[ue][6])W===-1&&(W=H);else if(W>-1){for(Z=W;Z<H;Z++)P[Z]=q;W=-1}V[H]==="B"&&(P[H]=0),O.hiLevel|=q}a&&function(se,Y,L){for(var C=0;C<L;C++)if(se[C]==="S"){Y[C]=w;for(var j=C-1;j>=0&&se[j]==="WS";j--)Y[j]=w}}(V,P,te)},Q=function(S,P,O,k,Z){if(!(Z.hiLevel<S)){if(S===1&&w===1&&!s)return P.reverse(),void(O&&O.reverse());for(var H,q,K,W,te=P.length,ue=0;ue<te;){if(k[ue]>=S){for(K=ue+1;K<te&&k[K]>=S;)K++;for(W=ue,q=K-1;W<q;W++,q--)H=P[W],P[W]=P[q],P[q]=H,O&&(H=O[W],O[W]=O[q],O[q]=H);ue=K}ue++}}},U=function(S,P,O){var k=S.split(""),Z={hiLevel:w};return O||(O=[]),I(k,O,Z),function(H,q,K){if(K.hiLevel!==0&&d)for(var W,te=0;te<H.length;te++)q[te]===1&&(W=N.indexOf(H[te]))>=0&&(H[te]=N[W+1])}(k,O,Z),Q(2,k,P,O,Z),Q(1,k,P,O,Z),k.join("")};return this.__bidiEngine__.doBidiReorder=function(S,P,O){if(function(Z,H){if(H)for(var q=0;q<Z.length;q++)H[q]=q;l===void 0&&(l=_(Z)),A===void 0&&(A=_(Z))}(S,P),o||!c||A)if(o&&c&&l^A)w=l?1:0,S=R(S,P,O);else if(!o&&c&&A)w=l?1:0,S=U(S,P,O),S=R(S,P);else if(!o||l||c||A){if(o&&!c&&l^A)S=R(S,P),l?(w=0,S=U(S,P,O)):(w=1,S=U(S,P,O),S=R(S,P));else if(o&&l&&!c&&A)w=1,S=U(S,P,O),S=R(S,P);else if(!o&&!c&&l^A){var k=d;l?(w=1,S=U(S,P,O),w=0,d=!1,S=U(S,P,O),d=k):(w=0,S=U(S,P,O),S=R(S,P),w=1,d=!1,S=U(S,P,O),d=k,S=R(S,P))}}else w=0,S=U(S,P,O);else w=l?1:0,S=U(S,P,O);return S},this.__bidiEngine__.setOptions=function(S){S&&(o=S.isInputVisual,c=S.isOutputVisual,l=S.isInputRtl,A=S.isOutputRtl,d=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(qt),qt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new oA(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new cae(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new qie(this.contents),this.head=new Jie(this),this.name=new rae(this),this.cmap=new nD(this),this.toUnicode={},this.hhea=new Yie(this),this.maxp=new nae(this),this.hmtx=new sae(this),this.post=new eae(this),this.os2=new Zie(this),this.loca=new lae(this),this.glyf=new iae(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,A;for(A=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],A.push(Math.round(t*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)s=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var so,oA=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,a,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,a;for(a=[],n=0,s=t.length;n<s;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),qie=function(){var e;function t(r){var n,s,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,a,o,l,c,A,d,u,p,f,x,m;for(m in f=Object.keys(r).length,c=Math.log(2),u=16*Math.floor(Math.log(f)/c),o=Math.floor(u/c),d=16*f-u,(s=new oA).writeInt(this.scalarType),s.writeShort(f),s.writeShort(u),s.writeShort(o),s.writeShort(d),a=16*f,A=s.pos+a,l=null,x=[],r)for(p=r[m],s.writeString(m),s.writeInt(e(p)),s.writeInt(A),s.writeInt(p.length),x=x.concat(p),m==="head"&&(l=A),A+=p.length;A%4;)x.push(0),A++;return s.write(x),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,a,o;for(r=sD.call(r);r.length%4;)r.push(0);for(a=new oA(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=a.readUInt32();return 4294967295&s},t}(),Xie={}.hasOwnProperty,Oo=function(e,t){for(var r in t)Xie.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};so=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Jie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,so),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new oA).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),s3=function(){function e(t,r){var n,s,a,o,l,c,A,d,u,p,f,x,m,N,g,y,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,a=function(){var E,_;for(_=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)_.push(t.readUInt16());return _}(),t.pos+=2,m=function(){var E,_;for(_=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)_.push(t.readUInt16());return _}(),A=function(){var E,_;for(_=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)_.push(t.readUInt16());return _}(),d=function(){var E,_;for(_=[],c=E=0;0<=p?E<p:E>p;c=0<=p?++E:--E)_.push(t.readUInt16());return _}(),s=(this.length-t.pos+this.offset)/2,l=function(){var E,_;for(_=[],c=E=0;0<=s?E<s:E>s;c=0<=s?++E:--E)_.push(t.readUInt16());return _}(),c=g=0,w=a.length;g<w;c=++g)for(N=a[c],n=y=x=m[c];x<=N?y<=N:y>=N;n=x<=N?++y:--y)d[c]===0?o=n+A[c]:(o=l[d[c]/2+(n-x)-(p-c)]||0)!==0&&(o+=A[c]),this.codeMap[n]=65535&o}t.pos=u}return e.encode=function(t,r){var n,s,a,o,l,c,A,d,u,p,f,x,m,N,g,y,w,E,_,D,R,I,Q,U,S,P,O,k,Z,H,q,K,W,te,ue,T,$,V,se,Y,L,C,j,G,z,ae;switch(k=new oA,o=Object.keys(t).sort(function(de,he){return de-he}),r){case"macroman":for(m=0,N=function(){var de=[];for(x=0;x<256;++x)de.push(0);return de}(),y={0:0},a={},Z=0,W=o.length;Z<W;Z++)y[j=t[s=o[Z]]]==null&&(y[j]=++m),a[s]={old:t[s],new:y[t[s]]},N[s]=y[t[s]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(N),{charMap:a,subtable:k.data,maxGlyphID:m+1};case"unicode":for(P=[],u=[],w=0,y={},n={},g=A=null,H=0,te=o.length;H<te;H++)y[_=t[s=o[H]]]==null&&(y[_]=++w),n[s]={old:_,new:y[_]},l=y[_]-s,g!=null&&l===A||(g&&u.push(g),P.push(s),A=l),g=s;for(g&&u.push(g),u.push(65535),P.push(65535),U=2*(Q=P.length),I=2*Math.pow(Math.log(Q)/Math.LN2,2),p=Math.log(I/2)/Math.LN2,R=2*Q-I,c=[],D=[],f=[],x=q=0,ue=P.length;q<ue;x=++q){if(S=P[x],d=u[x],S===65535){c.push(0),D.push(0);break}if(S-(O=n[S].new)>=32768)for(c.push(0),D.push(2*(f.length+Q-x)),s=K=S;S<=d?K<=d:K>=d;s=S<=d?++K:--K)f.push(n[s].new);else c.push(O-S),D.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*Q+2*f.length),k.writeUInt16(0),k.writeUInt16(U),k.writeUInt16(I),k.writeUInt16(p),k.writeUInt16(R),L=0,T=u.length;L<T;L++)s=u[L],k.writeUInt16(s);for(k.writeUInt16(0),C=0,$=P.length;C<$;C++)s=P[C],k.writeUInt16(s);for(G=0,V=c.length;G<V;G++)l=c[G],k.writeUInt16(l);for(z=0,se=D.length;z<se;z++)E=D[z],k.writeUInt16(E);for(ae=0,Y=f.length;ae<Y;ae++)m=f[ae],k.writeUInt16(m);return{charMap:n,subtable:k.data,maxGlyphID:w+1}}},e}(),nD=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,so),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,s,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)n=new s3(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var s,a;return n==null&&(n="macroman"),s=s3.encode(r,n),(a=new oA).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},t}(),Yie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,so),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Zie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,so),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),eae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,so),t.prototype.tag="post",t.prototype.parse=function(r){var n,s,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(s=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var l,c,A;for(A=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)A.push(r.readUInt32());return A}).call(this)}},t}(),tae=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},rae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,so),t.prototype.tag="name",t.prototype.parse=function(r){var n,s,a,o,l,c,A,d,u,p,f;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),s=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(A={},o=u=0,p=s.length;u<p;o=++u)a=s[o],r.pos=a.offset,d=r.readString(a.length),l=new tae(d,a),A[f=a.nameID]==null&&(A[f]=[]),A[a.nameID].push(l);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},t}(),nae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,so),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),sae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,so),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,s,a,o,l,c,A;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],n=d=0;0<=a?d<a:d>a;n=0<=a?++d:--d)u.push(r.readInt16());return u}(),this.widths=(function(){var d,u,p,f;for(f=[],d=0,u=(p=this.metrics).length;d<u;d++)o=p[d],f.push(o.advance);return f}).call(this),s=this.widths[this.widths.length-1],A=[],n=l=0;0<=a?l<a:l>a;n=0<=a?++l:--l)A.push(this.widths.push(s));return A},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),sD=[].slice,iae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,so),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,s,a,o,l,c,A,d,u,p;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,s=o.indexOf(r),(a=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,l=(c=new oA(n.read(a))).readShort(),d=c.readShort(),p=c.readShort(),A=c.readShort(),u=c.readShort(),this.cache[r]=l===-1?new oae(c,d,p,A,u):new aae(c,l,d,p,A,u),this.cache[r]))},t.prototype.encode=function(r,n,s){var a,o,l,c,A;for(l=[],o=[],c=0,A=n.length;c<A;c++)a=r[n[c]],o.push(l.length),a&&(l=l.concat(a.encode(s)));return o.push(l.length),{table:l,offsets:o}},t}(),aae=function(){function e(t,r,n,s,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),oae=function(){function e(t,r,n,s,a){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new oA(sD.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),lae=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Oo(t,so),t.prototype.tag="loca",t.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<s.length;++l)if(s[l]=a,o<n.length&&n[o]==l){++o,s[l]=a;var c=this.offsets[l],A=this.offsets[l+1]-c;A>0&&(a+=A)}for(var d=new Array(4*s.length),u=0;u<s.length;++u)d[4*u+3]=255&s[u],d[4*u+2]=(65280&s[u])>>8,d[4*u+1]=(16711680&s[u])>>16,d[4*u]=(4278190080&s[u])>>24;return d},t}(),cae=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,a;for(r in s=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,a,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],s)(n=s[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],s[a]=n;return s},e.prototype.encode=function(t,r){var n,s,a,o,l,c,A,d,u,p,f,x,m,N,g;for(s in n=nD.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},g=n.charMap)f[(c=g[s]).old]=c.new;for(x in p=n.maxGlyphID,o)x in f||(f[x]=p++);return d=function(y){var w,E;for(w in E={},y)E[y[w]]=w;return E}(f),u=Object.keys(d).sort(function(y,w){return y-w}),m=function(){var y,w,E;for(E=[],y=0,w=u.length;y<w;y++)l=u[y],E.push(d[l]);return E}(),a=this.font.glyf.encode(o,m,f),A=this.font.loca.encode(a.offsets,m),N={cmap:this.font.cmap.raw(),glyf:a.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();qt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,a,o;if(Array.isArray(r))return"["+function(){var l,c,A;for(A=[],l=0,c=r.length;l<c;l++)n=r[l],A.push(t.convert(n));return A}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in a=["<<"],r)o=r[s],a.push("/"+s+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();function K1(){var Q,U;const[e,t]=b.useState([]),[r,n]=b.useState([]),[s,a]=b.useState(null),[o,l]=b.useState(!1),[c,A]=b.useState(!1),[d,u]=b.useState(null);b.useEffect(()=>{p()},[]);const p=()=>{try{const S=Object.keys(localStorage).filter(K=>K.startsWith("flowDiagrams")||K.startsWith("sectionFlowDiagrams")),P=[];S.forEach(K=>{try{const W=JSON.parse(localStorage.getItem(K)||"{}");typeof W=="object"&&W!==null&&Object.keys(W).forEach(te=>{const ue=W[te];ue&&typeof ue=="object"&&P.push(f(te,ue))})}catch(W){console.error(`Error parsing ${K}:`,W)}});const O=localStorage.getItem("generated_wireframes"),k=[];if(O)try{const K=JSON.parse(O);K&&typeof K=="object"&&Object.keys(K).forEach(W=>{const te=K[W];te&&te.data&&k.push(x(W,te.data))})}catch(K){console.error("Error parsing wireframes:",K)}t(P),n(k);const Z=Object.keys(localStorage),H={};Z.forEach(K=>{try{const W=localStorage.getItem(K);W&&(H[K]=JSON.parse(W))}catch{H[K]=localStorage.getItem(K)}});const q=w(H,P,k);u(q)}catch(S){console.error("Error loading project data:",S)}},f=(S,P)=>({id:`project-${S}`,title:P.title||S.replace(/[-_]/g," ").replace(/\b\w/g,O=>O.toUpperCase()),description:P.description||`Process workflow for ${S}`,flowData:P.flowData||P,category:m(S),priority:N(S),createdAt:new Date().toISOString()}),x=(S,P)=>({id:`wireframe-${S}`,pageName:P.pageName||S,pageType:P.pageType||"dashboard",htmlContent:P.htmlContent||P.content||"",features:P.features||[],userType:P.userType||"user",createdAt:new Date().toISOString()}),m=S=>S.includes("onboard")||S.includes("register")||S.includes("setup")?"onboarding":S.includes("manage")||S.includes("admin")||S.includes("settings")?"management":"core",N=S=>S.includes("critical")||S.includes("main")||S.includes("primary")?"high":S.includes("secondary")||S.includes("optional")?"low":"medium",g=async()=>{if(e.length!==0){l(!0);try{const S=y(e),P={id:"consolidated-master-flow",title:S.title,description:S.description,flowData:S.flowData,category:"core",priority:"high",createdAt:new Date().toISOString()};a(P)}catch(S){console.error("Error generating consolidated flow:",S);const P=y(),O={id:"fallback-master-flow",title:P.title,description:P.description,flowData:P.flowData,category:"core",priority:"high",createdAt:new Date().toISOString()};a(O)}finally{l(!1)}}},y=S=>({title:"Master Application Flow",description:"Comprehensive workflow combining all application processes and user journeys",flowData:{nodes:[{id:"start",position:{x:50,y:50},data:{label:"User Arrives"},type:"input",style:{backgroundColor:"#10B981",color:"white"}},{id:"account-setup",position:{x:200,y:50},data:{label:"Account Setup"},type:"default",style:{backgroundColor:"#1E88E5",color:"white"}},{id:"profile-creation",position:{x:350,y:50},data:{label:"Profile Creation"},type:"default",style:{backgroundColor:"#1E88E5",color:"white"}},{id:"verification",position:{x:500,y:50},data:{label:"Verification Process"},type:"default",style:{backgroundColor:"#FF6B35",color:"white"}},{id:"dashboard-access",position:{x:200,y:150},data:{label:"Dashboard Access"},type:"default",style:{backgroundColor:"#9C27B0",color:"white"}},{id:"feature-navigation",position:{x:350,y:150},data:{label:"Feature Navigation"},type:"default",style:{backgroundColor:"#9C27B0",color:"white"}},{id:"data-management",position:{x:500,y:150},data:{label:"Data Management"},type:"default",style:{backgroundColor:"#9C27B0",color:"white"}},{id:"settings-config",position:{x:650,y:150},data:{label:"Settings Configuration"},type:"default",style:{backgroundColor:"#9C27B0",color:"white"}},{id:"platform-choice",position:{x:650,y:50},data:{label:"Platform Selection"},type:"default",style:{backgroundColor:"#FFC107",color:"black"}},{id:"mobile-app",position:{x:500,y:250},data:{label:"Mobile Application"},type:"default",style:{backgroundColor:"#E91E63",color:"white"}},{id:"mobile-features",position:{x:350,y:250},data:{label:"Mobile Features"},type:"default",style:{backgroundColor:"#E91E63",color:"white"}},{id:"notifications",position:{x:200,y:250},data:{label:"Push Notifications"},type:"default",style:{backgroundColor:"#E91E63",color:"white"}},{id:"web-portal",position:{x:800,y:250},data:{label:"Web Portal"},type:"default",style:{backgroundColor:"#2196F3",color:"white"}},{id:"web-dashboard",position:{x:950,y:250},data:{label:"Web Dashboard"},type:"default",style:{backgroundColor:"#2196F3",color:"white"}},{id:"document-management",position:{x:1100,y:250},data:{label:"Document Management"},type:"default",style:{backgroundColor:"#2196F3",color:"white"}},{id:"service-request",position:{x:350,y:350},data:{label:"Service Request"},type:"default",style:{backgroundColor:"#795548",color:"white"}},{id:"processing",position:{x:500,y:350},data:{label:"Request Processing"},type:"default",style:{backgroundColor:"#795548",color:"white"}},{id:"approval-workflow",position:{x:650,y:350},data:{label:"Approval Workflow"},type:"default",style:{backgroundColor:"#795548",color:"white"}},{id:"fulfillment",position:{x:800,y:350},data:{label:"Service Fulfillment"},type:"default",style:{backgroundColor:"#795548",color:"white"}},{id:"communication",position:{x:950,y:350},data:{label:"Communication Hub"},type:"default",style:{backgroundColor:"#607D8B",color:"white"}},{id:"feedback",position:{x:650,y:450},data:{label:"User Feedback"},type:"default",style:{backgroundColor:"#FF9800",color:"white"}},{id:"analytics",position:{x:800,y:450},data:{label:"Analytics & Reporting"},type:"default",style:{backgroundColor:"#FF9800",color:"white"}},{id:"completion",position:{x:950,y:450},data:{label:"Process Complete"},type:"output",style:{backgroundColor:"#4CAF50",color:"white"}}],edges:[{id:"e1",source:"start",target:"account-setup"},{id:"e2",source:"account-setup",target:"profile-creation"},{id:"e3",source:"profile-creation",target:"verification"},{id:"e4",source:"verification",target:"platform-choice"},{id:"e5",source:"account-setup",target:"dashboard-access"},{id:"e6",source:"dashboard-access",target:"feature-navigation"},{id:"e7",source:"feature-navigation",target:"data-management"},{id:"e8",source:"data-management",target:"settings-config"},{id:"e9",source:"platform-choice",target:"mobile-app"},{id:"e10",source:"platform-choice",target:"web-portal"},{id:"e11",source:"mobile-app",target:"mobile-features"},{id:"e12",source:"mobile-features",target:"notifications"},{id:"e13",source:"notifications",target:"service-request"},{id:"e14",source:"web-portal",target:"web-dashboard"},{id:"e15",source:"web-dashboard",target:"document-management"},{id:"e16",source:"document-management",target:"communication"},{id:"e17",source:"service-request",target:"processing"},{id:"e18",source:"processing",target:"approval-workflow"},{id:"e19",source:"approval-workflow",target:"fulfillment"},{id:"e20",source:"fulfillment",target:"communication"},{id:"e21",source:"communication",target:"feedback"},{id:"e22",source:"feedback",target:"analytics"},{id:"e23",source:"analytics",target:"completion"},{id:"e24",source:"settings-config",target:"service-request"},{id:"e25",source:"mobile-features",target:"processing"},{id:"e26",source:"web-dashboard",target:"service-request"}]}}),w=(S,P,O)=>{const k=S["brand-guidelines"]||{},Z=k.colors||{},H=k.typography||{};return{executiveSummary:{projectTitle:"Comprehensive Application Platform",projectDescription:"A modern, full-featured application platform with user management, workflow automation, and comprehensive feature set",targetAudience:["End Users","Administrators","Business Users","Mobile Users"],keyObjectives:["Streamline user onboarding and management","Provide comprehensive workflow automation","Enable cross-platform access (web and mobile)","Ensure scalable and secure architecture","Deliver excellent user experience"],timeline:"6-9 months development cycle",budget:"Medium to large scale project investment"},technicalArchitecture:{frontend:["React.js","TypeScript","Tailwind CSS","Modern UI Components"],backend:["Node.js","Express.js","RESTful APIs","Authentication Services"],database:["PostgreSQL","Redis Cache","File Storage","Backup Systems"],infrastructure:["Cloud Hosting","CDN","Load Balancing","SSL/TLS"],integrations:["Third-party APIs","Payment Processing","Analytics","Communication Services"]},userJourneys:{primary:["User registration and onboarding","Profile setup and verification","Core feature access and usage","Service requests and fulfillment"],secondary:["Advanced settings configuration","Document management","Communication and collaboration","Reporting and analytics"],edge_cases:["Account recovery processes","Error handling and fallbacks","Offline functionality","Migration and data export"]},featureMatrix:{core:["User authentication and authorization","Dashboard and navigation","Data management and CRUD operations","Basic workflow automation","Cross-platform compatibility"],secondary:["Advanced reporting and analytics","Integration with external services","Customizable user preferences","Advanced communication features","Batch operations and bulk actions"],future:["AI-powered recommendations","Advanced automation workflows","Mobile app enhancements","Third-party marketplace integration","Advanced analytics and insights"]},brandGuidelines:{colors:[...Z.primary||[],...Z.secondary||[]].filter(q=>typeof q=="string"),typography:(H.fonts||[]).filter(q=>typeof q=="string"),logoUsage:["Primary logo placement","Secondary logo variations","Brand consistency"],designPrinciples:["Clean and modern interface","Consistent user experience","Accessibility compliance","Mobile-first design"]},developmentPhases:[{phase:"Phase 1: Foundation",duration:"2-3 months",deliverables:["Core architecture","User authentication","Basic UI framework"],dependencies:["Technical requirements","Design system","Development environment"]},{phase:"Phase 2: Core Features",duration:"2-3 months",deliverables:["Main application features","Database integration","API development"],dependencies:["Phase 1 completion","Database design","API specifications"]},{phase:"Phase 3: Integration & Testing",duration:"1-2 months",deliverables:["Third-party integrations","Testing suite","Performance optimization"],dependencies:["Core features complete","Integration requirements","Testing plan"]},{phase:"Phase 4: Launch & Optimization",duration:"1 month",deliverables:["Production deployment","User training","Performance monitoring"],dependencies:["Testing complete","Deployment infrastructure","Go-live plan"]}],riskAssessment:{technical:["Scalability challenges with user growth","Integration complexity with external services","Performance bottlenecks in data processing","Security vulnerabilities and data protection"],business:["User adoption and engagement rates","Market competition and differentiation","Resource allocation and timeline management","Budget constraints and scope creep"],mitigation:["Implement scalable architecture from start","Thorough testing and security audits","Agile development with regular checkpoints","User feedback integration and iterative improvement"]},testingStrategy:{unit:["Component testing","Function testing","API endpoint testing","Database operations"],integration:["Service integration","Third-party API testing","End-to-end workflows","Cross-platform compatibility"],userAcceptance:["User journey testing","Feature validation","Performance benchmarks","Accessibility compliance"],security:["Authentication testing","Authorization validation","Data encryption","Vulnerability scanning"]},deploymentPlan:{environments:["Development","Staging","Production","Backup/Recovery"],pipeline:["Automated builds","Testing automation","Deployment automation","Rollback procedures"],monitoring:["Application monitoring","Performance metrics","Error tracking","User analytics"]}}},E=(S,P,O)=>{const k=Math.min(S.length*20,100),Z=Math.min(P.length*25,100),H=Math.min(O.length*5,100),q=(k+Z+H)/3;let K="Planning";return q>=80?K="Ready":q>=60?K="Testing":q>=40&&(K="Development"),{completionScore:Math.round(q),readinessLevel:K,strengths:[`${S.length} process flows documented`,`${P.length} wireframes created`,`${O.length} data components available`,"Comprehensive project planning approach"],gaps:[S.length<3?"Need more process flows":null,P.length<2?"Need more wireframes":null,O.length<10?"Need more project content":null,"Consider adding user testing data"].filter(Boolean),recommendations:["Continue developing core features","Expand wireframe coverage","Add integration testing","Implement user feedback loops"],dataQuality:{flows:Math.min(S.length*33,100),wireframes:Math.min(P.length*50,100),content:Math.min(O.length*10,100),overall:Math.round(q)},nextSteps:["Finalize remaining wireframes","Implement core backend services","Set up testing framework","Plan deployment strategy"]}},_=()=>({coreFeatures:["User Authentication & Management","Dashboard & Navigation","Data Management & CRUD Operations","Workflow Automation","Cross-Platform Compatibility","Real-time Updates","Search & Filtering","Reporting & Analytics"],userTypes:["End Users","Administrators","Managers","Guest Users"],platformSupport:["Web Application (Desktop)","Mobile Web (Responsive)","Native Mobile App","Tablet Support","Cross-browser Compatibility"],securityFeatures:["Multi-factor Authentication","Role-based Access Control","Data Encryption","Secure API Communications","Audit Logging","Session Management"],integrations:["Third-party APIs","Payment Processing","Email Services","Cloud Storage","Analytics Platforms","Communication Tools"]}),D=async()=>{if(d){A(!0);try{const S=new qt("p","mm","a4"),P=S.internal.pageSize.getWidth(),O=S.internal.pageSize.getHeight();let k=20;S.setFontSize(20),S.setFont("helvetica","bold"),S.text("Comprehensive Project Development Plan",P/2,k,{align:"center"}),k+=15,S.setFontSize(16),S.text("Executive Summary",20,k),k+=10,S.setFontSize(12),S.setFont("helvetica","normal"),S.text(`Project: ${d.executiveSummary.projectTitle}`,20,k),k+=8;const Z=S.splitTextToSize(d.executiveSummary.projectDescription,P-40);S.text(Z,20,k),k+=Z.length*6+10,k>O-40&&(S.addPage(),k=20),S.setFontSize(16),S.setFont("helvetica","bold"),S.text("Technical Architecture",20,k),k+=10,S.setFontSize(12),S.setFont("helvetica","normal"),S.text("Frontend Technologies:",20,k),k+=6,d.technicalArchitecture.frontend.forEach(q=>{S.text(` ${q}`,25,k),k+=5}),k+=5,S.text("Backend Technologies:",20,k),k+=6,d.technicalArchitecture.backend.forEach(q=>{S.text(` ${q}`,25,k),k+=5}),k+=10,k>O-60&&(S.addPage(),k=20),S.setFontSize(16),S.setFont("helvetica","bold"),S.text("Development Phases",20,k),k+=10,d.developmentPhases.forEach(q=>{k>O-40&&(S.addPage(),k=20),S.setFontSize(14),S.setFont("helvetica","bold"),S.text(`${q.phase} (${q.duration})`,20,k),k+=8,S.setFontSize(12),S.setFont("helvetica","normal"),S.text("Deliverables:",20,k),k+=6,q.deliverables.forEach(K=>{S.text(` ${K}`,25,k),k+=5}),k+=8}),k>O-60&&(S.addPage(),k=20),S.setFontSize(16),S.setFont("helvetica","bold"),S.text("Feature Implementation Matrix",20,k),k+=10,S.setFontSize(14),S.text("Core Features:",20,k),k+=8,d.featureMatrix.core.forEach(q=>{S.setFontSize(12),S.text(` ${q}`,25,k),k+=5}),k+=8,S.setFontSize(14),S.text("Secondary Features:",20,k),k+=8,d.featureMatrix.secondary.forEach(q=>{S.setFontSize(12),S.text(` ${q}`,25,k),k+=5});const H=new Date().toISOString().split("T")[0];S.save(`comprehensive-project-plan-${H}.pdf`)}catch(S){console.error("Error generating PDF:",S)}finally{A(!1)}}},R=E(e,r,Object.keys(localStorage)),I=_();return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 space-y-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Flow & Wireframe Mapping"}),i.jsx("p",{className:"text-lg text-gray-600",children:"Comprehensive project visualization and development planning"})]}),i.jsx(fA,{currentStep:e.length>0?r.length>0?"wireframes":"diagram":"plan",completedSteps:[...e.length>0?["plan","diagram"]:["plan"],...r.length>0?["wireframes"]:[]]}),i.jsxs(lt,{className:"border-emerald-200 bg-gradient-to-br from-emerald-50 to-teal-50 shadow-lg",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center gap-2 text-emerald-900",children:[i.jsx(Yv,{className:"h-6 w-6"}),"Project Analysis & Readiness"]})}),i.jsxs(ct,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-emerald-200",children:[i.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:[R.completionScore,"%"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Overall Progress"})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-emerald-200",children:[i.jsx("div",{className:"text-lg font-semibold text-emerald-700",children:R.readinessLevel}),i.jsx("div",{className:"text-sm text-gray-600",children:"Development Stage"})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-emerald-200",children:[i.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:e.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Process Flows"})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-emerald-200",children:[i.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:r.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"Wireframes"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold text-emerald-900 mb-2 flex items-center gap-2",children:[i.jsx(wr,{className:"h-4 w-4"}),"Project Strengths"]}),i.jsx("ul",{className:"space-y-1",children:R.strengths.map((S,P)=>i.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),S]},P))})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold text-emerald-900 mb-2 flex items-center gap-2",children:[i.jsx(rd,{className:"h-4 w-4"}),"Next Steps"]}),i.jsx("ul",{className:"space-y-1",children:R.nextSteps.map((S,P)=>i.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),S]},P))})]})]})]})]}),d&&i.jsxs(lt,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-lg",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fs,{className:"h-6 w-6 text-blue-600"}),"Comprehensive Development Plan"]}),i.jsx(me,{onClick:D,disabled:c,className:"bg-blue-600 hover:bg-blue-700 text-white",children:c?i.jsxs(i.Fragment,{children:[i.jsx(Xp,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating PDF..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Export Development Plan"]})})]})}),i.jsxs(ct,{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[i.jsxs("h4",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[i.jsx(Fs,{className:"h-4 w-4"}),"Executive Summary"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Project Title"}),i.jsx("div",{className:"text-gray-700",children:d.executiveSummary.projectTitle})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Timeline"}),i.jsx("div",{className:"text-gray-700",children:d.executiveSummary.timeline})]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"Description"}),i.jsx("div",{className:"text-gray-700 text-sm",children:d.executiveSummary.projectDescription})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[i.jsxs("h4",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[i.jsx(ml,{className:"h-4 w-4"}),"Feature Implementation Matrix"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:[i.jsxs("div",{className:"text-sm font-medium text-green-800 mb-2",children:["Core Features (",d.featureMatrix.core.length,")"]}),i.jsx("div",{className:"text-xs text-gray-600",children:"Essential functionality for MVP"})]}),i.jsxs("div",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:[i.jsxs("div",{className:"text-sm font-medium text-blue-800 mb-2",children:["Secondary Features (",d.featureMatrix.secondary.length,")"]}),i.jsx("div",{className:"text-xs text-gray-600",children:"Enhanced functionality post-launch"})]}),i.jsxs("div",{className:"bg-purple-50 p-3 rounded border border-purple-200",children:[i.jsxs("div",{className:"text-sm font-medium text-purple-700 mb-2",children:["Future Features (",d.featureMatrix.future.length,")"]}),i.jsx("div",{className:"text-xs text-gray-600",children:"Long-term roadmap and expansion"})]})]})]})]})]}),i.jsxs(lt,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-violet-50 shadow-lg",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ha,{className:"h-6 w-6 text-purple-600"}),"AI-Generated Master Flow Diagram"]}),i.jsx(me,{onClick:g,disabled:o||e.length===0,className:"bg-purple-600 hover:bg-purple-700 text-white",children:o?i.jsxs(i.Fragment,{children:[i.jsx(Xp,{className:"mr-2 h-4 w-4 animate-spin"}),"Consolidating Flows..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Jc,{className:"mr-2 h-4 w-4"}),"Generate Master Flow"]})})]})}),i.jsxs(ct,{children:[!s&&!o&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"text-gray-500 mb-4",children:"Consolidate all individual flows into a single comprehensive master workflow diagram using AI analysis."}),i.jsx("div",{className:"text-sm text-gray-400",children:e.length===0?"No flows available to consolidate. Please generate some flows first.":`Ready to consolidate ${e.length} flows into a master diagram.`})]}),o&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"text-purple-600 mb-4",children:"AI is analyzing and consolidating all flows into a master workflow..."}),i.jsxs("div",{className:"text-sm text-gray-500",children:["This may take a moment as we merge ",e.length," individual flows."]})]}),s&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200",children:[i.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:s.title}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s.description}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 mb-4",children:i.jsx(ad,{flowData:s.flowData,title:"Master Application Flow",className:"h-96"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:[i.jsx("div",{className:"font-medium text-green-800",children:"Process Nodes"}),i.jsxs("div",{className:"text-green-600",children:[((Q=s.flowData.nodes)==null?void 0:Q.length)||0," steps"]})]}),i.jsxs("div",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:[i.jsx("div",{className:"font-medium text-blue-800",children:"Connections"}),i.jsxs("div",{className:"text-blue-600",children:[((U=s.flowData.edges)==null?void 0:U.length)||0," transitions"]})]}),i.jsxs("div",{className:"bg-purple-50 p-3 rounded border border-purple-200",children:[i.jsx("div",{className:"font-medium text-purple-800",children:"Source Flows"}),i.jsxs("div",{className:"text-purple-600",children:[e.length," consolidated"]})]})]})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(lt,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center gap-2 text-blue-900",children:[i.jsx(Jc,{className:"h-5 w-5"}),"Core Functionality"]})}),i.jsx(ct,{children:i.jsx("div",{className:"space-y-2",children:I.coreFeatures.map((S,P)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wr,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-sm text-gray-700",children:S})]},P))})})]}),i.jsxs(lt,{className:"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center gap-2 text-green-900",children:[i.jsx(Yn,{className:"h-5 w-5"}),"User Types & Roles"]})}),i.jsx(ct,{children:i.jsx("div",{className:"space-y-2",children:I.userTypes.map((S,P)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wr,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-sm text-gray-700",children:S})]},P))})})]}),i.jsxs(lt,{className:"border-indigo-200 bg-gradient-to-br from-indigo-50 to-purple-50",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center gap-2 text-indigo-900",children:[i.jsx(Fc,{className:"h-5 w-5"}),"Platform Support"]})}),i.jsx(ct,{children:i.jsx("div",{className:"space-y-2",children:I.platformSupport.map((S,P)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wr,{className:"h-4 w-4 text-indigo-600"}),i.jsx("span",{className:"text-sm text-gray-700",children:S})]},P))})})]}),i.jsxs(lt,{className:"border-orange-200 bg-gradient-to-br from-orange-50 to-red-50",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center gap-2 text-orange-900",children:[i.jsx(wp,{className:"h-5 w-5"}),"Security & Compliance"]})}),i.jsx(ct,{children:i.jsx("div",{className:"space-y-2",children:I.securityFeatures.map((S,P)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wr,{className:"h-4 w-4 text-orange-600"}),i.jsx("span",{className:"text-sm text-gray-700",children:S})]},P))})})]})]}),i.jsxs(lt,{className:"border-gray-200 bg-gradient-to-br from-gray-50 to-slate-50 shadow-lg",children:[i.jsx(Bt,{children:i.jsxs(Nt,{className:"flex items-center gap-2 text-gray-900",children:[i.jsx(ha,{className:"h-6 w-6"}),"Process Flows & Wireframes Overview"]})}),i.jsx(ct,{children:i.jsxs(md,{defaultValue:"flows",className:"w-full",children:[i.jsxs(tA,{className:"grid w-full grid-cols-2 mb-6 bg-gradient-to-r from-blue-100 to-purple-100 p-1 rounded-xl",children:[i.jsxs(Vr,{value:"flows",className:"data-[state=active]:bg-white data-[state=active]:shadow-lg data-[state=active]:scale-105 transition-all duration-200 rounded-lg font-medium",children:["Process Flows (",e.length,")"]}),i.jsxs(Vr,{value:"wireframes",className:"data-[state=active]:bg-white data-[state=active]:shadow-lg data-[state=active]:scale-105 transition-all duration-200 rounded-lg font-medium",children:["Wireframes (",r.length,")"]})]}),i.jsx(Wr,{value:"flows",className:"space-y-4",children:e.length===0?i.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl border-2 border-dashed border-blue-300",children:[i.jsx(ha,{className:"h-16 w-16 text-blue-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-2",children:"No Process Flows Available"}),i.jsx("p",{className:"text-blue-600",children:"Generate some process flows to see them here"})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(S=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-4 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold truncate",children:S.title}),i.jsx(yt,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:S.priority})]}),i.jsx("p",{className:"text-blue-100 text-sm",children:S.description})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"bg-gray-50 rounded-lg p-2 mb-4 border",children:i.jsx(ad,{flowData:S.flowData,title:S.title,className:"h-48"})}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ha,{className:"h-4 w-4"}),S.category]}),i.jsx("span",{children:new Date(S.createdAt).toLocaleDateString()})]})]})]},S.id))})}),i.jsx(Wr,{value:"wireframes",className:"space-y-4",children:r.length===0?i.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-purple-50 to-pink-100 rounded-xl border-2 border-dashed border-purple-300",children:[i.jsx(d2,{className:"h-16 w-16 text-purple-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-purple-900 mb-2",children:"No Wireframes Available"}),i.jsx("p",{className:"text-purple-600",children:"Generate some wireframes to see them here"})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.map(S=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 p-4 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold truncate",children:S.pageName}),i.jsx(yt,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:S.userType})]}),i.jsx("p",{className:"text-purple-100 text-sm capitalize",children:S.pageType.replace(/[-_]/g," ")})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 border relative",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs("div",{className:"flex gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),i.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]}),i.jsx("div",{className:"text-xs text-gray-500",children:"Browser Preview"})]}),i.jsx("div",{className:"bg-white rounded border h-32 overflow-hidden",children:i.jsx("iframe",{srcDoc:S.htmlContent,className:"w-full h-full border-0 transform scale-75 origin-top-left",style:{width:"133%",height:"133%"},title:`Preview of ${S.pageName}`})})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(d2,{className:"h-4 w-4"}),S.features.length," features"]}),i.jsx("span",{children:new Date(S.createdAt).toLocaleDateString()})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(me,{size:"sm",variant:"outline",className:"flex-1 hover:bg-blue-50 hover:border-blue-300",onClick:()=>{const P=new Blob([S.htmlContent],{type:"text/html"}),O=URL.createObjectURL(P),k=document.createElement("a");k.href=O,k.download=`${S.pageName.replace(/\s+/g,"-").toLowerCase()}.html`,k.click(),URL.revokeObjectURL(O)},children:[i.jsx(Ns,{className:"h-4 w-4 mr-1"}),"Download"]}),i.jsxs(me,{size:"sm",variant:"outline",className:"flex-1 hover:bg-green-50 hover:border-green-300",onClick:()=>{const P=window.open();P&&(P.document.write(S.htmlContent),P.document.close())},children:[i.jsx(Wa,{className:"h-4 w-4 mr-1"}),"Preview"]})]})]})]},S.id))})})]})})]})]})})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var j5=function(e,t){return j5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},j5(e,t)};function io(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");j5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var F5=function(){return F5=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},F5.apply(this,arguments)};function ti(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{A(n.next(d))}catch(u){o(u)}}function c(d){try{A(n.throw(d))}catch(u){o(u)}}function A(d){d.done?a(d.value):s(d.value).then(l,c)}A((n=n.apply(e,[])).next())})}function $s(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(A){return function(d){return c([A,d])}}function c(A){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=A[0]&2?s.return:A[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,A[1])).done)return a;switch(s=0,a&&(A=[A[0]&2,a.value]),A[0]){case 0:case 1:a=A;break;case 4:return r.label++,{value:A[1],done:!1};case 5:r.label++,s=A[1],A=[0];continue;case 7:A=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(A[0]===6||A[0]===2)){r=0;continue}if(A[0]===3&&(!a||A[1]>a[0]&&A[1]<a[3])){r.label=A[1];break}if(A[0]===6&&r.label<a[1]){r.label=a[1],a=A;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(A);break}a[2]&&r.ops.pop(),r.trys.pop();continue}A=t.call(e,r)}catch(d){A=[6,d],s=0}finally{n=a=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function w0(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||t)}var Pl=function(){function e(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Hx=function(e,t){return Pl.fromClientRect(e,t.getBoundingClientRect())},Aae=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Pl(0,0,n,s)},$x=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},Hn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,a="";++s<r;){var o=e[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},i3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dae=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var b0=0;b0<i3.length;b0++)dae[i3.charCodeAt(b0)]=b0;var a3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var C0=0;C0<a3.length;C0++)sp[a3.charCodeAt(C0)]=C0;var uae=function(e){var t=e.length*.75,r=e.length,n,s=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)a=sp[e.charCodeAt(n)],o=sp[e.charCodeAt(n+1)],l=sp[e.charCodeAt(n+2)],c=sp[e.charCodeAt(n+3)],d[s++]=a<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return A},hae=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},fae=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},ld=5,CN=11,G1=2,pae=CN-ld,iD=65536>>ld,mae=1<<ld,V1=mae-1,gae=1024>>ld,vae=iD+gae,yae=vae,xae=32,wae=yae+xae,bae=65536>>CN,Cae=1<<pae,Bae=Cae-1,o3=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},Nae=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},Sae=function(e,t){var r=uae(e),n=Array.isArray(r)?fae(r):new Uint32Array(r),s=Array.isArray(r)?hae(r):new Uint16Array(r),a=24,o=o3(s,a/2,n[4]/2),l=n[5]===2?o3(s,(a+n[4])/2):Nae(n,Math.ceil((a+n[4])/4));return new Eae(n[0],n[1],n[2],n[3],o,l)},Eae=function(){function e(t,r,n,s,a,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>ld],r=(r<<G1)+(t&V1),this.data[r];if(t<=65535)return r=this.index[iD+(t-55296>>ld)],r=(r<<G1)+(t&V1),this.data[r];if(t<this.highStart)return r=wae-bae+(t>>CN),r=this.index[r],r+=t>>ld&Bae,r=this.index[r],r=(r<<G1)+(t&V1),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),l3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jae=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var B0=0;B0<l3.length;B0++)jae[l3.charCodeAt(B0)]=B0;var Fae="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",c3=50,kae=1,aD=2,oD=3,Iae=4,Pae=5,A3=7,lD=8,d3=9,Ic=10,k5=11,u3=12,I5=13,_ae=14,ip=15,P5=16,N0=17,Gf=18,Tae=19,h3=20,_5=21,Vf=22,W1=23,mu=24,Li=25,ap=26,op=27,gu=28,Lae=29,$A=30,Uae=31,S0=32,E0=33,T5=34,L5=35,U5=36,pm=37,R5=38,Cv=39,Bv=40,q1=41,cD=42,Rae=43,Dae=[9001,65288],AD="!",jr="",j0="",D5=Sae(Fae),nl=[$A,U5],M5=[kae,aD,oD,Pae],dD=[Ic,lD],f3=[op,ap],Mae=M5.concat(dD),p3=[R5,Cv,Bv,T5,L5],Qae=[ip,I5],Oae=function(e,t){t===void 0&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(a,o){var l=D5.get(a);if(l>c3?(s.push(!0),l-=c3):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(o),r.push(P5);if(l===Iae||l===k5){if(o===0)return n.push(o),r.push($A);var c=r[o-1];return Mae.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push($A))}if(n.push(o),l===Uae)return r.push(t==="strict"?_5:pm);if(l===cD||l===Lae)return r.push($A);if(l===Rae)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(pm):r.push($A);r.push(l)}),[n,r,s]},X1=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var a=r;a<=n.length;){a++;var o=n[a];if(o===t)return!0;if(o!==Ic)break}if(s===Ic)for(var a=r;a>0;){a--;var l=n[a];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===t)return!0;if(o!==Ic)break}if(l!==Ic)break}return!1},m3=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===Ic)r--;else return n}return 0},Hae=function(e,t,r,n,s){if(r[n]===0)return jr;var a=n-1;if(Array.isArray(s)&&s[a]===!0)return jr;var o=a-1,l=a+1,c=t[a],A=o>=0?t[o]:0,d=t[l];if(c===aD&&d===oD)return jr;if(M5.indexOf(c)!==-1)return AD;if(M5.indexOf(d)!==-1||dD.indexOf(d)!==-1)return jr;if(m3(a,t)===lD)return j0;if(D5.get(e[a])===k5||(c===S0||c===E0)&&D5.get(e[l])===k5||c===A3||d===A3||c===d3||[Ic,I5,ip].indexOf(c)===-1&&d===d3||[N0,Gf,Tae,mu,gu].indexOf(d)!==-1||m3(a,t)===Vf||X1(W1,Vf,a,t)||X1([N0,Gf],_5,a,t)||X1(u3,u3,a,t))return jr;if(c===Ic)return j0;if(c===W1||d===W1)return jr;if(d===P5||c===P5)return j0;if([I5,ip,_5].indexOf(d)!==-1||c===_ae||A===U5&&Qae.indexOf(c)!==-1||c===gu&&d===U5||d===h3||nl.indexOf(d)!==-1&&c===Li||nl.indexOf(c)!==-1&&d===Li||c===op&&[pm,S0,E0].indexOf(d)!==-1||[pm,S0,E0].indexOf(c)!==-1&&d===ap||nl.indexOf(c)!==-1&&f3.indexOf(d)!==-1||f3.indexOf(c)!==-1&&nl.indexOf(d)!==-1||[op,ap].indexOf(c)!==-1&&(d===Li||[Vf,ip].indexOf(d)!==-1&&t[l+1]===Li)||[Vf,ip].indexOf(c)!==-1&&d===Li||c===Li&&[Li,gu,mu].indexOf(d)!==-1)return jr;if([Li,gu,mu,N0,Gf].indexOf(d)!==-1)for(var u=a;u>=0;){var p=t[u];if(p===Li)return jr;if([gu,mu].indexOf(p)!==-1)u--;else break}if([op,ap].indexOf(d)!==-1)for(var u=[N0,Gf].indexOf(c)!==-1?o:a;u>=0;){var p=t[u];if(p===Li)return jr;if([gu,mu].indexOf(p)!==-1)u--;else break}if(R5===c&&[R5,Cv,T5,L5].indexOf(d)!==-1||[Cv,T5].indexOf(c)!==-1&&[Cv,Bv].indexOf(d)!==-1||[Bv,L5].indexOf(c)!==-1&&d===Bv||p3.indexOf(c)!==-1&&[h3,ap].indexOf(d)!==-1||p3.indexOf(d)!==-1&&c===op||nl.indexOf(c)!==-1&&nl.indexOf(d)!==-1||c===mu&&nl.indexOf(d)!==-1||nl.concat(Li).indexOf(c)!==-1&&d===Vf&&Dae.indexOf(e[l])===-1||nl.concat(Li).indexOf(d)!==-1&&c===Gf)return jr;if(c===q1&&d===q1){for(var f=r[a],x=1;f>0&&(f--,t[f]===q1);)x++;if(x%2!==0)return jr}return c===S0&&d===E0?jr:j0},$ae=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=Oae(e,t.lineBreak),n=r[0],s=r[1],a=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(l){return[Li,$A,cD].indexOf(l)!==-1?pm:l}));var o=t.wordBreak==="keep-all"?a.map(function(l,c){return l&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,s,o]},zae=function(){function e(t,r,n,s){this.codePoints=t,this.required=r===AD,this.start=n,this.end=s}return e.prototype.slice=function(){return Hn.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Kae=function(e,t){var r=$x(e),n=$ae(r,t),s=n[0],a=n[1],o=n[2],l=r.length,c=0,A=0;return{next:function(){if(A>=l)return{done:!0,value:null};for(var d=jr;A<l&&(d=Hae(r,a,s,++A,o))===jr;);if(d!==jr||A===l){var u=new zae(r,d,c,A);return c=A,{value:u,done:!1}}return{done:!0,value:null}}}},Gae=1,Vae=2,Gm=4,g3=8,jy=10,v3=47,Sp=92,Wae=9,qae=32,F0=34,Wf=61,Xae=35,Jae=36,Yae=37,k0=39,I0=40,qf=41,Zae=95,vi=45,eoe=33,toe=60,roe=62,noe=64,soe=91,ioe=93,aoe=61,ooe=123,P0=63,loe=125,y3=124,coe=126,Aoe=128,x3=65533,J1=42,qA=43,doe=44,uoe=58,hoe=59,mm=46,foe=0,poe=8,moe=11,goe=14,voe=31,yoe=127,fo=-1,uD=48,hD=97,fD=101,xoe=102,woe=117,boe=122,pD=65,mD=69,gD=70,Coe=85,Boe=90,zs=function(e){return e>=uD&&e<=57},Noe=function(e){return e>=55296&&e<=57343},vu=function(e){return zs(e)||e>=pD&&e<=gD||e>=hD&&e<=xoe},Soe=function(e){return e>=hD&&e<=boe},Eoe=function(e){return e>=pD&&e<=Boe},joe=function(e){return Soe(e)||Eoe(e)},Foe=function(e){return e>=Aoe},_0=function(e){return e===jy||e===Wae||e===qae},Fy=function(e){return joe(e)||Foe(e)||e===Zae},w3=function(e){return Fy(e)||zs(e)||e===vi},koe=function(e){return e>=foe&&e<=poe||e===moe||e>=goe&&e<=voe||e===yoe},vc=function(e,t){return e!==Sp?!1:t!==jy},T0=function(e,t,r){return e===vi?Fy(t)||vc(t,r):Fy(e)?!0:!!(e===Sp&&vc(e,t))},Y1=function(e,t,r){return e===qA||e===vi?zs(t)?!0:t===mm&&zs(r):zs(e===mm?t:e)},Ioe=function(e){var t=0,r=1;(e[t]===qA||e[t]===vi)&&(e[t]===vi&&(r=-1),t++);for(var n=[];zs(e[t]);)n.push(e[t++]);var s=n.length?parseInt(Hn.apply(void 0,n),10):0;e[t]===mm&&t++;for(var a=[];zs(e[t]);)a.push(e[t++]);var o=a.length,l=o?parseInt(Hn.apply(void 0,a),10):0;(e[t]===mD||e[t]===fD)&&t++;var c=1;(e[t]===qA||e[t]===vi)&&(e[t]===vi&&(c=-1),t++);for(var A=[];zs(e[t]);)A.push(e[t++]);var d=A.length?parseInt(Hn.apply(void 0,A),10):0;return r*(s+l*Math.pow(10,-o))*Math.pow(10,c*d)},Poe={type:2},_oe={type:3},Toe={type:4},Loe={type:13},Uoe={type:8},Roe={type:21},Doe={type:9},Moe={type:10},Qoe={type:11},Ooe={type:12},Hoe={type:14},L0={type:23},$oe={type:1},zoe={type:25},Koe={type:24},Goe={type:26},Voe={type:27},Woe={type:28},qoe={type:29},Xoe={type:31},Q5={type:32},vD=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat($x(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==Q5;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case F0:return this.consumeStringToken(F0);case Xae:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(w3(r)||vc(n,s)){var a=T0(r,n,s)?Vae:Gae,o=this.consumeName();return{type:5,value:o,flags:a}}break;case Jae:if(this.peekCodePoint(0)===Wf)return this.consumeCodePoint(),Loe;break;case k0:return this.consumeStringToken(k0);case I0:return Poe;case qf:return _oe;case J1:if(this.peekCodePoint(0)===Wf)return this.consumeCodePoint(),Hoe;break;case qA:if(Y1(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case doe:return Toe;case vi:var l=t,c=this.peekCodePoint(0),A=this.peekCodePoint(1);if(Y1(l,c,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(T0(l,c,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===vi&&A===roe)return this.consumeCodePoint(),this.consumeCodePoint(),Koe;break;case mm:if(Y1(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case v3:if(this.peekCodePoint(0)===J1)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===J1&&(d=this.consumeCodePoint(),d===v3))return this.consumeToken();if(d===fo)return this.consumeToken()}break;case uoe:return Goe;case hoe:return Voe;case toe:if(this.peekCodePoint(0)===eoe&&this.peekCodePoint(1)===vi&&this.peekCodePoint(2)===vi)return this.consumeCodePoint(),this.consumeCodePoint(),zoe;break;case noe:var u=this.peekCodePoint(0),p=this.peekCodePoint(1),f=this.peekCodePoint(2);if(T0(u,p,f)){var o=this.consumeName();return{type:7,value:o}}break;case soe:return Woe;case Sp:if(vc(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case ioe:return qoe;case aoe:if(this.peekCodePoint(0)===Wf)return this.consumeCodePoint(),Uoe;break;case ooe:return Qoe;case loe:return Ooe;case woe:case Coe:var x=this.peekCodePoint(0),m=this.peekCodePoint(1);return x===qA&&(vu(m)||m===P0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case y3:if(this.peekCodePoint(0)===Wf)return this.consumeCodePoint(),Doe;if(this.peekCodePoint(0)===y3)return this.consumeCodePoint(),Roe;break;case coe:if(this.peekCodePoint(0)===Wf)return this.consumeCodePoint(),Moe;break;case fo:return Q5}return _0(t)?(this.consumeWhiteSpace(),Xoe):zs(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Fy(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Hn(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();vu(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===P0&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Hn.apply(void 0,t.map(function(c){return c===P0?uD:c})),16),a=parseInt(Hn.apply(void 0,t.map(function(c){return c===P0?gD:c})),16);return{type:30,start:s,end:a}}var o=parseInt(Hn.apply(void 0,t),16);if(this.peekCodePoint(0)===vi&&vu(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];vu(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var a=parseInt(Hn.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===I0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===I0?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===fo)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===k0||r===F0){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===fo||this.peekCodePoint(0)===qf)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),L0)}for(;;){var s=this.consumeCodePoint();if(s===fo||s===qf)return{type:22,value:Hn.apply(void 0,t)};if(_0(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===fo||this.peekCodePoint(0)===qf?(this.consumeCodePoint(),{type:22,value:Hn.apply(void 0,t)}):(this.consumeBadUrlRemnants(),L0);if(s===F0||s===k0||s===I0||koe(s))return this.consumeBadUrlRemnants(),L0;if(s===Sp)if(vc(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),L0;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;_0(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===qf||t===fo)return;vc(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var s=Math.min(r,t);n+=Hn.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var s=this._value[n];if(s===fo||s===void 0||s===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===jy)return this._value.splice(0,n),$oe;if(s===Sp){var a=this._value[n+1];a!==fo&&a!==void 0&&(a===jy?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):vc(s,a)&&(r+=this.consumeStringSlice(n),r+=Hn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Gm,n=this.peekCodePoint(0);for((n===qA||n===vi)&&t.push(this.consumeCodePoint());zs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===mm&&zs(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=g3;zs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===mD||n===fD)&&((s===qA||s===vi)&&zs(a)||zs(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=g3;zs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Ioe(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],s=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(T0(s,a,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return s===Yae?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(vu(t)){for(var r=Hn(t);vu(this.peekCodePoint(0))&&r.length<6;)r+=Hn(this.consumeCodePoint());_0(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Noe(n)||n>1114111?x3:n}return t===fo?x3:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(w3(r))t+=Hn(r);else if(vc(r,this.peekCodePoint(0)))t+=Hn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),yD=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new vD;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||Yoe(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Q5:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Vm=function(e){return e.type===15},Zh=function(e){return e.type===17},qr=function(e){return e.type===20},Joe=function(e){return e.type===0},O5=function(e,t){return qr(e)&&e.value===t},xD=function(e){return e.type!==31},Mh=function(e){return e.type!==31&&e.type!==4},Ho=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},Yoe=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},lA=function(e){return e.type===17||e.type===15},Zn=function(e){return e.type===16||lA(e)},wD=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Es={type:17,number:0,flags:Gm},BN={type:16,number:50,flags:Gm},Pc={type:16,number:100,flags:Gm},lp=function(e,t,r){var n=e[0],s=e[1];return[sn(n,t),sn(typeof s<"u"?s:n,r)]},sn=function(e,t){if(e.type===16)return e.number/100*t;if(Vm(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},bD="deg",CD="grad",BD="rad",ND="turn",zx={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case bD:return Math.PI*t.number/180;case CD:return Math.PI/200*t.number;case BD:return t.number;case ND:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},SD=function(e){return e.type===15&&(e.unit===bD||e.unit===CD||e.unit===BD||e.unit===ND)},ED=function(e){var t=e.filter(qr).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Es,Es];case"to top":case"bottom":return wa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Es,Pc];case"to right":case"left":return wa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Pc,Pc];case"to bottom":case"top":return wa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Pc,Es];case"to left":case"right":return wa(270)}return 0},wa=function(e){return Math.PI*e/180},Vc={name:"color",parse:function(e,t){if(t.type===18){var r=Zoe[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);return _c(parseInt(n+n,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return _c(parseInt(n+n,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6);return _c(parseInt(n,16),parseInt(s,16),parseInt(a,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return _c(parseInt(n,16),parseInt(s,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var l=wl[t.value.toUpperCase()];if(typeof l<"u")return l}return wl.TRANSPARENT}},Wc=function(e){return(255&e)===0},fs=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},_c=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},b3=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},C3=function(e,t){var r=t.filter(Mh);if(r.length===3){var n=r.map(b3),s=n[0],a=n[1],o=n[2];return _c(s,a,o,1)}if(r.length===4){var l=r.map(b3),s=l[0],a=l[1],o=l[2],c=l[3];return _c(s,a,o,c)}return 0};function Z1(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var B3=function(e,t){var r=t.filter(Mh),n=r[0],s=r[1],a=r[2],o=r[3],l=(n.type===17?wa(n.number):zx.parse(e,n))/(Math.PI*2),c=Zn(s)?s.number/100:0,A=Zn(a)?a.number/100:0,d=typeof o<"u"&&Zn(o)?sn(o,1):1;if(c===0)return _c(A*255,A*255,A*255,1);var u=A<=.5?A*(c+1):A+c-A*c,p=A*2-u,f=Z1(p,u,l+1/3),x=Z1(p,u,l),m=Z1(p,u,l-1/3);return _c(f*255,x*255,m*255,d)},Zoe={hsl:B3,hsla:B3,rgb:C3,rgba:C3},Ep=function(e,t){return Vc.parse(e,yD.create(t).parseComponentValue())},wl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ele={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(qr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},tle={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Kx=function(e,t){var r=Vc.parse(e,t[0]),n=t[1];return n&&Zn(n)?{color:r,stop:n}:{color:r,stop:null}},N3=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Es),n.stop===null&&(n.stop=Pc);for(var s=[],a=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var c=sn(l,t);c>a?s.push(c):s.push(a),a=c}else s.push(null)}for(var A=null,o=0;o<s.length;o++){var d=s[o];if(d===null)A===null&&(A=o);else if(A!==null){for(var u=o-A,p=s[A-1],f=(d-p)/(u+1),x=1;x<=u;x++)s[A+x-1]=f*x;A=null}}return e.map(function(m,N){var g=m.color;return{color:g,stop:Math.max(Math.min(1,s[N]/t),0)}})},rle=function(e,t,r){var n=t/2,s=r/2,a=sn(e[0],t)-n,o=s-sn(e[1],r);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},nle=function(e,t,r){var n=typeof e=="number"?e:rle(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),a=t/2,o=r/2,l=s/2,c=Math.sin(n-Math.PI/2)*l,A=Math.cos(n-Math.PI/2)*l;return[s,a-A,a+A,o-c,o+c]},Ua=function(e,t){return Math.sqrt(e*e+t*t)},S3=function(e,t,r,n,s){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,l){var c=l[0],A=l[1],d=Ua(r-c,n-A);return(s?d<o.optimumDistance:d>o.optimumDistance)?{optimumCorner:l,optimumDistance:d}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},sle=function(e,t,r,n,s){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)a=o=Math.min(Ua(t,r),Ua(t,r-s),Ua(t-n,r),Ua(t-n,r-s));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),c=S3(n,s,t,r,!0),A=c[0],d=c[1];a=Ua(A-t,(d-r)/l),o=l*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)a=o=Math.max(Ua(t,r),Ua(t,r-s),Ua(t-n,r),Ua(t-n,r-s));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n)),u=S3(n,s,t,r,!1),A=u[0],d=u[1];a=Ua(A-t,(d-r)/l),o=l*a}break}return Array.isArray(e.size)&&(a=sn(e.size[0],n),o=e.size.length===2?sn(e.size[1],s):a),[a,o]},ile=function(e,t){var r=wa(180),n=[];return Ho(t).forEach(function(s,a){if(a===0){var o=s[0];if(o.type===20&&o.value==="to"){r=ED(s);return}else if(SD(o)){r=zx.parse(e,o);return}}var l=Kx(e,s);n.push(l)}),{angle:r,stops:n,type:1}},U0=function(e,t){var r=wa(180),n=[];return Ho(t).forEach(function(s,a){if(a===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=ED(s);return}else if(SD(o)){r=(zx.parse(e,o)+wa(270))%wa(360);return}}var l=Kx(e,s);n.push(l)}),{angle:r,stops:n,type:1}},ale=function(e,t){var r=wa(180),n=[],s=1,a=0,o=3,l=[];return Ho(t).forEach(function(c,A){var d=c[0];if(A===0){if(qr(d)&&d.value==="linear"){s=1;return}else if(qr(d)&&d.value==="radial"){s=2;return}}if(d.type===18){if(d.name==="from"){var u=Vc.parse(e,d.values[0]);n.push({stop:Es,color:u})}else if(d.name==="to"){var u=Vc.parse(e,d.values[0]);n.push({stop:Pc,color:u})}else if(d.name==="color-stop"){var p=d.values.filter(Mh);if(p.length===2){var u=Vc.parse(e,p[1]),f=p[0];Zh(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:u})}}}}),s===1?{angle:(r+wa(180))%wa(360),stops:n,type:s}:{size:o,shape:a,stops:n,position:l,type:s}},jD="closest-side",FD="farthest-side",kD="closest-corner",ID="farthest-corner",PD="circle",_D="ellipse",TD="cover",LD="contain",ole=function(e,t){var r=0,n=3,s=[],a=[];return Ho(t).forEach(function(o,l){var c=!0;if(l===0){var A=!1;c=o.reduce(function(u,p){if(A)if(qr(p))switch(p.value){case"center":return a.push(BN),u;case"top":case"left":return a.push(Es),u;case"right":case"bottom":return a.push(Pc),u}else(Zn(p)||lA(p))&&a.push(p);else if(qr(p))switch(p.value){case PD:return r=0,!1;case _D:return r=1,!1;case"at":return A=!0,!1;case jD:return n=0,!1;case TD:case FD:return n=1,!1;case LD:case kD:return n=2,!1;case ID:return n=3,!1}else if(lA(p)||Zn(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return u},c)}if(c){var d=Kx(e,o);s.push(d)}}),{size:n,shape:r,stops:s,position:a,type:2}},R0=function(e,t){var r=0,n=3,s=[],a=[];return Ho(t).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(d,u){if(qr(u))switch(u.value){case"center":return a.push(BN),!1;case"top":case"left":return a.push(Es),!1;case"right":case"bottom":return a.push(Pc),!1}else if(Zn(u)||lA(u))return a.push(u),!1;return d},c):l===1&&(c=o.reduce(function(d,u){if(qr(u))switch(u.value){case PD:return r=0,!1;case _D:return r=1,!1;case LD:case jD:return n=0,!1;case FD:return n=1,!1;case kD:return n=2,!1;case TD:case ID:return n=3,!1}else if(lA(u)||Zn(u))return Array.isArray(n)||(n=[]),n.push(u),!1;return d},c)),c){var A=Kx(e,o);s.push(A)}}),{size:n,shape:r,stops:s,position:a,type:2}},lle=function(e){return e.type===1},cle=function(e){return e.type===2},NN={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=UD[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Ale(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!UD[e.name])}var UD={"linear-gradient":ile,"-moz-linear-gradient":U0,"-ms-linear-gradient":U0,"-o-linear-gradient":U0,"-webkit-linear-gradient":U0,"radial-gradient":ole,"-moz-radial-gradient":R0,"-ms-radial-gradient":R0,"-o-radial-gradient":R0,"-webkit-radial-gradient":R0,"-webkit-gradient":ale},dle={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Mh(n)&&Ale(n)}).map(function(n){return NN.parse(e,n)})}},ule={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(qr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},hle={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ho(t).map(function(r){return r.filter(Zn)}).map(wD)}},fle={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ho(t).map(function(r){return r.filter(qr).map(function(n){return n.value}).join(" ")}).map(ple)}},ple=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ch;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(ch||(ch={}));var mle={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ho(t).map(function(r){return r.filter(gle)})}},gle=function(e){return qr(e)||Zn(e)},Gx=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},vle=Gx("top"),yle=Gx("right"),xle=Gx("bottom"),wle=Gx("left"),Vx=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return wD(r.filter(Zn))}}},ble=Vx("top-left"),Cle=Vx("top-right"),Ble=Vx("bottom-right"),Nle=Vx("bottom-left"),Wx=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Sle=Wx("top"),Ele=Wx("right"),jle=Wx("bottom"),Fle=Wx("left"),qx=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Vm(r)?r.number:0}}},kle=qx("top"),Ile=qx("right"),Ple=qx("bottom"),_le=qx("left"),Tle={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Lle={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},Ule={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(qr).reduce(function(r,n){return r|Rle(n.value)},0)}},Rle=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Dle={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Mle={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},ky;(function(e){e.NORMAL="normal",e.STRICT="strict"})(ky||(ky={}));var Qle={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return ky.STRICT;case"normal":default:return ky.NORMAL}}},Ole={name:"line-height",initialValue:"normal",prefix:!1,type:4},E3=function(e,t){return qr(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Zn(e)?sn(e,t):t},Hle={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:NN.parse(e,t)}},$le={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},H5={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Xx=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},zle=Xx("top"),Kle=Xx("right"),Gle=Xx("bottom"),Vle=Xx("left"),Wle={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(qr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},qle={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Jx=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Xle=Jx("top"),Jle=Jx("right"),Yle=Jx("bottom"),Zle=Jx("left"),ece={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},tce={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},rce={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&O5(t[0],"none")?[]:Ho(t).map(function(r){for(var n={color:wl.TRANSPARENT,offsetX:Es,offsetY:Es,blur:Es},s=0,a=0;a<r.length;a++){var o=r[a];lA(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:n.blur=o,s++):n.color=Vc.parse(e,o)}return n})}},nce={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},sce={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=oce[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},ice=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},ace=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,s,a,o,l]:null},oce={matrix:ice,matrix3d:ace},j3={type:16,number:50,flags:Gm},lce=[j3,j3],cce={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Zn);return r.length!==2?lce:[r[0],r[1]]}},Ace={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},jp;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(jp||(jp={}));var dce={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return jp.BREAK_ALL;case"keep-all":return jp.KEEP_ALL;case"normal":default:return jp.NORMAL}}},uce={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Zh(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},RD={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},hce={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Zh(t)?t.number:1}},fce={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pce={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(qr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},mce={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},gce={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},vce={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Zh(t))return t.number;if(qr(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},yce={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(qr).map(function(r){return r.value})}},xce={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},as=function(e,t){return(e&t)!==0},wce={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},bce={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=t.filter(xD),a=0;a<s.length;a++){var o=s[a],l=s[a+1];if(o.type===20){var c=l&&Zh(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},Cce={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(xD),s=0;s<n.length;s++){var a=n[s],o=n[s+1];if(qr(a)&&a.value!=="none"){var l=o&&Zh(o)?o.number:0;r.push({counter:a.value,reset:l})}}return r}},Bce={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Vm).map(function(r){return RD.parse(e,r)})}},Nce={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],s=t.filter(Joe);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var o=s[a].value,l=s[a+1].value;n.push({open:o,close:l})}return n}},F3=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},Sce={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&O5(t[0],"none")?[]:Ho(t).map(function(r){for(var n={color:255,offsetX:Es,offsetY:Es,blur:Es,spread:Es,inset:!1},s=0,a=0;a<r.length;a++){var o=r[a];O5(o,"inset")?n.inset=!0:lA(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:s===2?n.blur=o:n.spread=o,s++):n.color=Vc.parse(e,o)}return n})}},Ece={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(qr).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},jce={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Fce={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Vm(t)?t.number:0}},kce=function(){function e(t,r){var n,s;this.animationDuration=vt(t,Bce,r.animationDuration),this.backgroundClip=vt(t,ele,r.backgroundClip),this.backgroundColor=vt(t,tle,r.backgroundColor),this.backgroundImage=vt(t,dle,r.backgroundImage),this.backgroundOrigin=vt(t,ule,r.backgroundOrigin),this.backgroundPosition=vt(t,hle,r.backgroundPosition),this.backgroundRepeat=vt(t,fle,r.backgroundRepeat),this.backgroundSize=vt(t,mle,r.backgroundSize),this.borderTopColor=vt(t,vle,r.borderTopColor),this.borderRightColor=vt(t,yle,r.borderRightColor),this.borderBottomColor=vt(t,xle,r.borderBottomColor),this.borderLeftColor=vt(t,wle,r.borderLeftColor),this.borderTopLeftRadius=vt(t,ble,r.borderTopLeftRadius),this.borderTopRightRadius=vt(t,Cle,r.borderTopRightRadius),this.borderBottomRightRadius=vt(t,Ble,r.borderBottomRightRadius),this.borderBottomLeftRadius=vt(t,Nle,r.borderBottomLeftRadius),this.borderTopStyle=vt(t,Sle,r.borderTopStyle),this.borderRightStyle=vt(t,Ele,r.borderRightStyle),this.borderBottomStyle=vt(t,jle,r.borderBottomStyle),this.borderLeftStyle=vt(t,Fle,r.borderLeftStyle),this.borderTopWidth=vt(t,kle,r.borderTopWidth),this.borderRightWidth=vt(t,Ile,r.borderRightWidth),this.borderBottomWidth=vt(t,Ple,r.borderBottomWidth),this.borderLeftWidth=vt(t,_le,r.borderLeftWidth),this.boxShadow=vt(t,Sce,r.boxShadow),this.color=vt(t,Tle,r.color),this.direction=vt(t,Lle,r.direction),this.display=vt(t,Ule,r.display),this.float=vt(t,Dle,r.cssFloat),this.fontFamily=vt(t,mce,r.fontFamily),this.fontSize=vt(t,gce,r.fontSize),this.fontStyle=vt(t,xce,r.fontStyle),this.fontVariant=vt(t,yce,r.fontVariant),this.fontWeight=vt(t,vce,r.fontWeight),this.letterSpacing=vt(t,Mle,r.letterSpacing),this.lineBreak=vt(t,Qle,r.lineBreak),this.lineHeight=vt(t,Ole,r.lineHeight),this.listStyleImage=vt(t,Hle,r.listStyleImage),this.listStylePosition=vt(t,$le,r.listStylePosition),this.listStyleType=vt(t,H5,r.listStyleType),this.marginTop=vt(t,zle,r.marginTop),this.marginRight=vt(t,Kle,r.marginRight),this.marginBottom=vt(t,Gle,r.marginBottom),this.marginLeft=vt(t,Vle,r.marginLeft),this.opacity=vt(t,hce,r.opacity);var a=vt(t,Wle,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=vt(t,qle,r.overflowWrap),this.paddingTop=vt(t,Xle,r.paddingTop),this.paddingRight=vt(t,Jle,r.paddingRight),this.paddingBottom=vt(t,Yle,r.paddingBottom),this.paddingLeft=vt(t,Zle,r.paddingLeft),this.paintOrder=vt(t,Ece,r.paintOrder),this.position=vt(t,tce,r.position),this.textAlign=vt(t,ece,r.textAlign),this.textDecorationColor=vt(t,fce,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=vt(t,pce,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=vt(t,rce,r.textShadow),this.textTransform=vt(t,nce,r.textTransform),this.transform=vt(t,sce,r.transform),this.transformOrigin=vt(t,cce,r.transformOrigin),this.visibility=vt(t,Ace,r.visibility),this.webkitTextStrokeColor=vt(t,jce,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=vt(t,Fce,r.webkitTextStrokeWidth),this.wordBreak=vt(t,dce,r.wordBreak),this.zIndex=vt(t,uce,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Wc(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return as(this.display,4)||as(this.display,33554432)||as(this.display,268435456)||as(this.display,536870912)||as(this.display,67108864)||as(this.display,134217728)},e}(),Ice=function(){function e(t,r){this.content=vt(t,wce,r.content),this.quotes=vt(t,Nce,r.quotes)}return e}(),k3=function(){function e(t,r){this.counterIncrement=vt(t,bce,r.counterIncrement),this.counterReset=vt(t,Cce,r.counterReset)}return e}(),vt=function(e,t,r){var n=new vD,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(s);var a=new yD(n.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,qr(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return zx.parse(e,a.parseComponentValue());case"color":return Vc.parse(e,a.parseComponentValue());case"image":return NN.parse(e,a.parseComponentValue());case"length":var l=a.parseComponentValue();return lA(l)?l:Es;case"length-percentage":var c=a.parseComponentValue();return Zn(c)?c:Es;case"time":return RD.parse(e,a.parseComponentValue())}break}},Pce="data-html2canvas-debug",_ce=function(e){var t=e.getAttribute(Pce);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},$5=function(e,t){var r=_ce(e);return r===1||t===r},$o=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,$5(r,3))debugger;this.styles=new kce(t,window.getComputedStyle(r,null)),G5(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Hx(this.context,r),$5(r,4)&&(this.flags|=16)}return e}(),Tce="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",I3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var D0=0;D0<I3.length;D0++)cp[I3.charCodeAt(D0)]=D0;var Lce=function(e){var t=e.length*.75,r=e.length,n,s=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)a=cp[e.charCodeAt(n)],o=cp[e.charCodeAt(n+1)],l=cp[e.charCodeAt(n+2)],c=cp[e.charCodeAt(n+3)],d[s++]=a<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return A},Uce=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Rce=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},cd=5,SN=11,eb=2,Dce=SN-cd,DD=65536>>cd,Mce=1<<cd,tb=Mce-1,Qce=1024>>cd,Oce=DD+Qce,Hce=Oce,$ce=32,zce=Hce+$ce,Kce=65536>>SN,Gce=1<<Dce,Vce=Gce-1,P3=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},Wce=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},qce=function(e,t){var r=Lce(e),n=Array.isArray(r)?Rce(r):new Uint32Array(r),s=Array.isArray(r)?Uce(r):new Uint16Array(r),a=24,o=P3(s,a/2,n[4]/2),l=n[5]===2?P3(s,(a+n[4])/2):Wce(n,Math.ceil((a+n[4])/4));return new Xce(n[0],n[1],n[2],n[3],o,l)},Xce=function(){function e(t,r,n,s,a,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>cd],r=(r<<eb)+(t&tb),this.data[r];if(t<=65535)return r=this.index[DD+(t-55296>>cd)],r=(r<<eb)+(t&tb),this.data[r];if(t<this.highStart)return r=zce-Kce+(t>>SN),r=this.index[r],r+=t>>cd&Vce,r=this.index[r],r=(r<<eb)+(t&tb),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),_3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jce=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var M0=0;M0<_3.length;M0++)Jce[_3.charCodeAt(M0)]=M0;var Yce=1,rb=2,nb=3,T3=4,L3=5,Zce=7,U3=8,sb=9,ib=10,R3=11,D3=12,M3=13,Q3=14,ab=15,eAe=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},tAe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,a="";++s<r;){var o=e[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},rAe=qce(Tce),da="",ob="",nAe=function(e){return rAe.get(e)},sAe=function(e,t,r){var n=r-2,s=t[n],a=t[r-1],o=t[r];if(a===rb&&o===nb)return da;if(a===rb||a===nb||a===T3||o===rb||o===nb||o===T3)return ob;if(a===U3&&[U3,sb,R3,D3].indexOf(o)!==-1||(a===R3||a===sb)&&(o===sb||o===ib)||(a===D3||a===ib)&&o===ib||o===M3||o===L3||o===Zce||a===Yce)return da;if(a===M3&&o===Q3){for(;s===L3;)s=t[--n];if(s===Q3)return da}if(a===ab&&o===ab){for(var l=0;s===ab;)l++,s=t[--n];if(l%2===0)return da}return ob},iAe=function(e){var t=eAe(e),r=t.length,n=0,s=0,a=t.map(nAe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=da;n<r&&(o=sAe(t,a,++n))===da;);if(o!==da||n===r){var l=tAe.apply(null,t.slice(s,n));return s=n,{value:l,done:!1}}return{done:!0,value:null}}}},aAe=function(e){for(var t=iAe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},oAe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),a=Math.round(s.height);if(e.body.removeChild(n),a===t)return!0}}return!1},lAe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,s=$x(n.data).map(function(c){return Hn(c)}),a=0,o={},l=s.every(function(c,A){r.setStart(n,a),r.setEnd(n,a+c.length);var d=r.getBoundingClientRect();a+=c.length;var u=d.x>o.x||d.y>o.y;return o=d,A===0?!0:u});return e.body.removeChild(t),l},cAe=function(){return typeof new Image().crossOrigin<"u"},AAe=function(){return typeof new XMLHttpRequest().responseType=="string"},dAe=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},O3=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},uAe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,a=t.toDataURL();s.src=a;var o=z5(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),H3(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var A=e.createElement("div");return A.style.backgroundImage="url("+a+")",A.style.height=r+"px",O3(c)?H3(z5(r,r,0,0,A)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),O3(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},z5=function(e,t,r,n,s){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},H3=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Cs={get SUPPORT_RANGE_BOUNDS(){var e=oAe(document);return Object.defineProperty(Cs,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Cs.SUPPORT_RANGE_BOUNDS&&lAe(document);return Object.defineProperty(Cs,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=dAe(document);return Object.defineProperty(Cs,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?uAe(document):Promise.resolve(!1);return Object.defineProperty(Cs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=cAe();return Object.defineProperty(Cs,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=AAe();return Object.defineProperty(Cs,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Cs,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Cs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Fp=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),hAe=function(e,t,r,n){var s=mAe(t,r),a=[],o=0;return s.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Cs.SUPPORT_RANGE_BOUNDS){var c=$3(n,o,l.length).getClientRects();if(c.length>1){var A=EN(l),d=0;A.forEach(function(p){a.push(new Fp(p,Pl.fromDOMRectList(e,$3(n,d+o,p.length).getClientRects()))),d+=p.length})}else a.push(new Fp(l,Pl.fromDOMRectList(e,c)))}else{var u=n.splitText(l.length);a.push(new Fp(l,fAe(e,n))),n=u}else Cs.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),a},fAe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var a=Hx(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),a}}return Pl.EMPTY},$3=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},EN=function(e){if(Cs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return aAe(e)},pAe=function(e,t){if(Cs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return vAe(e,t)},mAe=function(e,t){return t.letterSpacing!==0?EN(e):pAe(e,t)},gAe=[32,160,4961,65792,65793,4153,4241],vAe=function(e,t){for(var r=Kae(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],s,a=function(){if(s.value){var o=s.value.slice(),l=$x(o),c="";l.forEach(function(A){gAe.indexOf(A)===-1?c+=Hn(A):(c.length&&n.push(c),n.push(Hn(A)),c="")}),c.length&&n.push(c)}};!(s=r.next()).done;)a();return n},yAe=function(){function e(t,r,n){this.text=xAe(r.data,n.textTransform),this.textBounds=hAe(t,this.text,n,r)}return e}(),xAe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(wAe,bAe);case 2:return e.toUpperCase();default:return e}},wAe=/(^|\s|:|-|\(|\))([a-z])/g,bAe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},MD=function(e){io(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return t}($o),QD=function(e){io(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return t}($o),OD=function(e){io(t,e);function t(r,n){var s=e.call(this,r,n)||this,a=new XMLSerializer,o=Hx(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}($o),HD=function(e){io(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}($o),K5=function(e){io(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return t}($o),CAe=[{type:15,flags:0,unit:"px",number:3}],BAe=[{type:16,flags:0,number:50}],NAe=function(e){return e.width>e.height?new Pl(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Pl(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},SAe=function(e){var t=e.type===EAe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},Iy="checkbox",Py="radio",EAe="password",z3=707406591,jN=function(e){io(t,e);function t(r,n){var s=e.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=SAe(n),(s.type===Iy||s.type===Py)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=NAe(s.bounds)),s.type){case Iy:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=CAe;break;case Py:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=BAe;break}return s}return t}($o),$D=function(e){io(t,e);function t(r,n){var s=e.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return s.value=a&&a.text||"",s}return t}($o),zD=function(e){io(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}($o),KD=function(e){io(t,e);function t(r,n){var s=e.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=VD(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?Ep(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):wl.TRANSPARENT,o=n.contentWindow.document.body?Ep(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):wl.TRANSPARENT;s.backgroundColor=Wc(a)?Wc(o)?s.styles.backgroundColor:o:a}}catch{}return s}return t}($o),jAe=["OL","UL","MENU"],Nv=function(e,t,r,n){for(var s=t.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,WD(s)&&s.data.trim().length>0)r.textNodes.push(new yAe(e,s,r.styles));else if(Hu(s))if(YD(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return Nv(e,l,r,n)});else{var o=GD(e,s);o.styles.isVisible()&&(FAe(s,o,n)?o.flags|=4:kAe(o.styles)&&(o.flags|=2),jAe.indexOf(s.tagName)!==-1&&(o.flags|=8),r.elements.push(o),s.slot,s.shadowRoot?Nv(e,s.shadowRoot,o,n):!_y(s)&&!qD(s)&&!Ty(s)&&Nv(e,s,o,n))}},GD=function(e,t){return V5(t)?new MD(e,t):XD(t)?new QD(e,t):qD(t)?new OD(e,t):IAe(t)?new HD(e,t):PAe(t)?new K5(e,t):_Ae(t)?new jN(e,t):Ty(t)?new $D(e,t):_y(t)?new zD(e,t):JD(t)?new KD(e,t):new $o(e,t)},VD=function(e,t){var r=GD(e,t);return r.flags|=4,Nv(e,t,r,r),r},FAe=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||FN(e)&&r.styles.isTransparent()},kAe=function(e){return e.isPositioned()||e.isFloating()},WD=function(e){return e.nodeType===Node.TEXT_NODE},Hu=function(e){return e.nodeType===Node.ELEMENT_NODE},G5=function(e){return Hu(e)&&typeof e.style<"u"&&!Sv(e)},Sv=function(e){return typeof e.className=="object"},IAe=function(e){return e.tagName==="LI"},PAe=function(e){return e.tagName==="OL"},_Ae=function(e){return e.tagName==="INPUT"},TAe=function(e){return e.tagName==="HTML"},qD=function(e){return e.tagName==="svg"},FN=function(e){return e.tagName==="BODY"},XD=function(e){return e.tagName==="CANVAS"},K3=function(e){return e.tagName==="VIDEO"},V5=function(e){return e.tagName==="IMG"},JD=function(e){return e.tagName==="IFRAME"},G3=function(e){return e.tagName==="STYLE"},LAe=function(e){return e.tagName==="SCRIPT"},_y=function(e){return e.tagName==="TEXTAREA"},Ty=function(e){return e.tagName==="SELECT"},YD=function(e){return e.tagName==="SLOT"},V3=function(e){return e.tagName.indexOf("-")>0},UAe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,s=t.counterReset,a=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return a&&s.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},e}(),W3={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},q3={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},RAe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},DAe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},yu=function(e,t,r,n,s,a){return e<t||e>r?gm(e,s,a.length>0):n.integers.reduce(function(o,l,c){for(;e>=l;)e-=l,o+=n.values[c];return o},"")+a},ZD=function(e,t,r,n){var s="";do r||e--,s=n(e)+s,e/=t;while(e*t>=t);return s},On=function(e,t,r,n,s){var a=r-t+1;return(e<0?"-":"")+(ZD(Math.abs(e),a,n,function(o){return Hn(Math.floor(o%a)+t)})+s)},LA=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return ZD(Math.abs(e),n,!1,function(s){return t[Math.floor(s%n)]})+r},Bu=1,dc=2,uc=4,Ap=8,sl=function(e,t,r,n,s,a){if(e<-9999||e>9999)return gm(e,4,s.length>0);var o=Math.abs(e),l=s;if(o===0)return t[0]+l;for(var c=0;o>0&&c<=4;c++){var A=o%10;A===0&&as(a,Bu)&&l!==""?l=t[A]+l:A>1||A===1&&c===0||A===1&&c===1&&as(a,dc)||A===1&&c===1&&as(a,uc)&&e>100||A===1&&c>1&&as(a,Ap)?l=t[A]+(c>0?r[c-1]:"")+l:A===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},X3="",J3="",Y3="",lb="",gm=function(e,t,r){var n=r?". ":"",s=r?"":"",a=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=On(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return LA(e,"",s);case 6:return yu(e,1,3999,W3,3,n).toLowerCase();case 7:return yu(e,1,3999,W3,3,n);case 8:return On(e,945,969,!1,n);case 9:return On(e,97,122,!1,n);case 10:return On(e,65,90,!1,n);case 11:return On(e,1632,1641,!0,n);case 12:case 49:return yu(e,1,9999,q3,3,n);case 35:return yu(e,1,9999,q3,3,n).toLowerCase();case 13:return On(e,2534,2543,!0,n);case 14:case 30:return On(e,6112,6121,!0,n);case 15:return LA(e,"",s);case 16:return LA(e,"",s);case 17:case 48:return sl(e,"",X3,"",s,dc|uc|Ap);case 47:return sl(e,"",J3,"",s,Bu|dc|uc|Ap);case 42:return sl(e,"",X3,"",s,dc|uc|Ap);case 41:return sl(e,"",J3,"",s,Bu|dc|uc|Ap);case 26:return sl(e,"","",Y3,s,0);case 25:return sl(e,"","",Y3,s,Bu|dc|uc);case 31:return sl(e,"","",lb,a,Bu|dc|uc);case 33:return sl(e,"","",lb,a,0);case 32:return sl(e,"","",lb,a,Bu|dc|uc);case 18:return On(e,2406,2415,!0,n);case 20:return yu(e,1,19999,DAe,3,n);case 21:return On(e,2790,2799,!0,n);case 22:return On(e,2662,2671,!0,n);case 22:return yu(e,1,10999,RAe,3,n);case 23:return LA(e,"");case 24:return LA(e,"");case 27:return On(e,3302,3311,!0,n);case 28:return LA(e,"",s);case 29:return LA(e,"",s);case 34:return On(e,3792,3801,!0,n);case 37:return On(e,6160,6169,!0,n);case 38:return On(e,4160,4169,!0,n);case 39:return On(e,2918,2927,!0,n);case 40:return On(e,1776,1785,!0,n);case 43:return On(e,3046,3055,!0,n);case 44:return On(e,3174,3183,!0,n);case 45:return On(e,3664,3673,!0,n);case 46:return On(e,3872,3881,!0,n);case 3:default:return On(e,48,57,!0,n)}},eM="data-html2canvas-ignore",Z3=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new UAe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,s=MAe(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=s.contentWindow,c=l.document,A=HAe(s).then(function(){return ti(n,void 0,void 0,function(){var d,u;return $s(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(GAe),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),d=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,OAe(c)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(c,u)}).then(function(){return s})]:[2,s]}})})});return c.open(),c.write(zAe(document.doctype)+"<html></html>"),KAe(this.referenceElement.ownerDocument,a,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},e.prototype.createElementClone=function(t){if($5(t,2))debugger;if(XD(t))return this.createCanvasClone(t);if(K3(t))return this.createVideoClone(t);if(G3(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return V5(r)&&(V5(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),V3(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return cb(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),s=t.cloneNode(!1);return s.textContent=n,s}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var a=t.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,n){(!Hu(r)||!LAe(r)&&!r.hasAttribute(eM)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Hu(r)||!G3(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var s=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(Hu(a)&&YD(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(r,l,n)})}else this.appendChildNode(r,a,n)},e.prototype.cloneNode=function(t,r){if(WD(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Hu(t)&&(G5(t)||Sv(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var a=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&G5(s)&&(this.clonedReferenceElement=s),FN(s)&&qAe(s);var c=this.counters.parse(new k3(this.context,a)),A=this.resolvePseudoContent(t,s,o,kp.BEFORE);V3(t)&&(r=!0),K3(t)||this.cloneChildNodes(t,s,r),A&&s.insertBefore(A,s.firstChild);var d=this.resolvePseudoContent(t,s,l,kp.AFTER);return d&&s.appendChild(d),this.counters.pop(c),(a&&(this.options.copyStyles||Sv(t))&&!JD(t)||r)&&cb(a,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(_y(t)||Ty(t))&&(_y(s)||Ty(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,s){var a=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new k3(this.context,n));var c=new Ice(this.context,n),A=l.createElement("html2canvaspseudoelement");cb(n,A),c.content.forEach(function(u){if(u.type===0)A.appendChild(l.createTextNode(u.value));else if(u.type===22){var p=l.createElement("img");p.src=u.value,p.style.opacity="1",A.appendChild(p)}else if(u.type===18){if(u.name==="attr"){var f=u.values.filter(qr);f.length&&A.appendChild(l.createTextNode(t.getAttribute(f[0].value)||""))}else if(u.name==="counter"){var x=u.values.filter(Mh),m=x[0],N=x[1];if(m&&qr(m)){var g=a.counters.getCounterValue(m.value),y=N&&qr(N)?H5.parse(a.context,N.value):3;A.appendChild(l.createTextNode(gm(g,y,!1)))}}else if(u.name==="counters"){var w=u.values.filter(Mh),m=w[0],E=w[1],N=w[2];if(m&&qr(m)){var _=a.counters.getCounterValues(m.value),D=N&&qr(N)?H5.parse(a.context,N.value):3,R=E&&E.type===0?E.value:"",I=_.map(function(S){return gm(S,D,!1)}).join(R);A.appendChild(l.createTextNode(I))}}}else if(u.type===20)switch(u.value){case"open-quote":A.appendChild(l.createTextNode(F3(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":A.appendChild(l.createTextNode(F3(c.quotes,--a.quoteDepth,!1)));break;default:A.appendChild(l.createTextNode(u.value))}}),A.className=W5+" "+q5;var d=s===kp.BEFORE?" "+W5:" "+q5;return Sv(r)?r.className.baseValue+=d:r.className+=d,A}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),kp;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(kp||(kp={}));var MAe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(eM,"true"),e.body.appendChild(r),r},QAe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},OAe=function(e){return Promise.all([].slice.call(e.images,0).map(QAe))},HAe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var a=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},$Ae=["all","d","content"],cb=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);$Ae.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},zAe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},KAe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},GAe=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},VAe=":before",WAe=":after",W5="___html2canvas___pseudoelement_before",q5="___html2canvas___pseudoelement_after",eF=`{
    content: "" !important;
    display: none !important;
}`,qAe=function(e){XAe(e,"."+W5+VAe+eF+`
         .`+q5+WAe+eF)},XAe=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},tM=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),JAe=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(db(t)||tde(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return ti(this,void 0,void 0,function(){var r,n,s,a,o=this;return $s(this,function(l){switch(l.label){case 0:return r=tM.isSameOrigin(t),n=!Ab(t)&&this._options.useCORS===!0&&Cs.SUPPORT_CORS_IMAGES&&!r,s=!Ab(t)&&!r&&!db(t)&&typeof this._options.proxy=="string"&&Cs.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Ab(t)&&!db(t)&&!s&&!n?[2]:(a=t,s?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,A){var d=new Image;d.onload=function(){return c(d)},d.onerror=A,(rde(a)||n)&&(d.crossOrigin="anonymous"),d.src=a,d.complete===!0&&setTimeout(function(){return c(d)},500),o._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(a,o){var l=Cs.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")a(c.response);else{var u=new FileReader;u.addEventListener("load",function(){return a(u.result)},!1),u.addEventListener("error",function(p){return o(p)},!1),u.readAsDataURL(c.response)}else o("Failed to proxy resource "+s+" with status code "+c.status)},c.onerror=o;var A=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+A+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var d=r._options.imageTimeout;c.timeout=d,c.ontimeout=function(){return o("Timed out ("+d+"ms) proxying "+s)}}c.send()})},e}(),YAe=/^data:image\/svg\+xml/i,ZAe=/^data:image\/.*;base64,/i,ede=/^data:image\/.*/i,tde=function(e){return Cs.SUPPORT_SVG_DRAWING||!nde(e)},Ab=function(e){return ede.test(e)},rde=function(e){return ZAe.test(e)},db=function(e){return e.substr(0,4)==="blob"},nde=function(e){return e.substr(-3).toLowerCase()==="svg"||YAe.test(e)},ut=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),xu=function(e,t,r){return new ut(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},Q0=function(){function e(t,r,n,s){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=s}return e.prototype.subdivide=function(t,r){var n=xu(this.start,this.startControl,t),s=xu(this.startControl,this.endControl,t),a=xu(this.endControl,this.end,t),o=xu(n,s,t),l=xu(s,a,t),c=xu(o,l,t);return r?new e(this.start,n,o,c):new e(c,l,a,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),ma=function(e){return e.type===1},sde=function(){function e(t){var r=t.styles,n=t.bounds,s=lp(r.borderTopLeftRadius,n.width,n.height),a=s[0],o=s[1],l=lp(r.borderTopRightRadius,n.width,n.height),c=l[0],A=l[1],d=lp(r.borderBottomRightRadius,n.width,n.height),u=d[0],p=d[1],f=lp(r.borderBottomLeftRadius,n.width,n.height),x=f[0],m=f[1],N=[];N.push((a+c)/n.width),N.push((x+u)/n.width),N.push((o+m)/n.height),N.push((A+p)/n.height);var g=Math.max.apply(Math,N);g>1&&(a/=g,o/=g,c/=g,A/=g,u/=g,p/=g,x/=g,m/=g);var y=n.width-c,w=n.height-p,E=n.width-u,_=n.height-m,D=r.borderTopWidth,R=r.borderRightWidth,I=r.borderBottomWidth,Q=r.borderLeftWidth,U=sn(r.paddingTop,t.bounds.width),S=sn(r.paddingRight,t.bounds.width),P=sn(r.paddingBottom,t.bounds.width),O=sn(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?vn(n.left+Q/3,n.top+D/3,a-Q/3,o-D/3,Dr.TOP_LEFT):new ut(n.left+Q/3,n.top+D/3),this.topRightBorderDoubleOuterBox=a>0||o>0?vn(n.left+y,n.top+D/3,c-R/3,A-D/3,Dr.TOP_RIGHT):new ut(n.left+n.width-R/3,n.top+D/3),this.bottomRightBorderDoubleOuterBox=u>0||p>0?vn(n.left+E,n.top+w,u-R/3,p-I/3,Dr.BOTTOM_RIGHT):new ut(n.left+n.width-R/3,n.top+n.height-I/3),this.bottomLeftBorderDoubleOuterBox=x>0||m>0?vn(n.left+Q/3,n.top+_,x-Q/3,m-I/3,Dr.BOTTOM_LEFT):new ut(n.left+Q/3,n.top+n.height-I/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?vn(n.left+Q*2/3,n.top+D*2/3,a-Q*2/3,o-D*2/3,Dr.TOP_LEFT):new ut(n.left+Q*2/3,n.top+D*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?vn(n.left+y,n.top+D*2/3,c-R*2/3,A-D*2/3,Dr.TOP_RIGHT):new ut(n.left+n.width-R*2/3,n.top+D*2/3),this.bottomRightBorderDoubleInnerBox=u>0||p>0?vn(n.left+E,n.top+w,u-R*2/3,p-I*2/3,Dr.BOTTOM_RIGHT):new ut(n.left+n.width-R*2/3,n.top+n.height-I*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||m>0?vn(n.left+Q*2/3,n.top+_,x-Q*2/3,m-I*2/3,Dr.BOTTOM_LEFT):new ut(n.left+Q*2/3,n.top+n.height-I*2/3),this.topLeftBorderStroke=a>0||o>0?vn(n.left+Q/2,n.top+D/2,a-Q/2,o-D/2,Dr.TOP_LEFT):new ut(n.left+Q/2,n.top+D/2),this.topRightBorderStroke=a>0||o>0?vn(n.left+y,n.top+D/2,c-R/2,A-D/2,Dr.TOP_RIGHT):new ut(n.left+n.width-R/2,n.top+D/2),this.bottomRightBorderStroke=u>0||p>0?vn(n.left+E,n.top+w,u-R/2,p-I/2,Dr.BOTTOM_RIGHT):new ut(n.left+n.width-R/2,n.top+n.height-I/2),this.bottomLeftBorderStroke=x>0||m>0?vn(n.left+Q/2,n.top+_,x-Q/2,m-I/2,Dr.BOTTOM_LEFT):new ut(n.left+Q/2,n.top+n.height-I/2),this.topLeftBorderBox=a>0||o>0?vn(n.left,n.top,a,o,Dr.TOP_LEFT):new ut(n.left,n.top),this.topRightBorderBox=c>0||A>0?vn(n.left+y,n.top,c,A,Dr.TOP_RIGHT):new ut(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||p>0?vn(n.left+E,n.top+w,u,p,Dr.BOTTOM_RIGHT):new ut(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=x>0||m>0?vn(n.left,n.top+_,x,m,Dr.BOTTOM_LEFT):new ut(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||o>0?vn(n.left+Q,n.top+D,Math.max(0,a-Q),Math.max(0,o-D),Dr.TOP_LEFT):new ut(n.left+Q,n.top+D),this.topRightPaddingBox=c>0||A>0?vn(n.left+Math.min(y,n.width-R),n.top+D,y>n.width+R?0:Math.max(0,c-R),Math.max(0,A-D),Dr.TOP_RIGHT):new ut(n.left+n.width-R,n.top+D),this.bottomRightPaddingBox=u>0||p>0?vn(n.left+Math.min(E,n.width-Q),n.top+Math.min(w,n.height-I),Math.max(0,u-R),Math.max(0,p-I),Dr.BOTTOM_RIGHT):new ut(n.left+n.width-R,n.top+n.height-I),this.bottomLeftPaddingBox=x>0||m>0?vn(n.left+Q,n.top+Math.min(_,n.height-I),Math.max(0,x-Q),Math.max(0,m-I),Dr.BOTTOM_LEFT):new ut(n.left+Q,n.top+n.height-I),this.topLeftContentBox=a>0||o>0?vn(n.left+Q+O,n.top+D+U,Math.max(0,a-(Q+O)),Math.max(0,o-(D+U)),Dr.TOP_LEFT):new ut(n.left+Q+O,n.top+D+U),this.topRightContentBox=c>0||A>0?vn(n.left+Math.min(y,n.width+Q+O),n.top+D+U,y>n.width+Q+O?0:c-Q+O,A-(D+U),Dr.TOP_RIGHT):new ut(n.left+n.width-(R+S),n.top+D+U),this.bottomRightContentBox=u>0||p>0?vn(n.left+Math.min(E,n.width-(Q+O)),n.top+Math.min(w,n.height+D+U),Math.max(0,u-(R+S)),p-(I+P),Dr.BOTTOM_RIGHT):new ut(n.left+n.width-(R+S),n.top+n.height-(I+P)),this.bottomLeftContentBox=x>0||m>0?vn(n.left+Q+O,n.top+_,Math.max(0,x-(Q+O)),m-(I+P),Dr.BOTTOM_LEFT):new ut(n.left+Q+O,n.top+n.height-(I+P))}return e}(),Dr;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Dr||(Dr={}));var vn=function(e,t,r,n,s){var a=4*((Math.sqrt(2)-1)/3),o=r*a,l=n*a,c=e+r,A=t+n;switch(s){case Dr.TOP_LEFT:return new Q0(new ut(e,A),new ut(e,A-l),new ut(c-o,t),new ut(c,t));case Dr.TOP_RIGHT:return new Q0(new ut(e,t),new ut(e+o,t),new ut(c,A-l),new ut(c,A));case Dr.BOTTOM_RIGHT:return new Q0(new ut(c,t),new ut(c,t+l),new ut(e+o,A),new ut(e,A));case Dr.BOTTOM_LEFT:default:return new Q0(new ut(c,A),new ut(c-o,A),new ut(e,t+l),new ut(e,t))}},Ly=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},ide=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Uy=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},ade=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),O0=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),ode=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),lde=function(e){return e.type===0},rM=function(e){return e.type===1},cde=function(e){return e.type===2},tF=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},Ade=function(e,t,r,n,s){return e.map(function(a,o){switch(o){case 0:return a.add(t,r);case 1:return a.add(t+n,r);case 2:return a.add(t+n,r+s);case 3:return a.add(t,r+s)}return a})},nM=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),sM=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new sde(this.container),this.container.styles.opacity<1&&this.effects.push(new ode(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new ade(n,s,a))}if(this.container.styles.overflowX!==0){var o=Ly(this.curves),l=Uy(this.curves);tF(o,l)?this.effects.push(new O0(o,6)):(this.effects.push(new O0(o,2)),this.effects.push(new O0(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var a=n.effects.filter(function(c){return!rM(c)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=Ly(n.curves),l=Uy(n.curves);tF(o,l)||s.unshift(new O0(l,6))}}else s.unshift.apply(s,a);n=n.parent}return s.filter(function(c){return as(c.target,t)})},e}(),X5=function(e,t,r,n){e.container.elements.forEach(function(s){var a=as(s.flags,4),o=as(s.flags,2),l=new sM(s,e);as(s.styles.display,2048)&&n.push(l);var c=as(s.flags,8)?[]:n;if(a||o){var A=a||s.styles.isPositioned()?r:t,d=new nM(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var u=s.styles.zIndex.order;if(u<0){var p=0;A.negativeZIndex.some(function(x,m){return u>x.element.container.styles.zIndex.order?(p=m,!1):p>0}),A.negativeZIndex.splice(p,0,d)}else if(u>0){var f=0;A.positiveZIndex.some(function(x,m){return u>=x.element.container.styles.zIndex.order?(f=m+1,!1):f>0}),A.positiveZIndex.splice(f,0,d)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else s.styles.isFloating()?A.nonPositionedFloats.push(d):A.nonPositionedInlineLevel.push(d);X5(l,d,a?d:r,c)}else s.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),X5(l,t,r,c);as(s.flags,8)&&iM(s,c)})},iM=function(e,t){for(var r=e instanceof K5?e.start:1,n=e instanceof K5?e.reversed:!1,s=0;s<t.length;s++){var a=t[s];a.container instanceof HD&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=gm(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},dde=function(e){var t=new sM(e,null),r=new nM(t),n=[];return X5(t,r,r,n),iM(t.container,n),r},rF=function(e,t){switch(t){case 0:return ba(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ba(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ba(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ba(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},ude=function(e,t){switch(t){case 0:return ba(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ba(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ba(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ba(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},hde=function(e,t){switch(t){case 0:return ba(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ba(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ba(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ba(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},fde=function(e,t){switch(t){case 0:return H0(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return H0(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return H0(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return H0(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},H0=function(e,t){var r=[];return ma(e)?r.push(e.subdivide(.5,!1)):r.push(e),ma(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},ba=function(e,t,r,n){var s=[];return ma(e)?s.push(e.subdivide(.5,!1)):s.push(e),ma(r)?s.push(r.subdivide(.5,!0)):s.push(r),ma(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),ma(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},aM=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Ry=function(e){var t=e.styles,r=e.bounds,n=sn(t.paddingLeft,r.width),s=sn(t.paddingRight,r.width),a=sn(t.paddingTop,r.width),o=sn(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+a+o))},pde=function(e,t){return e===0?t.bounds:e===2?Ry(t):aM(t)},mde=function(e,t){return e===0?t.bounds:e===2?Ry(t):aM(t)},ub=function(e,t,r){var n=pde(Nu(e.styles.backgroundOrigin,t),e),s=mde(Nu(e.styles.backgroundClip,t),e),a=gde(Nu(e.styles.backgroundSize,t),r,n),o=a[0],l=a[1],c=lp(Nu(e.styles.backgroundPosition,t),n.width-o,n.height-l),A=vde(Nu(e.styles.backgroundRepeat,t),c,a,n,s),d=Math.round(n.left+c[0]),u=Math.round(n.top+c[1]);return[A,d,u,o,l]},wu=function(e){return qr(e)&&e.value===ch.AUTO},$0=function(e){return typeof e=="number"},gde=function(e,t,r){var n=t[0],s=t[1],a=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(Zn(o)&&l&&Zn(l))return[sn(o,r.width),sn(l,r.height)];var c=$0(a);if(qr(o)&&(o.value===ch.CONTAIN||o.value===ch.COVER)){if($0(a)){var A=r.width/r.height;return A<a!=(o.value===ch.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var d=$0(n),u=$0(s),p=d||u;if(wu(o)&&(!l||wu(l))){if(d&&u)return[n,s];if(!c&&!p)return[r.width,r.height];if(p&&c){var f=d?n:s*a,x=u?s:n/a;return[f,x]}var m=d?n:r.width,N=u?s:r.height;return[m,N]}if(c){var g=0,y=0;return Zn(o)?g=sn(o,r.width):Zn(l)&&(y=sn(l,r.height)),wu(o)?g=y*a:(!l||wu(l))&&(y=g/a),[g,y]}var w=null,E=null;if(Zn(o)?w=sn(o,r.width):l&&Zn(l)&&(E=sn(l,r.height)),w!==null&&(!l||wu(l))&&(E=d&&u?w/n*s:r.height),E!==null&&wu(o)&&(w=d&&u?E/s*n:r.width),w!==null&&E!==null)return[w,E];throw new Error("Unable to calculate background-size for element")},Nu=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},vde=function(e,t,r,n,s){var a=t[0],o=t[1],l=r[0],c=r[1];switch(e){case 2:return[new ut(Math.round(n.left),Math.round(n.top+o)),new ut(Math.round(n.left+n.width),Math.round(n.top+o)),new ut(Math.round(n.left+n.width),Math.round(c+n.top+o)),new ut(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new ut(Math.round(n.left+a),Math.round(n.top)),new ut(Math.round(n.left+a+l),Math.round(n.top)),new ut(Math.round(n.left+a+l),Math.round(n.height+n.top)),new ut(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new ut(Math.round(n.left+a),Math.round(n.top+o)),new ut(Math.round(n.left+a+l),Math.round(n.top+o)),new ut(Math.round(n.left+a+l),Math.round(n.top+o+c)),new ut(Math.round(n.left+a),Math.round(n.top+o+c))];default:return[new ut(Math.round(s.left),Math.round(s.top)),new ut(Math.round(s.left+s.width),Math.round(s.top)),new ut(Math.round(s.left+s.width),Math.round(s.height+s.top)),new ut(Math.round(s.left),Math.round(s.height+s.top))]}},yde="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",nF="Hidden Text",xde=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),s.src=yde,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(nF)),n.appendChild(a),n.appendChild(s);var l=s.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(nF)),n.style.lineHeight="normal",s.style.verticalAlign="super";var c=s.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),oM=function(){function e(t,r){this.context=t,this.options=r}return e}(),wde=1e4,bde=function(e){io(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new xde(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),cde(r)&&(this.ctx.globalAlpha=r.opacity),lde(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),rM(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return ti(this,void 0,void 0,function(){var n;return $s(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return ti(this,void 0,void 0,function(){return $s(this,function(n){switch(n.label){case 0:if(as(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,s){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var o=EN(r.text);o.reduce(function(l,c){return a.ctx.fillText(c,l,r.bounds.top+s),l+a.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=Ede(r.fontFamily).join(", "),a=Vm(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,s].join(" "),s,a]},t.prototype.renderTextNode=function(r,n){return ti(this,void 0,void 0,function(){var s,a,o,l,c,A,d,u,p=this;return $s(this,function(f){return s=this.createFontStyle(n),a=s[0],o=s[1],l=s[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),A=c.baseline,d=c.middle,u=n.paintOrder,r.textBounds.forEach(function(x){u.forEach(function(m){switch(m){case 0:p.ctx.fillStyle=fs(n.color),p.renderTextWithLetterSpacing(x,n.letterSpacing,A);var N=n.textShadow;N.length&&x.text.trim().length&&(N.slice(0).reverse().forEach(function(g){p.ctx.shadowColor=fs(g.color),p.ctx.shadowOffsetX=g.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=g.offsetY.number*p.options.scale,p.ctx.shadowBlur=g.blur.number,p.renderTextWithLetterSpacing(x,n.letterSpacing,A)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=fs(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(g){switch(g){case 1:p.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+A),x.bounds.width,1);break;case 2:p.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:p.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+d),x.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&x.text.trim().length&&(p.ctx.strokeStyle=fs(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+A)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=Ry(r),o=Uy(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return ti(this,void 0,void 0,function(){var n,s,a,o,l,c,y,y,A,d,u,p,E,f,x,_,m,N,g,y,w,E,_;return $s(this,function(D){switch(D.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,a=n.styles,o=0,l=n.textNodes,D.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,a)]):[3,4];case 2:D.sent(),D.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof MD))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=D.sent(),this.renderReplacedElement(n,s,y),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof QD&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof OD))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=D.sent(),this.renderReplacedElement(n,s,y),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof KD&&n.tree?(A=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,A.render(n.tree)]):[3,14];case 13:d=D.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),D.label=14;case 14:if(n instanceof jN&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===Iy?n.checked&&(this.ctx.save(),this.path([new ut(n.bounds.left+u*.39363,n.bounds.top+u*.79),new ut(n.bounds.left+u*.16,n.bounds.top+u*.5549),new ut(n.bounds.left+u*.27347,n.bounds.top+u*.44071),new ut(n.bounds.left+u*.39694,n.bounds.top+u*.5649),new ut(n.bounds.left+u*.72983,n.bounds.top+u*.23),new ut(n.bounds.left+u*.84,n.bounds.top+u*.34085),new ut(n.bounds.left+u*.39363,n.bounds.top+u*.79)]),this.ctx.fillStyle=fs(z3),this.ctx.fill(),this.ctx.restore()):n.type===Py&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=fs(z3),this.ctx.fill(),this.ctx.restore())),Cde(n)&&n.value.length){switch(p=this.createFontStyle(a),E=p[0],f=p[1],x=this.fontMetrics.getMetrics(E,f).baseline,this.ctx.font=E,this.ctx.fillStyle=fs(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Nde(n.styles.textAlign),_=Ry(n),m=0,n.styles.textAlign){case 1:m+=_.width/2;break;case 2:m+=_.width;break}N=_.add(m,0,0,-_.height/2+1),this.ctx.save(),this.path([new ut(_.left,_.top),new ut(_.left+_.width,_.top),new ut(_.left+_.width,_.top+_.height),new ut(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Fp(n.value,N),a.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!as(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(g=n.styles.listStyleImage,g.type!==0)return[3,18];y=void 0,w=g.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return y=D.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(E=this.createFontStyle(a)[0],this.ctx.font=E,this.ctx.fillStyle=fs(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new Pl(n.bounds.left,n.bounds.top+sn(n.styles.paddingTop,n.bounds.width),n.bounds.width,E3(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Fp(r.listValue,_),a.letterSpacing,E3(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return ti(this,void 0,void 0,function(){var n,s,g,a,o,g,l,c,g,A,d,g,u,p,g,f,x,g,m,N,g;return $s(this,function(y){switch(y.label){case 0:if(as(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,s=r.negativeZIndex,y.label=2;case 2:return n<s.length?(g=s[n],[4,this.renderStack(g)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),a=0,o=r.nonInlineLevel,y.label=7;case 7:return a<o.length?(g=o[a],[4,this.renderNode(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return a++,[3,7];case 10:l=0,c=r.nonPositionedFloats,y.label=11;case 11:return l<c.length?(g=c[l],[4,this.renderStack(g)]):[3,14];case 12:y.sent(),y.label=13;case 13:return l++,[3,11];case 14:A=0,d=r.nonPositionedInlineLevel,y.label=15;case 15:return A<d.length?(g=d[A],[4,this.renderStack(g)]):[3,18];case 16:y.sent(),y.label=17;case 17:return A++,[3,15];case 18:u=0,p=r.inlineLevel,y.label=19;case 19:return u<p.length?(g=p[u],[4,this.renderNode(g)]):[3,22];case 20:y.sent(),y.label=21;case 21:return u++,[3,19];case 22:f=0,x=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return f<x.length?(g=x[f],[4,this.renderStack(g)]):[3,26];case 24:y.sent(),y.label=25;case 25:return f++,[3,23];case 26:m=0,N=r.positiveZIndex,y.label=27;case 27:return m<N.length?(g=N[m],[4,this.renderStack(g)]):[3,30];case 28:y.sent(),y.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(s,a){var o=ma(s)?s.start:s;a===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),ma(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,n,s,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},t.prototype.resizeImage=function(r,n,s){var a;if(r.width===n&&r.height===s)return r;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,s);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,s),l},t.prototype.renderBackgroundImage=function(r){return ti(this,void 0,void 0,function(){var n,s,a,o,l,c;return $s(this,function(A){switch(A.label){case 0:n=r.styles.backgroundImage.length-1,s=function(d){var u,p,f,U,H,q,O,k,I,x,U,H,q,O,k,m,N,g,y,w,E,_,D,R,I,Q,U,S,P,O,k,Z,H,q,K,W,te,ue,T,$,V,se;return $s(this,function(Y){switch(Y.label){case 0:if(d.type!==0)return[3,5];u=void 0,p=d.url,Y.label=1;case 1:return Y.trys.push([1,3,,4]),[4,a.context.cache.match(p)];case 2:return u=Y.sent(),[3,4];case 3:return Y.sent(),a.context.logger.error("Error loading background-image "+p),[3,4];case 4:return u&&(f=ub(r,n,[u.width,u.height,u.width/u.height]),U=f[0],H=f[1],q=f[2],O=f[3],k=f[4],I=a.ctx.createPattern(a.resizeImage(u,O,k),"repeat"),a.renderRepeat(U,I,H,q)),[3,6];case 5:lle(d)?(x=ub(r,n,[null,null,null]),U=x[0],H=x[1],q=x[2],O=x[3],k=x[4],m=nle(d.angle,O,k),N=m[0],g=m[1],y=m[2],w=m[3],E=m[4],_=document.createElement("canvas"),_.width=O,_.height=k,D=_.getContext("2d"),R=D.createLinearGradient(g,w,y,E),N3(d.stops,N).forEach(function(L){return R.addColorStop(L.stop,fs(L.color))}),D.fillStyle=R,D.fillRect(0,0,O,k),O>0&&k>0&&(I=a.ctx.createPattern(_,"repeat"),a.renderRepeat(U,I,H,q))):cle(d)&&(Q=ub(r,n,[null,null,null]),U=Q[0],S=Q[1],P=Q[2],O=Q[3],k=Q[4],Z=d.position.length===0?[BN]:d.position,H=sn(Z[0],O),q=sn(Z[Z.length-1],k),K=sle(d,H,q,O,k),W=K[0],te=K[1],W>0&&te>0&&(ue=a.ctx.createRadialGradient(S+H,P+q,0,S+H,P+q,W),N3(d.stops,W*2).forEach(function(L){return ue.addColorStop(L.stop,fs(L.color))}),a.path(U),a.ctx.fillStyle=ue,W!==te?(T=r.bounds.left+.5*r.bounds.width,$=r.bounds.top+.5*r.bounds.height,V=te/W,se=1/V,a.ctx.save(),a.ctx.translate(T,$),a.ctx.transform(1,0,0,V,0,0),a.ctx.translate(-T,-$),a.ctx.fillRect(S,se*(P-$)+$,O,k*se),a.ctx.restore()):a.ctx.fill())),Y.label=6;case 6:return n--,[2]}})},a=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return o<l.length?(c=l[o],[5,s(c)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,s){return ti(this,void 0,void 0,function(){return $s(this,function(a){return this.path(rF(s,n)),this.ctx.fillStyle=fs(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,s,a){return ti(this,void 0,void 0,function(){var o,l;return $s(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,a)]:[3,2];case 1:return c.sent(),[2];case 2:return o=ude(a,s),this.path(o),this.ctx.fillStyle=fs(r),this.ctx.fill(),l=hde(a,s),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return ti(this,void 0,void 0,function(){var n,s,a,o,l,c,A,d,u=this;return $s(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!Wc(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=Bde(Nu(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Wc(n.backgroundColor)||(this.ctx.fillStyle=fs(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){u.ctx.save();var x=Ly(r.curves),m=f.inset?0:wde,N=Ade(x,-m+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(u.path(x),u.ctx.clip(),u.mask(N)):(u.mask(x),u.ctx.clip(),u.path(N)),u.ctx.shadowOffsetX=f.offsetX.number+m,u.ctx.shadowOffsetY=f.offsetY.number,u.ctx.shadowColor=fs(f.color),u.ctx.shadowBlur=f.blur.number,u.ctx.fillStyle=f.inset?fs(f.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),p.label=2;case 2:l=0,c=0,A=a,p.label=3;case 3:return c<A.length?(d=A[c],d.style!==0&&!Wc(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,l,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,l,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,l,r.curves)];case 10:p.sent(),p.label=11;case 11:l++,p.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,s,a,o){return ti(this,void 0,void 0,function(){var l,c,A,d,u,p,f,x,m,N,g,y,w,E,_,D,_,D;return $s(this,function(R){return this.ctx.save(),l=fde(a,s),c=rF(a,s),o===2&&(this.path(c),this.ctx.clip()),ma(c[0])?(A=c[0].start.x,d=c[0].start.y):(A=c[0].x,d=c[0].y),ma(c[1])?(u=c[1].end.x,p=c[1].end.y):(u=c[1].x,p=c[1].y),s===0||s===2?f=Math.abs(A-u):f=Math.abs(d-p),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),x=n<3?n*3:n*2,m=n<3?n*2:n,o===3&&(x=n,m=n),N=!0,f<=x*2?N=!1:f<=x*2+m?(g=f/(2*x+m),x*=g,m*=g):(y=Math.floor((f+m)/(x+m)),w=(f-y*x)/(y-1),E=(f-(y+1)*x)/y,m=E<=0||Math.abs(m-w)<Math.abs(m-E)?w:E),N&&(o===3?this.ctx.setLineDash([0,x+m]):this.ctx.setLineDash([x,m])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=fs(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ma(c[0])&&(_=c[3],D=c[0],this.ctx.beginPath(),this.formatPath([new ut(_.end.x,_.end.y),new ut(D.start.x,D.start.y)]),this.ctx.stroke()),ma(c[1])&&(_=c[1],D=c[2],this.ctx.beginPath(),this.formatPath([new ut(_.end.x,_.end.y),new ut(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return ti(this,void 0,void 0,function(){var n;return $s(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=fs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=dde(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(oM),Cde=function(e){return e instanceof zD||e instanceof $D?!0:e instanceof jN&&e.type!==Py&&e.type!==Iy},Bde=function(e,t){switch(e){case 0:return Ly(t);case 2:return ide(t);case 1:default:return Uy(t)}},Nde=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Sde=["-apple-system","system-ui"],Ede=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Sde.indexOf(t)===-1}):e},jde=function(e){io(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return t.prototype.render=function(r){return ti(this,void 0,void 0,function(){var n,s;return $s(this,function(a){switch(a.label){case 0:return n=z5(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Fde(n)];case 1:return s=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=fs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(oM),Fde=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},kde=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,w0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,w0([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,w0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,w0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),Ide=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new kde({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new JAe(this,t)}return e.instanceCount=1,e}(),Pde=function(e,t){return t===void 0&&(t={}),_de(e,t)};typeof window<"u"&&tM.setContext(window);var _de=function(e,t){return ti(void 0,void 0,void 0,function(){var r,n,s,a,o,l,c,A,d,u,p,f,x,m,N,g,y,w,E,_,R,D,R,I,Q,U,S,P,O,k,Z,H,q,K,W,te,ue,T,$,V;return $s(this,function(se){switch(se.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(I=t.allowTaint)!==null&&I!==void 0?I:!1,imageTimeout:(Q=t.imageTimeout)!==null&&Q!==void 0?Q:15e3,proxy:t.proxy,useCORS:(U=t.useCORS)!==null&&U!==void 0?U:!1},a=F5({logging:(S=t.logging)!==null&&S!==void 0?S:!0,cache:t.cache},s),o={windowWidth:(P=t.windowWidth)!==null&&P!==void 0?P:n.innerWidth,windowHeight:(O=t.windowHeight)!==null&&O!==void 0?O:n.innerHeight,scrollX:(k=t.scrollX)!==null&&k!==void 0?k:n.pageXOffset,scrollY:(Z=t.scrollY)!==null&&Z!==void 0?Z:n.pageYOffset},l=new Pl(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new Ide(a,l),A=(H=t.foreignObjectRendering)!==null&&H!==void 0?H:!1,d={allowTaint:(q=t.allowTaint)!==null&&q!==void 0?q:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:A,copyStyles:A},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),u=new Z3(c,e,d),p=u.clonedReferenceElement,p?[4,u.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=se.sent(),x=FN(p)||TAe(p)?Aae(p.ownerDocument):Hx(c,p),m=x.width,N=x.height,g=x.left,y=x.top,w=Tde(c,p,t.backgroundColor),E={canvas:t.canvas,backgroundColor:w,scale:(W=(K=t.scale)!==null&&K!==void 0?K:n.devicePixelRatio)!==null&&W!==void 0?W:1,x:((te=t.x)!==null&&te!==void 0?te:0)+g,y:((ue=t.y)!==null&&ue!==void 0?ue:0)+y,width:(T=t.width)!==null&&T!==void 0?T:Math.ceil(m),height:($=t.height)!==null&&$!==void 0?$:Math.ceil(N)},A?(c.logger.debug("Document cloned, using foreign object rendering"),R=new jde(c,E),[4,R.render(p)]):[3,3];case 2:return _=se.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+g+","+y+" with size "+m+"x"+N+" using computed rendering"),c.logger.debug("Starting DOM parsing"),D=VD(c,p),w===D.styles.backgroundColor&&(D.styles.backgroundColor=wl.TRANSPARENT),c.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),R=new bde(c,E),[4,R.render(D)];case 4:_=se.sent(),se.label=5;case 5:return(!((V=t.removeContainer)!==null&&V!==void 0)||V)&&(Z3.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,_]}})})},Tde=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?Ep(e,getComputedStyle(n.documentElement).backgroundColor):wl.TRANSPARENT,a=n.body?Ep(e,getComputedStyle(n.body).backgroundColor):wl.TRANSPARENT,o=typeof r=="string"?Ep(e,r):r===null?wl.TRANSPARENT:4294967295;return t===n.documentElement?Wc(s)?Wc(a)?o:a:s:o};const Lde=Object.freeze(Object.defineProperty({__proto__:null,default:Pde},Symbol.toStringTag,{value:"Module"}));function sF(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,a]=b.useState(!1),[o,l]=b.useState("input");b.useState(!1);const[c,A]=b.useState(""),[d,u]=b.useState("");b.useState(""),b.useState(!1),b.useState(!1),b.useState("");const[p,f]=b.useState(!1);b.useState(""),b.useState(!1);const[x,m]=b.useState([]),[N,g]=b.useState([]),[y,w]=b.useState(!1);b.useState(!1),b.useState(!1),b.useState(!1),b.useState("");const[E,_]=Sm();b.useEffect(()=>{const Q=localStorage.getItem(bt.PROJECT_DESCRIPTION),U=localStorage.getItem(bt.PROJECT_PLAN),S=localStorage.getItem(bt.CURRENT_DIAGRAM);Q&&t(Q),U&&n(U),S&&u(S),l(S?"diagram":U?"plan":"input")},[E]);const D=async()=>{if(!e.trim()){A("Please enter a project description");return}w(!0),A("");try{const Q=await iy(e);g(Q),w(!1),f(!0),localStorage.setItem(bt.PROJECT_DESCRIPTION,e)}catch(Q){console.error("Error generating suggestions:",Q),A("Failed to generate suggestions. Please try again."),w(!1)}},R=async()=>{f(!1);try{const Q=localStorage.getItem("bpmn-project-description")||"",U=x.length>0?`${e}

Additional Requirements:
${x.map(P=>` ${P}`).join(`
`)}`:e,S=Q?`${Q}

${U}`:U;localStorage.setItem("bpmn-project-description",S),localStorage.setItem(bt.PROJECT_DESCRIPTION,U),_("/market-research")}catch(Q){console.error("Error storing project description:",Q),A("Failed to store project description. Please try again.")}},I=Q=>{m(U=>U.includes(Q)?U.filter(S=>S!==Q):[...U,Q])};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[i.jsx(Ll,{title:"AI Project Planner",showBackButton:!1}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[i.jsx(fA,{}),c&&i.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[i.jsx(_o,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),i.jsx("p",{className:"text-red-700",children:c})]}),p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs(lt,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[i.jsx(Bt,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-b",children:i.jsxs(Nt,{className:"flex items-center gap-3 text-xl",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(wn,{className:"h-5 w-5 text-white"})}),"Customize Your Project Plan"]})}),i.jsxs(ct,{className:"p-6",children:[i.jsx("p",{className:"text-gray-600 mb-6",children:"Select additional features and requirements to include in your project plan. These will be integrated into the comprehensive architecture and development timeline."}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:N.map(Q=>{const U=x.includes(Q);return i.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx(Du,{id:`suggestion-${Q.replace(/\s+/g,"-")}`,checked:U,onCheckedChange:S=>{I(Q)},className:"h-5 w-5 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 border-2 border-gray-300"}),i.jsx("label",{htmlFor:`suggestion-${Q.replace(/\s+/g,"-")}`,className:"text-sm text-gray-700 cursor-pointer flex-1 leading-relaxed",onClick:()=>I(Q),children:Q})]},Q)})}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[i.jsxs("h4",{className:"font-medium text-blue-800 mb-2",children:["Selected Requirements (",x.length,")"]}),x.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(Q=>i.jsx(yt,{variant:"outline",className:"bg-white border-blue-300 text-blue-700",children:Q},Q))}):i.jsx("p",{className:"text-blue-600 text-sm",children:"No additional requirements selected"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[i.jsx(me,{variant:"outline",onClick:()=>f(!1),className:"border-gray-300 hover:bg-gray-50",children:"Cancel"}),i.jsx(me,{onClick:R,disabled:s,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:s?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating Plan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wn,{className:"h-4 w-4 mr-2"}),"Generate Enhanced Plan"]})})]})]})]})}),i.jsxs(lt,{className:"mb-6 border-0 shadow-sm bg-white",children:[i.jsx(Bt,{className:"pb-4",children:i.jsxs(Nt,{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(wn,{className:"h-4 w-4 text-white"})}),"Describe Your Project"]})}),i.jsxs(ct,{className:"px-6 pb-6 space-y-4",children:[i.jsx("p",{className:"text-gray-600",children:"Provide a detailed description of your project. Include features, requirements, and any specific goals you want to achieve."}),i.jsx(En,{placeholder:"Example: Create an e-commerce website with user registration, product catalog, shopping cart, payment processing, and order management. Include admin features for inventory management and analytics.",value:e,onChange:Q=>t(Q.target.value),className:"min-h-32 text-sm",disabled:s}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(Fs,{className:"h-4 w-4"}),"Quick Start Examples"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[i.jsxs("div",{className:"bg-white rounded-md p-2 border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>t("Create a comprehensive social media platform with user profiles, real-time messaging, content sharing (posts, photos, videos), news feed with personalized algorithms, friend connections, groups, events management, notifications system, and mobile app compatibility. Include admin dashboard for content moderation and analytics."),children:[i.jsx("h5",{className:"font-medium text-gray-800 text-xs mb-0.5",children:"Social Media"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Profiles, messaging, content sharing"})]}),i.jsxs("div",{className:"bg-white rounded-md p-2 border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>t("Build a complete project management application with task tracking, team collaboration, time logging, file sharing, project timelines (Gantt charts), resource allocation, budget tracking, reporting dashboard, and integrations with third-party tools. Support multiple project types and user roles."),children:[i.jsx("h5",{className:"font-medium text-gray-800 text-xs mb-0.5",children:"Project Management"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Tasks, collaboration, timelines"})]}),i.jsxs("div",{className:"bg-white rounded-md p-2 border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>t("Develop an online learning management system with course creation, video streaming, interactive quizzes, student progress tracking, certification system, discussion forums, assignment submissions, grade management, and payment processing for course purchases. Include mobile app for offline learning."),children:[i.jsx("h5",{className:"font-medium text-gray-800 text-xs mb-0.5",children:"Learning Platform"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Courses, quizzes, certifications"})]}),i.jsxs("div",{className:"bg-white rounded-md p-2 border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>t("Create a fintech application for personal finance management with bank account integration, expense tracking, budget planning, investment portfolio tracking, bill reminders, financial goal setting, credit score monitoring, and AI-powered financial advice. Ensure bank-level security and compliance."),children:[i.jsx("h5",{className:"font-medium text-gray-800 text-xs mb-0.5",children:"Finance App"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Expense tracking, investments"})]}),i.jsxs("div",{className:"bg-white rounded-md p-2 border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>t("Build a healthcare management platform with patient records, appointment scheduling, telemedicine video calls, prescription management, medical history tracking, insurance integration, billing system, and provider dashboard. Include patient mobile app and compliance with healthcare regulations."),children:[i.jsx("h5",{className:"font-medium text-gray-800 text-xs mb-0.5",children:"Healthcare Platform"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Records, telemedicine, billing"})]}),i.jsxs("div",{className:"bg-white rounded-md p-2 border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",onClick:()=>t("Develop a smart home IoT platform with device management, automation rules, energy monitoring, security system integration, voice control, mobile app, real-time alerts, usage analytics, and machine learning for predictive automation. Support multiple device protocols and brands."),children:[i.jsx("h5",{className:"font-medium text-gray-800 text-xs mb-0.5",children:"IoT Platform"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Smart devices, automation"})]})]}),i.jsx("p",{className:"text-xs text-blue-600 mt-3",children:"Click any example to use it as a starting point, then customize as needed."})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2",children:[i.jsxs("div",{className:"text-xs text-gray-400",children:[e.length,"/1000 characters"]}),i.jsx(me,{onClick:D,disabled:!e.trim()||s||y,size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-sm",children:y?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-3 w-3 mr-2 animate-spin"}),"Analyzing..."]}):s?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"h-3 w-3 mr-2 animate-spin"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wn,{className:"h-3 w-3 mr-2"}),"Generate Plan"]})})]})]})]}),o==="input"&&!e&&i.jsx("div",{className:"space-y-12",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx(yn,{href:"/plan",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow cursor-pointer",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mb-4",children:i.jsx(wn,{className:"h-6 w-6 text-white"})}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"AI Project Planner"}),i.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Generate comprehensive project plans with technical architecture, development methodology, and risk management."})]})}),i.jsx(yn,{href:"/market-research",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow cursor-pointer",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center mb-4",children:i.jsx(Xu,{className:"h-6 w-6 text-white"})}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Market Research"}),i.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Search the web for similar solutions, analyze competitors, and discover market opportunities for your project."})]})}),i.jsx(yn,{href:"/user-journey",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow cursor-pointer",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mb-4",children:i.jsx(Yn,{className:"h-6 w-6 text-white"})}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Stakeholder Journeys"}),i.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Create detailed BPMN workflows for each stakeholder persona with customizable flow types and automated diagrams."})]})}),i.jsx(yn,{href:"/user-stories",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow cursor-pointer",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-lg flex items-center justify-center mb-4",children:i.jsx(Fs,{className:"h-6 w-6 text-white"})}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"User Stories & JIRA"}),i.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Generate user stories in Gherkin format with acceptance criteria and export directly to JIRA."})]})})]})})]})]})}function Ude(){return i.jsxs("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black via-blue-950 to-purple-950"}),i.jsxs("div",{className:"absolute inset-0 opacity-30",children:[i.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),i.jsx("div",{className:"absolute top-3/4 right-1/4 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-1000"}),i.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-96 h-96 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-2000"})]}),i.jsx("div",{className:"absolute inset-0 opacity-10",children:i.jsx("div",{className:"w-full h-full",style:{backgroundImage:"linear-gradient(rgba(59, 130, 246, 0.3) 1px, transparent 1px), linear-gradient(90deg, rgba(59, 130, 246, 0.3) 1px, transparent 1px)",backgroundSize:"50px 50px"}})}),i.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[i.jsxs("header",{className:"flex items-center justify-between p-6 backdrop-blur-lg bg-white/5 border-b border-white/10",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/25",children:i.jsx(Wg,{className:"h-7 w-7 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:"AI Project Planner"}),i.jsx("p",{className:"text-xs text-cyan-300 font-medium",children:"Powered by Gemini AI"})]})]}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsx(yn,{href:"/start-over",children:i.jsxs(me,{size:"sm",className:"bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-600 hover:from-cyan-400 hover:via-blue-400 hover:to-purple-500 shadow-lg shadow-blue-500/25 border-0",children:["Start Planning",i.jsx(bo,{className:"h-4 w-4 ml-2"})]})})})]}),i.jsxs("section",{className:"relative text-center py-12 px-6 overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-gradient-to-r from-cyan-400/20 to-blue-400/20 rounded-full blur-xl animate-pulse"}),i.jsx("div",{className:"absolute top-32 right-16 w-16 h-16 bg-gradient-to-r from-purple-400/20 to-pink-400/20 rounded-full blur-xl animate-pulse delay-1000"}),i.jsx("div",{className:"absolute bottom-20 left-1/4 w-12 h-12 bg-gradient-to-r from-green-400/20 to-emerald-400/20 rounded-full blur-xl animate-pulse delay-2000"})]}),i.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[i.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-cyan-500/20 via-blue-500/20 to-purple-500/20 backdrop-blur-lg border border-cyan-400/30 rounded-full mb-6 shadow-2xl shadow-cyan-500/25 hover:shadow-cyan-500/40 transition-all duration-300 group",children:[i.jsx("div",{className:"p-1 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full mr-2 group-hover:rotate-12 transition-transform duration-300",children:i.jsx(Wg,{className:"h-3 w-3 text-white"})}),i.jsx("span",{className:"text-sm font-semibold bg-gradient-to-r from-cyan-300 via-blue-300 to-purple-300 bg-clip-text text-transparent",children:" AI-Powered Workflow"})]}),i.jsxs("div",{className:"relative mb-6",children:[i.jsxs("h1",{className:"text-4xl md:text-7xl font-bold leading-tight tracking-tight",children:[i.jsx("span",{className:"inline-block bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent hover:scale-105 transition-transform duration-300",children:"Dream"}),i.jsx("span",{className:"inline-block text-white mx-2 md:mx-4 opacity-60",children:""}),i.jsx("span",{className:"inline-block bg-gradient-to-r from-purple-400 via-pink-400 to-rose-400 bg-clip-text text-transparent hover:scale-105 transition-transform duration-300",children:"Deploy"})]}),i.jsxs("p",{className:"text-lg md:text-xl text-gray-300 mt-4 mb-8 max-w-3xl mx-auto leading-relaxed",children:["Turn your wildest ideas into ",i.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent font-semibold",children:"production-ready code"})," with our magical 7-step AI workflow"]})]}),i.jsxs("div",{className:"mb-10",children:[i.jsxs("div",{className:"relative max-w-5xl mx-auto",children:[i.jsx("div",{className:"absolute top-5 md:top-6 left-0 right-0 h-0.5 bg-gradient-to-r from-green-500 via-blue-500 via-purple-500 via-orange-500 via-teal-500 via-indigo-500 to-pink-500 opacity-30 rounded-full"}),i.jsx("div",{className:"flex flex-wrap justify-center items-center gap-3 md:gap-6 relative",children:[{step:1,label:"Idea",icon:wn,color:"from-green-500 to-emerald-600",textColor:"text-green-400",href:"/start-over",description:"Spark creativity"},{step:2,label:"Research",icon:Yv,color:"from-blue-500 to-blue-600",textColor:"text-blue-400",href:"/research",description:"Market insights"},{step:3,label:"Planning",icon:Fs,color:"from-purple-500 to-purple-600",textColor:"text-purple-400",href:"/plan",description:"Smart strategy"},{step:4,label:"Process",icon:nd,color:"from-orange-500 to-red-600",textColor:"text-orange-400",href:"/editor",description:"Flow design"},{step:5,label:"Wireframes",icon:qu,color:"from-teal-500 to-cyan-600",textColor:"text-teal-400",href:"/wireframes",description:"UI magic"},{step:6,label:"Stories",icon:Yn,color:"from-indigo-500 to-purple-600",textColor:"text-indigo-400",href:"/stories",description:"User journeys"},{step:7,label:"Code",icon:TE,color:"from-pink-500 to-rose-600",textColor:"text-pink-400",href:"/code",description:"Ship it!"}].map((e,t)=>{const r=e.icon;return i.jsx(yn,{href:e.href,children:i.jsxs("div",{className:"group flex flex-col items-center cursor-pointer",children:[i.jsxs("div",{className:`relative w-12 h-12 md:w-16 md:h-16 bg-gradient-to-r ${e.color} rounded-2xl flex items-center justify-center shadow-lg shadow-black/20 group-hover:shadow-xl group-hover:shadow-current/40 group-hover:scale-110 transition-all duration-300 border border-white/10`,children:[i.jsx(r,{className:"h-5 w-5 md:h-7 md:w-7 text-white"}),i.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-bold text-white",children:e.step})})]}),i.jsxs("div",{className:"text-center mt-2 group-hover:scale-105 transition-transform duration-200",children:[i.jsx("div",{className:`text-sm font-semibold ${e.textColor} mb-0.5`,children:e.label}),i.jsx("div",{className:"text-xs text-gray-500 max-w-20 leading-tight hidden md:block",children:e.description})]})]})},e.step)})})]}),i.jsx("div",{className:"mt-6 text-sm text-gray-400 max-w-2xl mx-auto",children:i.jsx("span",{className:"inline-block bg-gradient-to-r from-cyan-400/20 to-purple-400/20 px-3 py-1 rounded-full border border-white/10",children:"Click any step to jump in, or start from the beginning for the full experience"})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mb-8",children:[i.jsx(yn,{href:"/start-over",children:i.jsxs(me,{className:"group relative bg-gradient-to-r from-green-500 via-blue-500 to-purple-600 hover:from-green-400 hover:via-blue-400 hover:to-purple-500 px-8 py-3 font-semibold shadow-2xl shadow-blue-500/25 border-0 rounded-xl text-base overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),i.jsx(DE,{className:"h-5 w-5 mr-2 group-hover:rotate-12 transition-transform duration-300"}),"Start Your Journey"]})}),i.jsx(yn,{href:"/plan",children:i.jsxs(me,{variant:"outline",className:"group px-8 py-3 border-2 border-purple-400/50 text-purple-300 hover:bg-purple-400/20 hover:border-purple-400/80 backdrop-blur-lg bg-white/5 text-base rounded-xl transition-all duration-300",children:[i.jsx(Fs,{className:"h-5 w-5 mr-2 group-hover:scale-110 transition-transform duration-300"}),"Quick Start"]})})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-3xl mx-auto",children:[{number:"7",label:"Steps",color:"from-green-400 to-emerald-400",border:"border-green-400/30",icon:""},{number:"AI",label:"Powered",color:"from-blue-400 to-cyan-400",border:"border-blue-400/30",icon:""},{number:"",label:"Possibilities",color:"from-purple-400 to-pink-400",border:"border-purple-400/30",icon:""},{number:"",label:"Lightning Fast",color:"from-orange-400 to-red-400",border:"border-orange-400/30",icon:""}].map((e,t)=>i.jsxs("div",{className:`group text-center backdrop-blur-lg bg-gradient-to-br from-white/10 to-white/5 rounded-xl p-4 border ${e.border} hover:bg-white/10 transition-all duration-300 hover:scale-105`,children:[i.jsx("div",{className:"text-xs text-gray-400 mb-1 opacity-60",children:e.icon}),i.jsx("div",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r ${e.color} bg-clip-text text-transparent group-hover:scale-110 transition-transform duration-300`,children:e.number}),i.jsx("div",{className:`text-xs font-medium bg-gradient-to-r ${e.color} bg-clip-text text-transparent opacity-80`,children:e.label})]},t))})]})]}),i.jsx("section",{className:"py-16 px-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold mb-3 bg-gradient-to-r from-white via-cyan-300 to-purple-300 bg-clip-text text-transparent",children:"Complete Project Development Workflow"}),i.jsx("p",{className:"text-gray-300 max-w-3xl mx-auto",children:"Seven comprehensive steps to transform any idea into production-ready code with AI-powered automation at every phase"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[i.jsx(yn,{href:"/start-over",children:i.jsx("div",{className:"relative group cursor-pointer",children:i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-green-500/10 via-emerald-500/10 to-teal-500/10 rounded-2xl p-6 border border-green-400/30 hover:border-green-400/50 transition-all duration-300 hover:shadow-xl hover:shadow-green-500/20",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-green-400 via-emerald-500 to-teal-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-green-500/25",children:i.jsx(wn,{className:"h-7 w-7 text-white"})}),i.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg flex items-center justify-center text-xs font-bold shadow-lg",children:"1"}),i.jsx("h3",{className:"text-lg font-bold mb-2 text-white",children:"Idea"}),i.jsx("p",{className:"text-gray-300 text-sm mb-4 leading-relaxed",children:"Start with your project concept and let AI transform it into structured requirements."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-xs text-green-300",children:[i.jsx(Wg,{className:"h-3 w-3 mr-2"}),"Concept Analysis"]}),i.jsxs("div",{className:"flex items-center text-xs text-green-300",children:[i.jsx(rd,{className:"h-3 w-3 mr-2"}),"Goal Definition"]})]})]})})}),i.jsx(yn,{href:"/research",children:i.jsx("div",{className:"relative group cursor-pointer",children:i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-blue-500/10 via-cyan-500/10 to-indigo-500/10 rounded-2xl p-6 border border-blue-400/30 hover:border-blue-400/50 transition-all duration-300 hover:shadow-xl hover:shadow-blue-500/20",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-400 via-cyan-500 to-indigo-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-blue-500/25",children:i.jsx(Yv,{className:"h-7 w-7 text-white"})}),i.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg flex items-center justify-center text-xs font-bold shadow-lg",children:"2"}),i.jsx("h3",{className:"text-lg font-bold mb-2 text-white",children:"Research"}),i.jsx("p",{className:"text-gray-300 text-sm mb-4 leading-relaxed",children:"AI-powered market analysis to discover competitors and opportunities."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-xs text-blue-300",children:[i.jsx(Fc,{className:"h-3 w-3 mr-2"}),"Market Analysis"]}),i.jsxs("div",{className:"flex items-center text-xs text-blue-300",children:[i.jsx(Yn,{className:"h-3 w-3 mr-2"}),"Competitor Research"]})]})]})})}),i.jsx(yn,{href:"/plan",children:i.jsx("div",{className:"relative group cursor-pointer",children:i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 via-violet-500/10 to-indigo-500/10 rounded-2xl p-6 border border-purple-400/30 hover:border-purple-400/50 transition-all duration-300 hover:shadow-xl hover:shadow-purple-500/20",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-purple-400 via-violet-500 to-indigo-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-purple-500/25",children:i.jsx(Fs,{className:"h-7 w-7 text-white"})}),i.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-purple-500 to-violet-500 text-white rounded-lg flex items-center justify-center text-xs font-bold shadow-lg",children:"3"}),i.jsx("h3",{className:"text-lg font-bold mb-2 text-white",children:"Planning"}),i.jsx("p",{className:"text-gray-300 text-sm mb-4 leading-relaxed",children:"Generate comprehensive project plans with technical architecture and timelines."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-xs text-purple-300",children:[i.jsx(qu,{className:"h-3 w-3 mr-2"}),"Architecture"]}),i.jsxs("div",{className:"flex items-center text-xs text-purple-300",children:[i.jsx(Xp,{className:"h-3 w-3 mr-2"}),"Timeline"]})]})]})})}),i.jsx(yn,{href:"/editor",children:i.jsx("div",{className:"relative group cursor-pointer",children:i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-orange-500/10 via-red-500/10 to-pink-500/10 rounded-2xl p-6 border border-orange-400/30 hover:border-orange-400/50 transition-all duration-300 hover:shadow-xl hover:shadow-orange-500/20",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-orange-400 via-red-500 to-pink-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-orange-500/25",children:i.jsx(nd,{className:"h-7 w-7 text-white"})}),i.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg flex items-center justify-center text-xs font-bold shadow-lg",children:"4"}),i.jsx("h3",{className:"text-lg font-bold mb-2 text-white",children:"Process Mapping"}),i.jsx("p",{className:"text-gray-300 text-sm mb-4 leading-relaxed",children:"Create BPMN 2.0 process flows with stakeholder journeys and decision points."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-xs text-orange-300",children:[i.jsx(Hc,{className:"h-3 w-3 mr-2"}),"BPMN Flows"]}),i.jsxs("div",{className:"flex items-center text-xs text-orange-300",children:[i.jsx(Yn,{className:"h-3 w-3 mr-2"}),"Stakeholder Maps"]})]})]})})}),i.jsx(yn,{href:"/wireframes",children:i.jsx("div",{className:"relative group cursor-pointer",children:i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-teal-500/10 via-cyan-500/10 to-blue-500/10 rounded-2xl p-6 border border-teal-400/30 hover:border-teal-400/50 transition-all duration-300 hover:shadow-xl hover:shadow-teal-500/20",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-teal-400 via-cyan-500 to-blue-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-teal-500/25",children:i.jsx(qu,{className:"h-7 w-7 text-white"})}),i.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-teal-500 to-cyan-500 text-white rounded-lg flex items-center justify-center text-xs font-bold shadow-lg",children:"5"}),i.jsx("h3",{className:"text-lg font-bold mb-2 text-white",children:"Wireframes"}),i.jsx("p",{className:"text-gray-300 text-sm mb-4 leading-relaxed",children:"Design responsive UI wireframes with interactive elements and AI-enhanced layouts."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-xs text-teal-300",children:[i.jsx(kH,{className:"h-3 w-3 mr-2"}),"UI Design"]}),i.jsxs("div",{className:"flex items-center text-xs text-teal-300",children:[i.jsx(bp,{className:"h-3 w-3 mr-2"}),"Interactive"]})]})]})})}),i.jsx(yn,{href:"/stories",children:i.jsx("div",{className:"relative group cursor-pointer",children:i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-indigo-500/10 via-purple-500/10 to-pink-500/10 rounded-2xl p-6 border border-indigo-400/30 hover:border-indigo-400/50 transition-all duration-300 hover:shadow-xl hover:shadow-indigo-500/20",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-indigo-400 via-purple-500 to-pink-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-indigo-500/25",children:i.jsx(Yn,{className:"h-7 w-7 text-white"})}),i.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg flex items-center justify-center text-xs font-bold shadow-lg",children:"6"}),i.jsx("h3",{className:"text-lg font-bold mb-2 text-white",children:"Stories"}),i.jsx("p",{className:"text-gray-300 text-sm mb-4 leading-relaxed",children:"Generate user stories, acceptance criteria, and Gherkin scenarios for development."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-xs text-indigo-300",children:[i.jsx(wr,{className:"h-3 w-3 mr-2"}),"User Stories"]}),i.jsxs("div",{className:"flex items-center text-xs text-indigo-300",children:[i.jsx(rd,{className:"h-3 w-3 mr-2"}),"Acceptance Criteria"]})]})]})})}),i.jsx(yn,{href:"/code",children:i.jsx("div",{className:"relative group cursor-pointer",children:i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-pink-500/10 via-rose-500/10 to-red-500/10 rounded-2xl p-6 border border-pink-400/30 hover:border-pink-400/50 transition-all duration-300 hover:shadow-xl hover:shadow-pink-500/20",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-pink-400 via-rose-500 to-red-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-pink-500/25",children:i.jsx(TE,{className:"h-7 w-7 text-white"})}),i.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-lg flex items-center justify-center text-xs font-bold shadow-lg",children:"7"}),i.jsx("h3",{className:"text-lg font-bold mb-2 text-white",children:"Code"}),i.jsx("p",{className:"text-gray-300 text-sm mb-4 leading-relaxed",children:"Generate production-ready code with complete project structure and documentation."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-xs text-pink-300",children:[i.jsx(A2,{className:"h-3 w-3 mr-2"}),"Full Stack"]}),i.jsxs("div",{className:"flex items-center text-xs text-pink-300",children:[i.jsx(DE,{className:"h-3 w-3 mr-2"}),"Production Ready"]})]})]})})})]})]})}),i.jsx("section",{className:"py-16 px-6 border-t border-white/10",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold mb-3 bg-gradient-to-r from-white via-cyan-300 to-purple-300 bg-clip-text text-transparent",children:"Powerful AI Features"}),i.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto",children:"Advanced capabilities to supercharge your project development workflow"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/5 rounded-2xl p-6 border border-cyan-400/30",children:[i.jsx(wp,{className:"h-12 w-12 text-cyan-400 mb-4"}),i.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Enterprise Ready"}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Security-first architecture with compliance frameworks and audit trails for enterprise deployment."})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/5 rounded-2xl p-6 border border-purple-400/30",children:[i.jsx(ml,{className:"h-12 w-12 text-purple-400 mb-4"}),i.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Lightning Fast"}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Generate comprehensive project documentation and code in minutes, not weeks."})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/5 rounded-2xl p-6 border border-green-400/30",children:[i.jsx(ey,{className:"h-12 w-12 text-green-400 mb-4"}),i.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Quality Assured"}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Industry best practices and proven methodologies built into every generated output."})]}),i.jsx(yn,{href:"/flow-mapping",children:i.jsxs("div",{className:"backdrop-blur-xl bg-white/5 rounded-2xl p-6 border border-orange-400/30 hover:border-orange-400/50 transition-all duration-300 cursor-pointer group",children:[i.jsx(Hc,{className:"h-12 w-12 text-orange-400 mb-4 group-hover:scale-110 transition-transform duration-300"}),i.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Flow Mapping"}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Visualize process flows alongside their corresponding wireframe implementations in one unified view."})]})})]})]})}),i.jsx("footer",{className:"py-12 px-6 border-t border-white/10",children:i.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(Wg,{className:"h-6 w-6 text-white"})}),i.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:"AI Project Planner"})]}),i.jsx("p",{className:"text-gray-400 text-sm max-w-2xl mx-auto mb-6",children:"Transform your ideas into production-ready solutions with our comprehensive 7-step AI-powered workflow. From concept to code, we've got you covered."}),i.jsx("div",{className:"text-xs text-gray-500",children:"Powered by Gemini AI  Built with modern web technologies"})]})})]})]})}function Rde(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(lt,{className:"w-full max-w-md mx-4",children:i.jsxs(ct,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(Fh,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Dde(){return i.jsxs(KO,{children:[i.jsx(Yr,{path:"/",component:Ude}),i.jsx(Yr,{path:"/plan",component:mZ}),i.jsx(Yr,{path:"/start-over",component:sF}),i.jsx(Yr,{path:"/landing",component:sF}),i.jsx(Yr,{path:"/user-journey",component:P1}),i.jsx(Yr,{path:"/user-journey-enhanced",component:P1}),i.jsx(Yr,{path:"/stakeholder-flows",component:P1}),i.jsx(Yr,{path:"/user-stories",component:_1}),i.jsx(Yr,{path:"/stories",component:_1}),i.jsx(Yr,{path:"/gherkin",component:_1}),i.jsx(Yr,{path:"/code-generator",component:Rj}),i.jsx(Yr,{path:"/code",component:Rj}),i.jsx(Yr,{path:"/wireframes",component:L1}),i.jsx(Yr,{path:"/wireframe-designer",component:L1}),i.jsx(Yr,{path:"/design",component:L1}),i.jsx(Yr,{path:"/market-research",component:T1}),i.jsx(Yr,{path:"/research",component:T1}),i.jsx(Yr,{path:"/competitors",component:T1}),i.jsx(Yr,{path:"/editor",component:o1}),i.jsx(Yr,{path:"/bpmn-editor",component:o1}),i.jsx(Yr,{path:"/diagram",component:o1}),i.jsx(Yr,{path:"/html-editor",component:Dj}),i.jsx(Yr,{path:"/html-editor/:wireframeId",component:Dj}),i.jsx(Yr,{path:"/flow-mapping",component:K1}),i.jsx(Yr,{path:"/mapping",component:K1}),i.jsx(Yr,{path:"/flows",component:K1}),i.jsx(Yr,{component:Rde})]})}function Mde(){return i.jsx(p7,{client:v7,children:i.jsxs(q$,{children:[i.jsx(C9,{}),i.jsx(Dde,{})]})})}SI(document.getElementById("root")).render(i.jsx(Mde,{}));export{ls as G,$r as _,Ode as c,J5 as g};
